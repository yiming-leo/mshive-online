{"version":3,"file":"js/686.3fd072e5.js","mappings":"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","sources":["webpack://mshive-online/./src/views/HomeView.vue","webpack://mshive-online/../../../src/components/VToolbar/VToolbar.ts","webpack://mshive-online/../../../src/directives/scroll/index.ts","webpack://mshive-online/../../../src/mixins/scrollable/index.ts","webpack://mshive-online/../../../src/components/VAppBar/VAppBar.ts","webpack://mshive-online/../../../src/mixins/button-group/index.ts","webpack://mshive-online/../../../src/components/VBtnToggle/VBtnToggle.ts","webpack://mshive-online/../../../src/components/VContent/VContent.ts","webpack://mshive-online/../../../src/components/VHover/VHover.ts","webpack://mshive-online/./src/components/NavigationBar.vue","webpack://mshive-online/src/components/NavigationBar.vue","webpack://mshive-online/./src/components/NavigationBar.vue?75ab","webpack://mshive-online/./src/components/NavigationBar.vue?f7d5","webpack://mshive-online/./src/components/MenuList.vue","webpack://mshive-online/src/components/MenuList.vue","webpack://mshive-online/./src/components/MenuList.vue?baea","webpack://mshive-online/./src/components/MenuList.vue?bdfc","webpack://mshive-online/../../../src/components/VSkeletonLoader/VSkeletonLoader.ts","webpack://mshive-online/./src/views/FurnitureView.vue","webpack://mshive-online/../../../src/mixins/mobile/index.ts","webpack://mshive-online/../../../src/directives/touch/index.ts","webpack://mshive-online/../../../src/components/VSlideGroup/VSlideGroup.ts","webpack://mshive-online/../../../src/components/VChipGroup/VChipGroup.ts","webpack://mshive-online/../../../src/components/VSlider/VSlider.ts","webpack://mshive-online/../../../src/components/VColorPicker/util/index.ts","webpack://mshive-online/../../../src/components/VColorPicker/VColorPickerPreview.ts","webpack://mshive-online/../../../src/components/VColorPicker/VColorPickerCanvas.ts","webpack://mshive-online/../../../src/components/VBtn/index.ts","webpack://mshive-online/../../../src/components/VColorPicker/VColorPickerEdit.ts","webpack://mshive-online/../../src/util/colors.ts","webpack://mshive-online/../../../src/components/VColorPicker/VColorPickerSwatches.ts","webpack://mshive-online/../../../src/components/VColorPicker/VColorPicker.ts","webpack://mshive-online/../../../src/components/VOverlay/index.ts","webpack://mshive-online/../../../src/mixins/overlayable/index.ts","webpack://mshive-online/../../../src/components/VDialog/VDialog.ts","webpack://mshive-online/../../../src/components/VExpansionPanel/VExpansionPanel.ts","webpack://mshive-online/../../../src/components/VExpansionPanel/VExpansionPanelContent.ts","webpack://mshive-online/../../../src/components/VExpansionPanel/VExpansionPanelHeader.ts","webpack://mshive-online/../../../src/components/VExpansionPanel/VExpansionPanels.ts","webpack://mshive-online/../../../src/components/VTextarea/VTextarea.ts","webpack://mshive-online/./src/components/card/FurnitureCard.vue","webpack://mshive-online/./src/api/furnitureRequest/furnitureApi.js","webpack://mshive-online/./src/js/generalDataConverter.js","webpack://mshive-online/./src/api/roomRequest/roomApi.js","webpack://mshive-online/src/components/card/FurnitureCard.vue","webpack://mshive-online/./src/components/card/FurnitureCard.vue?27e1","webpack://mshive-online/./src/components/card/FurnitureCard.vue?4b5f","webpack://mshive-online/src/views/FurnitureView.vue","webpack://mshive-online/./src/views/FurnitureView.vue?f86a","webpack://mshive-online/./src/views/FurnitureView.vue?0ca2","webpack://mshive-online/./src/views/StuffView.vue","webpack://mshive-online/./src/components/card/StuffCard.vue","webpack://mshive-online/./src/api/stuffRequest/stuffApi.js","webpack://mshive-online/src/components/card/StuffCard.vue","webpack://mshive-online/./src/components/card/StuffCard.vue?fbb3","webpack://mshive-online/./src/components/card/StuffCard.vue?2810","webpack://mshive-online/src/views/StuffView.vue","webpack://mshive-online/./src/views/StuffView.vue?b51b","webpack://mshive-online/./src/views/StuffView.vue?7c0e","webpack://mshive-online/./src/views/ImportView.vue","webpack://mshive-online/./src/assets/js/exportImgCDN.js","webpack://mshive-online/./src/api/downloadReportRequest/downloadReportApi.js","webpack://mshive-online/src/views/ImportView.vue","webpack://mshive-online/./src/views/ImportView.vue?628e","webpack://mshive-online/./src/views/ImportView.vue?1e01","webpack://mshive-online/./src/views/StatisticView.vue","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js","webpack://mshive-online/./node_modules/tslib/tslib.es6.mjs","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/locales/en.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js","webpack://mshive-online/./node_modules/svg-arc-to-cubic-bezier/modules/index.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/Root.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Legend.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/DataProcessor.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Scrollbar.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyDefaultTheme.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyNode.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://mshive-online/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/Hierarchy.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchyNode.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyLink.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Circle.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchy.js","webpack://mshive-online/./node_modules/d3-dispatch/src/dispatch.js","webpack://mshive-online/./node_modules/d3-timer/src/timer.js","webpack://mshive-online/./node_modules/d3-force/src/lcg.js","webpack://mshive-online/./node_modules/d3-force/src/simulation.js","webpack://mshive-online/./node_modules/d3-quadtree/src/add.js","webpack://mshive-online/./node_modules/d3-quadtree/src/cover.js","webpack://mshive-online/./node_modules/d3-quadtree/src/data.js","webpack://mshive-online/./node_modules/d3-quadtree/src/extent.js","webpack://mshive-online/./node_modules/d3-quadtree/src/quad.js","webpack://mshive-online/./node_modules/d3-quadtree/src/find.js","webpack://mshive-online/./node_modules/d3-quadtree/src/remove.js","webpack://mshive-online/./node_modules/d3-quadtree/src/root.js","webpack://mshive-online/./node_modules/d3-quadtree/src/size.js","webpack://mshive-online/./node_modules/d3-quadtree/src/visit.js","webpack://mshive-online/./node_modules/d3-quadtree/src/visitAfter.js","webpack://mshive-online/./node_modules/d3-quadtree/src/x.js","webpack://mshive-online/./node_modules/d3-quadtree/src/y.js","webpack://mshive-online/./node_modules/d3-quadtree/src/quadtree.js","webpack://mshive-online/./node_modules/d3-force/src/constant.js","webpack://mshive-online/./node_modules/d3-force/src/jiggle.js","webpack://mshive-online/./node_modules/d3-force/src/collide.js","webpack://mshive-online/./node_modules/d3-force/src/link.js","webpack://mshive-online/./node_modules/d3-force/src/x.js","webpack://mshive-online/./node_modules/d3-force/src/y.js","webpack://mshive-online/./node_modules/d3-force/src/manyBody.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/ForceDirected.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentDefaultTheme.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentChart.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/pie/PieChart.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentSeries.js","webpack://mshive-online/./node_modules/d3-shape/src/constant.js","webpack://mshive-online/./node_modules/d3-shape/src/math.js","webpack://mshive-online/./node_modules/d3-path/src/path.js","webpack://mshive-online/./node_modules/d3-shape/src/path.js","webpack://mshive-online/./node_modules/d3-shape/src/arc.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Slice.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Line.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/RadialText.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/core/render/RadialLabel.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/pie/PieSeries.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChart.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/CategoryAxis.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererY.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/ValueAxis.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/DateAxis.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererX.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/BaseColumnSeries.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/ColumnSeries.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYCursor.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js","webpack://mshive-online/./node_modules/@amcharts/amcharts5/themes/Animated.js","webpack://mshive-online/src/views/StatisticView.vue","webpack://mshive-online/./src/views/StatisticView.vue?6ab0","webpack://mshive-online/./src/views/StatisticView.vue?6b07","webpack://mshive-online/../../../src/mixins/rippleable/index.ts","webpack://mshive-online/../../../src/mixins/selectable/index.ts","webpack://mshive-online/../../../src/components/VCheckbox/VCheckbox.ts","webpack://mshive-online/../../../src/components/VTreeview/VTreeviewNode.ts","webpack://mshive-online/../../../src/components/VTreeview/util/filterTreeItems.ts","webpack://mshive-online/../../../src/components/VTreeview/VTreeview.ts","webpack://mshive-online/./src/views/BookmarkView.vue","webpack://mshive-online/./src/api/bookmarkTreeRequest/bookmarkApi.js","webpack://mshive-online/src/views/BookmarkView.vue","webpack://mshive-online/./src/views/BookmarkView.vue?e1df","webpack://mshive-online/./src/views/BookmarkView.vue?c238","webpack://mshive-online/./src/views/AccountView.vue","webpack://mshive-online/src/views/AccountView.vue","webpack://mshive-online/./src/views/AccountView.vue?3497","webpack://mshive-online/./src/views/AccountView.vue?e6d0","webpack://mshive-online/../../../src/components/VData/VData.ts","webpack://mshive-online/../../../src/components/VDataIterator/VDataFooter.ts","webpack://mshive-online/../../../src/components/VDataIterator/VDataIterator.ts","webpack://mshive-online/../../../src/components/VDataTable/mixins/header.ts","webpack://mshive-online/../../../src/components/VDataTable/VDataTableHeaderMobile.ts","webpack://mshive-online/../../../src/components/VDataTable/VDataTableHeaderDesktop.ts","webpack://mshive-online/../../src/util/dedupeModelListeners.ts","webpack://mshive-online/../../src/util/rebuildFunctionalSlots.ts","webpack://mshive-online/../../../src/components/VDataTable/VDataTableHeader.ts","webpack://mshive-online/../../../src/components/VDataTable/Row.ts","webpack://mshive-online/../../../src/components/VDataTable/RowGroup.ts","webpack://mshive-online/../../../src/components/VDataTable/VSimpleTable.ts","webpack://mshive-online/../../../src/components/VDataTable/MobileRow.ts","webpack://mshive-online/../../../src/mixins/mouse/index.ts","webpack://mshive-online/../../../src/components/VDataTable/VDataTable.ts","webpack://mshive-online/./src/views/ManageView.vue","webpack://mshive-online/src/views/ManageView.vue","webpack://mshive-online/./src/views/ManageView.vue?9707","webpack://mshive-online/./src/views/ManageView.vue?dfcb","webpack://mshive-online/../../../src/components/VTimeline/VTimeline.ts","webpack://mshive-online/../../../src/components/VTimeline/VTimelineItem.ts","webpack://mshive-online/./src/views/TimelineView.vue","webpack://mshive-online/src/views/TimelineView.vue","webpack://mshive-online/./src/views/TimelineView.vue?a555","webpack://mshive-online/./src/views/TimelineView.vue?e456","webpack://mshive-online/./src/views/RoomView.vue","webpack://mshive-online/./src/components/card/RoomCard.vue","webpack://mshive-online/src/components/card/RoomCard.vue","webpack://mshive-online/./src/components/card/RoomCard.vue?042c","webpack://mshive-online/./src/components/card/RoomCard.vue?dba5","webpack://mshive-online/src/views/RoomView.vue","webpack://mshive-online/./src/views/RoomView.vue?85c1","webpack://mshive-online/./src/views/RoomView.vue?d5e8","webpack://mshive-online/src/views/HomeView.vue","webpack://mshive-online/./src/views/HomeView.vue?a9b6","webpack://mshive-online/./src/views/HomeView.vue?aae2","webpack://mshive-online/./node_modules/core-js/internals/classof.js","webpack://mshive-online/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://mshive-online/./node_modules/core-js/internals/to-string-tag-support.js","webpack://mshive-online/./node_modules/core-js/internals/to-string.js","webpack://mshive-online/./node_modules/core-js/internals/validate-arguments-length.js","webpack://mshive-online/./node_modules/core-js/modules/web.url-search-params.delete.js","webpack://mshive-online/./node_modules/core-js/modules/web.url-search-params.has.js","webpack://mshive-online/./node_modules/core-js/modules/web.url-search-params.size.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-slide-y-transition',[(_vm.systemBarVisible)?_c('SystemBar'):_vm._e()],1),_c('NavigationBar'),_c('v-main',{staticClass:\"grey lighten-3\"},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-scroll-y-transition',{attrs:{\"mode\":\"out-in\"}},[(_vm.accountButtonState===false && _vm.navbarButtonState===1)?_c('MenuList',{staticStyle:{\"position\":\"fixed\"},attrs:{\"id\":\"menulist\"}}):_vm._e()],1)],1),_c('v-scroll-y-transition',{attrs:{\"mode\":\"out-in\"}},[(_vm.funcButtonState === 1)?_c('RoomView'):(_vm.funcButtonState === 2)?_c('FurnitureView'):(_vm.funcButtonState === 3)?_c('StuffView'):(_vm.funcButtonState === 4)?_c('BookmarkView'):(_vm.funcButtonState === 5)?_c('TimelineView'):(_vm.accountButtonState === true)?_c('AccountView'):_vm._e(),(_vm.accountButtonState===false && _vm.navbarButtonState===2)?_c('ImportView'):_vm._e(),(_vm.accountButtonState===false && _vm.navbarButtonState===3)?_c('StatisticView'):_vm._e(),(_vm.accountButtonState===false && _vm.navbarButtonState===4)?_c('ManageView'):_vm._e()],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Styles\nimport './VToolbar.sass'\n\n// Extensions\nimport VSheet from '../VSheet/VSheet'\n\n// Components\nimport VImg, { srcObject } from '../VImg/VImg'\n\n// Utilities\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { breaking } from '../../util/console'\n\n// Types\nimport { VNode, PropType } from 'vue'\n\n/* @vue/component */\nexport default VSheet.extend({\n  name: 'v-toolbar',\n\n  props: {\n    absolute: Boolean,\n    bottom: Boolean,\n    collapse: Boolean,\n    dense: Boolean,\n    extended: Boolean,\n    extensionHeight: {\n      default: 48,\n      type: [Number, String],\n    },\n    flat: Boolean,\n    floating: Boolean,\n    prominent: Boolean,\n    short: Boolean,\n    src: {\n      type: [String, Object] as PropType<string | srcObject>,\n      default: '',\n    },\n    tag: {\n      type: String,\n      default: 'header',\n    },\n  },\n\n  data: () => ({\n    isExtended: false,\n  }),\n\n  computed: {\n    computedHeight (): number {\n      const height = this.computedContentHeight\n\n      if (!this.isExtended) return height\n\n      const extensionHeight = parseInt(this.extensionHeight)\n\n      return this.isCollapsed\n        ? height\n        : height + (!isNaN(extensionHeight) ? extensionHeight : 0)\n    },\n    computedContentHeight (): number {\n      if (this.height) return parseInt(this.height)\n      if (this.isProminent && this.dense) return 96\n      if (this.isProminent && this.short) return 112\n      if (this.isProminent) return 128\n      if (this.dense) return 48\n      if (this.short || this.$vuetify.breakpoint.smAndDown) return 56\n      return 64\n    },\n    classes (): object {\n      return {\n        ...VSheet.options.computed.classes.call(this),\n        'v-toolbar': true,\n        'v-toolbar--absolute': this.absolute,\n        'v-toolbar--bottom': this.bottom,\n        'v-toolbar--collapse': this.collapse,\n        'v-toolbar--collapsed': this.isCollapsed,\n        'v-toolbar--dense': this.dense,\n        'v-toolbar--extended': this.isExtended,\n        'v-toolbar--flat': this.flat,\n        'v-toolbar--floating': this.floating,\n        'v-toolbar--prominent': this.isProminent,\n      }\n    },\n    isCollapsed (): boolean {\n      return this.collapse\n    },\n    isProminent (): boolean {\n      return this.prominent\n    },\n    styles (): object {\n      return {\n        ...this.measurableStyles,\n        height: convertToUnit(this.computedHeight),\n      }\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['app', '<v-app-bar app>'],\n      ['manual-scroll', '<v-app-bar :value=\"false\">'],\n      ['clipped-left', '<v-app-bar clipped-left>'],\n      ['clipped-right', '<v-app-bar clipped-right>'],\n      ['inverted-scroll', '<v-app-bar inverted-scroll>'],\n      ['scroll-off-screen', '<v-app-bar scroll-off-screen>'],\n      ['scroll-target', '<v-app-bar scroll-target>'],\n      ['scroll-threshold', '<v-app-bar scroll-threshold>'],\n      ['card', '<v-app-bar flat>'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n  },\n\n  methods: {\n    genBackground () {\n      const props = {\n        height: convertToUnit(this.computedHeight),\n        src: this.src,\n      }\n\n      const image = this.$scopedSlots.img\n        ? this.$scopedSlots.img({ props })\n        : this.$createElement(VImg, { props })\n\n      return this.$createElement('div', {\n        staticClass: 'v-toolbar__image',\n      }, [image])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-toolbar__content',\n        style: {\n          height: convertToUnit(this.computedContentHeight),\n        },\n      }, getSlot(this))\n    },\n    genExtension () {\n      return this.$createElement('div', {\n        staticClass: 'v-toolbar__extension',\n        style: {\n          height: convertToUnit(this.extensionHeight),\n        },\n      }, getSlot(this, 'extension'))\n    },\n  },\n\n  render (h): VNode {\n    this.isExtended = this.extended || !!this.$scopedSlots.extension\n\n    const children = [this.genContent()]\n    const data = this.setBackgroundColor(this.color, {\n      class: this.classes,\n      style: this.styles,\n      on: this.$listeners,\n    })\n\n    if (this.isExtended) children.push(this.genExtension())\n    if (this.src || this.$scopedSlots.img) children.unshift(this.genBackground())\n\n    return h(this.tag, data, children)\n  },\n})\n","import { VNodeDirective } from 'vue/types/vnode'\nimport { DirectiveOptions, VNode } from 'vue'\n\ninterface ScrollVNodeDirective extends Omit<VNodeDirective, 'modifiers'> {\n  value: EventListener | {\n    handler: EventListener\n    options?: boolean | AddEventListenerOptions\n  } | EventListenerObject & { options?: boolean | AddEventListenerOptions }\n  modifiers?: {\n    self?: boolean\n  }\n}\n\nfunction inserted (el: HTMLElement, binding: ScrollVNodeDirective, vnode: VNode) {\n  const { self = false } = binding.modifiers || {}\n  const value = binding.value\n  const options = (typeof value === 'object' && value.options) || { passive: true }\n  const handler = typeof value === 'function' || 'handleEvent' in value ? value : value.handler\n\n  const target = self\n    ? el\n    : binding.arg\n      ? document.querySelector(binding.arg)\n      : window\n\n  if (!target) return\n\n  target.addEventListener('scroll', handler, options)\n\n  el._onScroll = Object(el._onScroll)\n  el._onScroll![vnode.context!._uid] = {\n    handler,\n    options,\n    // Don't reference self\n    target: self ? undefined : target,\n  }\n}\n\nfunction unbind (el: HTMLElement, binding: ScrollVNodeDirective, vnode: VNode) {\n  if (!el._onScroll?.[vnode.context!._uid]) return\n\n  const { handler, options, target = el } = el._onScroll[vnode.context!._uid]!\n\n  target.removeEventListener('scroll', handler, options)\n  delete el._onScroll[vnode.context!._uid]\n}\n\nexport const Scroll = {\n  inserted,\n  unbind,\n} as DirectiveOptions\n\nexport default Scroll\n","// Directives\nimport { Scroll } from '../../directives'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport Vue from 'vue'\n\n/**\n * Scrollable\n *\n * Used for monitoring scrolling and\n * invoking functions based upon\n * scrolling thresholds being\n * met.\n */\n/* @vue/component */\nexport default Vue.extend({\n  name: 'scrollable',\n\n  directives: { Scroll },\n\n  props: {\n    scrollTarget: String,\n    scrollThreshold: [String, Number],\n  },\n\n  data: () => ({\n    currentScroll: 0,\n    currentThreshold: 0,\n    isActive: false,\n    isScrollingUp: false,\n    previousScroll: 0,\n    savedScroll: 0,\n    target: null as Element | null,\n  }),\n\n  computed: {\n    /**\n     * A computed property that returns\n     * whether scrolling features are\n     * enabled or disabled\n     */\n    canScroll (): boolean {\n      return typeof window !== 'undefined'\n    },\n    /**\n     * The threshold that must be met before\n     * thresholdMet function is invoked\n     */\n    computedScrollThreshold (): number {\n      return this.scrollThreshold\n        ? Number(this.scrollThreshold)\n        : 300\n    },\n  },\n\n  watch: {\n    isScrollingUp () {\n      this.savedScroll = this.savedScroll || this.currentScroll\n    },\n    isActive () {\n      this.savedScroll = 0\n    },\n  },\n\n  mounted () {\n    if (this.scrollTarget) {\n      this.target = document.querySelector(this.scrollTarget)\n\n      if (!this.target) {\n        consoleWarn(`Unable to locate element with identifier ${this.scrollTarget}`, this)\n      }\n    }\n  },\n\n  methods: {\n    onScroll () {\n      if (!this.canScroll) return\n\n      this.previousScroll = this.currentScroll\n      this.currentScroll = this.target\n        ? this.target.scrollTop\n        : window.pageYOffset\n\n      this.isScrollingUp = this.currentScroll < this.previousScroll\n      this.currentThreshold = Math.abs(this.currentScroll - this.computedScrollThreshold)\n\n      this.$nextTick(() => {\n        if (\n          Math.abs(this.currentScroll - this.savedScroll) >\n          this.computedScrollThreshold\n        ) this.thresholdMet()\n      })\n    },\n    /**\n     * The method invoked when\n     * scrolling in any direction\n     * has exceeded the threshold\n     */\n    thresholdMet () { /* noop */ },\n  },\n})\n","// Styles\nimport './VAppBar.sass'\n\n// Extensions\nimport VToolbar from '../VToolbar/VToolbar'\n\n// Directives\nimport Scroll from '../../directives/scroll'\n\n// Mixins\nimport Applicationable from '../../mixins/applicationable'\nimport Scrollable from '../../mixins/scrollable'\nimport SSRBootable from '../../mixins/ssr-bootable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Utilities\nimport { convertToUnit } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  VToolbar,\n  Scrollable,\n  SSRBootable,\n  Toggleable,\n  Applicationable('top', [\n    'clippedLeft',\n    'clippedRight',\n    'computedHeight',\n    'invertedScroll',\n    'isExtended',\n    'isProminent',\n    'value',\n  ])\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-app-bar',\n\n  directives: { Scroll },\n\n  provide (): object {\n    return { VAppBar: this }\n  },\n\n  props: {\n    clippedLeft: Boolean,\n    clippedRight: Boolean,\n    collapseOnScroll: Boolean,\n    elevateOnScroll: Boolean,\n    fadeImgOnScroll: Boolean,\n    hideOnScroll: Boolean,\n    invertedScroll: Boolean,\n    scrollOffScreen: Boolean,\n    shrinkOnScroll: Boolean,\n    value: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data () {\n    return {\n      isActive: this.value,\n    }\n  },\n\n  computed: {\n    applicationProperty (): string {\n      return !this.bottom ? 'top' : 'bottom'\n    },\n    canScroll (): boolean {\n      return (\n        Scrollable.options.computed.canScroll.call(this) &&\n        (\n          this.invertedScroll ||\n          this.elevateOnScroll ||\n          this.hideOnScroll ||\n          this.collapseOnScroll ||\n          this.isBooted ||\n          // If falsy, user has provided an\n          // explicit value which should\n          // overwrite anything we do\n          !this.value\n        )\n      )\n    },\n    classes (): object {\n      return {\n        ...VToolbar.options.computed.classes.call(this),\n        'v-toolbar--collapse': this.collapse || this.collapseOnScroll,\n        'v-app-bar': true,\n        'v-app-bar--clipped': this.clippedLeft || this.clippedRight,\n        'v-app-bar--fade-img-on-scroll': this.fadeImgOnScroll,\n        'v-app-bar--elevate-on-scroll': this.elevateOnScroll,\n        'v-app-bar--fixed': !this.absolute && (this.app || this.fixed),\n        'v-app-bar--hide-shadow': this.hideShadow,\n        'v-app-bar--is-scrolled': this.currentScroll > 0,\n        'v-app-bar--shrink-on-scroll': this.shrinkOnScroll,\n      }\n    },\n    scrollRatio (): number {\n      const threshold = this.computedScrollThreshold\n      return Math.max((threshold - this.currentScroll) / threshold, 0)\n    },\n    computedContentHeight (): number {\n      if (!this.shrinkOnScroll) return VToolbar.options.computed.computedContentHeight.call(this)\n\n      const min = this.dense ? 48 : 56\n      const max = this.computedOriginalHeight\n\n      return min + (max - min) * this.scrollRatio\n    },\n    computedFontSize (): number | undefined {\n      if (!this.isProminent) return undefined\n\n      const min = 1.25\n      const max = 1.5\n\n      return min + (max - min) * this.scrollRatio\n    },\n    computedLeft (): number {\n      if (!this.app || this.clippedLeft) return 0\n\n      return this.$vuetify.application.left\n    },\n    computedMarginTop (): number {\n      if (!this.app) return 0\n\n      return this.$vuetify.application.bar\n    },\n    computedOpacity (): number | undefined {\n      if (!this.fadeImgOnScroll) return undefined\n\n      return this.scrollRatio\n    },\n    computedOriginalHeight (): number {\n      let height = VToolbar.options.computed.computedContentHeight.call(this)\n      if (this.isExtended) height += parseInt(this.extensionHeight)\n      return height\n    },\n    computedRight (): number {\n      if (!this.app || this.clippedRight) return 0\n\n      return this.$vuetify.application.right\n    },\n    computedScrollThreshold (): number {\n      if (this.scrollThreshold) return Number(this.scrollThreshold)\n\n      return this.computedOriginalHeight - (this.dense ? 48 : 56)\n    },\n    computedTransform (): number {\n      if (\n        !this.canScroll ||\n        (this.elevateOnScroll && this.currentScroll === 0 && this.isActive)\n      ) return 0\n\n      if (this.isActive) return 0\n\n      const scrollOffScreen = this.scrollOffScreen\n        ? this.computedHeight\n        : this.computedContentHeight\n\n      return this.bottom ? scrollOffScreen : -scrollOffScreen\n    },\n    hideShadow (): boolean {\n      if (this.elevateOnScroll && this.isExtended) {\n        return this.currentScroll < this.computedScrollThreshold\n      }\n\n      if (this.elevateOnScroll) {\n        return this.currentScroll === 0 ||\n          this.computedTransform < 0\n      }\n\n      return (\n        !this.isExtended ||\n        this.scrollOffScreen\n      ) && this.computedTransform !== 0\n    },\n    isCollapsed (): boolean {\n      if (!this.collapseOnScroll) {\n        return VToolbar.options.computed.isCollapsed.call(this)\n      }\n\n      return this.currentScroll > 0\n    },\n    isProminent (): boolean {\n      return (\n        VToolbar.options.computed.isProminent.call(this) ||\n        this.shrinkOnScroll\n      )\n    },\n    styles (): object {\n      return {\n        ...VToolbar.options.computed.styles.call(this),\n        fontSize: convertToUnit(this.computedFontSize, 'rem'),\n        marginTop: convertToUnit(this.computedMarginTop),\n        transform: `translateY(${convertToUnit(this.computedTransform)})`,\n        left: convertToUnit(this.computedLeft),\n        right: convertToUnit(this.computedRight),\n      }\n    },\n  },\n\n  watch: {\n    canScroll: 'onScroll',\n    computedTransform () {\n      // Normally we do not want the v-app-bar\n      // to update the application top value\n      // to avoid screen jump. However, in\n      // this situation, we must so that\n      // the clipped drawer can update\n      // its top value when scrolled\n      if (\n        !this.canScroll ||\n        (!this.clippedLeft && !this.clippedRight)\n      ) return\n\n      this.callUpdate()\n    },\n    invertedScroll (val: boolean) {\n      this.isActive = !val || this.currentScroll !== 0\n    },\n    hideOnScroll (val: boolean) {\n      this.isActive = !val || this.currentScroll < this.computedScrollThreshold\n    },\n  },\n\n  created () {\n    if (this.invertedScroll) this.isActive = false\n  },\n\n  methods: {\n    genBackground () {\n      const render = VToolbar.options.methods.genBackground.call(this)\n\n      render.data = this._b(render.data || {}, render.tag!, {\n        style: { opacity: this.computedOpacity },\n      })\n\n      return render\n    },\n    updateApplication (): number {\n      return this.invertedScroll\n        ? 0\n        : this.computedHeight + this.computedTransform\n    },\n    thresholdMet () {\n      if (this.invertedScroll) {\n        this.isActive = this.currentScroll > this.computedScrollThreshold\n        return\n      }\n\n      if (this.hideOnScroll) {\n        this.isActive = this.isScrollingUp ||\n          this.currentScroll < this.computedScrollThreshold\n      }\n\n      if (this.currentThreshold < this.computedScrollThreshold) return\n\n      this.savedScroll = this.currentScroll\n    },\n  },\n\n  render (h): VNode {\n    const render = VToolbar.options.render.call(this, h)\n\n    render.data = render.data || {}\n\n    if (this.canScroll) {\n      render.data.directives = render.data.directives || []\n      render.data.directives.push({\n        arg: this.scrollTarget,\n        name: 'scroll',\n        value: this.onScroll,\n      })\n    }\n\n    return render\n  },\n})\n","// Extensions\nimport { BaseItemGroup } from '../../components/VItemGroup/VItemGroup'\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'button-group',\n\n  provide (): object {\n    return {\n      btnToggle: this,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return BaseItemGroup.options.computed.classes.call(this)\n    },\n  },\n\n  methods: {\n    // Isn't being passed down through types\n    genData: BaseItemGroup.options.methods.genData,\n  },\n})\n","// Styles\nimport './VBtnToggle.sass'\n\n// Mixins\nimport ButtonGroup from '../../mixins/button-group'\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  ButtonGroup,\n  Colorable\n).extend({\n  name: 'v-btn-toggle',\n\n  props: {\n    backgroundColor: String,\n    borderless: Boolean,\n    dense: Boolean,\n    group: Boolean,\n    rounded: Boolean,\n    shaped: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...ButtonGroup.options.computed.classes.call(this),\n        'v-btn-toggle': true,\n        'v-btn-toggle--borderless': this.borderless,\n        'v-btn-toggle--dense': this.dense,\n        'v-btn-toggle--group': this.group,\n        'v-btn-toggle--rounded': this.rounded,\n        'v-btn-toggle--shaped': this.shaped,\n        'v-btn-toggle--tile': this.tile,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genData () {\n      const data = this.setTextColor(this.color, {\n        ...ButtonGroup.options.methods.genData.call(this),\n      })\n\n      if (this.group) return data\n\n      return this.setBackgroundColor(this.backgroundColor, data)\n    },\n  },\n})\n","// Types\nimport { VNode } from 'vue'\n\n// Extensions\nimport VMain from '../VMain/VMain'\nimport { deprecate } from '../../util/console'\n\n/* @vue/component */\nexport default VMain.extend({\n  name: 'v-main',\n\n  created () {\n    deprecate('v-content', 'v-main', this)\n  },\n\n  render (h): VNode {\n    // Add the legacy class names\n    const node = VMain.options.render.call(this, h)\n\n    node.data!.staticClass += ' v-content'\n    node.children![0]!.data!.staticClass += ' v-content__wrap'\n\n    return h(node.tag, node.data, node.children)\n  },\n})\n","// Mixins\nimport Delayable from '../../mixins/delayable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport { VNode, ScopedSlotChildren } from 'vue/types/vnode'\n\nexport default mixins(\n  Delayable,\n  Toggleable\n  /* @vue/component */\n).extend({\n  name: 'v-hover',\n\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    value: {\n      type: Boolean,\n      default: undefined,\n    },\n  },\n\n  methods: {\n    onMouseEnter () {\n      this.runDelay('open')\n    },\n    onMouseLeave () {\n      this.runDelay('close')\n    },\n  },\n\n  render (): VNode {\n    if (!this.$scopedSlots.default && this.value === undefined) {\n      consoleWarn('v-hover is missing a default scopedSlot or bound value', this)\n\n      return null as any\n    }\n\n    let element: VNode | ScopedSlotChildren\n\n    /* istanbul ignore else */\n    if (this.$scopedSlots.default) {\n      element = this.$scopedSlots.default({ hover: this.isActive })\n    }\n\n    if (Array.isArray(element) && element.length === 1) {\n      element = element[0]\n    }\n\n    if (!element || Array.isArray(element) || !element.tag) {\n      consoleWarn('v-hover should only contain a single element', this)\n\n      return element as any\n    }\n\n    if (!this.disabled) {\n      element.data = element.data || {}\n      this._g(element.data, {\n        mouseenter: this.onMouseEnter,\n        mouseleave: this.onMouseLeave,\n      })\n    }\n\n    return element\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"white\",\"flat\":\"\",\"elevation\":hover? 12:1,\"id\":\"navbar\"}},[_c('v-container',{staticClass:\"py-0 fill-height\"},[_c('v-btn',{staticClass:\"px-2 mr-3 d-flex flex-row justify-start overflow-hidden\",attrs:{\"text\":\"\",\"min-width\":\"175\",\"max-width\":\"200\",\"link\":\"\"},on:{\"click\":_vm.switchAccountButton}},[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"min-width\":\"38\",\"color\":_vm.account.avatar,\"size\":\"38\"}},[_vm._v(\"YL\")]),_c('v-content',{staticClass:\"py-0 text-capitalize\"},[_vm._v(_vm._s(_vm.account.username))])],1),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('v-btn-toggle',{attrs:{\"mandatory\":\"\",\"borderless\":\"\",\"group\":\"\",\"dense\":\"\",\"tile\":\"\",\"color\":\"primary\"},model:{value:(_vm.selectedItem),callback:function ($$v) {_vm.selectedItem=$$v},expression:\"selectedItem\"}},_vm._l((_vm.navbarLinks),function(link){return _c('v-btn',{key:link.index,staticClass:\"ml-3 font-weight-bold rounded-l rounded-r\",attrs:{\"text\":\"\",\"href\":link.link,\"retain-focus-on-click\":\"\"},on:{\"click\":function($event){_vm.switchNavbarButton(link.index); _vm.defaultHome(link.index); _vm.detectOfficialWeb(link.index)}}},[_vm._v(\" \"+_vm._s(link.text)+\" \")])}),1),_c('v-spacer'),_c('v-menu',{attrs:{\"bottom\":\"\",\"open-on-hover\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-2 py-0 px-0\",attrs:{\"text\":\"\",\"size\":\"32\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-translate\")]),_c('v-icon',[_vm._v(\"mdi-chevron-down\")])],1)]}}],null,true)},[_c('v-list',_vm._l((_vm.languageList),function(languageItem,index){return _c('v-list-item',{key:index,staticClass:\"pl-0\",attrs:{\"dense\":\"\",\"link\":\"\"}},[_c('v-list-item-icon',{staticClass:\"mx-2\"},[_c('v-icon',{class:'fi fi-'+ languageItem.flag +' translate-item-icon'})],1),_c('v-list-item-content',[_vm._v(_vm._s(languageItem.name))])],1)}),1)],1)],1)],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-hover v-slot=\"{hover}\">\r\n    <v-app-bar app color=\"white\" flat :elevation=\"hover? 12:1\" id=\"navbar\">\r\n      <v-container class=\"py-0 fill-height\">\r\n        <!--user button-->\r\n        <v-btn text class=\"px-2 mr-3 d-flex flex-row justify-start overflow-hidden\"\r\n               min-width=\"175\" max-width=\"200\" link @click=\"switchAccountButton\">\r\n          <v-avatar class=\"mr-2\" min-width=\"38\" :color=\"account.avatar\" size=\"38\">YL</v-avatar>\r\n          <v-content class=\"py-0 text-capitalize\">{{ account.username }}</v-content>\r\n        </v-btn>\r\n        <v-divider vertical></v-divider>\r\n        <v-btn-toggle mandatory borderless group dense tile color=\"primary\" v-model=\"selectedItem\">\r\n          <!--nav buttons-->\r\n          <v-btn v-for=\"link in navbarLinks\" :key=\"link.index\" text :href=\"link.link\" retain-focus-on-click\r\n                 @click=\"switchNavbarButton(link.index); defaultHome(link.index); detectOfficialWeb(link.index)\"\r\n                 class=\"ml-3 font-weight-bold rounded-l rounded-r\">\r\n            {{ link.text }}\r\n          </v-btn>\r\n        </v-btn-toggle>\r\n        <v-spacer></v-spacer>\r\n        <!--      <v-responsive min-width=\"100\" max-width=\"260\">-->\r\n        <!--        <v-text-field dense flat hide-details rounded solo-inverted-->\r\n        <!--                      placeholder=\"Search Something...\"></v-text-field>-->\r\n        <!--      </v-responsive>-->\r\n        <!--nav right-->\r\n        <v-menu bottom open-on-hover offset-y>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn text size=\"32\" class=\"ml-2 py-0 px-0\" v-bind=\"attrs\" v-on=\"on\">\r\n              <v-icon>mdi-translate</v-icon>\r\n              <v-icon>mdi-chevron-down</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <v-list>\r\n            <!--<v-subheader>Select Languages</v-subheader>-->\r\n            <v-list-item dense v-for=\"(languageItem, index) in languageList\" :key=\"index\" link class=\"pl-0\">\r\n              <v-list-item-icon class=\"mx-2\">\r\n                <v-icon :class=\"'fi fi-'+ languageItem.flag +' translate-item-icon'\"></v-icon>\r\n              </v-list-item-icon>\r\n              <v-list-item-content>{{ languageItem.name }}</v-list-item-content>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n      </v-container>\r\n    </v-app-bar>\r\n  </v-hover>\r\n</template>\r\n\r\n<script>\r\nimport store from \"../store/index.js\";\r\nimport {mapMutations} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"NavigationBar\",\r\n  store,\r\n  data: () => ({\r\n    account: {avatar: \"primary\", username: \"Yiming Leo\"},\r\n    navbarLinks: [\r\n      {index: 1, text: 'Dashboard', link: \"\"},\r\n      {index: 2, text: 'Im/Export', link: \"\"},\r\n      {index: 3, text: 'Statistic', link: \"\"},\r\n      {index: 4, text: 'Manage', link: \"\"},\r\n      {index: 5, text: 'Official Web', link: \"/\"}, //在method里面跳转路由\r\n    ],\r\n    languageList: [\r\n      {index: 1, lang: \"zh_cn\", name: \"简体中文\", flag: \"cn\"},\r\n      {index: 2, lang: \"zh_tw\", name: \"繁體中文\", flag: \"hk\"},\r\n      {index: 3, lang: \"en\", name: \"English\", flag: \"gb\"},\r\n      {index: 4, lang: \"es\", name: \"Español\", flag: \"es\"},\r\n      {index: 5, lang: \"kr\", name: \"한국어\", flag: \"kr\"},\r\n      {index: 6, lang: \"jp\", name: \"日本語\", flag: \"jp\"},\r\n      {index: 7, lang: \"ar\", name: \"بالعربية\", flag: \"sa\"},\r\n      {index: 8, lang: \"ru\", name: \"Русский\", flag: \"ru\"},\r\n    ],\r\n    selectedItem: 0,\r\n  }),\r\n  methods: {\r\n    ...mapMutations([\r\n      'switchAccountButton',\r\n      'switchNavbarButton',\r\n    ]),\r\n    //ensure when click any navbar button, the default sub contents(Dashboard-->Home) will react\r\n    defaultHome(index) {\r\n      if (index === 1) {\r\n        this.$store.state.funcMenuList.funcButton = 1\r\n      }\r\n    },\r\n    //\r\n    detectOfficialWeb(index){\r\n      if (index === 5) {\r\n        window.open(\"https://yiming-leo.github.io/mshive-website/\")\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@media print {\r\n  @page {\r\n    /*size: A4;*/\r\n    margin: 0;\r\n  }\r\n  #navbar{\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavigationBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavigationBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigationBar.vue?vue&type=template&id=11278524&scoped=true&\"\nimport script from \"./NavigationBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationBar.vue?vue&type=style&index=0&id=11278524&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11278524\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [_c('v-sheet',{staticClass:\"transition-swing\",attrs:{\"rounded\":\"\",\"min-height\":\"20vh\",\"min-width\":\"11vw\",\"elevation\":hover ? 12 : 2}},[_c('v-list',{staticClass:\"rounded-lg\",attrs:{\"nav\":\"\"}},[_c('v-list-item-group',{attrs:{\"mandatory\":\"\",\"color\":\"primary\"},model:{value:(_vm.selectedItem),callback:function ($$v) {_vm.selectedItem=$$v},expression:\"selectedItem\"}},_vm._l((_vm.funcButtonList),function(item){return _c('v-list-item',{key:item.index,attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.switchFuncButton(item.index)}}},[_c('v-list-item-icon',[_c('v-icon',{domProps:{\"textContent\":_vm._s(item.icon)}})],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(item.content)}})],1)],1)}),1)],1)],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-hover v-slot=\"{hover}\">\r\n    <v-sheet rounded min-height=\"20vh\" min-width=\"11vw\" :elevation=\"hover ? 12 : 2\" class=\"transition-swing\">\r\n      <v-list nav class=\"rounded-lg\">\r\n        <!--<v-subheader>Functions</v-subheader>-->\r\n        <v-list-item-group mandatory v-model=\"selectedItem\" color=\"primary\">\r\n          <v-list-item v-for=\"item in funcButtonList\" :key=\"item.index\"\r\n                       link @click=\"switchFuncButton(item.index)\">\r\n            <v-list-item-icon>\r\n              <v-icon v-text=\"item.icon\"></v-icon>\r\n            </v-list-item-icon>\r\n            <v-list-item-content>\r\n              <v-list-item-title v-text=\"item.content\" class=\"font-weight-bold\"></v-list-item-title>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n        </v-list-item-group>\r\n      </v-list>\r\n    </v-sheet>\r\n  </v-hover>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from \"vuex\";\r\nimport store from \"@/store\";\r\n\r\nexport default {\r\n  name: \"MenuList\",\r\n  store,\r\n  data: () => ({\r\n    selectedItem: 0,\r\n    //in global state management -> influence HomeView\r\n    funcButtonList: [\r\n        {index: 1, content: 'Room', icon: 'mdi-home'},\r\n      // {index: 2, content: 'Layer', icon: 'mdi-view-dashboard'},\r\n      {index: 2, content: 'Furniture', icon: 'mdi-sofa'},\r\n      {index: 3, content: 'Stuff', icon: 'mdi-text-box-multiple'},\r\n      {index: 4, content: 'Bookmark', icon: 'mdi-book'},\r\n      {index: 5, content: 'Timeline', icon: 'mdi-timeline'},\r\n    ],\r\n    refreshButton: {content: 'Refresh', icon: 'mdi-refresh'},\r\n  }),\r\n  methods: {\r\n    ...mapMutations([\r\n      'switchFuncButton',\r\n    ]),\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@media print {\r\n  @page {\r\n    /*size: A4;*/\r\n    margin: 0;\r\n  }\r\n\r\n  body {\r\n    -webkit-print-color-adjust: exact;\r\n    print-color-adjust: exact;\r\n  }\r\n\r\n  #menulist {\r\n    display: none;\r\n  }\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuList.vue?vue&type=template&id=b7ece4fa&scoped=true&\"\nimport script from \"./MenuList.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuList.vue?vue&type=style&index=0&id=b7ece4fa&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7ece4fa\",\n  null\n  \n)\n\nexport default component.exports","// Styles\nimport './VSkeletonLoader.sass'\n\n// Mixins\nimport Elevatable from '../../mixins/elevatable'\nimport Measurable from '../../mixins/measurable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\nimport { getSlot } from '../../util/helpers'\nimport { PropValidator } from 'vue/types/options'\n\nexport interface HTMLSkeletonLoaderElement extends HTMLElement {\n  _initialStyle?: {\n    display: string | null\n    transition: string\n  }\n}\n\n/* @vue/component */\nexport default mixins(\n  Elevatable,\n  Measurable,\n  Themeable,\n).extend({\n  name: 'VSkeletonLoader',\n\n  props: {\n    boilerplate: Boolean,\n    loading: Boolean,\n    loadingText: {\n      type: String,\n      default: '$vuetify.loading',\n    },\n    tile: Boolean,\n    transition: String,\n    type: String,\n    types: {\n      type: Object,\n      default: () => ({}),\n    } as PropValidator<Record<string, string>>,\n  },\n\n  computed: {\n    attrs (): object {\n      if (!this.isLoading) return this.$attrs\n\n      return {\n        'aria-busy': !this.boilerplate ? true : undefined,\n        'aria-live': !this.boilerplate ? 'polite' : undefined,\n        'aria-label': !this.boilerplate ? this.$vuetify.lang.t(this.loadingText) : undefined,\n        role: !this.boilerplate ? 'alert' : undefined,\n        ...this.$attrs,\n      }\n    },\n    classes (): object {\n      return {\n        'v-skeleton-loader--boilerplate': this.boilerplate,\n        'v-skeleton-loader--is-loading': this.isLoading,\n        'v-skeleton-loader--tile': this.tile,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n      }\n    },\n    isLoading (): boolean {\n      return !('default' in this.$scopedSlots) || this.loading\n    },\n    rootTypes (): Record<string, string> {\n      return {\n        actions: 'button@2',\n        article: 'heading, paragraph',\n        avatar: 'avatar',\n        button: 'button',\n        card: 'image, card-heading',\n        'card-avatar': 'image, list-item-avatar',\n        'card-heading': 'heading',\n        chip: 'chip',\n        'date-picker': 'list-item, card-heading, divider, date-picker-options, date-picker-days, actions',\n        'date-picker-options': 'text, avatar@2',\n        'date-picker-days': 'avatar@28',\n        heading: 'heading',\n        image: 'image',\n        'list-item': 'text',\n        'list-item-avatar': 'avatar, text',\n        'list-item-two-line': 'sentences',\n        'list-item-avatar-two-line': 'avatar, sentences',\n        'list-item-three-line': 'paragraph',\n        'list-item-avatar-three-line': 'avatar, paragraph',\n        paragraph: 'text@3',\n        sentences: 'text@2',\n        table: 'table-heading, table-thead, table-tbody, table-tfoot',\n        'table-heading': 'heading, text',\n        'table-thead': 'heading@6',\n        'table-tbody': 'table-row-divider@6',\n        'table-row-divider': 'table-row, divider',\n        'table-row': 'table-cell@6',\n        'table-cell': 'text',\n        'table-tfoot': 'text@2, avatar@2',\n        text: 'text',\n        ...this.types,\n      }\n    },\n  },\n\n  methods: {\n    genBone (text: string, children: VNode[]) {\n      return this.$createElement('div', {\n        staticClass: `v-skeleton-loader__${text} v-skeleton-loader__bone`,\n      }, children)\n    },\n    genBones (bone: string): VNode[] {\n      // e.g. 'text@3'\n      const [type, length] = bone.split('@') as [string, number]\n      const generator = () => this.genStructure(type)\n\n      // Generate a length array based upon\n      // value after @ in the bone string\n      return Array.from({ length }).map(generator)\n    },\n    // Fix type when this is merged\n    // https://github.com/microsoft/TypeScript/pull/33050\n    genStructure (type?: string): any {\n      let children = []\n      type = type || this.type || ''\n      const bone = this.rootTypes[type] || ''\n\n      // End of recursion, do nothing\n      /* eslint-disable-next-line no-empty, brace-style */\n      if (type === bone) {}\n      // Array of values - e.g. 'heading, paragraph, text@2'\n      else if (type.indexOf(',') > -1) return this.mapBones(type)\n      // Array of values - e.g. 'paragraph@4'\n      else if (type.indexOf('@') > -1) return this.genBones(type)\n      // Array of values - e.g. 'card@2'\n      else if (bone.indexOf(',') > -1) children = this.mapBones(bone)\n      // Array of values - e.g. 'list-item@2'\n      else if (bone.indexOf('@') > -1) children = this.genBones(bone)\n      // Single value - e.g. 'card-heading'\n      else if (bone) children.push(this.genStructure(bone))\n\n      return [this.genBone(type, children)]\n    },\n    genSkeleton () {\n      const children = []\n\n      if (!this.isLoading) children.push(getSlot(this))\n      else children.push(this.genStructure())\n\n      /* istanbul ignore else */\n      if (!this.transition) return children\n\n      /* istanbul ignore next */\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n        },\n        // Only show transition when\n        // content has been loaded\n        on: {\n          afterEnter: this.resetStyles,\n          beforeEnter: this.onBeforeEnter,\n          beforeLeave: this.onBeforeLeave,\n          leaveCancelled: this.resetStyles,\n        },\n      }, children)\n    },\n    mapBones (bones: string) {\n      // Remove spaces and return array of structures\n      return bones.replace(/\\s/g, '').split(',').map(this.genStructure)\n    },\n    onBeforeEnter (el: HTMLSkeletonLoaderElement) {\n      this.resetStyles(el)\n\n      if (!this.isLoading) return\n\n      el._initialStyle = {\n        display: el.style.display,\n        transition: el.style.transition,\n      }\n\n      el.style.setProperty('transition', 'none', 'important')\n    },\n    onBeforeLeave (el: HTMLSkeletonLoaderElement) {\n      el.style.setProperty('display', 'none', 'important')\n    },\n    resetStyles (el: HTMLSkeletonLoaderElement) {\n      if (!el._initialStyle) return\n\n      el.style.display = el._initialStyle.display || ''\n      el.style.transition = el._initialStyle.transition\n\n      delete el._initialStyle\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-skeleton-loader',\n      attrs: this.attrs,\n      on: this.$listeners,\n      class: this.classes,\n      style: this.isLoading ? this.measurableStyles : undefined,\n    }, [this.genSkeleton()])\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-col',{attrs:{\"cols\":10}},[_c('v-container',{staticClass:\"my-0 mx-0 px-0 py-0\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-sheet',{staticClass:\"d-flex flex-column\",attrs:{\"min-height\":\"70vh\",\"rounded\":\"lg\",\"color\":\"transparent\"}},[(_vm.isLoading)?_c('v-skeleton-loader',{staticClass:\"mb-2\",attrs:{\"type\":\"card\"}}):(!_vm.isLoading)?[_c('FurnitureCard',{ref:\"furnitureCard\",attrs:{\"furniture-list\":_vm.furnitureList,\"user-u-u-id\":_vm.userUUId,\"userUUId\":_vm.userUUId}}),_c('v-btn',{staticClass:\"my-2\",attrs:{\"color\":\"white\"},on:{\"click\":_vm.addNewOneFurnitureCard}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]:_vm._e()],2)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Types\nimport { BreakpointName } from 'vuetify/types/services/breakpoint'\nimport { deprecate } from '../../util/console'\nimport Vue, { PropType } from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'mobile',\n\n  props: {\n    mobileBreakpoint: {\n      type: [Number, String] as PropType<number | BreakpointName>,\n      default (): number | BreakpointName | undefined {\n        // Avoid destroying unit\n        // tests for users\n        return this.$vuetify\n          ? this.$vuetify.breakpoint.mobileBreakpoint\n          : undefined\n      },\n      validator: v => (\n        !isNaN(Number(v)) ||\n        ['xs', 'sm', 'md', 'lg', 'xl'].includes(String(v))\n      ),\n    },\n  },\n\n  computed: {\n    isMobile (): boolean {\n      const {\n        mobile,\n        width,\n        name,\n        mobileBreakpoint,\n      } = this.$vuetify.breakpoint\n\n      // Check if local mobileBreakpoint matches\n      // the application's mobileBreakpoint\n      if (mobileBreakpoint === this.mobileBreakpoint) return mobile\n\n      const mobileWidth = parseInt(this.mobileBreakpoint, 10)\n      const isNumber = !isNaN(mobileWidth)\n\n      return isNumber\n        ? width < mobileWidth\n        : name === this.mobileBreakpoint\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('mobile-break-point')) {\n      deprecate('mobile-break-point', 'mobile-breakpoint', this)\n    }\n  },\n})\n","import { VNodeDirective, VNode } from 'vue/types/vnode'\nimport { keys } from '../../util/helpers'\nimport { TouchHandlers, TouchValue, TouchWrapper } from 'vuetify/types'\n\nexport interface TouchStoredHandlers {\n  touchstart: (e: TouchEvent) => void\n  touchend: (e: TouchEvent) => void\n  touchmove: (e: TouchEvent) => void\n}\n\ninterface TouchVNodeDirective extends VNodeDirective {\n  value?: TouchValue\n}\n\nconst handleGesture = (wrapper: TouchWrapper) => {\n  const { touchstartX, touchendX, touchstartY, touchendY } = wrapper\n  const dirRatio = 0.5\n  const minDistance = 16\n  wrapper.offsetX = touchendX - touchstartX\n  wrapper.offsetY = touchendY - touchstartY\n\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && (touchendX < touchstartX - minDistance) && wrapper.left(wrapper)\n    wrapper.right && (touchendX > touchstartX + minDistance) && wrapper.right(wrapper)\n  }\n\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && (touchendY < touchstartY - minDistance) && wrapper.up(wrapper)\n    wrapper.down && (touchendY > touchstartY + minDistance) && wrapper.down(wrapper)\n  }\n}\n\nfunction touchstart (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchstartX = touch.clientX\n  wrapper.touchstartY = touch.clientY\n\n  wrapper.start &&\n    wrapper.start(Object.assign(event, wrapper))\n}\n\nfunction touchend (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchendX = touch.clientX\n  wrapper.touchendY = touch.clientY\n\n  wrapper.end &&\n    wrapper.end(Object.assign(event, wrapper))\n\n  handleGesture(wrapper)\n}\n\nfunction touchmove (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchmoveX = touch.clientX\n  wrapper.touchmoveY = touch.clientY\n\n  wrapper.move && wrapper.move(Object.assign(event, wrapper))\n}\n\nfunction createHandlers (value: TouchHandlers): TouchStoredHandlers {\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end,\n  }\n\n  return {\n    touchstart: (e: TouchEvent) => touchstart(e, wrapper),\n    touchend: (e: TouchEvent) => touchend(e, wrapper),\n    touchmove: (e: TouchEvent) => touchmove(e, wrapper),\n  }\n}\n\nfunction inserted (el: HTMLElement, binding: TouchVNodeDirective, vnode: VNode) {\n  const value = binding.value!\n  const target = value.parent ? el.parentElement : el\n  const options = value.options || { passive: true }\n\n  // Needed to pass unit tests\n  if (!target) return\n\n  const handlers = createHandlers(binding.value!)\n  target._touchHandlers = Object(target._touchHandlers)\n  target._touchHandlers![vnode.context!._uid] = handlers\n\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName] as EventListener, options)\n  })\n}\n\nfunction unbind (el: HTMLElement, binding: TouchVNodeDirective, vnode: VNode) {\n  const target = binding.value!.parent ? el.parentElement : el\n  if (!target || !target._touchHandlers) return\n\n  const handlers = target._touchHandlers[vnode.context!._uid]\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName])\n  })\n  delete target._touchHandlers[vnode.context!._uid]\n}\n\nexport const Touch = {\n  inserted,\n  unbind,\n}\n\nexport default Touch\n","// Styles\nimport './VSlideGroup.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport { VFadeTransition } from '../transitions'\n\n// Extensions\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\n\n// Mixins\nimport Mobile from '../../mixins/mobile'\n\n// Directives\nimport Resize from '../../directives/resize'\nimport Touch from '../../directives/touch'\n\n// Utilities\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode } from 'vue'\nimport { composedPath } from '../../util/helpers'\n\ninterface TouchEvent {\n  touchstartX: number\n  touchstartY: number\n  touchmoveX: number\n  touchmoveY: number\n  stopPropagation: Function\n}\n\ninterface Widths {\n  content: number\n  wrapper: number\n}\n\ninterface options extends Vue {\n  $refs: {\n    content: HTMLElement\n    wrapper: HTMLElement\n  }\n}\n\nfunction bias (val: number) {\n  const c = 0.501\n  const x = Math.abs(val)\n  return Math.sign(val) * (x / ((1 / c - 2) * (1 - x) + 1))\n}\n\nexport function calculateUpdatedOffset (\n  selectedElement: HTMLElement,\n  widths: Widths,\n  rtl: boolean,\n  currentScrollOffset: number\n): number {\n  const clientWidth = selectedElement.clientWidth\n  const offsetLeft = rtl\n    ? (widths.content - selectedElement.offsetLeft - clientWidth)\n    : selectedElement.offsetLeft\n\n  if (rtl) {\n    currentScrollOffset = -currentScrollOffset\n  }\n\n  const totalWidth = widths.wrapper + currentScrollOffset\n  const itemOffset = clientWidth + offsetLeft\n  const additionalOffset = clientWidth * 0.4\n\n  if (offsetLeft <= currentScrollOffset) {\n    currentScrollOffset = Math.max(offsetLeft - additionalOffset, 0)\n  } else if (totalWidth <= itemOffset) {\n    currentScrollOffset = Math.min(currentScrollOffset - (totalWidth - itemOffset - additionalOffset), widths.content - widths.wrapper)\n  }\n\n  return rtl ? -currentScrollOffset : currentScrollOffset\n}\n\nexport function calculateCenteredOffset (\n  selectedElement: HTMLElement,\n  widths: Widths,\n  rtl: boolean\n): number {\n  const { offsetLeft, clientWidth } = selectedElement\n\n  if (rtl) {\n    const offsetCentered = widths.content - offsetLeft - clientWidth / 2 - widths.wrapper / 2\n    return -Math.min(widths.content - widths.wrapper, Math.max(0, offsetCentered))\n  } else {\n    const offsetCentered = offsetLeft + clientWidth / 2 - widths.wrapper / 2\n    return Math.min(widths.content - widths.wrapper, Math.max(0, offsetCentered))\n  }\n}\n\nexport const BaseSlideGroup = mixins<options &\n/* eslint-disable indent */\n  ExtractVue<[\n    typeof BaseItemGroup,\n    typeof Mobile,\n  ]>\n/* eslint-enable indent */\n>(\n  BaseItemGroup,\n  Mobile,\n  /* @vue/component */\n).extend({\n  name: 'base-slide-group',\n\n  directives: {\n    Resize,\n    Touch,\n  },\n\n  props: {\n    activeClass: {\n      type: String,\n      default: 'v-slide-item--active',\n    },\n    centerActive: Boolean,\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    showArrows: {\n      type: [Boolean, String],\n      validator: (v: any) => (\n        typeof v === 'boolean' || [\n          'always',\n          'never',\n          'desktop',\n          'mobile',\n        ].includes(v)\n      ),\n    },\n  },\n\n  data: () => ({\n    isOverflowing: false,\n    resizeTimeout: 0,\n    startX: 0,\n    isSwipingHorizontal: false,\n    isSwiping: false,\n    scrollOffset: 0,\n    widths: {\n      content: 0,\n      wrapper: 0,\n    },\n  }),\n\n  computed: {\n    canTouch (): boolean {\n      return typeof window !== 'undefined'\n    },\n    __cachedNext (): VNode {\n      return this.genTransition('next')\n    },\n    __cachedPrev (): VNode {\n      return this.genTransition('prev')\n    },\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-slide-group': true,\n        'v-slide-group--has-affixes': this.hasAffixes,\n        'v-slide-group--is-overflowing': this.isOverflowing,\n      }\n    },\n    hasAffixes (): Boolean {\n      switch (this.showArrows) {\n        // Always show arrows on desktop & mobile\n        case 'always': return true\n\n        // Always show arrows on desktop\n        case 'desktop': return !this.isMobile\n\n        // Show arrows on mobile when overflowing.\n        // This matches the default 2.2 behavior\n        case true: return this.isOverflowing || Math.abs(this.scrollOffset) > 0\n\n        // Always show on mobile\n        case 'mobile': return (\n          this.isMobile ||\n          (this.isOverflowing || Math.abs(this.scrollOffset) > 0)\n        )\n\n        // Always hide arrows\n        case 'never': return false\n\n        // https://material.io/components/tabs#scrollable-tabs\n        // Always show arrows when\n        // overflowed on desktop\n        default: return (\n          !this.isMobile &&\n          (this.isOverflowing || Math.abs(this.scrollOffset) > 0)\n        )\n      }\n    },\n    hasNext (): boolean {\n      if (!this.hasAffixes) return false\n\n      const { content, wrapper } = this.widths\n\n      // Check one scroll ahead to know the width of right-most item\n      return content > Math.abs(this.scrollOffset) + wrapper\n    },\n    hasPrev (): boolean {\n      return this.hasAffixes && this.scrollOffset !== 0\n    },\n  },\n\n  watch: {\n    internalValue: 'setWidths',\n    // When overflow changes, the arrows alter\n    // the widths of the content and wrapper\n    // and need to be recalculated\n    isOverflowing: 'setWidths',\n    scrollOffset (val) {\n      if (this.$vuetify.rtl) val = -val\n\n      let scroll =\n        val <= 0\n          ? bias(-val)\n          : val > this.widths.content - this.widths.wrapper\n            ? -(this.widths.content - this.widths.wrapper) + bias(this.widths.content - this.widths.wrapper - val)\n            : -val\n\n      if (this.$vuetify.rtl) scroll = -scroll\n\n      this.$refs.content.style.transform = `translateX(${scroll}px)`\n    },\n  },\n\n  mounted () {\n    if (typeof ResizeObserver !== 'undefined') {\n      const obs = new ResizeObserver(() => {\n        this.onResize()\n      })\n      obs.observe(this.$el)\n      obs.observe(this.$refs.content)\n      this.$on('hook:destroyed', () => {\n        obs.disconnect()\n      })\n    } else {\n      let itemsLength = 0\n      this.$on('hook:beforeUpdate', () => {\n        itemsLength = (this.$refs.content?.children || []).length\n      })\n      this.$on('hook:updated', () => {\n        if (itemsLength === (this.$refs.content?.children || []).length) return\n        this.setWidths()\n      })\n    }\n  },\n\n  methods: {\n    onScroll () {\n      this.$refs.wrapper.scrollLeft = 0\n    },\n    onFocusin (e: FocusEvent) {\n      if (!this.isOverflowing) return\n\n      // Focused element is likely to be the root of an item, so a\n      // breadth-first search will probably find it in the first iteration\n      for (const el of composedPath(e)) {\n        for (const vm of this.items) {\n          if (vm.$el === el) {\n            this.scrollOffset = calculateUpdatedOffset(\n              vm.$el as HTMLElement,\n              this.widths,\n              this.$vuetify.rtl,\n              this.scrollOffset\n            )\n            return\n          }\n        }\n      }\n    },\n    // Always generate next for scrollable hint\n    genNext (): VNode | null {\n      const slot = this.$scopedSlots.next\n        ? this.$scopedSlots.next({})\n        : this.$slots.next || this.__cachedNext\n\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__next',\n        class: {\n          'v-slide-group__next--disabled': !this.hasNext,\n        },\n        on: {\n          click: () => this.onAffixClick('next'),\n        },\n        key: 'next',\n      }, [slot])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__content',\n        ref: 'content',\n        on: {\n          focusin: this.onFocusin,\n        },\n      }, this.$slots.default)\n    },\n    genData (): object {\n      return {\n        class: this.classes,\n        directives: [{\n          name: 'resize',\n          value: this.onResize,\n        }],\n      }\n    },\n    genIcon (location: 'prev' | 'next'): VNode | null {\n      let icon = location\n\n      if (this.$vuetify.rtl && location === 'prev') {\n        icon = 'next'\n      } else if (this.$vuetify.rtl && location === 'next') {\n        icon = 'prev'\n      }\n\n      const upperLocation = `${location[0].toUpperCase()}${location.slice(1)}`\n      const hasAffix = (this as any)[`has${upperLocation}`]\n\n      if (\n        !this.showArrows &&\n        !hasAffix\n      ) return null\n\n      return this.$createElement(VIcon, {\n        props: {\n          disabled: !hasAffix,\n        },\n      }, (this as any)[`${icon}Icon`])\n    },\n    // Always generate prev for scrollable hint\n    genPrev (): VNode | null {\n      const slot = this.$scopedSlots.prev\n        ? this.$scopedSlots.prev({})\n        : this.$slots.prev || this.__cachedPrev\n\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__prev',\n        class: {\n          'v-slide-group__prev--disabled': !this.hasPrev,\n        },\n        on: {\n          click: () => this.onAffixClick('prev'),\n        },\n        key: 'prev',\n      }, [slot])\n    },\n    genTransition (location: 'prev' | 'next') {\n      return this.$createElement(VFadeTransition, [this.genIcon(location)])\n    },\n    genWrapper (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__wrapper',\n        directives: [{\n          name: 'touch',\n          value: {\n            start: (e: TouchEvent) => this.overflowCheck(e, this.onTouchStart),\n            move: (e: TouchEvent) => this.overflowCheck(e, this.onTouchMove),\n            end: (e: TouchEvent) => this.overflowCheck(e, this.onTouchEnd),\n          },\n        }],\n        ref: 'wrapper',\n        on: {\n          scroll: this.onScroll,\n        },\n      }, [this.genContent()])\n    },\n    calculateNewOffset (direction: 'prev' | 'next', widths: Widths, rtl: boolean, currentScrollOffset: number) {\n      const sign = rtl ? -1 : 1\n      const newAbosluteOffset = sign * currentScrollOffset +\n        (direction === 'prev' ? -1 : 1) * widths.wrapper\n\n      return sign * Math.max(Math.min(newAbosluteOffset, widths.content - widths.wrapper), 0)\n    },\n    onAffixClick (location: 'prev' | 'next') {\n      this.$emit(`click:${location}`)\n      this.scrollTo(location)\n    },\n    onResize () {\n      /* istanbul ignore next */\n      if (this._isDestroyed) return\n\n      this.setWidths()\n    },\n    onTouchStart (e: TouchEvent) {\n      const { content } = this.$refs\n\n      this.startX = this.scrollOffset + e.touchstartX as number\n\n      content.style.setProperty('transition', 'none')\n      content.style.setProperty('willChange', 'transform')\n    },\n    onTouchMove (e: TouchEvent) {\n      if (!this.canTouch) return\n\n      if (!this.isSwiping) {\n        // only calculate disableSwipeHorizontal during the first onTouchMove invoke\n        // in order to ensure disableSwipeHorizontal value is consistent between onTouchStart and onTouchEnd\n        const diffX = e.touchmoveX - e.touchstartX\n        const diffY = e.touchmoveY - e.touchstartY\n        this.isSwipingHorizontal = Math.abs(diffX) > Math.abs(diffY)\n        this.isSwiping = true\n      }\n\n      if (this.isSwipingHorizontal) {\n        // sliding horizontally\n        this.scrollOffset = this.startX - e.touchmoveX\n        // temporarily disable window vertical scrolling\n        document.documentElement.style.overflowY = 'hidden'\n      }\n    },\n    onTouchEnd () {\n      if (!this.canTouch) return\n\n      const { content, wrapper } = this.$refs\n      const maxScrollOffset = content.clientWidth - wrapper.clientWidth\n\n      content.style.setProperty('transition', null)\n      content.style.setProperty('willChange', null)\n\n      if (this.$vuetify.rtl) {\n        /* istanbul ignore else */\n        if (this.scrollOffset > 0 || !this.isOverflowing) {\n          this.scrollOffset = 0\n        } else if (this.scrollOffset <= -maxScrollOffset) {\n          this.scrollOffset = -maxScrollOffset\n        }\n      } else {\n        /* istanbul ignore else */\n        if (this.scrollOffset < 0 || !this.isOverflowing) {\n          this.scrollOffset = 0\n        } else if (this.scrollOffset >= maxScrollOffset) {\n          this.scrollOffset = maxScrollOffset\n        }\n      }\n\n      this.isSwiping = false\n      // rollback whole page scrolling to default\n      document.documentElement.style.removeProperty('overflow-y')\n    },\n    overflowCheck (e: TouchEvent, fn: (e: TouchEvent) => void) {\n      e.stopPropagation()\n      this.isOverflowing && fn(e)\n    },\n    scrollIntoView /* istanbul ignore next */ () {\n      if (!this.selectedItem && this.items.length) {\n        const lastItemPosition = this.items[this.items.length - 1].$el.getBoundingClientRect()\n        const wrapperPosition = this.$refs.wrapper.getBoundingClientRect()\n\n        if (\n          (this.$vuetify.rtl && wrapperPosition.right < lastItemPosition.right) ||\n          (!this.$vuetify.rtl && wrapperPosition.left > lastItemPosition.left)\n        ) {\n          this.scrollTo('prev')\n        }\n      }\n\n      if (!this.selectedItem) {\n        return\n      }\n\n      if (\n        this.selectedIndex === 0 ||\n        (!this.centerActive && !this.isOverflowing)\n      ) {\n        this.scrollOffset = 0\n      } else if (this.centerActive) {\n        this.scrollOffset = calculateCenteredOffset(\n          this.selectedItem.$el as HTMLElement,\n          this.widths,\n          this.$vuetify.rtl\n        )\n      } else if (this.isOverflowing) {\n        this.scrollOffset = calculateUpdatedOffset(\n          this.selectedItem.$el as HTMLElement,\n          this.widths,\n          this.$vuetify.rtl,\n          this.scrollOffset\n        )\n      }\n    },\n    scrollTo /* istanbul ignore next */ (location: 'prev' | 'next') {\n      this.scrollOffset = this.calculateNewOffset(location, {\n        // Force reflow\n        content: this.$refs.content ? this.$refs.content.clientWidth : 0,\n        wrapper: this.$refs.wrapper ? this.$refs.wrapper.clientWidth : 0,\n      }, this.$vuetify.rtl, this.scrollOffset)\n    },\n    setWidths () {\n      window.requestAnimationFrame(() => {\n        if (this._isDestroyed) return\n\n        const { content, wrapper } = this.$refs\n\n        this.widths = {\n          content: content ? content.clientWidth : 0,\n          wrapper: wrapper ? wrapper.clientWidth : 0,\n        }\n\n        // https://github.com/vuetifyjs/vuetify/issues/13212\n        // We add +1 to the wrappers width to prevent an issue where the `clientWidth`\n        // gets calculated wrongly by the browser if using a different zoom-level.\n        this.isOverflowing = this.widths.wrapper + 1 < this.widths.content\n\n        this.scrollIntoView()\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.genData(), [\n      this.genPrev(),\n      this.genWrapper(),\n      this.genNext(),\n    ])\n  },\n})\n\nexport default BaseSlideGroup.extend({\n  name: 'v-slide-group',\n\n  provide (): object {\n    return {\n      slideGroup: this,\n    }\n  },\n})\n","// Styles\nimport './VChipGroup.sass'\n\n// Extensions\nimport { BaseSlideGroup } from '../VSlideGroup/VSlideGroup'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  BaseSlideGroup,\n  Colorable\n).extend({\n  name: 'v-chip-group',\n\n  provide () {\n    return {\n      chipGroup: this,\n    }\n  },\n\n  props: {\n    column: Boolean,\n  },\n\n  computed: {\n    classes () {\n      return {\n        ...BaseSlideGroup.options.computed.classes.call(this),\n        'v-chip-group': true,\n        'v-chip-group--column': this.column,\n      }\n    },\n  },\n\n  watch: {\n    column (val) {\n      if (val) this.scrollOffset = 0\n\n      this.$nextTick(this.onResize)\n    },\n  },\n\n  methods: {\n    genData () {\n      return this.setTextColor(this.color, {\n        ...BaseSlideGroup.options.methods.genData.call(this),\n      })\n    },\n  },\n})\n","import './VSlider.sass'\n\n// Components\nimport VInput from '../VInput'\nimport { VScaleTransition } from '../transitions'\n\n// Mixins\nimport mixins, { ExtractVue } from '../../util/mixins'\nimport Loadable from '../../mixins/loadable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\n\n// Helpers\nimport { addOnceEventListener, deepEqual, keyCodes, createRange, convertToUnit, passiveSupported } from '../../util/helpers'\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport Vue, { VNode, VNodeChildrenArrayContents, PropType } from 'vue'\nimport { ScopedSlotChildren } from 'vue/types/vnode'\nimport { PropValidator } from 'vue/types/options'\n\ninterface options extends Vue {\n  $refs: {\n    track: HTMLElement\n  }\n}\n\nexport default mixins<options &\n/* eslint-disable indent */\n  ExtractVue<[\n    typeof VInput,\n    typeof Loadable\n  ]>\n/* eslint-enable indent */\n>(\n  VInput,\n  Loadable\n/* @vue/component */\n).extend({\n  name: 'v-slider',\n\n  directives: {\n    ClickOutside,\n  },\n\n  mixins: [Loadable],\n\n  props: {\n    disabled: Boolean,\n    inverseLabel: Boolean,\n    max: {\n      type: [Number, String],\n      default: 100,\n    },\n    min: {\n      type: [Number, String],\n      default: 0,\n    },\n    step: {\n      type: [Number, String],\n      default: 1,\n    },\n    thumbColor: String,\n    thumbLabel: {\n      type: [Boolean, String] as PropType<boolean | 'always' | undefined>,\n      default: undefined,\n      validator: v => typeof v === 'boolean' || v === 'always',\n    },\n    thumbSize: {\n      type: [Number, String],\n      default: 32,\n    },\n    tickLabels: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<string[]>,\n    ticks: {\n      type: [Boolean, String] as PropType<boolean | 'always'>,\n      default: false,\n      validator: v => typeof v === 'boolean' || v === 'always',\n    },\n    tickSize: {\n      type: [Number, String],\n      default: 2,\n    },\n    trackColor: String,\n    trackFillColor: String,\n    value: [Number, String],\n    vertical: Boolean,\n  },\n\n  data: () => ({\n    app: null as any,\n    oldValue: null as any,\n    thumbPressed: false,\n    mouseTimeout: -1,\n    isFocused: false,\n    isActive: false,\n    noClick: false, // Prevent click event if dragging took place, hack for #7915\n    startOffset: 0,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input__slider': true,\n        'v-input__slider--vertical': this.vertical,\n        'v-input__slider--inverse-label': this.inverseLabel,\n      }\n    },\n    internalValue: {\n      get (): number {\n        return this.lazyValue\n      },\n      set (val: number) {\n        val = isNaN(val) ? this.minValue : val\n        // Round value to ensure the\n        // entire slider range can\n        // be selected with step\n        const value = this.roundValue(Math.min(Math.max(val, this.minValue), this.maxValue))\n\n        if (value === this.lazyValue) return\n\n        this.lazyValue = value\n\n        this.$emit('input', value)\n      },\n    },\n    trackTransition (): string {\n      return this.thumbPressed\n        ? this.showTicks || this.stepNumeric\n          ? '0.1s cubic-bezier(0.25, 0.8, 0.5, 1)'\n          : 'none'\n        : ''\n    },\n    minValue (): number {\n      return parseFloat(this.min)\n    },\n    maxValue (): number {\n      return parseFloat(this.max)\n    },\n    stepNumeric (): number {\n      return this.step > 0 ? parseFloat(this.step) : 0\n    },\n    inputWidth (): number {\n      const inputWidth = (this.roundValue(this.internalValue) - this.minValue) / (this.maxValue - this.minValue) * 100\n\n      return isNaN(inputWidth) ? 0 : inputWidth\n    },\n    trackFillStyles (): Partial<CSSStyleDeclaration> {\n      const startDir = this.vertical ? 'bottom' : 'left'\n      const endDir = this.vertical ? 'top' : 'right'\n      const valueDir = this.vertical ? 'height' : 'width'\n\n      const start = this.$vuetify.rtl ? 'auto' : '0'\n      const end = this.$vuetify.rtl ? '0' : 'auto'\n      const value = this.isDisabled ? `calc(${this.inputWidth}% - 10px)` : `${this.inputWidth}%`\n\n      return {\n        transition: this.trackTransition,\n        [startDir]: start,\n        [endDir]: end,\n        [valueDir]: value,\n      }\n    },\n    trackStyles (): Partial<CSSStyleDeclaration> {\n      const startDir = this.vertical ? this.$vuetify.rtl ? 'bottom' : 'top' : this.$vuetify.rtl ? 'left' : 'right'\n      const endDir = this.vertical ? 'height' : 'width'\n\n      const start = '0px'\n      const end = this.isDisabled ? `calc(${100 - this.inputWidth}% - 10px)` : `calc(${100 - this.inputWidth}%)`\n\n      return {\n        transition: this.trackTransition,\n        [startDir]: start,\n        [endDir]: end,\n      }\n    },\n    showTicks (): boolean {\n      return this.tickLabels.length > 0 ||\n        !!(!this.isDisabled && this.stepNumeric && this.ticks)\n    },\n    numTicks (): number {\n      return Math.ceil((this.maxValue - this.minValue) / this.stepNumeric)\n    },\n    showThumbLabel (): boolean {\n      return !this.isDisabled && !!(\n        this.thumbLabel ||\n        this.$scopedSlots['thumb-label']\n      )\n    },\n    computedTrackColor (): string | undefined {\n      if (this.isDisabled) return undefined\n      if (this.trackColor) return this.trackColor\n      if (this.isDark) return this.validationState\n      return this.validationState || 'primary lighten-3'\n    },\n    computedTrackFillColor (): string | undefined {\n      if (this.isDisabled) return undefined\n      if (this.trackFillColor) return this.trackFillColor\n      return this.validationState || this.computedColor\n    },\n    computedThumbColor (): string | undefined {\n      if (this.thumbColor) return this.thumbColor\n      return this.validationState || this.computedColor\n    },\n  },\n\n  watch: {\n    min (val) {\n      const parsed = parseFloat(val)\n      parsed > this.internalValue && this.$emit('input', parsed)\n    },\n    max (val) {\n      const parsed = parseFloat(val)\n      parsed < this.internalValue && this.$emit('input', parsed)\n    },\n    value: {\n      handler (v: number) {\n        this.internalValue = v\n      },\n      immediate: true,\n    },\n  },\n\n  mounted () {\n    // Without a v-app, iOS does not work with body selectors\n    this.app = document.querySelector('[data-app]') ||\n      consoleWarn('Missing v-app or a non-body wrapping element with the [data-app] attribute', this)\n  },\n\n  methods: {\n    genDefaultSlot (): VNodeChildrenArrayContents {\n      const children: VNodeChildrenArrayContents = [this.genLabel()]\n      const slider = this.genSlider()\n      this.inverseLabel\n        ? children.unshift(slider)\n        : children.push(slider)\n\n      children.push(this.genProgress())\n\n      return children\n    },\n    genSlider (): VNode {\n      return this.$createElement('div', {\n        class: {\n          'v-slider': true,\n          'v-slider--horizontal': !this.vertical,\n          'v-slider--vertical': this.vertical,\n          'v-slider--focused': this.isFocused,\n          'v-slider--active': this.isActive,\n          'v-slider--disabled': this.isDisabled,\n          'v-slider--readonly': this.isReadonly,\n          ...this.themeClasses,\n        },\n        directives: [{\n          name: 'click-outside',\n          value: this.onBlur,\n        }],\n        on: {\n          click: this.onSliderClick,\n          mousedown: this.onSliderMouseDown,\n          touchstart: this.onSliderMouseDown,\n        },\n      }, this.genChildren())\n    },\n    genChildren (): VNodeChildrenArrayContents {\n      return [\n        this.genInput(),\n        this.genTrackContainer(),\n        this.genSteps(),\n        this.genThumbContainer(\n          this.internalValue,\n          this.inputWidth,\n          this.isActive,\n          this.isFocused,\n          this.onFocus,\n          this.onBlur,\n        ),\n      ]\n    },\n    genInput (): VNode {\n      return this.$createElement('input', {\n        attrs: {\n          value: this.internalValue,\n          id: this.computedId,\n          disabled: true,\n          readonly: true,\n          tabindex: -1,\n          ...this.$attrs,\n        },\n        // on: this.genListeners(), // TODO: do we need to attach the listeners to input?\n      })\n    },\n    genTrackContainer (): VNode {\n      const children = [\n        this.$createElement('div', this.setBackgroundColor(this.computedTrackColor, {\n          staticClass: 'v-slider__track-background',\n          style: this.trackStyles,\n        })),\n        this.$createElement('div', this.setBackgroundColor(this.computedTrackFillColor, {\n          staticClass: 'v-slider__track-fill',\n          style: this.trackFillStyles,\n        })),\n      ]\n\n      return this.$createElement('div', {\n        staticClass: 'v-slider__track-container',\n        ref: 'track',\n      }, children)\n    },\n    genSteps (): VNode | null {\n      if (!this.step || !this.showTicks) return null\n\n      const tickSize = parseFloat(this.tickSize)\n      const range = createRange(this.numTicks + 1)\n      const direction = this.vertical ? 'bottom' : (this.$vuetify.rtl ? 'right' : 'left')\n      const offsetDirection = this.vertical ? (this.$vuetify.rtl ? 'left' : 'right') : 'top'\n\n      if (this.vertical) range.reverse()\n\n      const ticks = range.map(index => {\n        const children = []\n\n        if (this.tickLabels[index]) {\n          children.push(this.$createElement('div', {\n            staticClass: 'v-slider__tick-label',\n          }, this.tickLabels[index]))\n        }\n\n        const width = index * (100 / this.numTicks)\n        const filled = this.$vuetify.rtl ? (100 - this.inputWidth) < width : width < this.inputWidth\n\n        return this.$createElement('span', {\n          key: index,\n          staticClass: 'v-slider__tick',\n          class: {\n            'v-slider__tick--filled': filled,\n          },\n          style: {\n            width: `${tickSize}px`,\n            height: `${tickSize}px`,\n            [direction]: `calc(${width}% - ${tickSize / 2}px)`,\n            [offsetDirection]: `calc(50% - ${tickSize / 2}px)`,\n          },\n        }, children)\n      })\n\n      return this.$createElement('div', {\n        staticClass: 'v-slider__ticks-container',\n        class: {\n          'v-slider__ticks-container--always-show': this.ticks === 'always' || this.tickLabels.length > 0,\n        },\n      }, ticks)\n    },\n    genThumbContainer (\n      value: number,\n      valueWidth: number,\n      isActive: boolean,\n      isFocused: boolean,\n      onFocus: Function,\n      onBlur: Function,\n      ref = 'thumb'\n    ): VNode {\n      const children = [this.genThumb()]\n\n      const thumbLabelContent = this.genThumbLabelContent(value)\n      this.showThumbLabel && children.push(this.genThumbLabel(thumbLabelContent))\n\n      return this.$createElement('div', this.setTextColor(this.computedThumbColor, {\n        ref,\n        key: ref,\n        staticClass: 'v-slider__thumb-container',\n        class: {\n          'v-slider__thumb-container--active': isActive,\n          'v-slider__thumb-container--focused': isFocused,\n          'v-slider__thumb-container--show-label': this.showThumbLabel,\n        },\n        style: this.getThumbContainerStyles(valueWidth),\n        attrs: {\n          role: 'slider',\n          tabindex: this.isDisabled ? -1 : this.$attrs.tabindex ? this.$attrs.tabindex : 0,\n          'aria-label': this.$attrs['aria-label'] || this.label,\n          'aria-valuemin': this.min,\n          'aria-valuemax': this.max,\n          'aria-valuenow': this.internalValue,\n          'aria-readonly': String(this.isReadonly),\n          'aria-orientation': this.vertical ? 'vertical' : 'horizontal',\n        },\n        on: {\n          focus: onFocus,\n          blur: onBlur,\n          keydown: this.onKeyDown,\n        },\n      }), children)\n    },\n    genThumbLabelContent (value: number | string): ScopedSlotChildren {\n      return this.$scopedSlots['thumb-label']\n        ? this.$scopedSlots['thumb-label']!({ value })\n        : [this.$createElement('span', [String(value)])]\n    },\n    genThumbLabel (content: ScopedSlotChildren): VNode {\n      const size = convertToUnit(this.thumbSize)\n\n      const transform = this.vertical\n        ? `translateY(20%) translateY(${(Number(this.thumbSize) / 3) - 1}px) translateX(55%) rotate(135deg)`\n        : `translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)`\n\n      return this.$createElement(VScaleTransition, {\n        props: { origin: 'bottom center' },\n      }, [\n        this.$createElement('div', {\n          staticClass: 'v-slider__thumb-label-container',\n          directives: [{\n            name: 'show',\n            value: this.isFocused || this.isActive || this.thumbLabel === 'always',\n          }],\n        }, [\n          this.$createElement('div', this.setBackgroundColor(this.computedThumbColor, {\n            staticClass: 'v-slider__thumb-label',\n            style: {\n              height: size,\n              width: size,\n              transform,\n            },\n          }), [this.$createElement('div', content)]),\n        ]),\n      ])\n    },\n    genThumb (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.computedThumbColor, {\n        staticClass: 'v-slider__thumb',\n      }))\n    },\n    getThumbContainerStyles (width: number): object {\n      const direction = this.vertical ? 'top' : 'left'\n      let value = this.$vuetify.rtl ? 100 - width : width\n      value = this.vertical ? 100 - value : value\n\n      return {\n        transition: this.trackTransition,\n        [direction]: `${value}%`,\n      }\n    },\n    onSliderMouseDown (e: MouseEvent | TouchEvent) {\n      e.preventDefault()\n\n      this.oldValue = this.internalValue\n      this.isActive = true\n\n      if ((e.target as Element)?.matches('.v-slider__thumb-container, .v-slider__thumb-container *')) {\n        this.thumbPressed = true\n        const domRect = (e.target as Element).getBoundingClientRect()\n        const touch = 'touches' in e ? e.touches[0] : e\n        this.startOffset = this.vertical\n          ? touch.clientY - (domRect.top + domRect.height / 2)\n          : touch.clientX - (domRect.left + domRect.width / 2)\n      } else {\n        this.startOffset = 0\n        window.clearTimeout(this.mouseTimeout)\n        this.mouseTimeout = window.setTimeout(() => {\n          this.thumbPressed = true\n        }, 300)\n      }\n\n      const mouseUpOptions = passiveSupported ? { passive: true, capture: true } : true\n      const mouseMoveOptions = passiveSupported ? { passive: true } : false\n\n      const isTouchEvent = 'touches' in e\n\n      this.onMouseMove(e)\n      this.app.addEventListener(isTouchEvent ? 'touchmove' : 'mousemove', this.onMouseMove, mouseMoveOptions)\n      addOnceEventListener(this.app, isTouchEvent ? 'touchend' : 'mouseup', this.onSliderMouseUp, mouseUpOptions)\n\n      this.$emit('start', this.internalValue)\n    },\n    onSliderMouseUp (e: Event) {\n      e.stopPropagation()\n      window.clearTimeout(this.mouseTimeout)\n      this.thumbPressed = false\n      const mouseMoveOptions = passiveSupported ? { passive: true } : false\n      this.app.removeEventListener('touchmove', this.onMouseMove, mouseMoveOptions)\n      this.app.removeEventListener('mousemove', this.onMouseMove, mouseMoveOptions)\n\n      this.$emit('mouseup', e)\n      this.$emit('end', this.internalValue)\n      if (!deepEqual(this.oldValue, this.internalValue)) {\n        this.$emit('change', this.internalValue)\n        this.noClick = true\n      }\n\n      this.isActive = false\n    },\n    onMouseMove (e: MouseEvent | TouchEvent) {\n      if (e.type === 'mousemove') {\n        this.thumbPressed = true\n      }\n      this.internalValue = this.parseMouseMove(e)\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (!this.isInteractive) return\n\n      const value = this.parseKeyDown(e, this.internalValue)\n\n      if (\n        value == null ||\n        value < this.minValue ||\n        value > this.maxValue\n      ) return\n\n      this.internalValue = value\n      this.$emit('change', value)\n    },\n    onSliderClick (e: MouseEvent) {\n      if (this.noClick) {\n        this.noClick = false\n        return\n      }\n      const thumb = this.$refs.thumb as HTMLElement\n      thumb.focus()\n\n      this.onMouseMove(e)\n      this.$emit('change', this.internalValue)\n    },\n    onBlur (e: Event) {\n      this.isFocused = false\n\n      this.$emit('blur', e)\n    },\n    onFocus (e: Event) {\n      this.isFocused = true\n\n      this.$emit('focus', e)\n    },\n    parseMouseMove (e: MouseEvent | TouchEvent) {\n      const start = this.vertical ? 'top' : 'left'\n      const length = this.vertical ? 'height' : 'width'\n      const click = this.vertical ? 'clientY' : 'clientX'\n\n      const {\n        [start]: trackStart,\n        [length]: trackLength,\n      } = this.$refs.track.getBoundingClientRect()\n      const clickOffset = 'touches' in e ? e.touches[0][click] : e[click]\n\n      // It is possible for left to be NaN, force to number\n      let clickPos = Math.min(Math.max((clickOffset - trackStart - this.startOffset) / trackLength, 0), 1) || 0\n\n      if (this.vertical) clickPos = 1 - clickPos\n      if (this.$vuetify.rtl) clickPos = 1 - clickPos\n\n      return parseFloat(this.min) + clickPos * (this.maxValue - this.minValue)\n    },\n    parseKeyDown (e: KeyboardEvent, value: number) {\n      if (!this.isInteractive) return\n\n      const { pageup, pagedown, end, home, left, right, down, up } = keyCodes\n\n      if (![pageup, pagedown, end, home, left, right, down, up].includes(e.keyCode)) return\n\n      e.preventDefault()\n      const step = this.stepNumeric || 1\n      const steps = (this.maxValue - this.minValue) / step\n      if ([left, right, down, up].includes(e.keyCode)) {\n        const increase = this.$vuetify.rtl ? [left, up] : [right, up]\n        const direction = increase.includes(e.keyCode) ? 1 : -1\n        const multiplier = e.shiftKey ? 3 : (e.ctrlKey ? 2 : 1)\n\n        value = value + (direction * step * multiplier)\n      } else if (e.keyCode === home) {\n        value = this.minValue\n      } else if (e.keyCode === end) {\n        value = this.maxValue\n      } else {\n        const direction = e.keyCode === pagedown ? 1 : -1\n        value = value - (direction * step * (steps > 100 ? steps / 10 : 10))\n      }\n\n      return value\n    },\n    roundValue (value: number): number {\n      if (!this.stepNumeric) return value\n      // Format input value using the same number\n      // of decimals places as in the step prop\n      const trimmedStep = this.step.toString().trim()\n      const decimals = trimmedStep.indexOf('.') > -1\n        ? (trimmedStep.length - trimmedStep.indexOf('.') - 1)\n        : 0\n      const offset = this.minValue % this.stepNumeric\n\n      const newValue = Math.round((value - offset) / this.stepNumeric) * this.stepNumeric + offset\n\n      return parseFloat(Math.min(newValue, this.maxValue).toFixed(decimals))\n    },\n  },\n})\n","// Utilities\nimport {\n  HSVA,\n  HSVAtoRGBA,\n  HSVAtoHex,\n  RGBA,\n  Hex,\n  RGBAtoHSVA,\n  HexToHSVA,\n  HSLA,\n  HSVAtoHSLA,\n  RGBAtoHex,\n  HSLAtoHSVA,\n  parseHex,\n  Hexa,\n} from '../../../util/colorUtils'\n\nexport interface VColorPickerColor {\n  alpha: number\n  hex: Hex\n  hexa: Hexa\n  hsla: HSLA\n  hsva: HSVA\n  hue: number\n  rgba: RGBA\n}\n\nexport function fromHSVA (hsva: HSVA): VColorPickerColor {\n  hsva = { ...hsva }\n  const hexa = HSVAtoHex(hsva)\n  const hsla = HSVAtoHSLA(hsva)\n  const rgba = HSVAtoRGBA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromHSLA (hsla: HSLA): VColorPickerColor {\n  const hsva = HSLAtoHSVA(hsla)\n  const hexa = HSVAtoHex(hsva)\n  const rgba = HSVAtoRGBA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromRGBA (rgba: RGBA): VColorPickerColor {\n  const hsva = RGBAtoHSVA(rgba)\n  const hexa = RGBAtoHex(rgba)\n  const hsla = HSVAtoHSLA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromHexa (hexa: Hexa): VColorPickerColor {\n  const hsva = HexToHSVA(hexa)\n  const hsla = HSVAtoHSLA(hsva)\n  const rgba = HSVAtoRGBA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromHex (hex: Hex): VColorPickerColor {\n  return fromHexa(parseHex(hex))\n}\n\nfunction has (obj: object, key: string[]) {\n  return key.every(k => obj.hasOwnProperty(k))\n}\n\nexport function parseColor (color: any, oldColor: VColorPickerColor | null) {\n  if (!color) return fromRGBA({ r: 255, g: 0, b: 0, a: 1 })\n\n  if (typeof color === 'string') {\n    if (color === 'transparent') return fromHexa('#00000000')\n\n    const hex = parseHex(color)\n\n    if (oldColor && hex === oldColor.hexa) return oldColor\n    else return fromHexa(hex)\n  }\n\n  if (typeof color === 'object') {\n    if (color.hasOwnProperty('alpha')) return color\n\n    const a = color.hasOwnProperty('a') ? parseFloat(color.a) : 1\n\n    if (has(color, ['r', 'g', 'b'])) {\n      if (oldColor && color === oldColor.rgba) return oldColor\n      else return fromRGBA({ ...color, a })\n    } else if (has(color, ['h', 's', 'l'])) {\n      if (oldColor && color === oldColor.hsla) return oldColor\n      else return fromHSLA({ ...color, a })\n    } else if (has(color, ['h', 's', 'v'])) {\n      if (oldColor && color === oldColor.hsva) return oldColor\n      else return fromHSVA({ ...color, a })\n    }\n  }\n\n  return fromRGBA({ r: 255, g: 0, b: 0, a: 1 })\n}\n\nfunction stripAlpha (color: any, stripAlpha: boolean) {\n  if (stripAlpha) {\n    const { a, ...rest } = color\n\n    return rest\n  }\n\n  return color\n}\n\nexport function extractColor (color: VColorPickerColor, input: any) {\n  if (input == null) return color\n\n  if (typeof input === 'string') {\n    return input.length === 7 ? color.hex : color.hexa\n  }\n\n  if (typeof input === 'object') {\n    const shouldStrip = typeof input.a === 'number' && input.a === 0 ? !!input.a : !input.a\n    if (has(input, ['r', 'g', 'b'])) return stripAlpha(color.rgba, shouldStrip)\n    else if (has(input, ['h', 's', 'l'])) return stripAlpha(color.hsla, shouldStrip)\n    else if (has(input, ['h', 's', 'v'])) return stripAlpha(color.hsva, shouldStrip)\n  }\n\n  return color\n}\n\nexport function hasAlpha (color: any) {\n  if (!color) return false\n\n  if (typeof color === 'string') {\n    return color.length > 7\n  }\n\n  if (typeof color === 'object') {\n    return has(color, ['a']) || has(color, ['alpha'])\n  }\n\n  return false\n}\n","// Styles\nimport './VColorPickerPreview.sass'\n\n// Components\nimport VSlider from '../VSlider/VSlider'\n\n// Utilities\nimport { RGBtoCSS, RGBAtoCSS } from '../../util/colorUtils'\n\n// Types\nimport Vue, { VNode, VNodeData, PropType } from 'vue'\nimport { VColorPickerColor, fromHSVA } from './util'\n\nexport default Vue.extend({\n  name: 'v-color-picker-preview',\n\n  props: {\n    color: Object as PropType<VColorPickerColor>,\n    disabled: Boolean,\n    hideAlpha: Boolean,\n  },\n\n  methods: {\n    genAlpha (): VNode {\n      return this.genTrack({\n        staticClass: 'v-color-picker__alpha',\n        props: {\n          thumbColor: 'grey lighten-2',\n          hideDetails: true,\n          value: this.color.alpha,\n          step: 0,\n          min: 0,\n          max: 1,\n        },\n        style: {\n          backgroundImage: this.disabled\n            ? undefined\n            : `linear-gradient(to ${this.$vuetify.rtl ? 'left' : 'right'}, transparent, ${RGBtoCSS(this.color.rgba)})`,\n        },\n        on: {\n          input: (val: number) => this.color.alpha !== val && this.$emit('update:color', fromHSVA({ ...this.color.hsva, a: val })),\n        },\n      })\n    },\n    genSliders (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__sliders',\n      }, [\n        this.genHue(),\n        !this.hideAlpha && this.genAlpha(),\n      ])\n    },\n    genDot (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__dot',\n      }, [\n        this.$createElement('div', {\n          style: {\n            background: RGBAtoCSS(this.color.rgba),\n          },\n        }),\n      ])\n    },\n    genHue (): VNode {\n      return this.genTrack({\n        staticClass: 'v-color-picker__hue',\n        props: {\n          thumbColor: 'grey lighten-2',\n          hideDetails: true,\n          value: this.color.hue,\n          step: 0,\n          min: 0,\n          max: 360,\n        },\n        on: {\n          input: (val: number) => this.color.hue !== val && this.$emit('update:color', fromHSVA({ ...this.color.hsva, h: val })),\n        },\n      })\n    },\n    genTrack (options: VNodeData): VNode {\n      return this.$createElement(VSlider, {\n        class: 'v-color-picker__track',\n        ...options,\n        props: {\n          disabled: this.disabled,\n          ...options.props,\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-color-picker__preview',\n      class: {\n        'v-color-picker__preview--hide-alpha': this.hideAlpha,\n      },\n    }, [\n      this.genDot(),\n      this.genSliders(),\n    ])\n  },\n})\n","// Styles\nimport './VColorPickerCanvas.sass'\n\n// Helpers\nimport { clamp, convertToUnit } from '../../util/helpers'\nimport { fromHSVA, VColorPickerColor, fromRGBA } from './util'\n\n// Types\nimport Vue, { VNode, PropType } from 'vue'\n\nexport default Vue.extend({\n  name: 'v-color-picker-canvas',\n\n  props: {\n    color: {\n      type: Object as PropType<VColorPickerColor>,\n      default: () => fromRGBA({ r: 255, g: 0, b: 0, a: 1 }),\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10,\n    },\n    height: {\n      type: [Number, String],\n      default: 150,\n    },\n    width: {\n      type: [Number, String],\n      default: 300,\n    },\n  },\n\n  data () {\n    return {\n      boundingRect: {\n        width: 0,\n        height: 0,\n        left: 0,\n        top: 0,\n      } as ClientRect,\n    }\n  },\n\n  computed: {\n    dot (): { x: number, y: number} {\n      if (!this.color) return { x: 0, y: 0 }\n\n      return {\n        x: this.color.hsva.s * parseInt(this.width, 10),\n        y: (1 - this.color.hsva.v) * parseInt(this.height, 10),\n      }\n    },\n  },\n\n  watch: {\n    'color.hue': 'updateCanvas',\n  },\n\n  mounted () {\n    this.updateCanvas()\n  },\n\n  methods: {\n    emitColor (x: number, y: number) {\n      const { left, top, width, height } = this.boundingRect\n\n      this.$emit('update:color', fromHSVA({\n        h: this.color.hue,\n        s: clamp(x - left, 0, width) / width,\n        v: 1 - clamp(y - top, 0, height) / height,\n        a: this.color.alpha,\n      }))\n    },\n    updateCanvas () {\n      if (!this.color) return\n\n      const canvas = this.$refs.canvas as HTMLCanvasElement\n      const ctx = canvas.getContext('2d')\n\n      if (!ctx) return\n\n      const saturationGradient = ctx.createLinearGradient(0, 0, canvas.width, 0)\n      saturationGradient.addColorStop(0, 'hsla(0, 0%, 100%, 1)') // white\n      saturationGradient.addColorStop(1, `hsla(${this.color.hue}, 100%, 50%, 1)`)\n      ctx.fillStyle = saturationGradient\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n      const valueGradient = ctx.createLinearGradient(0, 0, 0, canvas.height)\n      valueGradient.addColorStop(0, 'hsla(0, 0%, 100%, 0)') // transparent\n      valueGradient.addColorStop(1, 'hsla(0, 0%, 0%, 1)') // black\n      ctx.fillStyle = valueGradient\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n    },\n    handleClick (e: MouseEvent) {\n      if (this.disabled) return\n\n      this.boundingRect = this.$el.getBoundingClientRect()\n      this.emitColor(e.clientX, e.clientY)\n    },\n    handleMouseDown (e: MouseEvent) {\n      // To prevent selection while moving cursor\n      e.preventDefault()\n\n      if (this.disabled) return\n\n      this.boundingRect = this.$el.getBoundingClientRect()\n\n      window.addEventListener('mousemove', this.handleMouseMove)\n      window.addEventListener('mouseup', this.handleMouseUp)\n    },\n    handleMouseMove (e: MouseEvent) {\n      if (this.disabled) return\n\n      this.emitColor(e.clientX, e.clientY)\n    },\n    handleMouseUp () {\n      window.removeEventListener('mousemove', this.handleMouseMove)\n      window.removeEventListener('mouseup', this.handleMouseUp)\n    },\n    genCanvas (): VNode {\n      return this.$createElement('canvas', {\n        ref: 'canvas',\n        attrs: {\n          width: this.width,\n          height: this.height,\n        },\n      })\n    },\n    genDot (): VNode {\n      const radius = parseInt(this.dotSize, 10) / 2\n      const x = convertToUnit(this.dot.x - radius)\n      const y = convertToUnit(this.dot.y - radius)\n\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__canvas-dot',\n        class: {\n          'v-color-picker__canvas-dot--disabled': this.disabled,\n        },\n        style: {\n          width: convertToUnit(this.dotSize),\n          height: convertToUnit(this.dotSize),\n          transform: `translate(${x}, ${y})`,\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-color-picker__canvas',\n      style: {\n        width: convertToUnit(this.width),\n        height: convertToUnit(this.height),\n      },\n      on: {\n        click: this.handleClick,\n        mousedown: this.handleMouseDown,\n      },\n    }, [\n      this.genCanvas(),\n      this.genDot(),\n    ])\n  },\n})\n","import VBtn from './VBtn'\n\nexport { VBtn }\nexport default VBtn\n","// Styles\nimport './VColorPickerEdit.sass'\n\n// Components\nimport VBtn from '../VBtn'\nimport VIcon from '../VIcon'\n\n// Helpers\nimport { parseHex } from '../../util/colorUtils'\n\n// Types\nimport Vue, { VNode, PropType } from 'vue'\nimport { VColorPickerColor, fromRGBA, fromHexa, fromHSLA } from './util'\n\ntype Input = [string, number, string]\n\nexport type Mode = {\n  inputs?: Input[]\n  from: Function\n}\n\nexport const modes = {\n  rgba: {\n    inputs: [\n      ['r', 255, 'int'],\n      ['g', 255, 'int'],\n      ['b', 255, 'int'],\n      ['a', 1, 'float'],\n    ],\n    from: fromRGBA,\n  },\n  hsla: {\n    inputs: [\n      ['h', 360, 'int'],\n      ['s', 1, 'float'],\n      ['l', 1, 'float'],\n      ['a', 1, 'float'],\n    ],\n    from: fromHSLA,\n  },\n  hexa: {\n    from: fromHexa,\n  },\n} as { [key: string]: Mode }\n\nexport default Vue.extend({\n  name: 'v-color-picker-edit',\n\n  props: {\n    color: Object as PropType<VColorPickerColor>,\n    disabled: Boolean,\n    hideAlpha: Boolean,\n    hideModeSwitch: Boolean,\n    mode: {\n      type: String,\n      default: 'rgba',\n      validator: (v: string) => Object.keys(modes).includes(v),\n    },\n  },\n\n  data () {\n    return {\n      modes,\n      internalMode: this.mode,\n    }\n  },\n\n  computed: {\n    currentMode (): Mode {\n      return this.modes[this.internalMode]\n    },\n  },\n\n  watch: {\n    mode (mode) {\n      this.internalMode = mode\n    },\n  },\n\n  created () {\n    this.internalMode = this.mode\n  },\n\n  methods: {\n    getValue (v: any, type: string) {\n      if (type === 'float') return Math.round(v * 100) / 100\n      else if (type === 'int') return Math.round(v)\n      else return 0\n    },\n    parseValue (v: string, type: string) {\n      if (type === 'float') return parseFloat(v)\n      else if (type === 'int') return parseInt(v, 10) || 0\n      else return 0\n    },\n    changeMode () {\n      const modes = Object.keys(this.modes)\n      const index = modes.indexOf(this.internalMode)\n      const newMode = modes[(index + 1) % modes.length]\n      this.internalMode = newMode\n      this.$emit('update:mode', newMode)\n    },\n    genInput (target: string, attrs: any, value: any, on: any): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__input',\n      }, [\n        this.$createElement('input', {\n          key: target,\n          attrs,\n          domProps: {\n            value,\n          },\n          on,\n        }),\n        this.$createElement('span', target.toUpperCase()),\n      ])\n    },\n    genInputs (): VNode[] | VNode {\n      if (this.internalMode === 'hexa') {\n        const hex = this.color.hexa\n        const value = this.hideAlpha && hex.endsWith('FF') ? hex.substr(0, 7) : hex\n        return this.genInput(\n          'hex',\n          {\n            maxlength: this.hideAlpha ? 7 : 9,\n            disabled: this.disabled,\n          },\n          value,\n          {\n            change: (e: Event) => {\n              const el = e.target as HTMLInputElement\n              this.$emit('update:color', this.currentMode.from(parseHex(el.value)))\n            },\n          }\n        )\n      } else {\n        const inputs = this.hideAlpha ? this.currentMode.inputs!.slice(0, -1) : this.currentMode.inputs!\n        return inputs.map(([target, max, type]) => {\n          const value = this.color[this.internalMode as keyof VColorPickerColor] as any\n          return this.genInput(\n            target,\n            {\n              type: 'number',\n              min: 0,\n              max,\n              step: type === 'float' ? '0.01' : type === 'int' ? '1' : undefined,\n              disabled: this.disabled,\n            },\n            this.getValue(value[target], type),\n            {\n              input: (e: Event) => {\n                const el = e.target as HTMLInputElement\n                const newVal = this.parseValue(el.value || '0', type)\n\n                this.$emit('update:color', this.currentMode.from(\n                  Object.assign({}, value, { [target]: newVal }),\n                  this.color.alpha\n                ))\n              },\n            }\n          )\n        })\n      }\n    },\n    genSwitch (): VNode {\n      return this.$createElement(VBtn, {\n        props: {\n          small: true,\n          icon: true,\n          disabled: this.disabled,\n        },\n        on: {\n          click: this.changeMode,\n        },\n      }, [\n        this.$createElement(VIcon, '$unfold'),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-color-picker__edit',\n    }, [\n      this.genInputs(),\n      !this.hideModeSwitch && this.genSwitch(),\n    ])\n  },\n})\n","const red = Object.freeze({\n  base: '#f44336',\n  lighten5: '#ffebee',\n  lighten4: '#ffcdd2',\n  lighten3: '#ef9a9a',\n  lighten2: '#e57373',\n  lighten1: '#ef5350',\n  darken1: '#e53935',\n  darken2: '#d32f2f',\n  darken3: '#c62828',\n  darken4: '#b71c1c',\n  accent1: '#ff8a80',\n  accent2: '#ff5252',\n  accent3: '#ff1744',\n  accent4: '#d50000',\n})\n\nconst pink = Object.freeze({\n  base: '#e91e63',\n  lighten5: '#fce4ec',\n  lighten4: '#f8bbd0',\n  lighten3: '#f48fb1',\n  lighten2: '#f06292',\n  lighten1: '#ec407a',\n  darken1: '#d81b60',\n  darken2: '#c2185b',\n  darken3: '#ad1457',\n  darken4: '#880e4f',\n  accent1: '#ff80ab',\n  accent2: '#ff4081',\n  accent3: '#f50057',\n  accent4: '#c51162',\n})\n\nconst purple = Object.freeze({\n  base: '#9c27b0',\n  lighten5: '#f3e5f5',\n  lighten4: '#e1bee7',\n  lighten3: '#ce93d8',\n  lighten2: '#ba68c8',\n  lighten1: '#ab47bc',\n  darken1: '#8e24aa',\n  darken2: '#7b1fa2',\n  darken3: '#6a1b9a',\n  darken4: '#4a148c',\n  accent1: '#ea80fc',\n  accent2: '#e040fb',\n  accent3: '#d500f9',\n  accent4: '#aa00ff',\n})\n\nconst deepPurple = Object.freeze({\n  base: '#673ab7',\n  lighten5: '#ede7f6',\n  lighten4: '#d1c4e9',\n  lighten3: '#b39ddb',\n  lighten2: '#9575cd',\n  lighten1: '#7e57c2',\n  darken1: '#5e35b1',\n  darken2: '#512da8',\n  darken3: '#4527a0',\n  darken4: '#311b92',\n  accent1: '#b388ff',\n  accent2: '#7c4dff',\n  accent3: '#651fff',\n  accent4: '#6200ea',\n})\n\nconst indigo = Object.freeze({\n  base: '#3f51b5',\n  lighten5: '#e8eaf6',\n  lighten4: '#c5cae9',\n  lighten3: '#9fa8da',\n  lighten2: '#7986cb',\n  lighten1: '#5c6bc0',\n  darken1: '#3949ab',\n  darken2: '#303f9f',\n  darken3: '#283593',\n  darken4: '#1a237e',\n  accent1: '#8c9eff',\n  accent2: '#536dfe',\n  accent3: '#3d5afe',\n  accent4: '#304ffe',\n})\n\nconst blue = Object.freeze({\n  base: '#2196f3',\n  lighten5: '#e3f2fd',\n  lighten4: '#bbdefb',\n  lighten3: '#90caf9',\n  lighten2: '#64b5f6',\n  lighten1: '#42a5f5',\n  darken1: '#1e88e5',\n  darken2: '#1976d2',\n  darken3: '#1565c0',\n  darken4: '#0d47a1',\n  accent1: '#82b1ff',\n  accent2: '#448aff',\n  accent3: '#2979ff',\n  accent4: '#2962ff',\n})\n\nconst lightBlue = Object.freeze({\n  base: '#03a9f4',\n  lighten5: '#e1f5fe',\n  lighten4: '#b3e5fc',\n  lighten3: '#81d4fa',\n  lighten2: '#4fc3f7',\n  lighten1: '#29b6f6',\n  darken1: '#039be5',\n  darken2: '#0288d1',\n  darken3: '#0277bd',\n  darken4: '#01579b',\n  accent1: '#80d8ff',\n  accent2: '#40c4ff',\n  accent3: '#00b0ff',\n  accent4: '#0091ea',\n})\n\nconst cyan = Object.freeze({\n  base: '#00bcd4',\n  lighten5: '#e0f7fa',\n  lighten4: '#b2ebf2',\n  lighten3: '#80deea',\n  lighten2: '#4dd0e1',\n  lighten1: '#26c6da',\n  darken1: '#00acc1',\n  darken2: '#0097a7',\n  darken3: '#00838f',\n  darken4: '#006064',\n  accent1: '#84ffff',\n  accent2: '#18ffff',\n  accent3: '#00e5ff',\n  accent4: '#00b8d4',\n})\n\nconst teal = Object.freeze({\n  base: '#009688',\n  lighten5: '#e0f2f1',\n  lighten4: '#b2dfdb',\n  lighten3: '#80cbc4',\n  lighten2: '#4db6ac',\n  lighten1: '#26a69a',\n  darken1: '#00897b',\n  darken2: '#00796b',\n  darken3: '#00695c',\n  darken4: '#004d40',\n  accent1: '#a7ffeb',\n  accent2: '#64ffda',\n  accent3: '#1de9b6',\n  accent4: '#00bfa5',\n})\n\nconst green = Object.freeze({\n  base: '#4caf50',\n  lighten5: '#e8f5e9',\n  lighten4: '#c8e6c9',\n  lighten3: '#a5d6a7',\n  lighten2: '#81c784',\n  lighten1: '#66bb6a',\n  darken1: '#43a047',\n  darken2: '#388e3c',\n  darken3: '#2e7d32',\n  darken4: '#1b5e20',\n  accent1: '#b9f6ca',\n  accent2: '#69f0ae',\n  accent3: '#00e676',\n  accent4: '#00c853',\n})\n\nconst lightGreen = Object.freeze({\n  base: '#8bc34a',\n  lighten5: '#f1f8e9',\n  lighten4: '#dcedc8',\n  lighten3: '#c5e1a5',\n  lighten2: '#aed581',\n  lighten1: '#9ccc65',\n  darken1: '#7cb342',\n  darken2: '#689f38',\n  darken3: '#558b2f',\n  darken4: '#33691e',\n  accent1: '#ccff90',\n  accent2: '#b2ff59',\n  accent3: '#76ff03',\n  accent4: '#64dd17',\n})\n\nconst lime = Object.freeze({\n  base: '#cddc39',\n  lighten5: '#f9fbe7',\n  lighten4: '#f0f4c3',\n  lighten3: '#e6ee9c',\n  lighten2: '#dce775',\n  lighten1: '#d4e157',\n  darken1: '#c0ca33',\n  darken2: '#afb42b',\n  darken3: '#9e9d24',\n  darken4: '#827717',\n  accent1: '#f4ff81',\n  accent2: '#eeff41',\n  accent3: '#c6ff00',\n  accent4: '#aeea00',\n})\n\nconst yellow = Object.freeze({\n  base: '#ffeb3b',\n  lighten5: '#fffde7',\n  lighten4: '#fff9c4',\n  lighten3: '#fff59d',\n  lighten2: '#fff176',\n  lighten1: '#ffee58',\n  darken1: '#fdd835',\n  darken2: '#fbc02d',\n  darken3: '#f9a825',\n  darken4: '#f57f17',\n  accent1: '#ffff8d',\n  accent2: '#ffff00',\n  accent3: '#ffea00',\n  accent4: '#ffd600',\n})\n\nconst amber = Object.freeze({\n  base: '#ffc107',\n  lighten5: '#fff8e1',\n  lighten4: '#ffecb3',\n  lighten3: '#ffe082',\n  lighten2: '#ffd54f',\n  lighten1: '#ffca28',\n  darken1: '#ffb300',\n  darken2: '#ffa000',\n  darken3: '#ff8f00',\n  darken4: '#ff6f00',\n  accent1: '#ffe57f',\n  accent2: '#ffd740',\n  accent3: '#ffc400',\n  accent4: '#ffab00',\n})\n\nconst orange = Object.freeze({\n  base: '#ff9800',\n  lighten5: '#fff3e0',\n  lighten4: '#ffe0b2',\n  lighten3: '#ffcc80',\n  lighten2: '#ffb74d',\n  lighten1: '#ffa726',\n  darken1: '#fb8c00',\n  darken2: '#f57c00',\n  darken3: '#ef6c00',\n  darken4: '#e65100',\n  accent1: '#ffd180',\n  accent2: '#ffab40',\n  accent3: '#ff9100',\n  accent4: '#ff6d00',\n})\n\nconst deepOrange = Object.freeze({\n  base: '#ff5722',\n  lighten5: '#fbe9e7',\n  lighten4: '#ffccbc',\n  lighten3: '#ffab91',\n  lighten2: '#ff8a65',\n  lighten1: '#ff7043',\n  darken1: '#f4511e',\n  darken2: '#e64a19',\n  darken3: '#d84315',\n  darken4: '#bf360c',\n  accent1: '#ff9e80',\n  accent2: '#ff6e40',\n  accent3: '#ff3d00',\n  accent4: '#dd2c00',\n})\n\nconst brown = Object.freeze({\n  base: '#795548',\n  lighten5: '#efebe9',\n  lighten4: '#d7ccc8',\n  lighten3: '#bcaaa4',\n  lighten2: '#a1887f',\n  lighten1: '#8d6e63',\n  darken1: '#6d4c41',\n  darken2: '#5d4037',\n  darken3: '#4e342e',\n  darken4: '#3e2723',\n})\n\nconst blueGrey = Object.freeze({\n  base: '#607d8b',\n  lighten5: '#eceff1',\n  lighten4: '#cfd8dc',\n  lighten3: '#b0bec5',\n  lighten2: '#90a4ae',\n  lighten1: '#78909c',\n  darken1: '#546e7a',\n  darken2: '#455a64',\n  darken3: '#37474f',\n  darken4: '#263238',\n})\n\nconst grey = Object.freeze({\n  base: '#9e9e9e',\n  lighten5: '#fafafa',\n  lighten4: '#f5f5f5',\n  lighten3: '#eeeeee',\n  lighten2: '#e0e0e0',\n  lighten1: '#bdbdbd',\n  darken1: '#757575',\n  darken2: '#616161',\n  darken3: '#424242',\n  darken4: '#212121',\n})\n\nconst shades = Object.freeze({\n  black: '#000000',\n  white: '#ffffff',\n  transparent: 'transparent',\n})\n\nexport default Object.freeze({\n  red,\n  pink,\n  purple,\n  deepPurple,\n  indigo,\n  blue,\n  lightBlue,\n  cyan,\n  teal,\n  green,\n  lightGreen,\n  lime,\n  yellow,\n  amber,\n  orange,\n  deepOrange,\n  brown,\n  blueGrey,\n  grey,\n  shades,\n})\n","// Styles\nimport './VColorPickerSwatches.sass'\n\n// Components\nimport VIcon from '../VIcon'\n\n// Helpers\nimport colors from '../../util/colors'\nimport { VColorPickerColor, fromHex, parseColor } from './util'\nimport { convertToUnit, deepEqual } from '../../util/helpers'\nimport mixins from '../../util/mixins'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode, PropType } from 'vue'\nimport { contrastRatio } from '../../util/colorUtils'\n\nfunction parseDefaultColors (colors: Record<string, Record<string, string>>) {\n  return Object.keys(colors).map(key => {\n    const color = colors[key]\n    return color.base ? [\n      color.base,\n      color.darken4,\n      color.darken3,\n      color.darken2,\n      color.darken1,\n      color.lighten1,\n      color.lighten2,\n      color.lighten3,\n      color.lighten4,\n      color.lighten5,\n    ] : [\n      color.black,\n      color.white,\n      color.transparent,\n    ]\n  })\n}\n\nconst white = fromHex('#FFFFFF').rgba\nconst black = fromHex('#000000').rgba\n\nexport default mixins(Themeable).extend({\n  name: 'v-color-picker-swatches',\n\n  props: {\n    swatches: {\n      type: Array as PropType<string[][]>,\n      default: () => parseDefaultColors(colors),\n    },\n    disabled: Boolean,\n    color: Object as PropType<VColorPickerColor>,\n    maxWidth: [Number, String],\n    maxHeight: [Number, String],\n  },\n\n  methods: {\n    genColor (color: string) {\n      const content = this.$createElement('div', {\n        style: {\n          background: color,\n        },\n      }, [\n        deepEqual(this.color, parseColor(color, null)) && this.$createElement(VIcon, {\n          props: {\n            small: true,\n            dark: contrastRatio(this.color.rgba, white) > 2 && this.color.alpha > 0.5,\n            light: contrastRatio(this.color.rgba, black) > 2 && this.color.alpha > 0.5,\n          },\n        }, '$success'),\n      ])\n\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__color',\n        on: {\n          // TODO: Less hacky way of catching transparent\n          click: () => this.disabled || this.$emit('update:color', fromHex(color === 'transparent' ? '#00000000' : color)),\n        },\n      }, [content])\n    },\n    genSwatches () {\n      return this.swatches.map(swatch => {\n        const colors = swatch.map(this.genColor)\n\n        return this.$createElement('div', {\n          staticClass: 'v-color-picker__swatch',\n        }, colors)\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-color-picker__swatches',\n      style: {\n        maxWidth: convertToUnit(this.maxWidth),\n        maxHeight: convertToUnit(this.maxHeight),\n      },\n    }, [\n      this.$createElement('div', this.genSwatches()),\n    ])\n  },\n})\n","// Styles\nimport './VColorPicker.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\nimport VColorPickerPreview from './VColorPickerPreview'\nimport VColorPickerCanvas from './VColorPickerCanvas'\nimport VColorPickerEdit, { Mode, modes } from './VColorPickerEdit'\nimport VColorPickerSwatches from './VColorPickerSwatches'\n\n// Helpers\nimport { VColorPickerColor, parseColor, fromRGBA, extractColor, hasAlpha } from './util'\nimport mixins from '../../util/mixins'\nimport { deepEqual } from '../../util/helpers'\n\n// Mixins\nimport Elevatable from '../../mixins/elevatable'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode, PropType } from 'vue'\n\nexport default mixins(Elevatable, Themeable).extend({\n  name: 'v-color-picker',\n\n  props: {\n    canvasHeight: {\n      type: [String, Number],\n      default: 150,\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10,\n    },\n    flat: Boolean,\n    hideCanvas: Boolean,\n    hideSliders: Boolean,\n    hideInputs: Boolean,\n    hideModeSwitch: Boolean,\n    mode: {\n      type: String,\n      default: 'rgba',\n      validator: (v: string) => Object.keys(modes).includes(v),\n    },\n    showSwatches: Boolean,\n    swatches: Array as PropType<string[][]>,\n    swatchesMaxHeight: {\n      type: [Number, String],\n      default: 150,\n    },\n    value: {\n      type: [Object, String],\n    },\n    width: {\n      type: [Number, String],\n      default: 300,\n    },\n  },\n\n  data: () => ({\n    internalValue: fromRGBA({ r: 255, g: 0, b: 0, a: 1 }),\n  }),\n\n  computed: {\n    hideAlpha (): boolean {\n      if (!this.value) return false\n\n      return !hasAlpha(this.value)\n    },\n  },\n\n  watch: {\n    value: {\n      handler (color: any) {\n        this.updateColor(parseColor(color, this.internalValue))\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    updateColor (color: VColorPickerColor) {\n      this.internalValue = color\n      const value = extractColor(this.internalValue, this.value)\n\n      if (!deepEqual(value, this.value)) {\n        this.$emit('input', value)\n        this.$emit('update:color', this.internalValue)\n      }\n    },\n    genCanvas (): VNode {\n      return this.$createElement(VColorPickerCanvas, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          dotSize: this.dotSize,\n          width: this.width,\n          height: this.canvasHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genControls (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__controls',\n      }, [\n        !this.hideSliders && this.genPreview(),\n        !this.hideInputs && this.genEdit(),\n      ])\n    },\n    genEdit (): VNode {\n      return this.$createElement(VColorPickerEdit, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha,\n          hideModeSwitch: this.hideModeSwitch,\n          mode: this.mode,\n        },\n        on: {\n          'update:color': this.updateColor,\n          'update:mode': (v: Mode) => this.$emit('update:mode', v),\n        },\n      })\n    },\n    genPreview (): VNode {\n      return this.$createElement(VColorPickerPreview, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genSwatches (): VNode {\n      return this.$createElement(VColorPickerSwatches, {\n        props: {\n          dark: this.dark,\n          light: this.light,\n          disabled: this.disabled,\n          swatches: this.swatches,\n          color: this.internalValue,\n          maxHeight: this.swatchesMaxHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h(VSheet, {\n      staticClass: 'v-color-picker',\n      class: {\n        'v-color-picker--flat': this.flat,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n      },\n      props: {\n        maxWidth: this.width,\n      },\n    }, [\n      !this.hideCanvas && this.genCanvas(),\n      (!this.hideSliders || !this.hideInputs) && this.genControls(),\n      this.showSwatches && this.genSwatches(),\n    ])\n  },\n})\n","import VOverlay from './VOverlay'\n\nexport { VOverlay }\n\nexport default VOverlay\n","// Components\nimport VOverlay from '../../components/VOverlay'\n\n// Utilities\nimport {\n  keyCodes,\n  addOnceEventListener,\n  addPassiveEventListener,\n  getZIndex,\n  composedPath,\n} from '../../util/helpers'\n\n// Types\nimport Vue from 'vue'\n\ninterface Toggleable extends Vue {\n  isActive?: boolean\n}\n\ninterface Stackable extends Vue {\n  activeZIndex: number\n}\n\ninterface options {\n  absolute?: boolean\n  $refs: {\n    dialog?: HTMLElement\n    content?: HTMLElement\n  }\n}\n\n/* @vue/component */\nexport default Vue.extend<Vue & Toggleable & Stackable & options>().extend({\n  name: 'overlayable',\n\n  props: {\n    hideOverlay: Boolean,\n    overlayColor: String,\n    overlayOpacity: [Number, String],\n  },\n\n  data () {\n    return {\n      animationFrame: 0,\n      overlay: null as InstanceType<typeof VOverlay> | null,\n    }\n  },\n\n  watch: {\n    hideOverlay (value) {\n      if (!this.isActive) return\n\n      if (value) this.removeOverlay()\n      else this.genOverlay()\n    },\n  },\n\n  beforeDestroy () {\n    this.removeOverlay()\n  },\n\n  methods: {\n    createOverlay () {\n      const overlay = new VOverlay({\n        propsData: {\n          absolute: this.absolute,\n          value: false,\n          color: this.overlayColor,\n          opacity: this.overlayOpacity,\n        },\n      })\n\n      overlay.$mount()\n\n      const parent = this.absolute\n        ? this.$el.parentNode\n        : document.querySelector('[data-app]')\n\n      parent && parent.insertBefore(overlay.$el, parent.firstChild)\n\n      this.overlay = overlay\n    },\n    genOverlay () {\n      this.hideScroll()\n\n      if (this.hideOverlay) return\n\n      if (!this.overlay) this.createOverlay()\n\n      this.animationFrame = requestAnimationFrame(() => {\n        if (!this.overlay) return\n\n        if (this.activeZIndex !== undefined) {\n          this.overlay.zIndex = String(this.activeZIndex - 1)\n        } else if (this.$el) {\n          this.overlay.zIndex = getZIndex(this.$el)\n        }\n\n        this.overlay.value = true\n      })\n\n      return true\n    },\n    /** removeOverlay(false) will not restore the scollbar afterwards */\n    removeOverlay (showScroll = true) {\n      if (this.overlay) {\n        addOnceEventListener(this.overlay.$el, 'transitionend', () => {\n          if (\n            !this.overlay ||\n            !this.overlay.$el ||\n            !this.overlay.$el.parentNode ||\n            this.overlay.value ||\n            this.isActive\n          ) return\n\n          this.overlay.$el.parentNode.removeChild(this.overlay.$el)\n          this.overlay.$destroy()\n          this.overlay = null\n        })\n\n        // Cancel animation frame in case\n        // overlay is removed before it\n        // has finished its animation\n        cancelAnimationFrame(this.animationFrame)\n\n        this.overlay.value = false\n      }\n\n      showScroll && this.showScroll()\n    },\n    scrollListener (e: WheelEvent | KeyboardEvent) {\n      if ('key' in e) {\n        if (\n          ['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as Element).tagName) ||\n          // https://github.com/vuetifyjs/vuetify/issues/4715\n          (e.target as HTMLElement).isContentEditable\n        ) return\n\n        const up = [keyCodes.up, keyCodes.pageup]\n        const down = [keyCodes.down, keyCodes.pagedown]\n\n        if (up.includes(e.keyCode)) {\n          (e as any).deltaY = -1\n        } else if (down.includes(e.keyCode)) {\n          (e as any).deltaY = 1\n        } else {\n          return\n        }\n      }\n\n      if (e.target === this.overlay ||\n        (e.type !== 'keydown' && e.target === document.body) ||\n        this.checkPath(e as WheelEvent)) e.preventDefault()\n    },\n    hasScrollbar (el?: Element) {\n      if (!el || el.nodeType !== Node.ELEMENT_NODE) return false\n\n      const style = window.getComputedStyle(el)\n      return ((['auto', 'scroll'].includes(style.overflowY!) || el.tagName === 'SELECT') && el.scrollHeight > el.clientHeight) ||\n      ((['auto', 'scroll'].includes(style.overflowX!)) && el.scrollWidth > el.clientWidth)\n    },\n    shouldScroll (el: Element, e: WheelEvent): boolean {\n      if (el.hasAttribute('data-app')) return false\n\n      const dir = e.shiftKey || e.deltaX ? 'x' : 'y'\n      const delta = dir === 'y' ? e.deltaY : e.deltaX || e.deltaY\n\n      let alreadyAtStart: boolean\n      let alreadyAtEnd: boolean\n      if (dir === 'y') {\n        alreadyAtStart = el.scrollTop === 0\n        alreadyAtEnd = el.scrollTop + el.clientHeight === el.scrollHeight\n      } else {\n        alreadyAtStart = el.scrollLeft === 0\n        alreadyAtEnd = el.scrollLeft + el.clientWidth === el.scrollWidth\n      }\n\n      const scrollingUp = delta < 0\n      const scrollingDown = delta > 0\n\n      if (!alreadyAtStart && scrollingUp) return true\n      if (!alreadyAtEnd && scrollingDown) return true\n      if ((alreadyAtStart || alreadyAtEnd) && el.parentNode) {\n        return this.shouldScroll(el.parentNode as Element, e)\n      }\n\n      return false\n    },\n    isInside (el: Element, parent: Element): boolean {\n      if (el === parent) {\n        return true\n      } else if (el === null || el === document.body) {\n        return false\n      } else {\n        return this.isInside(el.parentNode as Element, parent)\n      }\n    },\n    checkPath (e: WheelEvent) {\n      const path = composedPath(e)\n\n      if (e.type === 'keydown' && path[0] === document.body) {\n        const dialog = this.$refs.dialog\n        // getSelection returns null in firefox in some edge cases, can be ignored\n        const selected = window.getSelection()!.anchorNode as Element\n        if (dialog && this.hasScrollbar(dialog) && this.isInside(selected, dialog)) {\n          return !this.shouldScroll(dialog, e)\n        }\n        return true\n      }\n\n      for (let index = 0; index < path.length; index++) {\n        const el = path[index]\n\n        if (el === document) return true\n        if (el === document.documentElement) return true\n        if (el === this.$refs.content) return true\n\n        if (this.hasScrollbar(el as Element)) return !this.shouldScroll(el as Element, e)\n      }\n\n      return true\n    },\n    hideScroll () {\n      if (this.$vuetify.breakpoint.smAndDown) {\n        document.documentElement!.classList.add('overflow-y-hidden')\n      } else {\n        addPassiveEventListener(window, 'wheel', this.scrollListener, { passive: false })\n        window.addEventListener('keydown', this.scrollListener)\n      }\n    },\n    showScroll () {\n      document.documentElement!.classList.remove('overflow-y-hidden')\n      window.removeEventListener('wheel', this.scrollListener)\n      window.removeEventListener('keydown', this.scrollListener)\n    },\n  },\n})\n","// Styles\nimport './VDialog.sass'\n\n// Components\nimport { VThemeProvider } from '../VThemeProvider'\n\n// Mixins\nimport Activatable from '../../mixins/activatable'\nimport Dependent from '../../mixins/dependent'\nimport Detachable from '../../mixins/detachable'\nimport Overlayable from '../../mixins/overlayable'\nimport Returnable from '../../mixins/returnable'\nimport Stackable from '../../mixins/stackable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { removed } from '../../util/console'\nimport {\n  convertToUnit,\n  keyCodes,\n} from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\nconst baseMixins = mixins(\n  Dependent,\n  Detachable,\n  Overlayable,\n  Returnable,\n  Stackable,\n  Activatable,\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-dialog',\n\n  directives: { ClickOutside },\n\n  props: {\n    dark: Boolean,\n    disabled: Boolean,\n    fullscreen: Boolean,\n    light: Boolean,\n    maxWidth: [String, Number],\n    noClickAnimation: Boolean,\n    origin: {\n      type: String,\n      default: 'center center',\n    },\n    persistent: Boolean,\n    retainFocus: {\n      type: Boolean,\n      default: true,\n    },\n    scrollable: Boolean,\n    transition: {\n      type: [String, Boolean],\n      default: 'dialog-transition',\n    },\n    width: [String, Number],\n  },\n\n  data () {\n    return {\n      activatedBy: null as EventTarget | null,\n      animate: false,\n      animateTimeout: -1,\n      stackMinZIndex: 200,\n      previousActiveElement: null as HTMLElement | null,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        [(`v-dialog ${this.contentClass}`).trim()]: true,\n        'v-dialog--active': this.isActive,\n        'v-dialog--persistent': this.persistent,\n        'v-dialog--fullscreen': this.fullscreen,\n        'v-dialog--scrollable': this.scrollable,\n        'v-dialog--animated': this.animate,\n      }\n    },\n    contentClasses (): object {\n      return {\n        'v-dialog__content': true,\n        'v-dialog__content--active': this.isActive,\n      }\n    },\n    hasActivator (): boolean {\n      return Boolean(\n        !!this.$slots.activator ||\n        !!this.$scopedSlots.activator\n      )\n    },\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.show()\n        this.hideScroll()\n      } else {\n        this.removeOverlay()\n        this.unbind()\n        this.previousActiveElement?.focus()\n      }\n    },\n    fullscreen (val) {\n      if (!this.isActive) return\n\n      if (val) {\n        this.hideScroll()\n        this.removeOverlay(false)\n      } else {\n        this.showScroll()\n        this.genOverlay()\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('full-width')) {\n      removed('full-width', this)\n    }\n  },\n\n  beforeMount () {\n    this.$nextTick(() => {\n      this.isBooted = this.isActive\n      this.isActive && this.show()\n    })\n  },\n\n  beforeDestroy () {\n    if (typeof window !== 'undefined') this.unbind()\n  },\n\n  methods: {\n    animateClick () {\n      this.animate = false\n      // Needed for when clicking very fast\n      // outside of the dialog\n      this.$nextTick(() => {\n        this.animate = true\n        window.clearTimeout(this.animateTimeout)\n        this.animateTimeout = window.setTimeout(() => (this.animate = false), 150)\n      })\n    },\n    closeConditional (e: Event) {\n      const target = e.target as HTMLElement\n      // Ignore the click if the dialog is closed or destroyed,\n      // if it was on an element inside the content,\n      // if it was dragged onto the overlay (#6969),\n      // or if this isn't the topmost dialog (#9907)\n      return !(\n        this._isDestroyed ||\n        !this.isActive ||\n        this.$refs.content.contains(target) ||\n        (this.overlay && target && !this.overlay.$el.contains(target))\n      ) && this.activeZIndex >= this.getMaxZIndex()\n    },\n    hideScroll () {\n      if (this.fullscreen) {\n        document.documentElement.classList.add('overflow-y-hidden')\n      } else {\n        Overlayable.options.methods.hideScroll.call(this)\n      }\n    },\n    show () {\n      !this.fullscreen && !this.hideOverlay && this.genOverlay()\n      // Double nextTick to wait for lazy content to be generated\n      this.$nextTick(() => {\n        this.$nextTick(() => {\n          if (!this.$refs.dialog?.contains(document.activeElement)) {\n            this.previousActiveElement = document.activeElement as HTMLElement\n            this.$refs.dialog?.focus()\n          }\n          this.bind()\n        })\n      })\n    },\n    bind () {\n      window.addEventListener('focusin', this.onFocusin)\n    },\n    unbind () {\n      window.removeEventListener('focusin', this.onFocusin)\n    },\n    onClickOutside (e: Event) {\n      this.$emit('click:outside', e)\n\n      if (this.persistent) {\n        this.noClickAnimation || this.animateClick()\n      } else {\n        this.isActive = false\n      }\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.esc && !this.getOpenDependents().length) {\n        if (!this.persistent) {\n          this.isActive = false\n          const activator = this.getActivator()\n          this.$nextTick(() => activator && (activator as HTMLElement).focus())\n        } else if (!this.noClickAnimation) {\n          this.animateClick()\n        }\n      }\n      this.$emit('keydown', e)\n    },\n    // On focus change, wrap focus to stay inside the dialog\n    // https://github.com/vuetifyjs/vuetify/issues/6892\n    onFocusin (e: Event) {\n      if (!e || !this.retainFocus) return\n\n      const target = e.target as HTMLElement\n\n      if (\n        !!target &&\n        this.$refs.dialog &&\n        // It isn't the document or the dialog body\n        ![document, this.$refs.dialog].includes(target) &&\n        // It isn't inside the dialog body\n        !this.$refs.dialog.contains(target) &&\n        // We're the topmost dialog\n        this.activeZIndex >= this.getMaxZIndex() &&\n        // It isn't inside a dependent element (like a menu)\n        !this.getOpenDependentElements().some(el => el.contains(target))\n        // So we must have focused something outside the dialog and its children\n      ) {\n        // Find and focus the first available element inside the dialog\n        const focusable = this.$refs.dialog.querySelectorAll('button, [href], input:not([type=\"hidden\"]), select, textarea, [tabindex]:not([tabindex=\"-1\"])')\n        const el = [...focusable].find(el => !el.hasAttribute('disabled') && !el.matches('[tabindex=\"-1\"]')) as HTMLElement | undefined\n        el && el.focus()\n      }\n    },\n    genContent () {\n      return this.showLazyContent(() => [\n        this.$createElement(VThemeProvider, {\n          props: {\n            root: true,\n            light: this.light,\n            dark: this.dark,\n          },\n        }, [\n          this.$createElement('div', {\n            class: this.contentClasses,\n            attrs: {\n              role: 'dialog',\n              'aria-modal': this.hideOverlay ? undefined : 'true',\n              ...this.getScopeIdAttrs(),\n            },\n            on: { keydown: this.onKeydown },\n            style: { zIndex: this.activeZIndex },\n            ref: 'content',\n          }, [this.genTransition()]),\n        ]),\n      ])\n    },\n    genTransition () {\n      const content = this.genInnerContent()\n\n      if (!this.transition) return content\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n          origin: this.origin,\n          appear: true,\n        },\n      }, [content])\n    },\n    genInnerContent () {\n      const data: VNodeData = {\n        class: this.classes,\n        attrs: {\n          tabindex: this.isActive ? 0 : undefined,\n        },\n        ref: 'dialog',\n        directives: [\n          {\n            name: 'click-outside',\n            value: {\n              handler: this.onClickOutside,\n              closeConditional: this.closeConditional,\n              include: this.getOpenDependentElements,\n            },\n          },\n          { name: 'show', value: this.isActive },\n        ],\n        style: {\n          transformOrigin: this.origin,\n        },\n      }\n\n      if (!this.fullscreen) {\n        data.style = {\n          ...data.style as object,\n          maxWidth: convertToUnit(this.maxWidth),\n          width: convertToUnit(this.width),\n        }\n      }\n\n      return this.$createElement('div', data, this.getContentSlot())\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-dialog__container',\n      class: {\n        'v-dialog__container--attached':\n          this.attach === '' ||\n          this.attach === true ||\n          this.attach === 'attach',\n      },\n    }, [\n      this.genActivator(),\n      this.genContent(),\n    ])\n  },\n})\n","// Components\nimport VExpansionPanels from './VExpansionPanels'\nimport VExpansionPanelHeader from './VExpansionPanelHeader'\nimport VExpansionPanelContent from './VExpansionPanelContent'\n\n// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\ntype VExpansionPanelHeaderInstance = InstanceType<typeof VExpansionPanelHeader>\ntype VExpansionPanelContentInstance = InstanceType<typeof VExpansionPanelContent>\n\nexport default mixins(\n  GroupableFactory<'expansionPanels', typeof VExpansionPanels>('expansionPanels', 'v-expansion-panel', 'v-expansion-panels'),\n  RegistrableProvide('expansionPanel', true)\n  /* @vue/component */\n).extend({\n  name: 'v-expansion-panel',\n\n  props: {\n    disabled: Boolean,\n    readonly: Boolean,\n  },\n\n  data () {\n    return {\n      content: null as VExpansionPanelContentInstance | null,\n      header: null as VExpansionPanelHeaderInstance | null,\n      nextIsActive: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel--active': this.isActive,\n        'v-expansion-panel--next-active': this.nextIsActive,\n        'v-expansion-panel--disabled': this.isDisabled,\n        ...this.groupClasses,\n      }\n    },\n    isDisabled (): boolean {\n      return this.expansionPanels.disabled || this.disabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanels.readonly || this.readonly\n    },\n  },\n\n  methods: {\n    registerContent (vm: VExpansionPanelContentInstance) {\n      this.content = vm\n    },\n    unregisterContent () {\n      this.content = null\n    },\n    registerHeader (vm: VExpansionPanelHeaderInstance) {\n      this.header = vm\n      vm.$on('click', this.onClick)\n    },\n    unregisterHeader () {\n      this.header = null\n    },\n    onClick (e: MouseEvent) {\n      if (e.detail) this.header!.$el.blur()\n\n      this.$emit('click', e)\n\n      this.isReadonly || this.isDisabled || this.toggle()\n    },\n    toggle () {\n      this.$nextTick(() => this.$emit('change'))\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-expansion-panel',\n      class: this.classes,\n      attrs: {\n        'aria-expanded': String(this.isActive),\n      },\n    }, getSlot(this))\n  },\n})\n","// Components\nimport VExpansionPanel from './VExpansionPanel'\nimport { VExpandTransition } from '../transitions'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Bootable,\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-content', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-content',\n\n  data: () => ({\n    isActive: false,\n  }),\n\n  computed: {\n    parentIsActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n  },\n\n  watch: {\n    parentIsActive: {\n      immediate: true,\n      handler (val, oldVal) {\n        if (val) this.isBooted = true\n\n        if (oldVal == null) this.isActive = val\n        else this.$nextTick(() => this.isActive = val)\n      },\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerContent(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterContent()\n  },\n\n  render (h): VNode {\n    return h(VExpandTransition, this.showLazyContent(() => [\n      h('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-expansion-panel-content',\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      }), [\n        h('div', { class: 'v-expansion-panel-content__wrap' }, getSlot(this, 'default', { open: this.isActive })),\n      ]),\n    ]))\n  },\n})\n","// Components\nimport { VFadeTransition } from '../transitions'\nimport VExpansionPanel from './VExpansionPanel'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-header', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-header',\n\n  directives: { ripple },\n\n  props: {\n    disableIconRotate: Boolean,\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    hideActions: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  data: () => ({\n    hasMousedown: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel-header--active': this.isActive,\n        'v-expansion-panel-header--mousedown': this.hasMousedown,\n      }\n    },\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n    isDisabled (): boolean {\n      return this.expansionPanel.isDisabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanel.isReadonly\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerHeader(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterHeader()\n  },\n\n  methods: {\n    onClick (e: MouseEvent) {\n      this.$emit('click', e)\n    },\n    genIcon () {\n      const icon = getSlot(this, 'actions', { open: this.isActive }) ||\n        [this.$createElement(VIcon, this.expandIcon)]\n\n      return this.$createElement(VFadeTransition, [\n        this.$createElement('div', {\n          staticClass: 'v-expansion-panel-header__icon',\n          class: {\n            'v-expansion-panel-header__icon--disable-rotate': this.disableIconRotate,\n          },\n          directives: [{\n            name: 'show',\n            value: !this.isDisabled,\n          }],\n        }, icon),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('button', this.setBackgroundColor(this.color, {\n      staticClass: 'v-expansion-panel-header',\n      class: this.classes,\n      attrs: {\n        tabindex: this.isDisabled ? -1 : null,\n        type: 'button',\n        'aria-expanded': this.isActive,\n      },\n      directives: [{\n        name: 'ripple',\n        value: this.ripple,\n      }],\n      on: {\n        ...this.$listeners,\n        click: this.onClick,\n        mousedown: () => (this.hasMousedown = true),\n        mouseup: () => (this.hasMousedown = false),\n      },\n    }), [\n      getSlot(this, 'default', { open: this.isActive }, true),\n      this.hideActions || this.genIcon(),\n    ])\n  },\n})\n","// Styles\nimport './VExpansionPanel.sass'\n\n// Components\nimport { BaseItemGroup, GroupableInstance } from '../VItemGroup/VItemGroup'\nimport VExpansionPanel from './VExpansionPanel'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\ninterface VExpansionPanelInstance extends InstanceType<typeof VExpansionPanel> {}\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-expansion-panels',\n\n  provide (): object {\n    return {\n      expansionPanels: this,\n    }\n  },\n\n  props: {\n    accordion: Boolean,\n    disabled: Boolean,\n    flat: Boolean,\n    hover: Boolean,\n    focusable: Boolean,\n    inset: Boolean,\n    popout: Boolean,\n    readonly: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-expansion-panels': true,\n        'v-expansion-panels--accordion': this.accordion,\n        'v-expansion-panels--flat': this.flat,\n        'v-expansion-panels--hover': this.hover,\n        'v-expansion-panels--focusable': this.focusable,\n        'v-expansion-panels--inset': this.inset,\n        'v-expansion-panels--popout': this.popout,\n        'v-expansion-panels--tile': this.tile,\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('expand')) {\n      breaking('expand', 'multiple', this)\n    }\n\n    /* istanbul ignore next */\n    if (\n      Array.isArray(this.value) &&\n      this.value.length > 0 &&\n      typeof this.value[0] === 'boolean'\n    ) {\n      breaking(':value=\"[true, false, true]\"', ':value=\"[0, 2]\"', this)\n    }\n  },\n\n  methods: {\n    updateItem (item: GroupableInstance & VExpansionPanelInstance, index: number) {\n      const value = this.getValue(item, index)\n      const nextValue = this.getValue(item, index + 1)\n\n      item.isActive = this.toggleMethod(value)\n      item.nextIsActive = this.toggleMethod(nextValue)\n    },\n  },\n})\n","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_vm._l((_vm.furnitureList),function(furniture){return _c('v-expansion-panel',{key:furniture.index},[_c('v-expansion-panel-header',[_c('v-row',[_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"3\"}},[_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(furniture.name))])]),_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"8\"}},[_c('v-chip-group',[_c('v-chip',{attrs:{\"link\":\"\",\"color\":\"primary\",\"outlined\":\"\"}},[_vm._v(_vm._s(furniture.attribute))]),(furniture.isBookmarks === true)?_c('v-chip',{attrs:{\"color\":\"vue_theme\",\"outlined\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\" Bookmarked \")],1):(furniture.isBookmarks === false)?_c('v-chip',{attrs:{\"color\":\"error\",\"outlined\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-minus\")]),_vm._v(\" UnBookmark \")],1):_vm._e()],1)],1),_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"1\"}},[_c('v-img',{staticClass:\"rounded-lg rounded-tr-0 rounded-bl-0\",style:(`background: linear-gradient(0.45turn,`+furniture.mainColor+`,`+furniture.minorColor+`)`),attrs:{\"height\":\"30\",\"width\":\"30\"}})],1)],1)],1),_c('v-expansion-panel-content',{attrs:{\"eager\":_vm.isEager}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [_c('v-card',{staticClass:\"px-4 transition-swing\",attrs:{\"elevation\":hover? 12:0}},[_c('template',{slot:\"progress\"},[_c('v-progress-linear',{attrs:{\"color\":\"deep-purple\",\"height\":\"10\",\"indeterminate\":\"\"}})],1),_c('v-row',[_c('v-col',{staticClass:\"mt-2\",attrs:{\"cols\":\"5\"}},[_c('v-text-field',{attrs:{\"label\":\"UUID\",\"disabled\":\"\"},model:{value:(furniture.id),callback:function ($$v) {_vm.$set(furniture, \"id\", $$v)},expression:\"furniture.id\"}},[_vm._v(\" \"+_vm._s(furniture.id)+\" \")]),_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({onRoom, attrsRoom}){return [_c('v-autocomplete',_vm._g(_vm._b({attrs:{\"label\":\"Belong to Room\",\"prefix\":\"Room Name: \",\"disabled\":_vm.setDisabled,\"no-data-text\":\"请选择所属Room\",\"items\":_vm.roomTagList,\"item-text\":\"name\",\"item-value\":\"id\"},scopedSlots:_vm._u([{key:\"item\",fn:function({item}){return [_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\",\"sm\":\"\"}},[_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1),_c('v-col',{attrs:{\"cols\":\"7\",\"sm\":\"\"}},[_c('v-list-item-subtitle',[_vm._v(_vm._s(item.id))])],1),_c('v-col',{staticClass:\"rounded-lg rounded-tr-0 rounded-bl-0\",style:(`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`),attrs:{\"cols\":\"1\",\"sm\":\"\",\"align-self\":\"center\"}})],1)]}}],null,true),model:{value:(furniture.refRoomId),callback:function ($$v) {_vm.$set(furniture, \"refRoomId\", $$v)},expression:\"furniture.refRoomId\"}},'v-autocomplete',attrsRoom,false),onRoom))]}}],null,true)}),_c('v-text-field',{attrs:{\"label\":\"Name\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},model:{value:(furniture.name),callback:function ($$v) {_vm.$set(furniture, \"name\", $$v)},expression:\"furniture.name\"}},[_vm._v(\" \"+_vm._s(furniture.name)+\" \")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-text-field',{attrs:{\"label\":\"Attribute\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},model:{value:(furniture.attribute),callback:function ($$v) {_vm.$set(furniture, \"attribute\", $$v)},expression:\"furniture.attribute\"}},[_vm._v(\" \"+_vm._s(furniture.attribute)+\" \")])],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-btn',{attrs:{\"depressed\":\"\",\"dark\":\"\",\"color\":furniture.isBookmarks? 'green' : 'red',\"disabled\":_vm.setDisabled},on:{\"click\":function($event){furniture.isBookmarks=!furniture.isBookmarks}}},[_c('v-icon',[_vm._v(_vm._s((furniture.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel')))])],1)],1)],1),_c('v-row',{staticClass:\"mx-0 my-1\"},[_c('v-row',[_c('v-col',[_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({on, attrs}){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Main Color\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":furniture.mainColor,\"disabled\":_vm.setDisabled}},[_vm._v(\"mdi-palette\")])]},proxy:true}],null,true),model:{value:(furniture.mainColor),callback:function ($$v) {_vm.$set(furniture, \"mainColor\", $$v)},expression:\"furniture.mainColor\"}},'v-text-field',attrs,false),on),[_vm._v(\" \"+_vm._s(furniture.mainColor)+\" \")])]}}],null,true)},[_c('v-color-picker',{key:\"color-picker1\",attrs:{\"dot-size\":\"25\",\"swatches-max-height\":\"200\"},model:{value:(furniture.mainColor),callback:function ($$v) {_vm.$set(furniture, \"mainColor\", $$v)},expression:\"furniture.mainColor\"}})],1)],1),_c('v-col',[_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({on, attrs}){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Minor Color\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":furniture.minorColor,\"disabled\":_vm.setDisabled}},[_vm._v(\"mdi-palette\")])]},proxy:true}],null,true),model:{value:(furniture.minorColor),callback:function ($$v) {_vm.$set(furniture, \"minorColor\", $$v)},expression:\"furniture.minorColor\"}},'v-text-field',attrs,false),on),[_vm._v(\" \"+_vm._s(furniture.minorColor)+\" \")])]}}],null,true)},[_c('v-color-picker',{key:\"color-picker2\",attrs:{\"dot-size\":\"25\",\"swatches-max-height\":\"200\"},model:{value:(furniture.minorColor),callback:function ($$v) {_vm.$set(furniture, \"minorColor\", $$v)},expression:\"furniture.minorColor\"}})],1)],1)],1),_c('v-textarea',{attrs:{\"label\":\"Description\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"height\":\"120\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle\",\"counter\":\"\"},model:{value:(furniture.description),callback:function ($$v) {_vm.$set(furniture, \"description\", $$v)},expression:\"furniture.description\"}},[_vm._v(\" \"+_vm._s(furniture.description)+\" \")])],1)],1),_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('AvatarUploader',{ref:\"avatarUploader\",refInFor:true,attrs:{\"frame-height\":400,\"upload-is-disabled\":_vm.setDisabled}})],1)],1),_c('v-card-actions',{staticClass:\"px-0 mt-auto d-flex justify-end\"},[(_vm.setDisabled===true)?_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.modifyFurniture()}}},[_vm._v(\"Modify \")]):_vm._e(),(_vm.setDisabled===false)?_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"teal\",\"text\":\"\"},on:{\"click\":function($event){return _vm.saveFurniture(_vm.userUUId, furniture)}}},[_vm._v(\"Save \")]):_vm._e(),_c('v-overlay',{attrs:{\"value\":_vm.overlayLoading}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('div',{staticClass:\"text-center\"},[_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"font-weight-bold\",attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = true}}},'v-btn',attrs,false),on),[_vm._v(\" Delete \")])]}}],null,true),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\"Double Check\")]),_c('v-card-text',[_vm._v(\" Are Your Sure to Delete? \")]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"No\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteFurniture(_vm.userUUId, furniture.id)}}},[_vm._v(\"Yes\")])],1)],1)],1)],1),_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"deep-purple\",\"text\":\"\"},on:{\"click\":function($event){return _vm.duplicateFurniture(furniture.index)}}},[_vm._v(\" Duplicate \")])],1)],2)]}}],null,true)})],1)],1)}),_c('v-snackbar',{attrs:{\"light\":\"\",\"timeout\":_vm.snackbarTimeout,\"width\":\"500\",\"color\":_vm.snackbarColor,\"shaped\":\"\",\"app\":\"\",\"top\":\"\",\"centered\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbarStatus = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbarStatus),callback:function ($$v) {_vm.snackbarStatus=$$v},expression:\"snackbarStatus\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-h6\",attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarCode)+\" \")]),_c('v-col',{attrs:{\"cols\":\"7\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarData)+\" \")])],1)],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import server from \"@/api/basicRequest\";\r\n\r\n\r\n//----------------------------POST请求区----------------------------\r\n\r\n//根据furniture id list 使用 JSON 查询furniture数据（在stuff中渲染furniture列表用）\r\nexport function searchFurnitureListByFurnitureUUIds(userUUId, data) {\r\n    return server.post(\r\n        `/furniture/${userUUId}/search_furniture_list_by_furniture_uuids`,\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//插入一条家具数据，需要：用户UUID、待插入的JSON数据\r\nexport function insertOneFurniture(userUUId, data) {\r\n    return server.put(\r\n        `/furniture/${userUUId}/insert_one`,\r\n        //post JSON\r\n        //data写在config前，data为一个完整的json数据\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//更新一条家具数据，需要：用户UUID、待更新的JSON数据\r\nexport function updateOneFurniture(userUUId, data) {\r\n    return server.patch(\r\n        `/furniture/${userUUId}/update_one`,\r\n        //post JSON\r\n        //data写在config前，data为一个完整的json数据\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//删除一条家具数据，需要：用户UUID、待删除的家具UUID\r\nexport function deleteOneFurniture(userUUId, furnitureUUId) {\r\n    return server.delete(\r\n        `/furniture/${userUUId}/delete_one`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept',\r\n                'Content-Type': 'multipart/form-data'\r\n            },\r\n            //post form-data\r\n            //data写在和headers同级的config内，并且需要以data为根，内部可添加多个KV\r\n            data: {\r\n                furniture_uuid: furnitureUUId\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n//----------------------------GET请求区----------------------------\r\n\r\n//根据家具UUID搜索一个furniture信息\r\nexport function searchOneFurniture(userUUId, furnitureUUId) {\r\n    return server.get(\r\n        `/furniture/${userUUId}/search_one`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {\r\n                furniture_id: furnitureUUId\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n//使用快照滚轮分页查询搜索furniture信息\r\nexport function searchListFurniture(userUUId, furnitureUUId, searchSize) {\r\n    return server.get(\r\n        `/furniture/${userUUId}/search_list`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {\r\n                last_seen_furniture_id: furnitureUUId,\r\n                search_size: searchSize\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//搜索所有furniture信息\r\nexport function searchAllFurniture(userUUId) {\r\n    return server.get(\r\n        `/furniture/${userUUId}/search_all`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {},\r\n        })\r\n}\r\n\r\n//搜索furniture标签，返回List[<furnitureUUId>: <家具名字>]，注意不是attribute!!! 家具tag用\r\nexport function searchFurnitureTag(userUUId) {\r\n    return server.get(\r\n        `/furniture/${userUUId}/search_tag`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {},\r\n        })\r\n}\r\n","//通用时间转换器YYYY-MM-DD HH:mm:ss\r\nexport function getCurrentDateTime() {\r\n    var now = new Date();\r\n\r\n    var year = now.getFullYear();\r\n    var month = String(now.getMonth() + 1).padStart(2, '0'); // Months are zero-based\r\n    var day = String(now.getDate()).padStart(2, '0');\r\n    var hours = String(now.getHours()).padStart(2, '0');\r\n    var minutes = String(now.getMinutes()).padStart(2, '0');\r\n    var seconds = String(now.getSeconds()).padStart(2, '0');\r\n\r\n    return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;\r\n}\r\n\r\n//通用时间计数器\r\nexport function measureExecutionTime(func) {\r\n    var start = new Date().getTime(); // 获取当前时间\r\n    func(); // 执行函数\r\n    var end = new Date().getTime(); // 获取函数执行后的时间\r\n    return end - start // 计算差值\r\n}\r\n","import server from \"@/api/basicRequest\";\r\n\r\n\r\n//----------------------------POST请求区----------------------------\r\n\r\n//根据room id list 使用 JSON 查询room数据（在furniture中渲染room列表用）\r\nexport function searchRoomListByRoomUUIds(userUUId, data) {\r\n    return server.post(\r\n        `/room/${userUUId}/search_room_list_by_room_uuids`,\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n// 插入一条房间数据，需要：用户UUID、待插入的JSON数据\r\nexport function insertOneRoom(userUUId, data) {\r\n    return server.put(\r\n        `/room/${userUUId}/insert_one`,\r\n        //post JSON\r\n        //data写在config前，data为一个完整的json数据\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//更新一条家具数据，需要：用户UUID、待更新的JSON数据\r\nexport function updateOneRoom(userUUId, data) {\r\n    return server.patch(\r\n        `/room/${userUUId}/update_one`,\r\n        //post JSON\r\n        //data写在config前，data为一个完整的json数据\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//删除一条房间数据，需要：用户UUID、待删除的房间UUID\r\nexport function deleteOneRoom(userUUId, roomUUId) {\r\n    return server.delete(\r\n        `/room/${userUUId}/delete_one`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept',\r\n                'Content-Type': 'multipart/form-data'\r\n            },\r\n            //post form-data\r\n            //data写在和headers同级的config内，并且需要以data为根，内部可添加多个KV\r\n            data: {\r\n                room_uuid: roomUUId\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n//----------------------------GET请求区----------------------------\r\n\r\n//根据家具UUID搜索一个room信息\r\nexport function searchOneRoom(userUUId, roomUUId) {\r\n    return server.get(\r\n        `/room/${userUUId}/search_one`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {\r\n                room_id: roomUUId\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n//使用快照滚轮分页查询搜索room信息\r\nexport function searchListRoom(userUUId, roomUUId, searchSize) {\r\n    return server.get(\r\n        `/room/${userUUId}/search_list`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {\r\n                last_seen_room_id: roomUUId,\r\n                search_size: searchSize\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//搜索所有furniture信息\r\nexport function searchAllRoom(userUUId) {\r\n    return server.get(\r\n        `/room/${userUUId}/search_all`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {},\r\n        })\r\n}\r\n","<!--HomeView->FurnitureView->FurnitureCard-->\r\n<template>\r\n  <v-expansion-panels multiple>\r\n    <v-expansion-panel v-for=\"furniture in furnitureList\" :key=\"furniture.index\">\r\n      <!--扩展页面头部-->\r\n      <v-expansion-panel-header>\r\n        <v-row>\r\n          <!--名字区域-->\r\n          <v-col align-self=\"center\" cols=\"3\">\r\n            <div class=\"text-h6\">{{ furniture.name }}</div>\r\n          </v-col>\r\n          <!--标签区域-->\r\n          <v-col align-self=\"center\" cols=\"8\">\r\n            <v-chip-group>\r\n              <!--属性-->\r\n              <v-chip link color=\"primary\" outlined>{{ furniture.attribute }}</v-chip>\r\n              <!--是否星标-->\r\n              <v-chip v-if=\"furniture.isBookmarks === true\" color=\"vue_theme\" outlined>\r\n                <v-icon>mdi-check</v-icon>\r\n                Bookmarked\r\n              </v-chip>\r\n              <v-chip v-else-if=\"furniture.isBookmarks === false\" color=\"error\" outlined>\r\n                <v-icon>mdi-minus</v-icon>\r\n                UnBookmark\r\n              </v-chip>\r\n            </v-chip-group>\r\n          </v-col>\r\n          <!--color point-->\r\n          <v-col align-self=\"center\" cols=\"1\">\r\n            <v-img :style=\"`background: linear-gradient(0.45turn,`+furniture.mainColor+`,`+furniture.minorColor+`)`\"\r\n                   height=\"30\" width=\"30\" class=\"rounded-lg rounded-tr-0 rounded-bl-0\"/>\r\n          </v-col>\r\n        </v-row>\r\n      </v-expansion-panel-header>\r\n      <!--扩展页面具体内容-->\r\n      <v-expansion-panel-content :eager=\"isEager\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <v-card :elevation=\"hover? 12:0\" class=\"px-4 transition-swing\">\r\n            <!--加载动画插槽-->\r\n            <template slot=\"progress\">\r\n              <v-progress-linear color=\"deep-purple\" height=\"10\" indeterminate></v-progress-linear>\r\n            </template>\r\n            <v-row>\r\n              <!--左侧：字段信息-->\r\n              <v-col cols=\"5\" class=\"mt-2\">\r\n                <!--左侧上第一行：UUID-->\r\n                <v-text-field v-model=\"furniture.id\" label=\"UUID\" disabled>\r\n                  {{ furniture.id }}\r\n                </v-text-field>\r\n                <!--左侧上第二行：所属Room+自动搜索Room词库下拉菜单-->\r\n                <v-menu transition=\"fade-transition\" :close-on-content-click=\"false\">\r\n                  <template #activator=\"{onRoom, attrsRoom}\">\r\n                    <v-autocomplete label=\"Belong to Room\" prefix=\"Room Name: \" :disabled=\"setDisabled\"\r\n                                    v-on=\"onRoom\" v-bind=\"attrsRoom\" no-data-text=\"请选择所属Room\"\r\n                                    v-model=\"furniture.refRoomId\" :items=\"roomTagList\" item-text=\"name\"\r\n                                    item-value=\"id\">\r\n                      <!--此插槽是对下拉菜单中的各项进行修改，会覆盖原先数据-->\r\n                      <template #item=\"{item}\">\r\n                        <v-row>\r\n                          <v-col cols=\"4\" sm>\r\n                            <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                          </v-col>\r\n                          <v-col cols=\"7\" sm>\r\n                            <v-list-item-subtitle>{{ item.id }}</v-list-item-subtitle>\r\n                          </v-col>\r\n                          <v-col cols=\"1\" sm align-self=\"center\" class=\"rounded-lg rounded-tr-0 rounded-bl-0\"\r\n                                 :style=\"`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`\">\r\n                          </v-col>\r\n                        </v-row>\r\n                      </template>\r\n                    </v-autocomplete>\r\n                  </template>\r\n                </v-menu>\r\n                <!--左侧上第三行：名字-->\r\n                <v-text-field v-model=\"furniture.name\" label=\"Name\" :disabled=\"setDisabled\" outlined dense>\r\n                  {{ furniture.name }}\r\n                </v-text-field>\r\n                <!--左侧上第四行：属性-星标书签-->\r\n                <v-row>\r\n                  <v-col cols=\"9\">\r\n                    <!--属性栏-->\r\n                    <v-text-field v-model=\"furniture.attribute\" label=\"Attribute\"\r\n                                  :disabled=\"setDisabled\" outlined dense>\r\n                      {{ furniture.attribute }}\r\n                    </v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"3\">\r\n                    <!--书签星标按钮-->\r\n                    <v-btn depressed @click=\"furniture.isBookmarks=!furniture.isBookmarks\"\r\n                           dark :color=\"furniture.isBookmarks? 'green' : 'red'\" :disabled=\"setDisabled\">\r\n                      <v-icon>{{ (furniture.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel') }}</v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n                <!-- 左侧下共二行：颜色选择器-描述文本框-->\r\n                <v-row class=\"mx-0 my-1\">\r\n                  <!--颜色选择器-->\r\n                  <v-row>\r\n                    <v-col>\r\n                      <!--颜色插槽1-->\r\n                      <v-menu transition=\"fade-transition\"\r\n                              :close-on-content-click=\"false\">\r\n                        <template #activator=\"{on, attrs}\">\r\n                          <v-text-field v-model=\"furniture.mainColor\" label=\"Main Color\" :disabled=\"setDisabled\"\r\n                                        outlined dense v-bind=\"attrs\" v-on=\"on\">\r\n                            {{ furniture.mainColor }}\r\n                            <template #append>\r\n                              <v-icon :color=\"furniture.mainColor\" :disabled=\"setDisabled\">mdi-palette</v-icon>\r\n                            </template>\r\n                          </v-text-field>\r\n                        </template>\r\n                        <v-color-picker dot-size=\"25\" swatches-max-height=\"200\" key=\"color-picker1\"\r\n                                        v-model:value=\"furniture.mainColor\"></v-color-picker>\r\n                      </v-menu>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <!--颜色插槽2-->\r\n                      <v-menu transition=\"fade-transition\"\r\n                              :close-on-content-click=\"false\">\r\n                        <template #activator=\"{on, attrs}\">\r\n                          <v-text-field v-model=\"furniture.minorColor\" label=\"Minor Color\" :disabled=\"setDisabled\"\r\n                                        outlined dense v-bind=\"attrs\" v-on=\"on\">\r\n                            {{ furniture.minorColor }}\r\n                            <template #append>\r\n                              <v-icon :color=\"furniture.minorColor\" :disabled=\"setDisabled\">mdi-palette</v-icon>\r\n                            </template>\r\n                          </v-text-field>\r\n                        </template>\r\n                        <v-color-picker dot-size=\"25\" swatches-max-height=\"200\" key=\"color-picker2\"\r\n                                        v-model:value=\"furniture.minorColor\"></v-color-picker>\r\n                      </v-menu>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <!--描述文本框-->\r\n                  <v-textarea v-model=\"furniture.description\" label=\"Description\" :disabled=\"setDisabled\" outlined\r\n                              height=\"120\"\r\n                              clearable clear-icon=\"mdi-close-circle\" counter>\r\n                    {{ furniture.description }}\r\n                  </v-textarea>\r\n                </v-row>\r\n              </v-col>\r\n              <!--右侧：图片上传与识别加载-->\r\n              <v-col cols=\"7\">\r\n                <!--图片上传器，需要额外插槽-->\r\n                <AvatarUploader ref=\"avatarUploader\" :frame-height=\"400\" :upload-is-disabled=\"setDisabled\">\r\n                </AvatarUploader>\r\n              </v-col>\r\n            </v-row>\r\n            <!--右下三按钮-->\r\n            <v-card-actions class=\"px-0 mt-auto d-flex justify-end\">\r\n              <!--修改/保存按钮-->\r\n              <v-btn color=\"primary\" class=\"font-weight-bold\" text @click=\"modifyFurniture()\"\r\n                     v-if=\"setDisabled===true\">Modify\r\n              </v-btn>\r\n              <v-btn color=\"teal\" class=\"font-weight-bold\" text @click=\"saveFurniture(userUUId, furniture)\"\r\n                     v-if=\"setDisabled===false\">Save\r\n              </v-btn>\r\n              <v-overlay :value=\"overlayLoading\">\r\n                <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\r\n              </v-overlay>\r\n\r\n              <!--确认弹窗-->\r\n              <div class=\"text-center\">\r\n                <v-dialog v-model=\"dialog\" width=\"500\">\r\n\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <!--删除按钮-->\r\n                    <v-btn color=\"red\" class=\"font-weight-bold\" v-bind=\"attrs\"\r\n                           v-on=\"on\" text @click=\"dialog = true\">\r\n                      Delete\r\n                    </v-btn>\r\n                  </template>\r\n\r\n                  <v-card>\r\n                    <v-card-title class=\"text-h5 grey lighten-2\">Double Check</v-card-title>\r\n                    <v-card-text>\r\n                      Are Your Sure to Delete?\r\n                    </v-card-text>\r\n                    <v-divider></v-divider>\r\n                    <v-card-actions>\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn color=\"\" text @click=\"dialog = false\">No</v-btn>\r\n                      <v-btn color=\"primary\" text @click=\"deleteFurniture(userUUId, furniture.id)\">Yes</v-btn>\r\n                    </v-card-actions>\r\n                  </v-card>\r\n                </v-dialog>\r\n              </div>\r\n\r\n              <!--复制按钮-->\r\n              <v-btn color=\"deep-purple\" class=\"font-weight-bold\" text @click=\"duplicateFurniture(furniture.index)\">\r\n                Duplicate\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-hover>\r\n      </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n    <!--消息栏-->\r\n    <v-snackbar v-model=\"snackbarStatus\" light :timeout=\"snackbarTimeout\" width=\"500\"\r\n                :color=\"snackbarColor\" shaped app top centered>\r\n      <v-row>\r\n        <!--状态码-->\r\n        <v-col cols=\"5\" class=\"text-h6\" align-self=\"center\">\r\n          {{ snackbarCode }}\r\n        </v-col>\r\n        <!--消息内容-->\r\n        <v-col cols=\"7\" align-self=\"center\">\r\n          {{ snackbarData }}\r\n        </v-col>\r\n      </v-row>\r\n      <!--关闭按钮-->\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn text v-bind=\"attrs\" @click=\"snackbarStatus = false\">\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-expansion-panels>\r\n</template>\r\n\r\n<script>\r\nimport AvatarUploader from \"@/components/AvatarUploader.vue\";\r\nimport {deleteOneFurniture, searchAllFurniture, updateOneFurniture} from \"@/api/furnitureRequest/furnitureApi\";\r\nimport {getCurrentDateTime} from \"@/js/generalDataConverter\";\r\nimport {searchAllRoom, searchRoomListByRoomUUIds} from \"@/api/roomRequest/roomApi\";\r\n\r\n\r\nexport default {\r\n  name: \"FurnitureCard\",\r\n  components: {AvatarUploader},\r\n  props: {\r\n    userUUId: String,\r\n    furnitureList: Array,\r\n    isEager: false,\r\n  },\r\n  data: () => ({\r\n    //再次确认对话框弹窗\r\n    dialog: false,\r\n\r\n    //设置是否禁用卡片\r\n    setDisabled: true,\r\n\r\n    //装载刚查询完room列表的原始数据\r\n    roomList: [],\r\n    //自动搜索Room词库下拉菜单模拟数据\r\n    roomTagList: [],\r\n    //装载此页面数据显示后所需的roomUUId，是roomTagList的前置条件\r\n    roomUUIds: [],\r\n\r\n    //颜色选择器菜单显示与否\r\n    showMainColorPicker: [],\r\n    showMinorColorPicker: [],\r\n    //遮罩层显示与否\r\n    overlayLoading: false,\r\n    //消息栏\r\n    snackbarStatus: false,\r\n    snackbarCode: 200,\r\n    snackbarColor: 'white',\r\n    snackbarData: \"none\",\r\n    snackbarTimeout: 2000,\r\n  }),\r\n  computed: {},\r\n  watch: {},\r\n  mounted() {\r\n    //查询供furniture选择的room列表\r\n    this.queryRoomListByRoomUUIds(this.userUUId)\r\n  },\r\n  methods: {\r\n    //------------------发送snackbar，唤醒消息栏------------------\r\n    sendMessage(code, color, data, timeout) {\r\n      this.snackbarStatus = true\r\n      this.snackbarCode = code\r\n      this.snackbarColor = color\r\n      this.snackbarData = data\r\n      this.snackbarTimeout = timeout\r\n    },\r\n    //-------------修改操作（空操作，为了迎合保存操作）----------------\r\n    modifyFurniture() {\r\n      //转换状态\r\n      this.setDisabled = false\r\n    },\r\n    //-------------按roomUUId查询roomName，通识加装到roomTagList(比Room多了的东西)----------------\r\n    async queryRoomListByRoomUUIds(userUUId) {\r\n      //查询所有room装载成数组给roomUUIds\r\n      await searchAllRoom(userUUId).then(res => {\r\n        if (res.data.status != 200 || !res) {\r\n          this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n        } else {\r\n          this.roomList = res.data.data\r\n          console.log(\"this.roomList\")\r\n          console.log(this.roomList)\r\n          for (let i = 0; i < this.roomList.length; i++) {\r\n            this.roomUUIds.push(this.roomList.at(i).id)\r\n          }\r\n          console.log(\"this.roomUUIds\")\r\n          console.log(this.roomUUIds)\r\n        }\r\n      })\r\n      //根据加装的room uuid查询完整的room list\r\n      try {\r\n        await searchRoomListByRoomUUIds(userUUId, this.roomUUIds).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n          } else {\r\n            var roomUUIdLength = this.roomUUIds.length\r\n            //根据之前push进入的room id，来查找并装载tag数据\r\n            for (let i = 0; i < roomUUIdLength; i++) {\r\n              this.roomTagList.push(res.data.data.at(i))\r\n            }\r\n          }\r\n          // 成功不需要发送消息\r\n          // this.sendMessage(200, 'success', res.data.msg, 2000);\r\n          //转换状态\r\n          this.setDisabled = true\r\n        })\r\n      } catch (error) {\r\n        console.error(\"RR500\", \"room tag search failed\")\r\n        this.sendMessage(500, 'error', \"room tag search failed\", 2000);\r\n      }\r\n    },\r\n    //-----------------------修改保存Furniture操作----------------------------\r\n    async saveFurniture(userUUId, furniture) {\r\n      //读取数据\r\n      console.log(\"furniture\")\r\n      console.log(furniture)\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //组装数据\r\n      furniture.modifyTime = getCurrentDateTime()\r\n      furniture.modifyCount += 1\r\n      //更新数据到数据库\r\n      try {\r\n        await updateOneFurniture(userUUId, furniture).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n          } else {\r\n            this.sendMessage(200, 'success', res.data.msg, 2000);\r\n            //转换状态\r\n            this.setDisabled = true\r\n          }\r\n        })\r\n      } catch (error) {\r\n        this.sendMessage(500, 'error', \"update failed\", 2000);\r\n        console.log(\"error: \" + error)\r\n      }\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //-----------------------删除Furniture操作----------------------------\r\n    async deleteFurniture(userUUId, furnitureUUId) {\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //更新数据到数据库\r\n      try {\r\n        await deleteOneFurniture(userUUId, furnitureUUId).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n          } else {\r\n            this.sendMessage(200, 'success', res.data.msg, 2000);\r\n            //刷新一遍所有数据\r\n\r\n            //------------------loadAllFurniture--------------\r\n            //封闭操作遮罩层\r\n            this.overlayLoading = true\r\n            //搜索数据\r\n            try {\r\n              searchAllFurniture(userUUId).then(res => {\r\n                if (res.data.status != 200 || !res) {\r\n                  this.sendMessage(404, 'warning', res.data.message, 2000);\r\n                } else {\r\n                  //将返回data内的list数据传给roomList进行渲染\r\n                  this.furnitureList = res.data.data\r\n                  console.log(\"roomList\")\r\n                  console.log(this.furnitureList)\r\n                  this.sendMessage(200, 'success', res.data.message, 2000);\r\n                }\r\n              })\r\n            } catch (error) {\r\n              console.error(\"FR404\", \"furniture load failed\")\r\n              this.sendMessage(500, 'error', \"load failed\", 2000);\r\n            }\r\n            //开放操作遮罩层\r\n            this.overlayLoading = false\r\n            //------------------loadAllFurniture--------------\r\n          }\r\n        })\r\n      } catch (error) {\r\n        this.sendMessage(500, 'error', \"delete failed\", 2000);\r\n        console.log(\"error: \" + error)\r\n      }\r\n      //弹窗关闭\r\n      this.dialog = false\r\n      //转换状态\r\n      this.setDisabled = true\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //-----------------------复制Furniture操作----------------------------\r\n    async duplicateFurniture(index) {\r\n\r\n    },\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FurnitureCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FurnitureCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FurnitureCard.vue?vue&type=template&id=2616ba88&scoped=true&\"\nimport script from \"./FurnitureCard.vue?vue&type=script&lang=js&\"\nexport * from \"./FurnitureCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2616ba88\",\n  null\n  \n)\n\nexport default component.exports","<!--HomeView->FurnitureView-->\r\n<template>\r\n  <v-col :cols=\"10\">\r\n    <v-container class=\"my-0 mx-0 px-0 py-0\">\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <v-sheet class=\"d-flex flex-column\" min-height=\"70vh\" rounded=\"lg\" color=\"transparent\">\r\n            <v-skeleton-loader class=\"mb-2\" type=\"card\" v-if=\"isLoading\"></v-skeleton-loader>\r\n            <template v-else-if=\"!isLoading\">\r\n              <FurnitureCard :furniture-list=\"furnitureList\" ref=\"furnitureCard\"\r\n                             :user-u-u-id=\"userUUId\"\r\n                             :userUUId=\"userUUId\"></FurnitureCard>\r\n              <!--the add-new-one button-->\r\n              <v-btn class=\"my-2\" color=\"white\" @click=\"addNewOneFurnitureCard\">\r\n                <v-icon>mdi-plus</v-icon>\r\n              </v-btn>\r\n            </template>\r\n          </v-sheet>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-col>\r\n</template>\r\n<script>\r\n\r\nimport FurnitureCard from \"@/components/card/FurnitureCard.vue\";\r\nimport furnitureTemplateJSON from \"@/json/furniture/furnitureTemplateJSON.json\"\r\nimport {insertOneFurniture, searchAllFurniture} from \"@/api/furnitureRequest/furnitureApi\";\r\n\r\nexport default {\r\n  name: 'FurnitureView',\r\n  components: {FurnitureCard},\r\n  data: () => ({\r\n    userUUId: '648fdfbb54b0950d00c37c2e',\r\n    haveAlreadyAddNewOneFurnitureCard: true,\r\n    isFurnitureCardEager: true,\r\n    isLoading: false,\r\n    //存放所有查询回来的家具\r\n    furnitureList: null,\r\n    //家具模板\r\n    furnitureTemplateJSON: furnitureTemplateJSON,\r\n\r\n    //消息栏\r\n    snackbarStatus: false,\r\n    snackbarCode: 200,\r\n    snackbarColor: 'white',\r\n    snackbarData: \"none\",\r\n    snackbarTimeout: 2000,\r\n  }),\r\n  mounted() {\r\n    this.isLoading = true\r\n    this.loadAllFurniture(this.userUUId)\r\n    setTimeout(() => {\r\n      this.isLoading = false\r\n    }, 500)\r\n  },\r\n  methods: {\r\n    //------------------发送snackbar，唤醒消息栏------------------\r\n    sendMessage(code, color, data, timeout) {\r\n      this.snackbarStatus = true\r\n      this.snackbarCode = code\r\n      this.snackbarColor = color\r\n      this.snackbarData = data\r\n      this.snackbarTimeout = timeout\r\n    },\r\n    //----------------------查询所有操作--------------------------\r\n    async loadAllFurniture(userUUId) {\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //搜索数据\r\n      try {\r\n        await searchAllFurniture(userUUId).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.message, 2000);\r\n          } else {\r\n            //将返回data内的list数据传给furnitureList进行渲染\r\n            this.furnitureList = res.data.data\r\n            console.log(\"this.furnitureList\")\r\n            console.log(this.furnitureList)\r\n            this.sendMessage(200, 'success', res.data.message, 2000);\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.error(\"FR404\", \"furniture load failed\")\r\n        this.sendMessage(500, 'error', \"load failed\", 2000);\r\n      }\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //----------------------新增一条Furniture操作--------------------------\r\n    async addNewOneFurnitureCard() {\r\n      this.haveAlreadyAddNewOneFurnitureCard = false\r\n      //填写信息\r\n      //模拟一个暂时的furniture模板\r\n      furnitureTemplateJSON =\r\n          {\r\n            \"refUserId\": this.userUUId,\r\n            \"name\": \"\",\r\n            \"description\": \"\",\r\n            \"attribute\": \"\",\r\n            \"mainColor\": \"\",\r\n            \"minorColor\": \"\",\r\n            \"imgUrl\": \"\",\r\n            \"isBookmarks\": false,\r\n            \"modifyCount\": 0,\r\n          }\r\n      //填完保存\r\n      console.log(\"prepare insertOneFurniture\")\r\n      await insertOneFurniture(this.userUUId, furnitureTemplateJSON).then(res => {\r\n        if (res.data.status != 200 || !res) {\r\n          this.sendMessage(404, 'warning', res.data.message, 2000);\r\n        } else {\r\n          this.sendMessage(200, 'success', res.data.message, 2000);\r\n        }\r\n      })\r\n      //保存完刷新组件（此时新数据已加载进入数据库）\r\n      await this.loadAllFurniture(this.userUUId)\r\n    },\r\n    //-----------------------删除Furniture操作在FurnitureCard里面----------------------------\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FurnitureView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FurnitureView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FurnitureView.vue?vue&type=template&id=4962d00c&\"\nimport script from \"./FurnitureView.vue?vue&type=script&lang=js&\"\nexport * from \"./FurnitureView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-col',{attrs:{\"cols\":10}},[_c('v-container',{staticClass:\"my-0 mx-0 px-0 py-0\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-sheet',{staticClass:\"d-flex flex-column overflow-auto\",attrs:{\"min-height\":\"70vh\",\"rounded\":\"lg\",\"color\":\"transparent\"}},[(_vm.isLoading)?_c('v-skeleton-loader',{staticClass:\"mb-2\",attrs:{\"type\":\"card\"}}):(!_vm.isLoading)?[_c('StuffCard',{ref:\"stuffCard\",attrs:{\"stuff-list\":_vm.stuffList,\"user-u-u-id\":_vm.userUUId,\"userUUId\":_vm.userUUId}}),_c('v-btn',{staticClass:\"my-2\",attrs:{\"color\":\"white\"},on:{\"click\":_vm.addNewOneStuffCard}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]:_vm._e()],2)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_vm._l((_vm.stuffList),function(stuff){return _c('v-expansion-panel',{key:stuff.index},[_c('v-expansion-panel-header',[_c('v-row',[_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"3\"}},[_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(stuff.name))])]),_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"8\"}},[_c('v-chip-group',[_c('v-chip',{attrs:{\"link\":\"\",\"color\":\"primary\",\"outlined\":\"\"}},[_vm._v(_vm._s(stuff.attribute))]),(stuff.isBookmarks === true)?_c('v-chip',{attrs:{\"color\":\"vue_theme\",\"outlined\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\" Bookmarked \")],1):(stuff.isBookmarks === false)?_c('v-chip',{attrs:{\"color\":\"error\",\"outlined\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-minus\")]),_vm._v(\" unBookmark \")],1):_vm._e()],1)],1),_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"1\"}},[_c('v-img',{staticClass:\"rounded-lg rounded-tr-0 rounded-bl-0\",style:(`background: linear-gradient(0.45turn,`+stuff.mainColor+`,`+stuff.minorColor+`)`),attrs:{\"height\":\"30\",\"width\":\"30\"}})],1)],1)],1),_c('v-expansion-panel-content',{attrs:{\"eager\":_vm.isEager}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [_c('v-card',{staticClass:\"px-4 transition-swing\",attrs:{\"elevation\":hover? 12:0}},[_c('template',{slot:\"progress\"},[_c('v-progress-linear',{attrs:{\"color\":\"deep-purple\",\"height\":\"10\",\"indeterminate\":\"\"}})],1),_c('v-row',[_c('v-col',{staticClass:\"mt-2\",attrs:{\"cols\":\"5\"}},[_c('v-text-field',{attrs:{\"label\":\"UUID\",\"disabled\":\"\"},model:{value:(stuff.id),callback:function ($$v) {_vm.$set(stuff, \"id\", $$v)},expression:\"stuff.id\"}},[_vm._v(\" \"+_vm._s(stuff.id)+\" \")]),_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({onFurniture, attrsFurniture}){return [_c('v-autocomplete',_vm._g(_vm._b({attrs:{\"label\":\"Belong to Furniture\",\"prefix\":\"Furniture Name: \",\"disabled\":_vm.setDisabled,\"no-data-text\":\"请选择所属Furniture\",\"items\":_vm.furnitureTagList,\"item-text\":\"name\",\"item-value\":\"id\"},on:{\"change\":function($event){return _vm.syncCurrentRoomId(stuff)}},scopedSlots:_vm._u([{key:\"item\",fn:function({item}){return [_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\",\"sm\":\"\"}},[_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1),_c('v-col',{attrs:{\"cols\":\"7\",\"sm\":\"\"}},[_c('v-list-item-subtitle',[_vm._v(_vm._s(item.id))])],1),_c('v-col',{staticClass:\"rounded-lg rounded-tr-0 rounded-bl-0\",style:(`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`),attrs:{\"cols\":\"1\",\"sm\":\"\",\"align-self\":\"center\"}})],1)]}}],null,true),model:{value:(stuff.refFurnitureId),callback:function ($$v) {_vm.$set(stuff, \"refFurnitureId\", $$v)},expression:\"stuff.refFurnitureId\"}},'v-autocomplete',attrsFurniture,false),onFurniture))]}}],null,true)}),_c('v-text-field',{attrs:{\"label\":\"Name\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},model:{value:(stuff.name),callback:function ($$v) {_vm.$set(stuff, \"name\", $$v)},expression:\"stuff.name\"}},[_vm._v(\" \"+_vm._s(stuff.name)+\" \")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-text-field',{attrs:{\"label\":\"Attribute\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},model:{value:(stuff.attribute),callback:function ($$v) {_vm.$set(stuff, \"attribute\", $$v)},expression:\"stuff.attribute\"}},[_vm._v(\" \"+_vm._s(stuff.attribute)+\" \")])],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-btn',{attrs:{\"depressed\":\"\",\"dark\":\"\",\"color\":stuff.isBookmarks? 'green' : 'red',\"disabled\":_vm.setDisabled},on:{\"click\":function($event){stuff.isBookmarks=!stuff.isBookmarks}}},[_c('v-icon',[_vm._v(_vm._s((stuff.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel')))])],1)],1)],1),_c('v-row',{staticClass:\"mx-0 my-1\"},[_c('v-row',[_c('v-col',[_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({on, attrs}){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Main Color\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":stuff.mainColor,\"disabled\":_vm.setDisabled}},[_vm._v(\"mdi-palette\")])]},proxy:true}],null,true),model:{value:(stuff.mainColor),callback:function ($$v) {_vm.$set(stuff, \"mainColor\", $$v)},expression:\"stuff.mainColor\"}},'v-text-field',attrs,false),on),[_vm._v(\" \"+_vm._s(stuff.mainColor)+\" \")])]}}],null,true)},[_c('v-color-picker',{key:\"color-picker1\",attrs:{\"dot-size\":\"25\",\"swatches-max-height\":\"200\"},model:{value:(stuff.mainColor),callback:function ($$v) {_vm.$set(stuff, \"mainColor\", $$v)},expression:\"stuff.mainColor\"}})],1)],1),_c('v-col',[_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({on, attrs}){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Minor Color\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":stuff.minorColor,\"disabled\":_vm.setDisabled}},[_vm._v(\"mdi-palette\")])]},proxy:true}],null,true),model:{value:(stuff.minorColor),callback:function ($$v) {_vm.$set(stuff, \"minorColor\", $$v)},expression:\"stuff.minorColor\"}},'v-text-field',attrs,false),on),[_vm._v(\" \"+_vm._s(stuff.minorColor)+\" \")])]}}],null,true)},[_c('v-color-picker',{key:\"color-picker2\",attrs:{\"dot-size\":\"25\",\"swatches-max-height\":\"200\"},model:{value:(stuff.minorColor),callback:function ($$v) {_vm.$set(stuff, \"minorColor\", $$v)},expression:\"stuff.minorColor\"}})],1)],1)],1),_c('v-textarea',{attrs:{\"label\":\"Description\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"height\":\"80\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle\",\"counter\":\"\"},model:{value:(stuff.description),callback:function ($$v) {_vm.$set(stuff, \"description\", $$v)},expression:\"stuff.description\"}},[_vm._v(\" \"+_vm._s(stuff.description)+\" \")])],1)],1),_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('AvatarUploader',{ref:\"avatarUploader\",refInFor:true,attrs:{\"frame-height\":\"430\",\"upload-is-disabled\":_vm.setDisabled}})],1)],1),_c('v-card-actions',{staticClass:\"px-0 mt-auto d-flex justify-end\"},[(_vm.setDisabled===true)?_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.modifyStuff()}}},[_vm._v(\"Modify \")]):_vm._e(),(_vm.setDisabled===false)?_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"teal\",\"text\":\"\"},on:{\"click\":function($event){return _vm.saveStuff(_vm.userUUId, stuff)}}},[_vm._v(\"Save \")]):_vm._e(),_c('v-overlay',{attrs:{\"value\":_vm.overlayLoading}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('div',{staticClass:\"text-center\"},[_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"font-weight-bold\",attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = true}}},'v-btn',attrs,false),on),[_vm._v(\" Delete \")])]}}],null,true),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\"Double Check\")]),_c('v-card-text',[_vm._v(\" Are Your Sure to Delete? \")]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"No\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteStuff(_vm.userUUId, stuff.id)}}},[_vm._v(\"Yes\")])],1)],1)],1)],1),_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"deep-purple\",\"text\":\"\"},on:{\"click\":function($event){return _vm.duplicateStuff(stuff.index)}}},[_vm._v(\" Duplicate \")])],1)],2)]}}],null,true)})],1)],1)}),_c('v-snackbar',{attrs:{\"light\":\"\",\"timeout\":_vm.snackbarTimeout,\"width\":\"500\",\"color\":_vm.snackbarColor,\"shaped\":\"\",\"app\":\"\",\"top\":\"\",\"centered\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbarStatus = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbarStatus),callback:function ($$v) {_vm.snackbarStatus=$$v},expression:\"snackbarStatus\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-h6\",attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarCode)+\" \")]),_c('v-col',{attrs:{\"cols\":\"7\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarData)+\" \")])],1)],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import server from \"@/api/basicRequest\";\r\n\r\n\r\n//----------------------------POST请求区----------------------------\r\n\r\n//插入一条stuff数据，需要：用户UUID、待插入的JSON数据\r\nexport function insertOneStuff(userUUId, data) {\r\n    return server.put(\r\n        `/stuff/${userUUId}/insert_one`,\r\n        //post JSON\r\n        //data写在config前，data为一个完整的json数据\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//更新一条Stuff数据，需要：用户UUID、待更新的JSON数据\r\nexport function updateOneStuff(userUUId, data) {\r\n    return server.patch(\r\n        `/stuff/${userUUId}/update_one`,\r\n        //post JSON\r\n        //data写在config前，data为一个完整的json数据\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//删除一条Stuff数据，需要：用户UUID、待删除的家具UUID\r\nexport function deleteOneStuff(userUUId, stuffUUId) {\r\n    return server.delete(\r\n        `/stuff/${userUUId}/delete_one`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept',\r\n                'Content-Type': 'multipart/form-data'\r\n            },\r\n            //post form-data\r\n            //data写在和headers同级的config内，并且需要以data为根，内部可添加多个KV\r\n            data: {\r\n                stuff_uuid: stuffUUId\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n//----------------------------GET请求区----------------------------\r\n\r\n//根据家具UUID搜索一个stuff信息\r\nexport function searchOneStuff(userUUId, stuffUUId) {\r\n    return server.get(\r\n        `/stuff/${userUUId}/search_one`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {\r\n                stuff_id: stuffUUId\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n//使用快照滚轮分页查询搜索stuff信息\r\nexport function searchListStuff(userUUId, stuffUUId, searchSize) {\r\n    return server.get(\r\n        `/stuff/${userUUId}/search_list`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {\r\n                last_seen_stuff_id: stuffUUId,\r\n                search_size: searchSize\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\n//搜索所有stuff信息\r\nexport function searchAllStuff(userUUId) {\r\n    return server.get(\r\n        `/stuff/${userUUId}/search_all`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {},\r\n        })\r\n}\r\n\r\n//搜索Stuff标签，返回List[<StuffUUId>: <家具名字>]，注意不是attribute!!! 家具tag用\r\nexport function searchStuffTag(userUUId) {\r\n    return server.get(\r\n        `/stuff/${userUUId}/search_tag`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            //get query param\r\n            //params写在和headers同级的config内\r\n            params: {},\r\n        })\r\n}\r\n","<!--HomeView->StuffView->StuffCard-->\r\n<template>\r\n  <v-expansion-panels multiple>\r\n    <v-expansion-panel v-for=\"stuff in stuffList\" :key=\"stuff.index\">\r\n      <!--panel header-->\r\n      <v-expansion-panel-header>\r\n        <v-row>\r\n          <!--name area-->\r\n          <v-col align-self=\"center\" cols=\"3\">\r\n            <div class=\"text-h6\">{{ stuff.name }}</div>\r\n          </v-col>\r\n          <!--label pins-->\r\n          <v-col align-self=\"center\" cols=\"8\">\r\n            <v-chip-group>\r\n              <v-chip link color=\"primary\" outlined>{{ stuff.attribute }}</v-chip>\r\n              <v-chip v-if=\"stuff.isBookmarks === true\" color=\"vue_theme\" outlined>\r\n                <v-icon>mdi-check</v-icon>\r\n                Bookmarked\r\n              </v-chip>\r\n              <v-chip v-else-if=\"stuff.isBookmarks === false\" color=\"error\" outlined>\r\n                <v-icon>mdi-minus</v-icon>\r\n                unBookmark\r\n              </v-chip>\r\n            </v-chip-group>\r\n          </v-col>\r\n          <!--color point-->\r\n          <v-col align-self=\"center\" cols=\"1\">\r\n            <v-img :style=\"`background: linear-gradient(0.45turn,`+stuff.mainColor+`,`+stuff.minorColor+`)`\"\r\n                   height=\"30\" width=\"30\" class=\"rounded-lg rounded-tr-0 rounded-bl-0\"/>\r\n          </v-col>\r\n          <!--          :style=\"`backgroundColor: `+ stuff.mainColor\"-->\r\n        </v-row>\r\n      </v-expansion-panel-header>\r\n      <!--扩展页面具体内容-->\r\n      <v-expansion-panel-content :eager=\"isEager\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <v-card :elevation=\"hover? 12:0\" class=\"px-4 transition-swing\">\r\n            <!--加载动画插槽-->\r\n            <template slot=\"progress\">\r\n              <v-progress-linear color=\"deep-purple\" height=\"10\" indeterminate></v-progress-linear>\r\n            </template>\r\n            <v-row>\r\n              <!--左侧：字段信息-->\r\n              <v-col cols=\"5\" class=\"mt-2\">\r\n                <!--左侧上第一行：UUID-->\r\n                <v-text-field v-model=\"stuff.id\" label=\"UUID\" disabled>\r\n                  {{ stuff.id }}\r\n                </v-text-field>\r\n                <!--左侧上第三行：所属Stuff+自动搜索Stuff词库下拉菜单-->\r\n                <v-menu transition=\"fade-transition\" :close-on-content-click=\"false\">\r\n                  <template #activator=\"{onFurniture, attrsFurniture}\">\r\n                    <v-autocomplete label=\"Belong to Furniture\" prefix=\"Furniture Name: \" :disabled=\"setDisabled\"\r\n                                    v-on=\"onFurniture\" v-bind=\"attrsFurniture\" no-data-text=\"请选择所属Furniture\"\r\n                                    v-model=\"stuff.refFurnitureId\" :items=\"furnitureTagList\" item-text=\"name\"\r\n                                    item-value=\"id\" @change=\"syncCurrentRoomId(stuff)\">\r\n                      <!--此插槽是对下拉菜单中的各项进行修改，会覆盖原先数据-->\r\n                      <template #item=\"{item}\">\r\n                        <v-row>\r\n                          <v-col cols=\"4\" sm>\r\n                            <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                          </v-col>\r\n                          <v-col cols=\"7\" sm>\r\n                            <v-list-item-subtitle>{{ item.id }}</v-list-item-subtitle>\r\n                          </v-col>\r\n                          <v-col cols=\"1\" sm align-self=\"center\" class=\"rounded-lg rounded-tr-0 rounded-bl-0\"\r\n                                 :style=\"`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`\">\r\n                          </v-col>\r\n                        </v-row>\r\n                      </template>\r\n                    </v-autocomplete>\r\n                  </template>\r\n                </v-menu>\r\n                <!--左侧上第四行-->\r\n                <v-text-field v-model=\"stuff.name\" label=\"Name\" :disabled=\"setDisabled\" outlined dense>\r\n                  {{ stuff.name }}\r\n                </v-text-field>\r\n                <!--左侧上第五行：属性-星标书签-->\r\n                <v-row>\r\n                  <v-col cols=\"9\">\r\n                    <v-text-field v-model=\"stuff.attribute\" label=\"Attribute\" :disabled=\"setDisabled\" outlined dense>\r\n                      {{ stuff.attribute }}\r\n                    </v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"3\">\r\n                    <v-btn depressed @click=\"stuff.isBookmarks=!stuff.isBookmarks\"\r\n                           dark :color=\"stuff.isBookmarks? 'green' : 'red'\" :disabled=\"setDisabled\">\r\n                      <v-icon>{{ (stuff.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel') }}</v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n                <!-- 左侧下共二行：颜色选择器-描述文本框-->\r\n                <v-row class=\"mx-0 my-1\">\r\n                  <!--颜色选择器-->\r\n                  <v-row>\r\n                    <v-col>\r\n                      <!--颜色插槽1-->\r\n                      <v-menu transition=\"fade-transition\"\r\n                              :close-on-content-click=\"false\">\r\n                        <template #activator=\"{on, attrs}\">\r\n                          <v-text-field v-model=\"stuff.mainColor\" label=\"Main Color\" :disabled=\"setDisabled\"\r\n                                        outlined dense v-bind=\"attrs\" v-on=\"on\">\r\n                            {{ stuff.mainColor }}\r\n                            <template #append>\r\n                              <v-icon :color=\"stuff.mainColor\" :disabled=\"setDisabled\">mdi-palette</v-icon>\r\n                            </template>\r\n                          </v-text-field>\r\n                        </template>\r\n                        <v-color-picker dot-size=\"25\" swatches-max-height=\"200\" key=\"color-picker1\"\r\n                                        v-model:value=\"stuff.mainColor\"></v-color-picker>\r\n                      </v-menu>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <!--颜色插槽2-->\r\n                      <v-menu transition=\"fade-transition\"\r\n                              :close-on-content-click=\"false\">\r\n                        <template #activator=\"{on, attrs}\">\r\n                          <v-text-field v-model=\"stuff.minorColor\" label=\"Minor Color\" :disabled=\"setDisabled\"\r\n                                        outlined dense v-bind=\"attrs\" v-on=\"on\">\r\n                            {{ stuff.minorColor }}\r\n                            <template #append>\r\n                              <v-icon :color=\"stuff.minorColor\" :disabled=\"setDisabled\">mdi-palette</v-icon>\r\n                            </template>\r\n                          </v-text-field>\r\n                        </template>\r\n                        <v-color-picker dot-size=\"25\" swatches-max-height=\"200\" key=\"color-picker2\"\r\n                                        v-model:value=\"stuff.minorColor\"></v-color-picker>\r\n                      </v-menu>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <!--描述文本框-->\r\n                  <v-textarea v-model=\"stuff.description\" label=\"Description\" :disabled=\"setDisabled\" outlined\r\n                              height=\"80\"\r\n                              clearable clear-icon=\"mdi-close-circle\" counter>\r\n                    {{ stuff.description }}\r\n                  </v-textarea>\r\n                </v-row>\r\n              </v-col>\r\n              <!--右侧：图片上传与识别加载-->\r\n              <v-col cols=\"7\">\r\n                <!--图片上传器，需要额外插槽-->\r\n                <AvatarUploader ref=\"avatarUploader\" frame-height=\"430\" :upload-is-disabled=\"setDisabled\">\r\n                </AvatarUploader>\r\n              </v-col>\r\n            </v-row>\r\n            <!--右下三按钮-->\r\n            <v-card-actions class=\"px-0 mt-auto d-flex justify-end\">\r\n              <!--修改/保存按钮-->\r\n              <v-btn color=\"primary\" class=\"font-weight-bold\" text @click=\"modifyStuff()\"\r\n                     v-if=\"setDisabled===true\">Modify\r\n              </v-btn>\r\n              <v-btn color=\"teal\" class=\"font-weight-bold\" text @click=\"saveStuff(userUUId, stuff)\"\r\n                     v-if=\"setDisabled===false\">Save\r\n              </v-btn>\r\n              <v-overlay :value=\"overlayLoading\">\r\n                <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\r\n              </v-overlay>\r\n\r\n              <!--确认弹窗-->\r\n              <div class=\"text-center\">\r\n                <v-dialog v-model=\"dialog\" width=\"500\">\r\n\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <!--删除按钮-->\r\n                    <v-btn color=\"red\" class=\"font-weight-bold\" v-bind=\"attrs\"\r\n                           v-on=\"on\" text @click=\"dialog = true\">\r\n                      Delete\r\n                    </v-btn>\r\n                  </template>\r\n\r\n                  <v-card>\r\n                    <v-card-title class=\"text-h5 grey lighten-2\">Double Check</v-card-title>\r\n                    <v-card-text>\r\n                      Are Your Sure to Delete?\r\n                    </v-card-text>\r\n                    <v-divider></v-divider>\r\n                    <v-card-actions>\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn color=\"\" text @click=\"dialog = false\">No</v-btn>\r\n                      <v-btn color=\"primary\" text @click=\"deleteStuff(userUUId, stuff.id)\">Yes</v-btn>\r\n                    </v-card-actions>\r\n                  </v-card>\r\n                </v-dialog>\r\n              </div>\r\n\r\n              <!--复制按钮-->\r\n              <v-btn color=\"deep-purple\" class=\"font-weight-bold\" text @click=\"duplicateStuff(stuff.index)\">\r\n                Duplicate\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-hover>\r\n      </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n    <!--消息栏-->\r\n    <v-snackbar v-model=\"snackbarStatus\" light :timeout=\"snackbarTimeout\" width=\"500\"\r\n                :color=\"snackbarColor\" shaped app top centered>\r\n      <v-row>\r\n        <!--状态码-->\r\n        <v-col cols=\"5\" class=\"text-h6\" align-self=\"center\">\r\n          {{ snackbarCode }}\r\n        </v-col>\r\n        <!--消息内容-->\r\n        <v-col cols=\"7\" align-self=\"center\">\r\n          {{ snackbarData }}\r\n        </v-col>\r\n      </v-row>\r\n      <!--关闭按钮-->\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn text v-bind=\"attrs\" @click=\"snackbarStatus = false\">\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-expansion-panels>\r\n</template>\r\n\r\n<script>\r\nimport AvatarUploader from \"@/components/AvatarUploader.vue\";\r\nimport {\r\n  searchAllFurniture,\r\n  searchFurnitureListByFurnitureUUIds,\r\n  searchOneFurniture\r\n} from \"@/api/furnitureRequest/furnitureApi\";\r\nimport {getCurrentDateTime} from \"@/js/generalDataConverter\";\r\nimport {deleteOneStuff, searchAllStuff, updateOneStuff} from \"@/api/stuffRequest/stuffApi\";\r\n\r\nexport default {\r\n  name: \"StuffCard\",\r\n  components: {AvatarUploader},\r\n  props: {\r\n    userUUId: String,\r\n    stuffList: Array,\r\n    isEager: false,\r\n  },\r\n  data: () => ({\r\n\r\n    //当前左二被选中的furniture所影响的room_uuid\r\n    currentRefRoomIdByRefFurnitureId: \"\",\r\n    currentRefRoomNameByRefFurnitureId: \"\",\r\n\r\n    //再次确认对话框弹窗\r\n    dialog: false,\r\n\r\n    //设置是否禁用卡片\r\n    setDisabled: true,\r\n\r\n    //装载刚查询完room列表的原始数据\r\n    furnitureList: [],\r\n    //自动搜索Furniture词库下拉菜单模拟数据\r\n    furnitureTagList: [],\r\n    //装载此页面数据显示后所需的roomUUId，是roomTagList的前置条件\r\n    furnitureUUIds: [],\r\n\r\n    //颜色选择器菜单显示与否\r\n    showMainColorPicker: [],\r\n    showMinorColorPicker: [],\r\n    //遮罩层显示与否\r\n    overlayLoading: false,\r\n    //消息栏\r\n    snackbarStatus: false,\r\n    snackbarCode: 200,\r\n    snackbarColor: 'white',\r\n    snackbarData: \"none\",\r\n    snackbarTimeout: 2000,\r\n  }),\r\n  computed: {},\r\n  watch: {},\r\n  mounted() {\r\n    //查询供stuff选择的furniture列表\r\n    this.queryFurnitureListByFurnitureUUIds(this.userUUId)\r\n  },\r\n  methods: {\r\n    //------------------发送snackbar，唤醒消息栏------------------\r\n    sendMessage(code, color, data, timeout) {\r\n      this.snackbarStatus = true\r\n      this.snackbarCode = code\r\n      this.snackbarColor = color\r\n      this.snackbarData = data\r\n      this.snackbarTimeout = timeout\r\n    },\r\n    //-------------修改操作（空操作，为了迎合保存操作）----------------\r\n    modifyStuff() {\r\n      this.setDisabled = false\r\n    },\r\n    //TODO-------------根据选中的furniture来同步room信息，只加装给参数，不显示在前端-------------\r\n    async syncCurrentRoomId(stuff){\r\n      //根据当前的furnitureUUId查询所属的roomId和room名字\r\n      console.log(\"syncCurrentRoomId->stuff\")\r\n      console.log(stuff)\r\n      this.currentRefRoomIdByRefFurnitureId = stuff.refRoomId\r\n      console.log(\"this.currentRefRoomIdByRefFurnitureId\")\r\n      console.log(this.currentRefRoomIdByRefFurnitureId)\r\n      // TODO 需要后端编写一个furnitureUUId查询furniture信息的接口而不是furnitureId\r\n      await searchOneFurniture(furnitureUUId).then(res=>{\r\n        if (res.data.status != 200 || !res) {\r\n          this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n        } else {\r\n          this.currentRefRoomIdByRefFurnitureId = res.data.data\r\n        }\r\n      })\r\n    },\r\n    //-------------按roomUUId查询roomName，通识加装到roomTagList(比Furniture多了的东西)----------------\r\n    async queryFurnitureListByFurnitureUUIds(userUUId) {\r\n      //查询所有room装载成数组给roomUUIds\r\n      await searchAllFurniture(userUUId).then(res => {\r\n        if (res.data.status != 200 || !res) {\r\n          this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n        } else {\r\n          this.furnitureList = res.data.data\r\n          console.log(\"this.roomList\")\r\n          console.log(this.furnitureList)\r\n          for (let i = 0; i < this.furnitureList.length; i++) {\r\n            this.furnitureUUIds.push(this.furnitureList.at(i).id)\r\n          }\r\n          console.log(\"this.roomUUIds\")\r\n          console.log(this.furnitureUUIds)\r\n        }\r\n      })\r\n      //根据加装的room uuid查询完整的room list\r\n      try {\r\n        await searchFurnitureListByFurnitureUUIds(userUUId, this.furnitureUUIds).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n          } else {\r\n            var furnitureUUIdLength = this.furnitureUUIds.length\r\n            //根据之前push进入的room id，来查找并装载tag数据\r\n            for (let i = 0; i < furnitureUUIdLength; i++) {\r\n              this.furnitureTagList.push(res.data.data.at(i))\r\n            }\r\n          }\r\n          // 成功不需要发送消息\r\n          // this.sendMessage(200, 'success', res.data.msg, 2000);\r\n          //转换状态\r\n          this.setDisabled = true\r\n        })\r\n      } catch (error) {\r\n        console.error(\"FR500\", \"furniture tag search failed\")\r\n        this.sendMessage(500, 'error', \"furniture tag search failed\", 2000);\r\n      }\r\n    },\r\n    //-----------------------修改保存Stuff操作----------------------------\r\n    async saveStuff(userUUId, stuff) {\r\n      //读取数据\r\n      console.log(\"saveStuff->stuff\")\r\n      console.log(stuff)\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //组装数据\r\n      stuff.modifyTime = getCurrentDateTime()\r\n      stuff.modifyCount += 1\r\n      //特别注意跨层要组装room\r\n      stuff.refRoomId = this.currentRefRoomIdByRefFurnitureId\r\n      //更新数据到数据库\r\n      try {\r\n        await updateOneStuff(userUUId, stuff).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n            console.log(\"updateOneStuff->stuff\")\r\n            console.log(stuff)\r\n          } else {\r\n            this.sendMessage(200, 'success', res.data.msg, 2000);\r\n            //转换状态\r\n            this.setDisabled = true\r\n          }\r\n        })\r\n      } catch (error) {\r\n        this.sendMessage(500, 'error', \"update failed\", 2000);\r\n        console.log(\"error: \" + error)\r\n      }\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //-----------------------删除Furniture操作----------------------------\r\n    async deleteStuff(userUUId, stuffUUId) {\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //更新数据到数据库\r\n      try {\r\n        await deleteOneStuff(userUUId, stuffUUId).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n          } else {\r\n            this.sendMessage(200, 'success', res.data.msg, 2000);\r\n            //刷新一遍所有数据\r\n\r\n            //------------------loadAllStuff--------------\r\n            //封闭操作遮罩层\r\n            this.overlayLoading = true\r\n            //搜索数据\r\n            try {\r\n              searchAllStuff(userUUId).then(res => {\r\n                if (res.data.status != 200 || !res) {\r\n                  this.sendMessage(404, 'warning', res.data.message, 2000);\r\n                } else {\r\n                  //将返回data内的list数据传给roomList进行渲染\r\n                  this.stuffList = res.data.data\r\n                  console.log(\"stuffList\")\r\n                  console.log(this.stuffList)\r\n                  this.sendMessage(200, 'success', res.data.message, 2000);\r\n                }\r\n              })\r\n            } catch (error) {\r\n              console.error(\"SR404\", \"stuff load failed\")\r\n              this.sendMessage(500, 'error', \"load failed\", 2000);\r\n            }\r\n            //开放操作遮罩层\r\n            this.overlayLoading = false\r\n            //------------------loadAllFurniture--------------\r\n          }\r\n        })\r\n      } catch (error) {\r\n        this.sendMessage(500, 'error', \"delete failed\", 2000);\r\n        console.log(\"error: \" + error)\r\n      }\r\n      //弹窗关闭\r\n      this.dialog = false\r\n      //转换状态\r\n      this.setDisabled = true\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //-----------------------复制Stuff操作----------------------------\r\n    duplicateStuff(index) {\r\n\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StuffCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StuffCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StuffCard.vue?vue&type=template&id=40e2e69a&scoped=true&\"\nimport script from \"./StuffCard.vue?vue&type=script&lang=js&\"\nexport * from \"./StuffCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40e2e69a\",\n  null\n  \n)\n\nexport default component.exports","<!--HomeView->StuffView-->\r\n<template>\r\n  <v-col :cols=\"10\">\r\n    <v-container class=\"my-0 mx-0 px-0 py-0\">\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <v-sheet class=\"d-flex flex-column overflow-auto\" min-height=\"70vh\"\r\n                   rounded=\"lg\" color=\"transparent\">\r\n            <v-skeleton-loader class=\"mb-2\" type=\"card\" v-if=\"isLoading\"></v-skeleton-loader>\r\n            <template v-else-if=\"!isLoading\">\r\n              <StuffCard :stuff-list=\"stuffList\" ref=\"stuffCard\"\r\n                         :user-u-u-id=\"userUUId\"\r\n                         :userUUId=\"userUUId\"></StuffCard>\r\n              <!--the button adding new one stuff card-->\r\n              <v-btn class=\"my-2\" color=\"white\" @click=\"addNewOneStuffCard\">\r\n                <v-icon>mdi-plus</v-icon>\r\n              </v-btn>\r\n            </template>\r\n          </v-sheet>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-col>\r\n</template>\r\n<script>\r\n\r\nimport StuffCard from \"@/components/card/StuffCard.vue\";\r\nimport {insertOneStuff, searchAllStuff} from \"@/api/stuffRequest/stuffApi\";\r\nimport stuffTemplateJSON from \"@/json/stuff/stuffTemplateJSON.json\"\r\n\r\nexport default {\r\n  name: 'Stuff',\r\n  components: {StuffCard},\r\n  data: () => ({\r\n    userUUId: '648fdfbb54b0950d00c37c2e',\r\n    haveAlreadyAddNewOneStuffCard: true,\r\n    isStuffCardEager: true,\r\n    isLoading: false,\r\n    //存放所有查询回来的物品\r\n    stuffList: null,\r\n    //物品模板\r\n    stuffTemplateJSON: stuffTemplateJSON,\r\n\r\n    //消息栏\r\n    snackbarStatus: false,\r\n    snackbarCode: 200,\r\n    snackbarColor: 'white',\r\n    snackbarData: \"none\",\r\n    snackbarTimeout: 2000,\r\n  }),\r\n  mounted() {\r\n    this.isLoading = true\r\n    this.loadAllStuff(this.userUUId)\r\n    setTimeout(() => {\r\n      this.isLoading = false\r\n    }, 500)\r\n  },\r\n  methods: {\r\n    //------------------发送snackbar，唤醒消息栏------------------\r\n    sendMessage(code, color, data, timeout) {\r\n      this.snackbarStatus = true\r\n      this.snackbarCode = code\r\n      this.snackbarColor = color\r\n      this.snackbarData = data\r\n      this.snackbarTimeout = timeout\r\n    },\r\n    //----------------------查询所有操作--------------------------\r\n    async loadAllStuff(userUUId) {\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //搜索数据\r\n      try {\r\n        await searchAllStuff(userUUId).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.message, 2000);\r\n          } else {\r\n            //将返回data内的list数据传给stuffList进行渲染\r\n            this.stuffList = res.data.data\r\n            console.log(\"this.stuffList\")\r\n            console.log(this.stuffList)\r\n            this.sendMessage(200, 'success', res.data.message, 2000);\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.error(\"SR404\", \"stuff load failed\")\r\n        this.sendMessage(500, 'error', \"load failed\", 2000);\r\n      }\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //----------------------新增一条Stuff操作--------------------------\r\n    async addNewOneStuffCard() {\r\n      this.haveAlreadyAddNewOneStuffCard = false\r\n      //填写信息\r\n      //模拟一个暂时的stuff模板\r\n      stuffTemplateJSON =\r\n          {\r\n            \"refUserId\": this.userUUId,\r\n            \"name\": \"\",\r\n            \"description\": \"\",\r\n            \"attribute\": \"\",\r\n            \"mainColor\": \"\",\r\n            \"minorColor\": \"\",\r\n            \"imgUrl\": \"\",\r\n            \"isBookmarks\": false,\r\n            \"modifyCount\": 0,\r\n          }\r\n      //填完保存\r\n      console.log(\"prepare insertOneStuff\")\r\n      await insertOneStuff(this.userUUId, stuffTemplateJSON).then(res => {\r\n        if (res.data.status != 200 || !res) {\r\n          this.sendMessage(404, 'warning', res.data.message, 2000);\r\n        } else {\r\n          this.sendMessage(200, 'success', res.data.message, 2000);\r\n        }\r\n      })\r\n      //保存完刷新组件（此时新数据已加载进入数据库）\r\n      await this.loadAllStuff(this.userUUId)\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StuffView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StuffView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StuffView.vue?vue&type=template&id=2a5f235c&\"\nimport script from \"./StuffView.vue?vue&type=script&lang=js&\"\nexport * from \"./StuffView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"my-0 mx-0 px-0 py-0\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.roomReport,\"gradient\":\"to bottom, #00000010, #F8BBD020, #00000050\",\"height\":\"200\",\"max-width\":\"400\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Download Room\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Room Report\")]),_c('p',[_vm._v(\".xlsx document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to download your room information what you already have \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"amber accent-4\"},on:{\"click\":function($event){_vm.triggerDownloadReport\n                     (_vm.userUUId, _vm.startDate, _vm.endDate, _vm.onlyBookmarks,\n                     _vm.needAll, _vm.roomDownloadType, _vm.roomFileName, _vm.fileType)}}},[_vm._v(\"Download\")])],1)],1)]]}}])})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.furnitureReport,\"gradient\":\"to bottom, #00000020, #536DFE20, #00000050\",\"height\":\"200\",\"max-width\":\"400\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Download Furniture\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Furniture Report\")]),_c('p',[_vm._v(\".xlsx document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to download your furniture information what you already have \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"pink accent-4\"},on:{\"click\":function($event){_vm.triggerDownloadReport\n                     (_vm.userUUId, _vm.startDate, _vm.endDate, _vm.onlyBookmarks,\n                     _vm.needAll, _vm.furnitureDownloadType, _vm.furnitureFileName, _vm.fileType)}}},[_vm._v(\"Download \")])],1)],1)]]}}])})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.stuffReport,\"gradient\":\"to bottom, #00000020, #EA80FC20, #00000050\",\"height\":\"200\",\"max-width\":\"400\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Download Stuff\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Stuff Report\")]),_c('p',[_vm._v(\".xlsx document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to download your stuff information what you already have \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"teal accent-4\"},on:{\"click\":function($event){_vm.triggerDownloadReport\n                     (_vm.userUUId, _vm.startDate, _vm.endDate, _vm.onlyBookmarks,\n                     _vm.needAll, _vm.stuffDownloadType, _vm.stuffFileName, _vm.fileType)}}},[_vm._v(\"Download\")])],1)],1)]]}}])})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.roomTemplate,\"gradient\":\"to bottom, #00000020, #FF910020, #00000050\",\"max-height\":\"200\",\"max-width\":\"600\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Template\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Template of Room\")]),_c('p',[_vm._v(\".xls document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to download the template for uploading room \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"Download\")])],1)],1)]]}}])})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.roomImport,\"gradient\":\"to bottom, #00000020, #E1F5FE20, #00000050\",\"max-height\":\"200\",\"max-width\":\"600\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Import\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Import Your Room\")]),_c('p',[_vm._v(\".xl / .xls / .csv document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to upload room \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"deep-purple accent-4\"}},[_vm._v(\"Upload\")])],1)],1)]]}}])})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.furnitureTemplate,\"gradient\":\"to bottom, #00000020, #00000050, #00000050\",\"max-height\":\"200\",\"max-width\":\"600\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Template\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Template of Furniture\")]),_c('p',[_vm._v(\".xls document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to download the template for uploading furniture \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"Download\")])],1)],1)]]}}])})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.furnitureImport,\"gradient\":\"to bottom, #00000020, #1DE9B620, #00000050\",\"max-height\":\"200\",\"max-width\":\"600\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Import\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Import Your Furniture\")]),_c('p',[_vm._v(\".xl / .xls / .csv document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to upload furniture \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"deep-purple accent-4\"}},[_vm._v(\"Upload\")])],1)],1)]]}}])})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.stuffTemplate,\"gradient\":\"to bottom, #00000020, #B388FF20, #00000050\",\"max-height\":\"200\",\"max-width\":\"600\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Template\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Template of Stuff\")]),_c('p',[_vm._v(\".xls document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to download the template for uploading stuff \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"Download\")])],1)],1)]]}}])})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [[_c('v-card',{staticClass:\"mx-auto my-2 transition-swing\",attrs:{\"elevation\":hover? 12:2}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.exportImgURL.stuffImport,\"gradient\":\"to bottom, #00000020, #FF572220, #00000050\",\"max-height\":\"200\",\"max-width\":\"600\"}},[_c('v-card-text',[_c('div',[_vm._v(\"Import\")]),_c('p',{staticClass:\"text-h4 white--text\"},[_vm._v(\"Import Your Stuff\")]),_c('p',[_vm._v(\".xl / .xls / .csv document\")]),_c('div',{staticClass:\"white--text\"},[_vm._v(\" Click to upload stuff \")])])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"deep-purple accent-4\"}},[_vm._v(\"Upload\")])],1)],1)]]}}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const exportImgURL = {\r\n    roomReport: \"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fe8717364-cff0-4ad6-9e26-fe4373ff41b6%2F52b81b6e-09f2-4dd7-a19f-c164aa57d0ea%2F1.jpg?table=block&id=88d1f96e-7f32-4c03-8779-584792dd05ed&spaceId=e8717364-cff0-4ad6-9e26-fe4373ff41b6&width=600&userId=9f607b9e-3871-4700-ae85-31546a3a1ceb&cache=v2\",\r\n    roomImport: \"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fe8717364-cff0-4ad6-9e26-fe4373ff41b6%2F310e35d7-ed95-4e12-896d-b4b0792eb00e%2Fhennybabe1k.png?id=31e4eb54-7ec4-47e5-b117-9a51053caf60&table=block&spaceId=e8717364-cff0-4ad6-9e26-fe4373ff41b6&width=600&userId=9f607b9e-3871-4700-ae85-31546a3a1ceb&cache=v2\",\r\n    roomTemplate: \"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fe8717364-cff0-4ad6-9e26-fe4373ff41b6%2Fd3bd867d-8fbb-42cc-a9b8-8d597a3adc00%2F2.png?table=block&id=8a11433a-57d1-45e1-a9bc-1a0c02cd7c19&spaceId=e8717364-cff0-4ad6-9e26-fe4373ff41b6&width=600&userId=9f607b9e-3871-4700-ae85-31546a3a1ceb&cache=v2\",\r\n\r\n    furnitureReport: \"https://news.cgtn.com/news/3567444e7951444f3149544d32456a4e35557a4e31457a6333566d54/img/8fa61fa0970b49e680b8753f246e87e8/8fa61fa0970b49e680b8753f246e87e8.jpg\",\r\n    furnitureImport: \"https://www.wapititravel.com/blog/wp-content/uploads/2022/12/jeongbang_waterfall_jeju_south_korea.jpeg\",\r\n    furnitureTemplate: \"https://hips.hearstapps.com/hmg-prod/images/the-city-of-arts-and-sciences-valencia-spai-1651683436.jpg\",\r\n\r\n    stuffReport: \"https://www.iesabroad.org/sites/default/files/2023-07/cherry-blossom-spring-seoul-south-korea.jpg\",\r\n    stuffImport: \"https://www.tooistanbul.com/wp-content/uploads/2020/06/hagia-sophia.jpg\",\r\n    stuffTemplate: \"https://i2-prod.mirror.co.uk/incoming/article28701443.ece/ALTERNATES/s1200b/0_Tower-Bridge-in-London-England-United-Kingdomjp.jpg\"\r\n}\r\n","import server from \"@/api/basicRequest\";\r\n\r\n//导出三种报表专用API\r\nexport function downloadReport(userUUId, downloadType, data) {\r\n    //downloadType只能是：room, furniture, stuff\r\n    return server.post(\r\n        `/${downloadType}/${userUUId}/download_report_form`,\r\n        //post form-data\r\n        //data写在config前，data为form/data数据\r\n        data,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n            responseType: 'blob', // 重点，responseType设置为 blob\r\n        })\r\n}\r\n\r\n//下载三种报表模板API\r\n","<template>\r\n  <v-container class=\"my-0 mx-0 px-0 py-0\">\r\n    <v-row>\r\n      <v-col cols=\"4\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n\r\n                  :src=\"exportImgURL.roomReport\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000010, #F8BBD020, #00000050\"\r\n                  height=\"200\"\r\n                  max-width=\"400\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Download Room</div>\r\n                  <p class=\"text-h4 white--text\">Room Report</p>\r\n                  <p>.xlsx document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to download your room information what you already have\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"amber accent-4\" @click=\"triggerDownloadReport\r\n                       (userUUId, startDate, endDate, onlyBookmarks,\r\n                       needAll, roomDownloadType, roomFileName, fileType)\">Download</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n      <v-col cols=\"4\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.furnitureReport\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #536DFE20, #00000050\"\r\n                  height=\"200\"\r\n                  max-width=\"400\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Download Furniture</div>\r\n                  <p class=\"text-h4 white--text\">Furniture Report</p>\r\n                  <p>.xlsx document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to download your furniture information what you already have\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"pink accent-4\" @click=\"triggerDownloadReport\r\n                       (userUUId, startDate, endDate, onlyBookmarks,\r\n                       needAll, furnitureDownloadType, furnitureFileName, fileType)\"\r\n                >Download\r\n                </v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n      <v-col cols=\"4\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.stuffReport\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #EA80FC20, #00000050\"\r\n                  height=\"200\"\r\n                  max-width=\"400\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Download Stuff</div>\r\n                  <p class=\"text-h4 white--text\">Stuff Report</p>\r\n                  <p>.xlsx document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to download your stuff information what you already have\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"teal accent-4\" @click=\"triggerDownloadReport\r\n                       (userUUId, startDate, endDate, onlyBookmarks,\r\n                       needAll, stuffDownloadType, stuffFileName, fileType)\">Download</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"6\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.roomTemplate\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #FF910020, #00000050\"\r\n                  max-height=\"200\"\r\n                  max-width=\"600\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Template</div>\r\n                  <p class=\"text-h4 white--text\">Template of Room</p>\r\n                  <p>.xls document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to download the template for uploading room\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"teal accent-4\">Download</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n      <v-col cols=\"6\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.roomImport\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #E1F5FE20, #00000050\"\r\n                  max-height=\"200\"\r\n                  max-width=\"600\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Import</div>\r\n                  <p class=\"text-h4 white--text\">Import Your Room</p>\r\n                  <p>.xl / .xls / .csv document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to upload room\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"deep-purple accent-4\">Upload</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"6\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.furnitureTemplate\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #00000050, #00000050\"\r\n                  max-height=\"200\"\r\n                  max-width=\"600\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Template</div>\r\n                  <p class=\"text-h4 white--text\">Template of Furniture</p>\r\n                  <p>.xls document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to download the template for uploading furniture\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"teal accent-4\">Download</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n      <v-col cols=\"6\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.furnitureImport\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #1DE9B620, #00000050\"\r\n                  max-height=\"200\"\r\n                  max-width=\"600\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Import</div>\r\n                  <p class=\"text-h4 white--text\">Import Your Furniture</p>\r\n                  <p>.xl / .xls / .csv document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to upload furniture\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"deep-purple accent-4\">Upload</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"6\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.stuffTemplate\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #B388FF20, #00000050\"\r\n                  max-height=\"200\"\r\n                  max-width=\"600\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Template</div>\r\n                  <p class=\"text-h4 white--text\">Template of Stuff</p>\r\n                  <p>.xls document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to download the template for uploading stuff\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"teal accent-4\">Download</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n      <v-col cols=\"6\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <template>\r\n            <v-card :elevation=\"hover? 12:2\" class=\"mx-auto my-2 transition-swing\">\r\n              <v-img\r\n                  :src=\"exportImgURL.stuffImport\"\r\n                  class=\"white--text\"\r\n                  gradient=\"to bottom, #00000020, #FF572220, #00000050\"\r\n                  max-height=\"200\"\r\n                  max-width=\"600\"\r\n              >\r\n                <v-card-text>\r\n                  <div>Import</div>\r\n                  <p class=\"text-h4 white--text\">Import Your Stuff</p>\r\n                  <p>.xl / .xls / .csv document</p>\r\n                  <div class=\"white--text\">\r\n                    Click to upload stuff\r\n                  </div>\r\n                </v-card-text>\r\n              </v-img>\r\n              <v-card-actions>\r\n                <v-btn text color=\"deep-purple accent-4\">Upload</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </template>\r\n        </v-hover>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport {exportImgURL} from \"@/assets/js/exportImgCDN\";\r\nimport {downloadReport} from \"@/api/downloadReportRequest/downloadReportApi\";\r\n\r\n\r\nexport default {\r\n  name: 'ImportView',\r\n  computed: {\r\n    exportImgURL() {\r\n      return exportImgURL\r\n    }\r\n  },\r\n  components: {},\r\n  data: () => ({\r\n    userUUId: '648fdfbb54b0950d00c37c2e',\r\n    startDate: '2020-02-12',\r\n    endDate: '2020-02-12',\r\n    onlyBookmarks: false,\r\n    needAll: true,\r\n    roomDownloadType: 'room',\r\n    furnitureDownloadType: 'furniture',\r\n    stuffDownloadType: 'stuff',\r\n    roomFileName: '房间报表',\r\n    furnitureFileName: '家具报表',\r\n    stuffFileName: '物品报表',\r\n    fileType: '.xlsx'\r\n  }),\r\n  methods: {\r\n    //下载报表：房间，家具，物品\r\n    triggerDownloadReport(userUUId, startDate, endDate, onlyBookmarks,\r\n                          needAll, downloadType, fileName, fileType) {\r\n      //组装form/data数据\r\n      let data = new FormData()\r\n      data.append('start_date', startDate)\r\n      data.append('end_date', endDate)\r\n      data.append('only_bookmarks', onlyBookmarks)\r\n      data.append('need_all', needAll)\r\n      //收集userUUId, downloadType, fileName, fileType-->调用家具API\r\n      downloadReport(userUUId, downloadType, data).then(res => {\r\n        if (!res) {\r\n          console.log(\"download field\")\r\n          return\r\n        }\r\n        let blob = window.URL.createObjectURL(new Blob([res.data], {type: \"application/x-msdownload\"}));\r\n        var elink = document.createElement('a');\r\n        elink.download = fileName + fileType;\r\n        elink.style.display = 'none';\r\n        elink.href = blob;\r\n        document.body.appendChild(elink);\r\n        elink.click();\r\n        document.body.removeChild(elink);\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImportView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImportView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportView.vue?vue&type=template&id=f03b530c&\"\nimport script from \"./ImportView.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"my-0 mx-0 px-0 py-0\"},[_c('v-row',[_c('v-col',[_c('v-hover',{staticClass:\"transition-swing\",scopedSlots:_vm._u([{key:\"default\",fn:function({ hover }){return [_c('v-sheet',{attrs:{\"rounded\":\"\",\"elevation\":hover ? 8 : 2}},[_c('div',{ref:\"chartdiv\",attrs:{\"id\":\"chartdiv\"}})])]}}])})],1),_c('v-col',[_c('v-hover',{staticClass:\"transition-swing\",scopedSlots:_vm._u([{key:\"default\",fn:function({ hover }){return [_c('v-sheet',{attrs:{\"rounded\":\"\",\"elevation\":hover ? 8 : 2}},[_c('div',{ref:\"piechartdiv\",attrs:{\"id\":\"piechartdiv\"}})])]}}])})],1)],1),_c('v-row',[_c('v-col',[_c('v-hover',{staticClass:\"transition-swing\",scopedSlots:_vm._u([{key:\"default\",fn:function({ hover }){return [_c('v-sheet',{attrs:{\"rounded\":\"\",\"elevation\":hover ? 8 : 2}},[_c('div',{ref:\"ganttchartdiv\",attrs:{\"id\":\"ganttchartdiv\"}})])]}}])})],1),_c('v-col',[_c('v-hover',{staticClass:\"transition-swing\",scopedSlots:_vm._u([{key:\"default\",fn:function({ hover }){return [_c('v-sheet',{attrs:{\"rounded\":\"\",\"elevation\":hover ? 8 : 2}},[_c('div',{ref:\"xychartdiv\",attrs:{\"id\":\"xychartdiv\"}})])]}}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nexport function indexOf(array, value) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nexport function any(array, test) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nexport function map(array, fn) {\r\n    const length = array.length;\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function each(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachReverse(array, fn) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachContinue(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nexport function shiftLeft(array, index) {\r\n    const length = array.length;\r\n    for (let i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function last(array) {\r\n    const length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nexport function insert(array, element, index) {\r\n    //if (array) {\r\n    index = Math.max(0, Math.min(index, array.length));\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nexport function setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nexport function pushAll(array, input) {\r\n    const length = input.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nexport function remove(array, element) {\r\n    let found = false;\r\n    let index = 0;\r\n    for (;;) {\r\n        index = array.indexOf(element, index);\r\n        if (index === -1) {\r\n            return found;\r\n        }\r\n        else {\r\n            found = true;\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexport function removeFirst(array, element) {\r\n    let index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nexport function move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    let index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nexport function add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Pushes `element` into `array` if it doesn't already exist.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n */\r\nexport function pushOne(array, element) {\r\n    if (array.indexOf(element) === -1) {\r\n        array.push(element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nexport function replace(array, element, index) {\r\n    // check if exists\r\n    let ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nexport function toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nexport function has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nexport function copy(array) {\r\n    const length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nexport function slice(array, start, end = array.length) {\r\n    const output = new Array(end - start);\r\n    for (let i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nexport function insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nexport function removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndex(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * This is the same as `findIndex` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndexReverse(array, matches) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function find(array, matches) {\r\n    const index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * This is the same as `find` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findReverse(array, matches) {\r\n    const index = findIndexReverse(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If value\r\n * is not `undefined`, it returns it.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findMap(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        const value = matches(array[i], i);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    let currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns right-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns left-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getFirstSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            end = pivot;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: start\r\n    };\r\n}\r\nexport function keepIf(array, keep) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (!keep(array[i])) {\r\n            array.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Array.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * A class for creating an IDisposer.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class Disposer {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    constructor(dispose) {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Method that disposes the object.\r\n         */\r\n        Object.defineProperty(this, \"_dispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * This can be extended by other classes to add a `_disposers` property.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class ArrayDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _dispose() {\r\n        $array.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n}\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class MultiDisposer extends DisposerClass {\r\n    constructor(disposers) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposers = disposers;\r\n    }\r\n    _dispose() {\r\n        $array.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n    get disposers() {\r\n        return this._disposers;\r\n    }\r\n}\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport class MutableValueDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Current disposer.\r\n         */\r\n        Object.defineProperty(this, \"_disposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Current value.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _dispose() {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n            this._disposer = undefined;\r\n        }\r\n    }\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    get() {\r\n        return this._value;\r\n    }\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    set(value, disposer) {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n        }\r\n        this._disposer = disposer;\r\n        this._value = value;\r\n    }\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    reset() {\r\n        this.set(undefined, undefined);\r\n    }\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport class CounterDisposer extends Disposer {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        Object.defineProperty(this, \"_counter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    increment() {\r\n        // TODO throw an error if it is disposed\r\n        ++this._counter;\r\n        // TODO make this more efficient\r\n        return new Disposer(() => {\r\n            --this._counter;\r\n            if (this._counter === 0) {\r\n                this.dispose();\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Disposer.js.map","/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n */\r\nexport function isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n * @ignore\r\n */\r\nexport function getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * Asserts that the condition is true.\r\n *\r\n * @param condition  Condition to check\r\n * @param message    Message to display in the error\r\n * @ignore\r\n */\r\nexport function assert(condition, message = \"Assertion failed\") {\r\n    if (!condition) {\r\n        throw new Error(message);\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nexport function toNumber(value) {\r\n    if (value != null && !isNumber(value)) {\r\n        let converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\") {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts anything to Date object.\r\n *\r\n * @param value  A value of any type\r\n * @return Date object representing a value\r\n */\r\nexport function toDate(value) {\r\n    if (isDate(value)) {\r\n        // TODO maybe don't create a new Date ?\r\n        return new Date(value);\r\n    }\r\n    else if (isNumber(value)) {\r\n        return new Date(value);\r\n    }\r\n    else {\r\n        // Try converting to number (assuming timestamp)\r\n        let num = Number(value);\r\n        if (!isNumber(num)) {\r\n            return new Date(value);\r\n        }\r\n        else {\r\n            return new Date(num);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric value into string. Deals with large or small numbers that\r\n * would otherwise use exponents.\r\n *\r\n * @param value  Numeric value\r\n * @return Numeric value as string\r\n */\r\nexport function numberToString(value) {\r\n    // TODO handle Infinity and -Infinity\r\n    if (isNaN(value)) {\r\n        return \"NaN\";\r\n    }\r\n    if (value === Infinity) {\r\n        return \"Infinity\";\r\n    }\r\n    if (value === -Infinity) {\r\n        return \"-Infinity\";\r\n    }\r\n    // Negative 0\r\n    if ((value === 0) && (1 / value === -Infinity)) {\r\n        return \"-0\";\r\n    }\r\n    // Preserve negative and deal with absoute values\r\n    let negative = value < 0;\r\n    value = Math.abs(value);\r\n    // TODO test this\r\n    let parsed = /^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\" + value);\r\n    let digits = parsed[1];\r\n    let decimals = parsed[2] || \"\";\r\n    let res;\r\n    // Leave the nummber as it is if it does not use exponents\r\n    if (parsed[3] === undefined) {\r\n        res = (decimals === \"\" ? digits : digits + \".\" + decimals);\r\n    }\r\n    else {\r\n        let exponent = +parsed[3];\r\n        // Deal with decimals\r\n        if (value < 1) {\r\n            let zeros = exponent - 1;\r\n            res = \"0.\" + repeat(\"0\", zeros) + digits + decimals;\r\n            // Deal with integers\r\n        }\r\n        else {\r\n            let zeros = exponent - decimals.length;\r\n            if (zeros === 0) {\r\n                res = digits + decimals;\r\n            }\r\n            else if (zeros < 0) {\r\n                res = digits + decimals.slice(0, zeros) + \".\" + decimals.slice(zeros);\r\n            }\r\n            else {\r\n                res = digits + decimals + repeat(\"0\", zeros);\r\n            }\r\n        }\r\n    }\r\n    return negative ? \"-\" + res : res;\r\n}\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nexport function repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nexport function isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nexport function isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nexport function isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nexport function isObject(value) {\r\n    return typeof value === \"object\" && value !== null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nexport function isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * STATIC CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport const PLACEHOLDER = \"__§§§__\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport const PLACEHOLDER2 = \"__§§§§__\";\r\n//# sourceMappingURL=Type.js.map","/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nexport class EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_killed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iterating\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_enabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            const a = this._listeners;\r\n            this._iterating = 1;\r\n            this._listeners = null;\r\n            this._disabled = null;\r\n            try {\r\n                $array.each(a, (x) => {\r\n                    x.disposer.dispose();\r\n                });\r\n            }\r\n            finally {\r\n                this._killed = null;\r\n                this._iterating = null;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    hasListeners() {\r\n        return this._listeners.length !== 0;\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    hasListenersByType(type) {\r\n        return $array.any(this._listeners, (x) => (x.type === null || x.type === type) && !x.killed);\r\n    }\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    enable() {\r\n        this._enabled = true;\r\n    }\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    disable() {\r\n        this._enabled = false;\r\n    }\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    enableType(type) {\r\n        delete this._disabled[type];\r\n    }\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    disableType(type, amount = Infinity) {\r\n        this._disabled[type] = amount;\r\n    }\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    _removeListener(listener) {\r\n        if (this._iterating === 0) {\r\n            const index = this._listeners.indexOf(listener);\r\n            if (index === -1) {\r\n                throw new Error(\"Invalid state: could not remove listener\");\r\n            }\r\n            this._listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this._killed.push(listener);\r\n        }\r\n    }\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    _removeExistingListener(once, type, callback, context) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.once === once && // TODO is this correct ?\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    isEnabled(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        // TODO is this check correct ?\r\n        return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] === undefined;\r\n    }\r\n    /**\r\n     * Removes all listeners of a particular event type\r\n     *\r\n     * @param type  Listener's type\r\n     */\r\n    removeType(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.type === type) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    has(type, callback, context) {\r\n        const index = $array.findIndex(this._listeners, (info) => {\r\n            return info.once !== true && // Ignoring \"once\" listeners\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context;\r\n        });\r\n        return index !== -1;\r\n    }\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    _shouldDispatch(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        const count = this._disabled[type];\r\n        if (!$type.isNumber(count)) {\r\n            return this._enabled;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[type];\r\n            }\r\n            else {\r\n                --this._disabled[type];\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    _eachListener(fn) {\r\n        ++this._iterating;\r\n        try {\r\n            $array.each(this._listeners, fn);\r\n        }\r\n        finally {\r\n            --this._iterating;\r\n            // TODO should this be inside or outside the finally ?\r\n            if (this._iterating === 0 && this._killed.length !== 0) {\r\n                // Remove killed listeners\r\n                $array.each(this._killed, (killed) => {\r\n                    this._removeListener(killed);\r\n                });\r\n                this._killed.length = 0;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    dispatch(type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            // TODO check if it's faster to use an object of listeners rather than a single big array\r\n            // TODO if the function throws, maybe it should keep going ?\r\n            this._eachListener((listener) => {\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    listener.dispatch(type, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    /*public dispatchLater<Key extends keyof T>(type: Key, event: T[Key]): void {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener((listener) => {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(() => {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }*/\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._removeExistingListener(once, type, callback, context);\r\n        const info = {\r\n            type: type,\r\n            callback: callback,\r\n            context: context,\r\n            shouldClone: shouldClone,\r\n            dispatch: dispatch,\r\n            killed: false,\r\n            once: once,\r\n            disposer: new Disposer(() => {\r\n                info.killed = true;\r\n                this._removeListener(info);\r\n            })\r\n        };\r\n        this._listeners.push(info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    onAll(callback, context, shouldClone = true) {\r\n        return this._on(false, null, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    on(type, callback, context, shouldClone = true) {\r\n        return this._on(false, type, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    once(type, callback, context, shouldClone = true) {\r\n        const x = this._on(true, type, callback, context, shouldClone, (_type, event) => {\r\n            x.disposer.dispose();\r\n            callback.call(context, event);\r\n        });\r\n        // TODO maybe this should return a different Disposer ?\r\n        return x.disposer;\r\n    }\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    off(type, callback, context) {\r\n        this._removeExistingListener(false, type, callback, context);\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        $array.each(source._listeners, (x) => {\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @ignore\r\n */\r\nexport class TargetedEventDispatcher extends EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    constructor(target) {\r\n        super();\r\n        /**\r\n         * A target object which is originating events using this dispatcher.\r\n         */\r\n        Object.defineProperty(this, \"target\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        $array.each(source._listeners, (x) => {\r\n            // TODO very hacky\r\n            if (x.context === source.target) {\r\n                return;\r\n            }\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n//# sourceMappingURL=EventDispatcher.js.map","import { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * Checks if specific index fits into length.\r\n *\r\n * @param index  Index\r\n * @param len    Length\r\n * @ignore\r\n */\r\nfunction checkBounds(index, len) {\r\n    if (!(index >= 0 && index < len)) {\r\n        throw new Error(\"Index out of bounds: \" + index);\r\n    }\r\n}\r\n/**\r\n * A List class is used to hold a number of indexed items of the same type.\r\n */\r\nexport class List {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    constructor(initial = []) {\r\n        /**\r\n         * List values.\r\n         */\r\n        Object.defineProperty(this, \"_values\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._values = initial;\r\n    }\r\n    /**\r\n     * An array of values in the list.\r\n     *\r\n     * Do not use this property to add values. Rather use dedicated methods, like\r\n     * `push()`, `removeIndex()`, etc.\r\n     *\r\n     * @readonly\r\n     * @return List values\r\n     */\r\n    get values() {\r\n        return this._values;\r\n    }\r\n    /**\r\n     * Checks if list contains specific item reference.\r\n     *\r\n     * @param item  Item to search for\r\n     * @return `true` if found, `false` if not found\r\n     */\r\n    contains(value) {\r\n        return this._values.indexOf(value) !== -1;\r\n    }\r\n    /**\r\n     * Removes specific item from the list.\r\n     *\r\n     * @param item An item to remove\r\n     */\r\n    removeValue(value) {\r\n        let i = 0;\r\n        let length = this._values.length;\r\n        while (i < length) {\r\n            // TODO handle NaN\r\n            if (this._values[i] === value) {\r\n                this.removeIndex(i);\r\n                --length;\r\n            }\r\n            else {\r\n                ++i;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Searches the list for specific item and returns its index.\r\n     *\r\n     * @param item  An item to search for\r\n     * @return Index or -1 if not found\r\n     */\r\n    indexOf(value) {\r\n        return $array.indexOf(this._values, value);\r\n    }\r\n    /**\r\n     * Number of items in list.\r\n     *\r\n     * @readonly\r\n     * @return Number of items\r\n     */\r\n    get length() {\r\n        return this._values.length;\r\n    }\r\n    /**\r\n     * Checks if there's a value at specific index.\r\n     *\r\n     * @param index  Index\r\n     * @return Value exists?\r\n     */\r\n    hasIndex(index) {\r\n        return index >= 0 && index < this._values.length;\r\n    }\r\n    /**\r\n     * Returns an item at specified index.\r\n     *\r\n     * @param index  Index\r\n     * @return List item\r\n     */\r\n    getIndex(index) {\r\n        return this._values[index];\r\n    }\r\n    _onPush(newValue) {\r\n        if (this.events.isEnabled(\"push\")) {\r\n            this.events.dispatch(\"push\", {\r\n                type: \"push\",\r\n                target: this,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.events.isEnabled(\"insertIndex\")) {\r\n            this.events.dispatch(\"insertIndex\", {\r\n                type: \"insertIndex\",\r\n                target: this,\r\n                index,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.events.isEnabled(\"setIndex\")) {\r\n            this.events.dispatch(\"setIndex\", {\r\n                type: \"setIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.events.isEnabled(\"removeIndex\")) {\r\n            this.events.dispatch(\"removeIndex\", {\r\n                type: \"removeIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue\r\n            });\r\n        }\r\n    }\r\n    _onMoveIndex(oldIndex, newIndex, value) {\r\n        if (this.events.isEnabled(\"moveIndex\")) {\r\n            this.events.dispatch(\"moveIndex\", {\r\n                type: \"moveIndex\",\r\n                target: this,\r\n                oldIndex,\r\n                newIndex,\r\n                value,\r\n            });\r\n        }\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.events.isEnabled(\"clear\")) {\r\n            this.events.dispatch(\"clear\", {\r\n                type: \"clear\",\r\n                target: this,\r\n                oldValues\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Sets value at specific index.\r\n     *\r\n     * If there's already a value at the index, it is overwritten.\r\n     *\r\n     * @param index  Index\r\n     * @param value  New value\r\n     * @return New value\r\n     */\r\n    setIndex(index, value) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        // Do nothing if the old value and the new value are the same\r\n        if (oldValue !== value) {\r\n            this._values[index] = value;\r\n            this._onSetIndex(index, oldValue, value);\r\n        }\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Adds an item to the list at a specific index, which pushes all the other\r\n     * items further down the list.\r\n     *\r\n     * @param index Index\r\n     * @param item  An item to add\r\n     */\r\n    insertIndex(index, value) {\r\n        checkBounds(index, this._values.length + 1);\r\n        $array.insertIndex(this._values, index, value);\r\n        this._onInsertIndex(index, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    swap(a, b) {\r\n        const len = this._values.length;\r\n        checkBounds(a, len);\r\n        checkBounds(b, len);\r\n        if (a !== b) {\r\n            const value_a = this._values[a];\r\n            const value_b = this._values[b];\r\n            this._values[a] = value_b;\r\n            this._onSetIndex(a, value_a, value_b);\r\n            this._values[b] = value_a;\r\n            this._onSetIndex(b, value_b, value_a);\r\n        }\r\n    }\r\n    /**\r\n     * Removes a value at specific index.\r\n     *\r\n     * @param index  Index of value to remove\r\n     * @return Removed value\r\n     */\r\n    removeIndex(index) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        $array.removeIndex(this._values, index);\r\n        this._onRemoveIndex(index, oldValue);\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Moves an item to a specific index within the list.\r\n     *\r\n     * If the index is not specified it will move the item to the end of the\r\n     * list.\r\n     *\r\n     * @param value  Item to move\r\n     * @param index  Index to place item at\r\n     */\r\n    moveValue(value, toIndex) {\r\n        // TODO don't do anything if the desired index is the same as the current index\r\n        let index = this.indexOf(value);\r\n        // TODO remove all old values rather than only the first ?\r\n        if (index !== -1) {\r\n            $array.removeIndex(this._values, index);\r\n            if (toIndex == null) {\r\n                const toIndex = this._values.length;\r\n                this._values.push(value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n            else {\r\n                $array.insertIndex(this._values, toIndex, value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n        }\r\n        else if (toIndex == null) {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        }\r\n        else {\r\n            $array.insertIndex(this._values, toIndex, value);\r\n            this._onInsertIndex(toIndex, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item to the end of the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    push(value) {\r\n        this._values.push(value);\r\n        this._onPush(value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item as a first item in the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    unshift(value) {\r\n        this.insertIndex(0, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds multiple items to the list.\r\n     *\r\n     * @param items  An Array of items to add\r\n     */\r\n    pushAll(values) {\r\n        $array.each(values, (value) => {\r\n            this.push(value);\r\n        });\r\n    }\r\n    /**\r\n     * Copies and adds items from abother list.\r\n     *\r\n     * @param source  A list top copy items from\r\n     */\r\n    copyFrom(source) {\r\n        this.pushAll(source._values);\r\n    }\r\n    /**\r\n     * Returns the last item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    pop() {\r\n        let index = this._values.length - 1;\r\n        return index < 0 ? undefined : this.removeIndex(this._values.length - 1);\r\n    }\r\n    /**\r\n     * Returns the first item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    shift() {\r\n        return this._values.length ? this.removeIndex(0) : undefined;\r\n    }\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    setAll(newArray) {\r\n        const old = this._values;\r\n        this._values = [];\r\n        this._onClear(old);\r\n        $array.each(newArray, (value) => {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        });\r\n    }\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    clear() {\r\n        this.setAll([]);\r\n    }\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    *[Symbol.iterator]() {\r\n        const length = this._values.length;\r\n        for (let i = 0; i < length; ++i) {\r\n            yield this._values[i];\r\n        }\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    each(f) {\r\n        $array.each(this._values, f);\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list, from right to left.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    eachReverse(f) {\r\n        $array.eachReverse(this._values, f);\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] where the elements are disposed automatically when\r\n * removed from the list, unless `autoDispose` is set to `false`.\r\n */\r\nexport class ListAutoDispose extends List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Automatically disposes elements that are removed from the list.\r\n         *\r\n         * @default true\r\n         */\r\n        Object.defineProperty(this, \"autoDispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onRemoveIndex(index, oldValue);\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.autoDispose) {\r\n            $array.each(oldValues, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n        super._onClear(oldValues);\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            if (this.autoDispose) {\r\n                $array.each(this._values, (x) => {\r\n                    x.dispose();\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] that is able to create new elements as well as\r\n * apply additional settings to newly created items.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/list-templates/} for more info\r\n */\r\nexport class ListTemplate extends ListAutoDispose {\r\n    constructor(template, make) {\r\n        super();\r\n        Object.defineProperty(this, \"template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"make\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.template = template;\r\n        this.make = make;\r\n    }\r\n}\r\n//# sourceMappingURL=List.js.map","import { List } from \"./List\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A version of [[List]] to hold children of the [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n */\r\nexport class Children extends List {\r\n    constructor(container) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._container = container;\r\n        this._events = this.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (x) => {\r\n                    this._onRemoved(x);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._onInserted(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._onRemoved(change.value);\r\n                this._onInserted(change.value, change.newIndex);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n    }\r\n    _onInserted(child, index) {\r\n        child._setParent(this._container, true);\r\n        const childrenDisplay = this._container._childrenDisplay;\r\n        if (index === undefined) {\r\n            childrenDisplay.addChild(child._display);\r\n        }\r\n        else {\r\n            childrenDisplay.addChildAt(child._display, index);\r\n        }\r\n    }\r\n    _onRemoved(child) {\r\n        this._container._childrenDisplay.removeChild(child._display);\r\n        this._container.markDirtyBounds();\r\n        this._container.markDirty();\r\n    }\r\n    /**\r\n     * Returns `true` if obejct is disposed.\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Permanently dispose this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._events.dispose();\r\n            $array.each(this.values, (child) => {\r\n                child.dispose();\r\n            });\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Children.js.map","/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am5.percent(X)`.\r\n *\r\n * You can also use shortcut functions for `0%`, `50%`, and `100%`:\r\n * * `am5.p0`\r\n * * `am5.p50`\r\n * * `am5.p1000`\r\n */\r\nexport class Percent {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    constructor(percent) {\r\n        /**\r\n         * Value in percent.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = percent;\r\n    }\r\n    /**\r\n     * Relative value.\r\n     *\r\n     * E.g. 100% is 1, 50% is 0.5, etc.\r\n     *\r\n     * This is useful to apply transformations to other values. E.g.:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * Alternatively, you can use `am5.percent()` helper function:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * @readonly\r\n     * @return Relative value\r\n     */\r\n    get value() {\r\n        return this._value / 100;\r\n    }\r\n    /**\r\n     * Value in percent.\r\n     *\r\n     * @return Percent\r\n     */\r\n    get percent() {\r\n        return this._value;\r\n    }\r\n    toString() {\r\n        return \"\" + this._value + \"%\";\r\n    }\r\n    interpolate(min, max) {\r\n        return min + (this.value * (max - min));\r\n    }\r\n    static normalize(percent, min, max) {\r\n        if (percent instanceof Percent) {\r\n            return percent;\r\n        }\r\n        else {\r\n            if (min === max) {\r\n                return new Percent(0);\r\n            }\r\n            else {\r\n                return new Percent(Math.min(Math.max((percent - min) * (1 / (max - min)), 0), 1) * 100);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nexport function percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * A shortcut function to `am5.percent(0)`.\r\n */\r\nexport const p0 = percent(0);\r\n/**\r\n * A shortcut function to `am5.percent(100)`.\r\n */\r\nexport const p100 = percent(100);\r\n/**\r\n * A shortcut function to `am5.percent(50)`.\r\n */\r\nexport const p50 = percent(50);\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nexport function isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n//# sourceMappingURL=Percent.js.map","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","import * as $type from \"./Type\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport { Disposer, DisposerClass } from \"./Disposer\";\r\n/**\r\n * ============================================================================\r\n * DOM FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Execute a function when DOM is ready.\r\n *\r\n * @since 5.0.2\r\n * @param  f  Callback\r\n */\r\nexport function ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        const listener = () => {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener);\r\n    }\r\n}\r\n/**\r\n * Removes a DOM element.\r\n * @param  el  Target element\r\n */\r\nexport function removeElement(el) {\r\n    if (el.parentNode) {\r\n        el.parentNode.removeChild(el);\r\n    }\r\n}\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    //console.log(type, dom);\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new Disposer(() => {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * Function that adds an event listener which is triggered when the browser's zoom changes.\r\n *\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function onZoom(listener) {\r\n    // TODO use matchMedia instead ?\r\n    return addEventListener(window, \"resize\", (_ev) => {\r\n        listener();\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function supports(cap) {\r\n    switch (cap) {\r\n        case \"touchevents\":\r\n            //return \"ontouchstart\" in document.documentElement;\r\n            return window.hasOwnProperty(\"TouchEvent\");\r\n        case \"pointerevents\":\r\n            return window.hasOwnProperty(\"PointerEvent\");\r\n        case \"mouseevents\":\r\n            return window.hasOwnProperty(\"MouseEvent\");\r\n        case \"wheelevents\":\r\n            return window.hasOwnProperty(\"WheelEvent\");\r\n        case \"keyboardevents\":\r\n            return window.hasOwnProperty(\"KeyboardEvent\");\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getPointerId(event) {\r\n    let id = event.pointerId || 0;\r\n    //console.log(event);\r\n    return id;\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore\r\n */\r\nexport function blur() {\r\n    if (document.activeElement && document.activeElement != document.body) {\r\n        if (document.activeElement.blur) {\r\n            document.activeElement.blur();\r\n        }\r\n        else {\r\n            let input = document.createElement(\"button\");\r\n            input.style.position = \"fixed\";\r\n            input.style.top = \"0px\";\r\n            input.style.left = \"-10000px\";\r\n            document.body.appendChild(input);\r\n            input.focus();\r\n            input.blur();\r\n            document.body.removeChild(input);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Focuses element.\r\n *\r\n * @ignore\r\n */\r\nexport function focus(el) {\r\n    if (el) {\r\n        el.focus();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getRendererEvent(key) {\r\n    if (supports(\"pointerevents\")) {\r\n        return key;\r\n    }\r\n    else if (supports(\"touchevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"touchstart\";\r\n            case \"pointerout\": return \"touchend\";\r\n            case \"pointerleave\": return \"touchend\";\r\n            case \"pointerdown\": return \"touchstart\";\r\n            case \"pointermove\": return \"touchmove\";\r\n            case \"pointerup\": return \"touchend\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    else if (supports(\"mouseevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"mouseover\";\r\n            case \"pointerout\": return \"mouseout\";\r\n            case \"pointerleave\": return \"mouseleave\";\r\n            case \"pointerdown\": return \"mousedown\";\r\n            case \"pointermove\": return \"mousemove\";\r\n            case \"pointerup\": return \"mouseup\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    return key;\r\n}\r\n/**\r\n * Determines if pointer event originated from a touch pointer or mouse.\r\n *\r\n * @param ev  Original event\r\n * @return Touch pointer?\r\n */\r\nexport function isTouchEvent(ev) {\r\n    if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n        return true;\r\n    }\r\n    else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && ev.pointerType != null) {\r\n        switch (ev.pointerType) {\r\n            case \"touch\":\r\n            case \"pen\":\r\n            case 2:\r\n                return true;\r\n            case \"mouse\":\r\n            case 4:\r\n                return false;\r\n            default:\r\n                return !(ev instanceof MouseEvent);\r\n        }\r\n    }\r\n    else if (ev.type != null) {\r\n        if (ev.type.match(/^mouse/)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function setStyle(dom, property, value) {\r\n    dom.style[property] = value;\r\n}\r\nexport function getStyle(dom, property) {\r\n    return dom.style[property];\r\n}\r\n/**\r\n * Gets the target of the event, works for shadow DOM too.\r\n */\r\nexport function getEventTarget(event) {\r\n    if (event.composedPath) {\r\n        const path = event.composedPath();\r\n        if (path.length === 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return path[0];\r\n        }\r\n    }\r\n    else {\r\n        return event.target;\r\n    }\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nexport function contains(a, b) {\r\n    let cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns `true` if pointer event originated on an element within Root.\r\n *\r\n * @since 5.2.8\r\n * @param  event   Event\r\n * @param  target  Target element\r\n */\r\nexport function isLocalEvent(event, target) {\r\n    return event.target && contains(target.root.dom, event.target);\r\n}\r\n/**\r\n * Disables or enables interactivity of a DOM element.\r\n *\r\n * @param  target       Target element\r\n * @param  interactive  Interactive?\r\n */\r\nexport function setInteractive(target, interactive) {\r\n    if (interactive) {\r\n        target.style.pointerEvents = \"auto\";\r\n    }\r\n    else {\r\n        target.style.pointerEvents = \"none\";\r\n    }\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nexport function getShadowRoot(a) {\r\n    let cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nlet rootStylesheet;\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nfunction createStylesheet(element, text, nonce = \"\") {\r\n    // TODO use createElementNS ?\r\n    const e = document.createElement(\"style\");\r\n    e.type = \"text/css\";\r\n    if (nonce != \"\") {\r\n        e.setAttribute(\"nonce\", nonce);\r\n    }\r\n    e.textContent = text;\r\n    if (element === null) {\r\n        document.head.appendChild(e);\r\n    }\r\n    else {\r\n        element.appendChild(e);\r\n    }\r\n    return e;\r\n}\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element, nonce = \"\") {\r\n    if (element === null) {\r\n        if (rootStylesheet == null) {\r\n            // TODO use createElementNS ?\r\n            const e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (nonce != \"\") {\r\n                e.setAttribute(\"nonce\", nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        const e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (nonce != \"\") {\r\n            e.setAttribute(\"nonce\", nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    const index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nexport class StyleRule extends DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    constructor(element, selector, styles, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * CSS rule.\r\n         */\r\n        Object.defineProperty(this, \"_rule\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._root = getStylesheet(element, nonce);\r\n        try {\r\n            this._rule = appendStylesheet(this._root, selector);\r\n            $object.each(styles, (key, value) => {\r\n                this.setStyle(key, value);\r\n            });\r\n        }\r\n        catch (err) {\r\n            // Create an empty rule on failed selectors\r\n            this._rule = new CSSStyleRule();\r\n        }\r\n    }\r\n    /**\r\n     * A CSS selector text.\r\n     *\r\n     * E.g.: `.myClass p`\r\n     *\r\n     * @param selector  CSS selector\r\n     */\r\n    set selector(selector) {\r\n        this._rule.selectorText = selector;\r\n    }\r\n    /**\r\n     * @return CSS selector\r\n     */\r\n    get selector() {\r\n        return this._rule.selectorText;\r\n    }\r\n    // TODO test this\r\n    _dispose() {\r\n        // TODO a bit hacky\r\n        const index = $array.indexOf(this._root.cssRules, this._rule);\r\n        if (index === -1) {\r\n            throw new Error(\"Could not dispose StyleRule\");\r\n        }\r\n        else {\r\n            // TODO if it's empty remove it from the DOM ?\r\n            this._root.deleteRule(index);\r\n        }\r\n    }\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    _setVendorPrefixName(name, value) {\r\n        const style = this._rule.style;\r\n        style.setProperty(\"-webkit-\" + name, value, \"\");\r\n        style.setProperty(\"-moz-\" + name, value, \"\");\r\n        style.setProperty(\"-ms-\" + name, value, \"\");\r\n        style.setProperty(\"-o-\" + name, value, \"\");\r\n        style.setProperty(name, value, \"\");\r\n    }\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    setStyle(name, value) {\r\n        if (name === \"transition\") {\r\n            this._setVendorPrefixName(name, value);\r\n        }\r\n        else {\r\n            this._rule.style.setProperty(name, value, \"\");\r\n        }\r\n    }\r\n}\r\n/**\r\n * Defines a class for an entire CSS style sheet.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nexport class StyleSheet extends DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param text  CSS stylesheet\r\n     */\r\n    constructor(element, text, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._element = createStylesheet(element, text, nonce);\r\n    }\r\n    _dispose() {\r\n        if (this._element.parentNode) {\r\n            this._element.parentNode.removeChild(this._element);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        const classes = className.split(\" \");\r\n        $array.each(classes, (name) => {\r\n            element.classList.add(name);\r\n        });\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n    }\r\n}\r\n// /**\r\n//  * Applies a set of styles to an element. Stores the original styles so they\r\n//  * can be restored later.\r\n//  *\r\n//  * @ignore\r\n//  * @param io      Element\r\n//   */\r\n// export function prepElementForDrag(dom: HTMLElement): void {\r\n// \t// @todo: save current values\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"none\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n// }\r\n// /**\r\n//  * Restores replaced styles\r\n//  *\r\n//  * @ignore\r\n//  * @param  io  Element\r\n//  */\r\n// export function unprepElementForDrag(dom: HTMLElement): void {\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"\");\r\n// }\r\nexport function iOS() {\r\n    return /apple/i.test(navigator.vendor) && \"ontouchend\" in document;\r\n}\r\nexport function getSafeResolution() {\r\n    return iOS() ? 1 : undefined;\r\n}\r\nexport function relativeToValue(percent, full) {\r\n    if ($type.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && $type.isNumber(percent.value) && $type.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nexport function decimalPlaces(number) {\r\n    let match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nexport function padString(value, len = 0, char = \"0\") {\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\nexport function trimLeft(text) {\r\n    return text.replace(/^[\\s]*/, \"\");\r\n}\r\nexport function trimRight(text) {\r\n    return text.replace(/[\\s]*$/, \"\");\r\n}\r\nexport function trim(text) {\r\n    return trimLeft(trimRight(text));\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nexport function getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return \"string\";\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    let hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === \"number\") {\r\n        return \"number\";\r\n    }\r\n    if (format === \"date\") {\r\n        return \"date\";\r\n    }\r\n    if (format === \"duration\") {\r\n        return \"duration\";\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return \"number\";\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return \"date\";\r\n    }\r\n    // Nothing? Let's display as string\r\n    return \"string\";\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nexport function cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nexport function stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nexport function plainText(text) {\r\n    return text ? stripTags((\"\" + text).replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nexport function escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * Adds space before each uppercase letter.\r\n *\r\n * @param   str Input string\r\n * @return      Output string\r\n */\r\nexport function addSpacing(str) {\r\n    let result = \"\";\r\n    for (let i = 0; i < str.length; i++) {\r\n        const char = str.charAt(i);\r\n        if (char.toUpperCase() == char && i != 0) {\r\n            result += \" \";\r\n        }\r\n        result += char;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nexport function getYearDay(date, utc = false) {\r\n    // TODO: utc needed?\r\n    utc;\r\n    const start = new Date(date.getFullYear(), 0, 0);\r\n    const diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    const oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nexport function getWeek(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return Math.ceil((((d.getTime() - firstDay.getTime()) / 86400000) + 1) / 7);\r\n}\r\n/**\r\n * Returns a \"week year\" of the given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year of week\r\n * @since 5.3.0\r\n * @todo Account for UTC\r\n */\r\nexport function getWeekYear(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return firstDay.getFullYear();\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nexport function getMonthWeek(date, utc = false) {\r\n    const firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    let currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nexport function getDayFromWeek(week, year, weekday = 1, utc = false) {\r\n    let date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    let day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nexport function get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return base != null ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the time zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nexport function getTimeZone(date, long = false, savings = false, utc = false, timezone) {\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    else if (timezone) {\r\n        const d1 = date.toLocaleString(\"en-US\", { timeZone: timezone });\r\n        const d2 = date.toLocaleString(\"en-US\", { timeZone: timezone, timeZoneName: long ? \"long\" : \"short\" });\r\n        return trim(d2.substr(d1.length));\r\n    }\r\n    let wotz = date.toLocaleString(\"UTC\");\r\n    let wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return wtz;\r\n}\r\nexport function getTimezoneOffset(timezone) {\r\n    const date = new Date(Date.UTC(2012, 0, 1, 0, 0, 0, 0));\r\n    const utcDate = new Date(date.toLocaleString(\"en-US\", { timeZone: \"UTC\" }));\r\n    const tzDate = new Date(date.toLocaleString(\"en-US\", { timeZone: timezone }));\r\n    return (tzDate.getTime() - utcDate.getTime()) / 6e4 * -1;\r\n}\r\nexport function capitalizeFirst(text) {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nexport function hslToRgb(color) {\r\n    let r, g, b;\r\n    let h = color.h;\r\n    let s = color.s;\r\n    let l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        let hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        let p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nexport function rgbToHsl(color) {\r\n    let r = color.r / 255;\r\n    let g = color.g / 255;\r\n    let b = color.b / 255;\r\n    let max = Math.max(r, g, b);\r\n    let min = Math.min(r, g, b);\r\n    let h = 0;\r\n    let s = 0;\r\n    let l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        let d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l\r\n    };\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nexport function lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getLightnessStep(value, percent) {\r\n    let base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nexport function brighten(rgb, percent) {\r\n    if (rgb) {\r\n        let base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        let step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getBrightnessStep(_value, percent) {\r\n    let base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nexport function isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @ignore Exclude from docs\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nexport function saturate(rgb, saturation) {\r\n    if (rgb === undefined || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    let hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\nexport function alternativeColor(color, lightAlternative = { r: 255, g: 255, b: 255 }, darkAlternative = { r: 255, g: 255, b: 255 }) {\r\n    let light = lightAlternative;\r\n    let dark = darkAlternative;\r\n    if (isLight(darkAlternative)) {\r\n        light = darkAlternative;\r\n        dark = lightAlternative;\r\n    }\r\n    return isLight(color) ? dark : light;\r\n}\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function unshiftThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.unshift(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function pushThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.push(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n */\r\nexport function mergeTags(tags1, tags2) {\r\n    if (!tags1) {\r\n        tags1 = [];\r\n    }\r\n    return [...tags1, ...tags2].filter((value, index, self) => {\r\n        return self.indexOf(value) === index;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function sameBounds(a, b) {\r\n    if (!b) {\r\n        return false;\r\n    }\r\n    if (a.left != b.left) {\r\n        return false;\r\n    }\r\n    if (a.right != b.right) {\r\n        return false;\r\n    }\r\n    if (a.top != b.top) {\r\n        return false;\r\n    }\r\n    if (a.bottom != b.bottom) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=Utils.js.map","import { range } from \"./Animation\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * @ignore\r\n */\r\nfunction string2hex(string) {\r\n    //string = cssColorNames[string.toLowerCase()] || string;\r\n    if (string[0] === \"#\") {\r\n        string = string.substr(1);\r\n    }\r\n    if (string.length == 3) {\r\n        string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);\r\n    }\r\n    return parseInt(string, 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function rgba2hex(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    let matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return 0x000000;\r\n        }\r\n    }\r\n    let hex = \"\";\r\n    for (let i = 1; i <= 3; i++) {\r\n        let val = parseInt(matches[i]).toString(16);\r\n        if (val.length == 1) {\r\n            val = \"0\" + val;\r\n        }\r\n        hex += val;\r\n    }\r\n    return string2hex(hex);\r\n}\r\n/**\r\n * Returns a new [[Color]] object base on input.\r\n *\r\n * Accepts parameters in CSS hex or rgb/rtba strings, or hex numbers.\r\n *\r\n * * `\"#f00\"`\r\n * * `\"#ff0000\"`\r\n * * `\"rgb(255, 0, 0)\"`\r\n * * `\"rgba(255, 0, 0, 1)\"`\r\n * * `0xff0000`\r\n *\r\n * @param   input  Input color\r\n * @return         Color\r\n */\r\nexport function color(input) {\r\n    return Color.fromAny(input);\r\n}\r\n/**\r\n * Wherever color needs to be specified in amCharts 5, `Color` object needs to\r\n * be used.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more info\r\n * @important\r\n */\r\nexport class Color {\r\n    constructor(hex) {\r\n        Object.defineProperty(this, \"_hex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._hex = hex | 0;\r\n    }\r\n    /**\r\n     * Color numeric value.\r\n     */\r\n    get hex() {\r\n        return this._hex;\r\n    }\r\n    /**\r\n     * Value of color's R channel.\r\n     * @return R value\r\n     */\r\n    get r() {\r\n        return this._hex >>> 16;\r\n    }\r\n    /**\r\n     * Value of color's G channel.\r\n     * @return G value\r\n     */\r\n    get g() {\r\n        return (this._hex >> 8) & 0xFF;\r\n    }\r\n    /**\r\n     * Value of color's B channel.\r\n     * @return B value\r\n     */\r\n    get b() {\r\n        return this._hex & 0xFF;\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `rgba(r, g, b, a)` string.\r\n     *\r\n     * @param   alpha  Opacity\r\n     * @return         CSS string\r\n     */\r\n    toCSS(alpha = 1) {\r\n        return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + alpha + \")\";\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `#rgb` string.\r\n     *\r\n     * @return         CSS string\r\n     */\r\n    toCSSHex() {\r\n        return \"#\" + $utils.padString(this.r.toString(16), 2) + $utils.padString(this.g.toString(16), 2) + $utils.padString(this.b.toString(16), 2);\r\n    }\r\n    /**\r\n     * Returns color's HSL info.\r\n     * @param   alpha Opacity\r\n     * @return        HSL info\r\n     */\r\n    toHSL(alpha = 1) {\r\n        return $utils.rgbToHsl({\r\n            r: this.r,\r\n            g: this.g,\r\n            b: this.b,\r\n            a: alpha\r\n        });\r\n    }\r\n    /**\r\n     * Converts HSL values into a new [[Color]] object.\r\n     *\r\n     * @param   h H value\r\n     * @param   s S value\r\n     * @param   l L value\r\n     * @return    Color object\r\n     */\r\n    static fromHSL(h, s, l) {\r\n        const rgb = $utils.hslToRgb({\r\n            h: h,\r\n            s: s,\r\n            l: l\r\n        });\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    toString() {\r\n        return this.toCSSHex();\r\n    }\r\n    /**\r\n     * Converts hex number into a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     *\r\n     * @param   hex  Hex color\r\n     * @return       Color\r\n     */\r\n    static fromHex(hex) {\r\n        return new Color(hex);\r\n    }\r\n    /**\r\n     * Converts RGB values to a new [[Color]] object.\r\n     *\r\n     * @param   r  R value\r\n     * @param   g  G value\r\n     * @param   b  B value\r\n     * @return     Color\r\n     */\r\n    static fromRGB(r, g, b) {\r\n        return new Color((b | 0) + (g << 8) + (r << 16));\r\n    }\r\n    /**\r\n     * Converts RGB string to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     *\r\n     * @param   s  RGB string\r\n     * @return     Color\r\n     */\r\n    static fromString(s) {\r\n        return new Color(string2hex(s));\r\n    }\r\n    /**\r\n     * Converts CSS rgba() syntax to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     *\r\n     * @param  {string} s [description]\r\n     * @return {Color}    [description]\r\n     */\r\n    static fromCSS(s) {\r\n        return new Color(rgba2hex(s));\r\n    }\r\n    /**\r\n     * Convert to color from virtually anything.\r\n     *\r\n     * Will throw an exception if unable to resolve the color.\r\n     *\r\n     * @param   s  Source\r\n     * @return     Color\r\n     */\r\n    static fromAny(s) {\r\n        if ($type.isString(s)) {\r\n            if (s[0] == \"#\") {\r\n                return Color.fromString(s);\r\n            }\r\n            else if (s.substr(0, 3) == \"rgb\") {\r\n                return Color.fromCSS(s);\r\n            }\r\n        }\r\n        else if ($type.isNumber(s)) {\r\n            return Color.fromHex(s);\r\n        }\r\n        else if (s instanceof Color) {\r\n            return Color.fromHex(s.hex);\r\n        }\r\n        throw new Error(\"Unknown color syntax: \" + s);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] object based on either `lightAlternative` or\r\n     * `darkAlternative` depending on which one is more contrasting with\r\n     * the `color`.\r\n     *\r\n     * @param   color             Reference color\r\n     * @param   lightAlternative  Light color\r\n     * @param   darkAlternative   Dark color\r\n     * @return                    Alternative color\r\n     */\r\n    static alternative(color, lightAlternative, darkAlternative) {\r\n        const rgb = $utils.alternativeColor({ r: color.r, g: color.g, b: color.b }, lightAlternative ? { r: lightAlternative.r, g: lightAlternative.g, b: lightAlternative.b } : undefined, darkAlternative ? { r: darkAlternative.r, g: darkAlternative.g, b: darkAlternative.b } : undefined);\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns an intermediate Color between two reference colors depending on\r\n     * the progress (`diff`) between the two.\r\n     *\r\n     * @param   diff  Progress\r\n     * @param   from  Source color\r\n     * @param   to    Target color\r\n     * @param   mode  Interpolation mode\r\n     * @return        Color\r\n     */\r\n    static interpolate(diff, from, to, mode = \"rgb\") {\r\n        if (mode == \"hsl\") {\r\n            const fromHSL = from.toHSL();\r\n            const toHSL = to.toHSL();\r\n            return Color.fromHSL(range(diff, fromHSL.h, toHSL.h), range(diff, fromHSL.s, toHSL.s), range(diff, fromHSL.l, toHSL.l));\r\n        }\r\n        else {\r\n            return Color.fromRGB(range(diff, from.r, to.r), range(diff, from.g, to.g), range(diff, from.b, to.b));\r\n        }\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] lightened by `percent` value.\r\n     *\r\n     * Use negative value to darken the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static lighten(color, percent) {\r\n        const rgb = $utils.lighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] brightened by `percent` value.\r\n     *\r\n     * Use negative value to dim the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static brighten(color, percent) {\r\n        const rgb = $utils.brighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] saturated by `percent` value.\r\n     *\r\n     * Value range is between `0` (fully desaturated), to `1` (full color).\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static saturate(color, percent) {\r\n        const rgb = $utils.saturate({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n}\r\n//# sourceMappingURL=Color.js.map","import * as $array from \"./Array\";\r\nexport function keys(object) {\r\n    return Object.keys(object);\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nexport function keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\nexport function copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\nexport function each(object, f) {\r\n    keys(object).forEach((key) => {\r\n        f(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function eachContinue(object, fn) {\r\n    for (let key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nexport function eachOrdered(object, fn, ord) {\r\n    $array.each(keysOrdered(object, ord), (key) => {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nexport function hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined, but only if property in target object doesn't have a value set.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nexport function softCopyProperties(source, target) {\r\n    each(source, (key, value) => {\r\n        // only if value is set\r\n        //if ($type.hasValue(value) && !($type.hasValue((<any>target)[key]))) {\r\n        if (value != null && target[key] == null) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n//# sourceMappingURL=Object.js.map","import { __awaiter } from \"tslib\";\r\nimport { Percent } from \"./Percent\";\r\nimport { Color } from \"./Color\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $object from \"./Object\";\r\n/**\r\n * @ignore\r\n */\r\nexport function waitForAnimations(animations) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (animations !== undefined) {\r\n            const promises = [];\r\n            $object.each(animations, (_, animation) => {\r\n                promises.push(animation.waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function normalize(value, min, max) {\r\n    if (min === max) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return Math.min(Math.max((value - min) * (1 / (max - min)), 0), 1);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function range(diff, from, to) {\r\n    return from + (diff * (to - from));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function defaultInterpolate(diff, from, to) {\r\n    if (diff >= 1) {\r\n        return to;\r\n    }\r\n    else {\r\n        return from;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function percentInterpolate(diff, from, to) {\r\n    return new Percent(range(diff, from.percent, to.percent));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function colorInterpolate(diff, from, to) {\r\n    return Color.interpolate(diff, from, to);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getInterpolate(from, to) {\r\n    if (typeof from === \"number\" && typeof to === \"number\") {\r\n        return range;\r\n    }\r\n    if (from instanceof Percent && to instanceof Percent) {\r\n        return percentInterpolate;\r\n    }\r\n    if (from instanceof Color && to instanceof Color) {\r\n        return colorInterpolate;\r\n    }\r\n    return defaultInterpolate;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class AnimationTime {\r\n    constructor(entity, duration) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_playingDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_startingTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_current\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n        this._duration = duration;\r\n    }\r\n    _stopEvent() {\r\n        const type = \"stopped\";\r\n        if (this.events.isEnabled(type)) {\r\n            this.events.dispatch(type, { type: type, target: this });\r\n        }\r\n    }\r\n    _runAnimation(currentTime) {\r\n        if (this._playingDuration !== null) {\r\n            if (this._startingTime === null) {\r\n                this._startingTime = currentTime;\r\n                return true;\r\n            }\r\n            else {\r\n                const diff = (currentTime - this._startingTime) / this._playingDuration;\r\n                if (diff >= 1) {\r\n                    this._playingDuration = null;\r\n                    this._startingTime = null;\r\n                    this._from = this._to;\r\n                    this._current = this._to;\r\n                    this._entity.markDirty();\r\n                    this._stopEvent();\r\n                    const type = \"ended\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                    return false;\r\n                }\r\n                else {\r\n                    this._current = range(diff, this._from, this._to);\r\n                    this._entity.markDirty();\r\n                    const type = \"progress\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this, progress: diff });\r\n                    }\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _play() {\r\n        this._from = this._current;\r\n        if (this._playingDuration === null) {\r\n            this._entity._root._addAnimation(this);\r\n            const type = \"started\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n        else {\r\n            this._startingTime = null;\r\n        }\r\n        this._playingDuration = Math.abs(this._to - this._from) * this._duration;\r\n    }\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n    set duration(value) {\r\n        if (this._duration !== value) {\r\n            this._duration = value;\r\n            if (value === 0) {\r\n                this.jumpTo(this._to);\r\n            }\r\n            else if (this._current !== this._to) {\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n    get current() {\r\n        if (this.easing) {\r\n            return this.easing(this._current);\r\n        }\r\n        else {\r\n            return this._current;\r\n        }\r\n    }\r\n    stop() {\r\n        this.jumpTo(this._current);\r\n    }\r\n    jumpTo(value) {\r\n        if (this._current !== value) {\r\n            this._entity.markDirty();\r\n        }\r\n        if (this._playingDuration !== null) {\r\n            this._stopEvent();\r\n        }\r\n        this._playingDuration = null;\r\n        this._startingTime = null;\r\n        this._current = value;\r\n        this._from = value;\r\n        this._to = value;\r\n    }\r\n    tweenTo(value) {\r\n        if (this._current === value || this._duration === 0) {\r\n            this.jumpTo(value);\r\n        }\r\n        else {\r\n            if (this._to !== value) {\r\n                this._to = value;\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n}\r\n/*export class AnimationValue extends AnimationTime {\r\n    public _min: number;\r\n    public _max: number;\r\n\r\n    constructor(entity: Entity, duration: number, min: number, max: number) {\r\n        super(entity, duration);\r\n        this._min = min;\r\n        this._max = max;\r\n    }\r\n\r\n    public get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    public set min(value: number) {\r\n        if (this._min !== value) {\r\n            this._min = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    public set max(value: number) {\r\n        if (this._max !== value) {\r\n            this._max = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public currentValue(): number {\r\n        return range(super.currentTime(), this._min, this._max);\r\n    }\r\n\r\n    public jumpToValue(value: number) {\r\n        super.jumpToTime(normalize(value, this._min, this._max));\r\n    }\r\n\r\n    public tweenToValue(value: number) {\r\n        super.tweenToTime(normalize(value, this._min, this._max));\r\n    }\r\n}\r\n*/\r\n//# sourceMappingURL=Animation.js.map","/**\r\n * A collection of easing functions\r\n *\r\n * Parts of this collection are taken from D3.js library (https://d3js.org/)\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * The functions below are from D3.js library (https://d3js.org/)\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Copyright 2017 Mike Bostock\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer in the documentation\r\n *\tand/or other materials provided with the distribution.\r\n *\r\n * 3. Neither the name of the copyright holder nor the names of its\r\n *\tcontributors may be used to endorse or promote products derived from this\r\n *\tsoftware without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n * ----------------------------------------------------------------------------\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function linear(t) {\r\n    return t;\r\n}\r\nexport function quad(t) {\r\n    return t * t;\r\n}\r\nexport function cubic(t) {\r\n    return t * t * t;\r\n}\r\nexport function pow(t, e) {\r\n    return Math.pow(t, e);\r\n}\r\nexport function exp(t) {\r\n    return Math.pow(2, 10 * t - 10);\r\n}\r\nexport function sine(t) {\r\n    return 1 - Math.cos(t * $math.HALFPI);\r\n}\r\nexport function circle(t) {\r\n    return 1 - Math.sqrt(1 - t * t);\r\n}\r\n/**\r\n * ============================================================================\r\n * TRANSFORMERS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function yoyo(ease) {\r\n    return function (t) {\r\n        if (t < 0.5) {\r\n            return ease(t * 2.0);\r\n        }\r\n        else {\r\n            return ease((1.0 - t) * 2.0);\r\n        }\r\n    };\r\n}\r\nexport function out(ease) {\r\n    return function (t) {\r\n        return 1.0 - ease(1.0 - t);\r\n    };\r\n}\r\nexport function inOut(ease) {\r\n    return function (t) {\r\n        if (t <= 0.5) {\r\n            return ease(t * 2.0) / 2.0;\r\n        }\r\n        else {\r\n            return 1.0 - (ease((1.0 - t) * 2.0) / 2.0);\r\n        }\r\n    };\r\n}\r\n/**\r\n * ============================================================================\r\n * BOUNCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\nlet b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;\r\nexport function bounce(t) {\r\n    return 1 - bounceOut(1 - t);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction bounceOut(t) {\r\n    t = t;\r\n    if (t < b1) {\r\n        return b0 * t * t;\r\n    }\r\n    else if (t < b3) {\r\n        return b0 * (t -= b2) * t + b4;\r\n    }\r\n    else if (t < b6) {\r\n        return b0 * (t -= b5) * t + b7;\r\n    }\r\n    else {\r\n        return b0 * (t -= b8) * t + b9;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * ELASTIC\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore\r\n */\r\nlet tau = 2 * Math.PI;\r\n/**\r\n * @ignore\r\n */\r\nlet amplitude = 1;\r\n/**\r\n * @ignore\r\n */\r\nlet period = 0.3 / tau;\r\n/**\r\n * @ignore\r\n */\r\nlet s = Math.asin(1 / amplitude) * period;\r\nexport function elastic(t) {\r\n    let v = t;\r\n    return amplitude * Math.pow(2, 10 * --v) * Math.sin((s - v) / period);\r\n}\r\n//# sourceMappingURL=Ease.js.map","import * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\n/**\r\n * An object representing a collection of setting values to apply as required.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nexport class State {\r\n    constructor(entity, settings) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_userSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n        this._settings = settings;\r\n        $object.each(settings, (key) => {\r\n            this._userSettings[key] = true;\r\n        });\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._settings[key] = value;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` to be set when the state\r\n     * is applied.\r\n     *\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userSettings[key] = true;\r\n        this.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userSettings[key];\r\n        delete this._settings[key];\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        $object.keys(settings).forEach((key) => {\r\n            this.set(key, settings[key]);\r\n        });\r\n    }\r\n    _eachSetting(f) {\r\n        $object.each(this._settings, f);\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * All setting values are set immediately.\r\n     */\r\n    apply() {\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this !== defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                this._entity.set(key, value);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @return           Animations\r\n     */\r\n    applyAnimate(duration) {\r\n        if (duration == null) {\r\n            duration = this._settings.stateAnimationDuration;\r\n        }\r\n        if (duration == null) {\r\n            duration = this.get(\"stateAnimationDuration\", this._entity.get(\"stateAnimationDuration\", 0));\r\n        }\r\n        let easing = this._settings.stateAnimationEasing;\r\n        if (easing == null) {\r\n            easing = this.get(\"stateAnimationEasing\", this._entity.get(\"stateAnimationEasing\", $ease.cubic));\r\n        }\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const animations = {};\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this != defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                const animation = this._entity.animate({\r\n                    key: key,\r\n                    to: value,\r\n                    duration: duration,\r\n                    easing: easing\r\n                });\r\n                if (animation) {\r\n                    animations[key] = animation;\r\n                }\r\n            }\r\n        });\r\n        return animations;\r\n    }\r\n}\r\n/**\r\n * Collection of [[State]] objects for an element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nexport class States {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Checks if a state by `name` exists. Returns it there is one.\r\n     *\r\n     * @param  name  State name\r\n     * @return       State\r\n     */\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    /**\r\n     * Sets supplied `settings` on a state by the `name`.\r\n     *\r\n     * If such state does not yet exists, it is created.\r\n     *\r\n     * @param   name      State name\r\n     * @param   settings  Settings\r\n     * @return            New State\r\n     */\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new State(this._entity, settings);\r\n            this._states[name] = state;\r\n            return state;\r\n        }\r\n    }\r\n    /**\r\n     * Removes the state called `name`.\r\n     *\r\n     * @param   name      State name\r\n     */\r\n    remove(name) {\r\n        delete this._states[name];\r\n    }\r\n    /**\r\n     * Applies a named state to the target element.\r\n     *\r\n     * @param  newState  State name\r\n     */\r\n    apply(newState) {\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            state.apply();\r\n        }\r\n        this._entity._applyState(newState);\r\n    }\r\n    /**\r\n     * Applies a named state to the element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @param   newState  State name\r\n     * @return            Animations\r\n     */\r\n    applyAnimate(newState, duration) {\r\n        let animations;\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            animations = state.applyAnimate(duration);\r\n        }\r\n        this._entity._applyStateAnimated(newState, duration);\r\n        return animations;\r\n    }\r\n}\r\n//# sourceMappingURL=States.js.map","/**\r\n * @ignore\r\n */\r\nexport class Registry {\r\n    constructor() {\r\n        /**\r\n         * Currently running version of amCharts.\r\n         */\r\n        Object.defineProperty(this, \"version\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"5.4.11\"\r\n        });\r\n        /**\r\n         * List of applied licenses.\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"licenses\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Entities that have their `id` setting set.\r\n         */\r\n        Object.defineProperty(this, \"entitiesById\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * All created [[Root]] elements.\r\n         */\r\n        Object.defineProperty(this, \"rootElements\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\n/**\r\n    * @ignore\r\n */\r\nexport const registry = new Registry();\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @param  license  License key\r\n */\r\nexport function addLicense(license) {\r\n    registry.licenses.push(license);\r\n}\r\n/**\r\n * Disposes all [[Root]] elements.\r\n */\r\nexport function disposeAllRootElements() {\r\n    let root;\r\n    while (root = registry.rootElements.pop()) {\r\n        root.dispose();\r\n    }\r\n}\r\n//# sourceMappingURL=Registry.js.map","/**\r\n * @ignore\r\n */\r\nexport function compare(left, right) {\r\n    if (left === right) {\r\n        return 0;\r\n    }\r\n    else if (left < right) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareArray(left, right, f) {\r\n    const leftLength = left.length;\r\n    const rightLength = right.length;\r\n    const length = Math.min(leftLength, rightLength);\r\n    for (let i = 0; i < length; ++i) {\r\n        const order = f(left[i], right[i]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n    }\r\n    return compare(leftLength, rightLength);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function reverse(order) {\r\n    if (order < 0) {\r\n        return 1;\r\n    }\r\n    else if (order > 0) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareNumber(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n//# sourceMappingURL=Order.js.map","import { Disposer } from \"./Disposer\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport { getInterpolate } from \"./Animation\";\r\nimport { States } from \"./States\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\nimport * as $array from \"./Array\";\r\nimport * as $order from \"./Order\";\r\n/**\r\n * Allows to dynamically modify setting value of its target element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n */\r\nexport class Adapters {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Add a function (`callback`) that will modify value for setting `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n     */\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        this._entity._markDirtyKey(key);\r\n        return new Disposer(() => {\r\n            if ($array.removeFirst(callbacks, callback)) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes all adapters for the specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n            if (callbacks.length !== 0) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Enables (previously disabled) adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    enable(key) {\r\n        if (this._disabled[key]) {\r\n            delete this._disabled[key];\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * Disables all adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    disable(key) {\r\n        if (!this._disabled[key]) {\r\n            this._disabled[key] = true;\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fold(key, value) {\r\n        if (!this._disabled[key]) {\r\n            const callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                for (let i = 0, len = callbacks.length; i < len; ++i) {\r\n                    value = callbacks[i](value, this._entity, key);\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n}\r\n/**\r\n * Animation object.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/} for more info\r\n */\r\nexport class Animation {\r\n    constructor(animation, from, to, duration, easing, loops, startingTime) {\r\n        Object.defineProperty(this, \"_animation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_loops\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_interpolate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_oldTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_time\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_stopped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_playing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._animation = animation;\r\n        this._from = from;\r\n        this._to = to;\r\n        this._duration = duration;\r\n        this._easing = easing;\r\n        this._loops = loops;\r\n        this._interpolate = getInterpolate(from, to);\r\n        this._oldTime = startingTime;\r\n    }\r\n    get to() {\r\n        return this._to;\r\n    }\r\n    get from() {\r\n        return this._from;\r\n    }\r\n    get playing() {\r\n        return this._playing;\r\n    }\r\n    get stopped() {\r\n        return this._stopped;\r\n    }\r\n    stop() {\r\n        if (!this._stopped) {\r\n            this._stopped = true;\r\n            this._playing = false;\r\n            if (this.events.isEnabled(\"stopped\")) {\r\n                this.events.dispatch(\"stopped\", {\r\n                    type: \"stopped\",\r\n                    target: this,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    pause() {\r\n        this._playing = false;\r\n        this._oldTime = null;\r\n    }\r\n    play() {\r\n        if (!this._stopped && !this._playing) {\r\n            this._playing = true;\r\n            this._animation._startAnimation();\r\n        }\r\n    }\r\n    get percentage() {\r\n        return this._time / this._duration;\r\n    }\r\n    waitForStop() {\r\n        return new Promise((resolve, _reject) => {\r\n            if (this._stopped) {\r\n                resolve();\r\n            }\r\n            else {\r\n                const listener = () => {\r\n                    stopped.dispose();\r\n                    resolve();\r\n                };\r\n                const stopped = this.events.on(\"stopped\", listener);\r\n            }\r\n        });\r\n    }\r\n    _checkEnded() {\r\n        if (this._loops > 1) {\r\n            --this._loops;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _run(currentTime) {\r\n        if (this._oldTime !== null) {\r\n            this._time += currentTime - this._oldTime;\r\n            if (this._time > this._duration) {\r\n                this._time = this._duration;\r\n            }\r\n        }\r\n        this._oldTime = currentTime;\r\n    }\r\n    _reset(currentTime) {\r\n        this._oldTime = currentTime;\r\n        this._time = 0;\r\n    }\r\n    _value(diff) {\r\n        return this._interpolate(this._easing(diff), this._from, this._to);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nlet counter = 0;\r\n/**\r\n * Base class for [[Entity]] objects that support Settings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n */\r\nexport class Settings {\r\n    constructor(settings) {\r\n        /**\r\n         * Unique ID.\r\n         */\r\n        Object.defineProperty(this, \"uid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: ++counter\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_playingAnimations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO move this into Entity\r\n        Object.defineProperty(this, \"_userProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._settings = settings;\r\n    }\r\n    _checkDirty() {\r\n        $object.keys(this._settings).forEach((key) => {\r\n            this._userProperties[key] = true;\r\n            this._markDirtyKey(key);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    resetUserSettings() {\r\n        this._userProperties = {};\r\n    }\r\n    _runAnimation(currentTime) {\r\n        if (!this.isDisposed()) {\r\n            $object.each(this._animatingSettings, (key, animation) => {\r\n                if (animation._stopped) {\r\n                    this._stopAnimation(key);\r\n                }\r\n                else if (animation._playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.set(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            animation._reset(currentTime);\r\n                            this._set(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        this._set(key, animation._value(diff));\r\n                    }\r\n                }\r\n            });\r\n            $object.each(this._animatingPrivateSettings, (key, animation) => {\r\n                if (animation._stopped) {\r\n                    this._stopAnimationPrivate(key);\r\n                }\r\n                else if (animation._playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.setPrivate(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            animation._reset(currentTime);\r\n                            this._setPrivate(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        this._setPrivate(key, animation._value(diff));\r\n                    }\r\n                }\r\n            });\r\n            return this._playingAnimations !== 0;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _markDirtyKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    _markDirtyPrivateKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of settings changes\r\n     * or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    on(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of private settings\r\n     * changes or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @ignore\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    onPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getRaw(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    get(key, fallback) {\r\n        return this.getRaw(key, fallback);\r\n    }\r\n    _sendKeyEvent(key, value) {\r\n        const events = this._settingEvents[key];\r\n        if (events !== undefined) {\r\n            $array.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    _sendPrivateKeyEvent(key, value) {\r\n        const events = this._privateSettingEvents[key];\r\n        if (events !== undefined) {\r\n            $array.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setRaw(key, old, value) {\r\n        this._prevSettings[key] = old;\r\n        this._sendKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _set(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n            this._markDirtyKey(key);\r\n        }\r\n    }\r\n    _stopAnimation(key) {\r\n        const animation = this._animatingSettings[key];\r\n        if (animation) {\r\n            --this._playingAnimations;\r\n            delete this._animatingSettings[key];\r\n            animation.stop();\r\n        }\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._set(key, value);\r\n        this._stopAnimation(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        if (key in this._settings) {\r\n            this._prevSettings[key] = this._settings[key];\r\n            delete this._settings[key];\r\n            this._sendKeyEvent(key, undefined);\r\n            this._markDirtyKey(key);\r\n        }\r\n        this._stopAnimation(key);\r\n    }\r\n    /**\r\n     * Removes all keys;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     */\r\n    removeAll() {\r\n        $array.each($object.keys(this._settings), (key) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    /**\r\n     * Returns a value of a private setting.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/#Private_settings} for more info\r\n     */\r\n    getPrivate(key, fallback) {\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivateRaw(key, old, value) {\r\n        this._prevPrivateSettings[key] = old;\r\n        this._sendPrivateKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivate(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n    }\r\n    _stopAnimationPrivate(key) {\r\n        const animation = this._animatingPrivateSettings[key];\r\n        if (animation) {\r\n            --this._playingAnimations;\r\n            animation.stop();\r\n            delete this._animatingPrivateSettings[key];\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._setPrivate(key, value);\r\n        this._stopAnimationPrivate(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        if (key in this._privateSettings) {\r\n            this._prevPrivateSettings[key] = this._privateSettings[key];\r\n            delete this._privateSettings[key];\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n        this._stopAnimationPrivate(key);\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        $object.each(settings, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    /**\r\n     * Animates setting values from current/start values to new ones.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_settings} for more info\r\n     * @param   options  Animation options\r\n     * @return           Animation object\r\n     */\r\n    animate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.get(key) : options.from);\r\n        const easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.set(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.set(key, to);\r\n            }\r\n            else {\r\n                this.set(key, from);\r\n                const animation = this._animatingSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                ++this._playingAnimations;\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    animatePrivate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.getPrivate(key) : options.from);\r\n        const easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.setPrivate(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.setPrivate(key, to);\r\n            }\r\n            else {\r\n                this.setPrivate(key, from);\r\n                const animation = this._animatingPrivateSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                ++this._playingAnimations;\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    _dispose() { }\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * Base class.\r\n *\r\n * @important\r\n */\r\nexport class Entity extends Settings {\r\n    /**\r\n     * IMPORTANT! Do not instantiate this class via `new Class()` syntax.\r\n     *\r\n     * Use static method `Class.new()` instead.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @ignore\r\n     */\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(settings);\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_user_id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        }); // for testing purposes\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new States(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Adapters(this)\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._createEvents()\r\n        });\r\n        Object.defineProperty(this, \"_userPrivateProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPrivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Templates for the themes\r\n        Object.defineProperty(this, \"_templates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Internal templates which can be overridden by the user's templates\r\n        Object.defineProperty(this, \"_internalTemplates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Default themes which can be overridden by the user's themes\r\n        Object.defineProperty(this, \"_defaultThemes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Disposers for all of the templates\r\n        Object.defineProperty(this, \"_templateDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Whether the template setup function should be run\r\n        Object.defineProperty(this, \"_runSetup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposerProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._root = root;\r\n        this._internalTemplates = templates;\r\n        if (settings.id) {\r\n            this._registerId(settings.id);\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root, settings, template) {\r\n        const x = (new this(root, settings, true));\r\n        x._template = template;\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    static _new(root, settings, templates = []) {\r\n        const x = (new this(root, settings, true, templates));\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    _afterNew() {\r\n        this._checkDirty();\r\n        let shouldApply = false;\r\n        const template = this._template;\r\n        if (template) {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        }\r\n        $array.each(this._internalTemplates, (template) => {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        });\r\n        if (shouldApply) {\r\n            this._applyTemplates(false);\r\n        }\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n    }\r\n    // This is the same as _afterNew, except it also applies the themes.\r\n    // This should only be used for classes which don't have a parent (because they extend from Entity and not Sprite).\r\n    _afterNewApplyThemes() {\r\n        this._checkDirty();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._setObjectTemplate(this);\r\n        }\r\n        $array.each(this._internalTemplates, (template) => {\r\n            template._setObjectTemplate(this);\r\n        });\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n        this._applyThemes();\r\n    }\r\n    _createEvents() {\r\n        return new EventDispatcher();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get classNames() {\r\n        return this.constructor.classNames;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get className() {\r\n        return this.constructor.className;\r\n    }\r\n    _setDefaults() {\r\n    }\r\n    _setDefault(key, value) {\r\n        if (!(key in this._settings)) {\r\n            super.set(key, value);\r\n        }\r\n    }\r\n    _setRawDefault(key, value) {\r\n        if (!(key in this._settings)) {\r\n            super.setRaw(key, value);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        $object.keys(this._dirty).forEach((key) => {\r\n            this._dirty[key] = false;\r\n        });\r\n        $object.keys(this._dirtyPrivate).forEach((key) => {\r\n            this._dirtyPrivate[key] = false;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isDirty(key) {\r\n        return !!this._dirty[key];\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isPrivateDirty(key) {\r\n        return !!this._dirtyPrivate[key];\r\n    }\r\n    _markDirtyKey(key) {\r\n        this._dirty[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        this._dirtyPrivate[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    /**\r\n     * Checks if element is of certain class (or inherits one).\r\n     *\r\n     * @param   type  Class name to check\r\n     * @return {boolean} Is of class?\r\n     */\r\n    isType(type) {\r\n        return this.classNames.indexOf(type) !== -1;\r\n    }\r\n    _pushPropertyDisposer(key, disposer) {\r\n        let disposers = this._disposerProperties[key];\r\n        if (disposers === undefined) {\r\n            disposers = this._disposerProperties[key] = [];\r\n        }\r\n        disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _disposeProperty(key) {\r\n        const disposers = this._disposerProperties[key];\r\n        if (disposers !== undefined) {\r\n            $array.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n            delete this._disposerProperties[key];\r\n        }\r\n    }\r\n    /**\r\n     * @todo needs description\r\n     * @param  value  Template\r\n     */\r\n    set template(value) {\r\n        const template = this._template;\r\n        if (template !== value) {\r\n            this._template = value;\r\n            if (template) {\r\n                template._removeObjectTemplate(this);\r\n            }\r\n            if (value) {\r\n                value._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    get template() {\r\n        return this._template;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this._root._addDirtyEntity(this);\r\n    }\r\n    _startAnimation() {\r\n        this._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this._root.animationTime;\r\n    }\r\n    _applyState(_name) { }\r\n    _applyStateAnimated(_name, _duration) { }\r\n    get(key, fallback) {\r\n        const value = this.adapters.fold(key, this._settings[key]);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isUserSetting(key) {\r\n        return this._userProperties[key] || false;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userProperties[key] = true;\r\n        return super.set(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._userProperties[key] = true;\r\n        super.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` only if the value for this key was not set previously using set method, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    _setSoft(key, value) {\r\n        if (!this._userProperties[key]) {\r\n            return super.set(key, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userProperties[key];\r\n        this._removeTemplateProperty(key);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        return super.setPrivate(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        super.setPrivateRaw(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        delete this._userPrivateProperties[key];\r\n        this._removeTemplatePrivateProperty(key);\r\n    }\r\n    _setTemplateProperty(template, key, value) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (template === match) {\r\n                super.set(key, value);\r\n            }\r\n        }\r\n    }\r\n    _setTemplatePrivateProperty(template, key, value) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (template === match) {\r\n                super.setPrivate(key, value);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplateProperty(key) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.set(key, match._settings[key]);\r\n            }\r\n            else {\r\n                super.remove(key);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplatePrivateProperty(key) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.setPrivate(key, match._privateSettings[key]);\r\n            }\r\n            else {\r\n                super.removePrivate(key);\r\n            }\r\n        }\r\n    }\r\n    _walkParents(f) {\r\n        f(this._root._rootContainer);\r\n        f(this);\r\n    }\r\n    // TODO faster version of this method which is specialized to just 1 key\r\n    _applyStateByKey(name) {\r\n        const other = this.states.create(name, {});\r\n        const seen = {};\r\n        this._eachTemplate((template) => {\r\n            const state = template.states.lookup(name);\r\n            if (state) {\r\n                state._apply(other, seen);\r\n            }\r\n        });\r\n        $object.each(other._settings, (key) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                other.remove(key);\r\n            }\r\n        });\r\n    }\r\n    _applyTemplate(template, state) {\r\n        this._templateDisposers.push(template._apply(this, state));\r\n        $object.each(template._settings, (key, value) => {\r\n            if (!state.settings[key] && !this._userProperties[key]) {\r\n                state.settings[key] = true;\r\n                super.set(key, value);\r\n            }\r\n        });\r\n        $object.each(template._privateSettings, (key, value) => {\r\n            if (!state.privateSettings[key] && !this._userPrivateProperties[key]) {\r\n                state.privateSettings[key] = true;\r\n                super.setPrivate(key, value);\r\n            }\r\n        });\r\n        if (this._runSetup && template.setup) {\r\n            this._runSetup = false;\r\n            template.setup(this);\r\n        }\r\n    }\r\n    /**\r\n     * Calls the closure with each template and returns the first template which is true\r\n     */\r\n    _findStaticTemplate(f) {\r\n        if (this._template) {\r\n            if (f(this._template)) {\r\n                return this._template;\r\n            }\r\n        }\r\n    }\r\n    _eachTemplate(f) {\r\n        this._findStaticTemplate((template) => {\r\n            f(template);\r\n            return false;\r\n        });\r\n        // _internalTemplates is sorted with most specific to the right\r\n        $array.eachReverse(this._internalTemplates, f);\r\n        // _templates is sorted with most specific to the left\r\n        $array.each(this._templates, f);\r\n    }\r\n    _applyTemplates(remove = true) {\r\n        if (remove) {\r\n            this._disposeTemplates();\r\n        }\r\n        const state = {\r\n            settings: {},\r\n            privateSettings: {},\r\n            states: {},\r\n        };\r\n        this._eachTemplate((template) => {\r\n            this._applyTemplate(template, state);\r\n        });\r\n        if (remove) {\r\n            $object.each(this._settings, (key) => {\r\n                if (!this._userProperties[key] && !state.settings[key]) {\r\n                    super.remove(key);\r\n                }\r\n            });\r\n            $object.each(this._privateSettings, (key) => {\r\n                if (!this._userPrivateProperties[key] && !state.privateSettings[key]) {\r\n                    super.removePrivate(key);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _findTemplate(f) {\r\n        const value = this._findStaticTemplate(f);\r\n        if (value === undefined) {\r\n            // _internalTemplates is sorted with most specific to the right\r\n            const value = $array.findReverse(this._internalTemplates, f);\r\n            if (value === undefined) {\r\n                // _templates is sorted with most specific to the left\r\n                return $array.find(this._templates, f);\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    _findTemplateByKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._settings;\r\n        });\r\n    }\r\n    _findTemplateByPrivateKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._privateSettings;\r\n        });\r\n    }\r\n    _disposeTemplates() {\r\n        $array.each(this._templateDisposers, (disposer) => {\r\n            disposer.dispose();\r\n        });\r\n        this._templateDisposers.length = 0;\r\n    }\r\n    _removeTemplates() {\r\n        $array.each(this._templates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._templates.length = 0;\r\n    }\r\n    _applyThemes() {\r\n        let isConnected = false;\r\n        const defaults = [];\r\n        let themes = [];\r\n        const themeTags = new Set();\r\n        const tags = this.get(\"themeTagsSelf\");\r\n        if (tags) {\r\n            $array.each(tags, (tag) => {\r\n                themeTags.add(tag);\r\n            });\r\n        }\r\n        this._walkParents((entity) => {\r\n            if (entity === this._root._rootContainer) {\r\n                isConnected = true;\r\n            }\r\n            if (entity._defaultThemes.length > 0) {\r\n                defaults.push(entity._defaultThemes);\r\n            }\r\n            const theme = entity.get(\"themes\");\r\n            if (theme) {\r\n                themes.push(theme);\r\n            }\r\n            const tags = entity.get(\"themeTags\");\r\n            if (tags) {\r\n                $array.each(tags, (tag) => {\r\n                    themeTags.add(tag);\r\n                });\r\n            }\r\n        });\r\n        themes = defaults.concat(themes);\r\n        this._removeTemplates();\r\n        if (isConnected) {\r\n            $array.eachReverse(this.classNames, (name) => {\r\n                const allRules = [];\r\n                $array.each(themes, (themes) => {\r\n                    $array.each(themes, (theme) => {\r\n                        const rules = theme._lookupRules(name);\r\n                        if (rules) {\r\n                            $array.eachReverse(rules, (rule) => {\r\n                                const matches = rule.tags.every((tag) => {\r\n                                    return themeTags.has(tag);\r\n                                });\r\n                                if (matches) {\r\n                                    const result = $array.getFirstSortedIndex(allRules, (x) => {\r\n                                        const order = $order.compare(rule.tags.length, x.tags.length);\r\n                                        if (order === 0) {\r\n                                            return $order.compareArray(rule.tags, x.tags, $order.compare);\r\n                                        }\r\n                                        else {\r\n                                            return order;\r\n                                        }\r\n                                    });\r\n                                    allRules.splice(result.index, 0, rule);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n                $array.each(allRules, (rule) => {\r\n                    this._templates.push(rule.template);\r\n                    rule.template._setObjectTemplate(this);\r\n                });\r\n            });\r\n        }\r\n        this._applyTemplates();\r\n        if (isConnected) {\r\n            // This causes it to only run the setup function the first time that the themes are applied\r\n            this._runSetup = false;\r\n        }\r\n        return isConnected;\r\n    }\r\n    _changed() { }\r\n    _beforeChanged() {\r\n        if (this.isDirty(\"id\")) {\r\n            const id = this.get(\"id\");\r\n            if (id) {\r\n                this._registerId(id);\r\n            }\r\n            const prevId = this._prevSettings.id;\r\n            if (prevId) {\r\n                delete registry.entitiesById[prevId];\r\n            }\r\n        }\r\n    }\r\n    _registerId(id) {\r\n        if (registry.entitiesById[id] && registry.entitiesById[id] !== this) {\r\n            throw new Error(\"An entity with id \\\"\" + id + \"\\\" already exists.\");\r\n        }\r\n        registry.entitiesById[id] = this;\r\n    }\r\n    _afterChanged() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._removeObjectTemplate(this);\r\n        }\r\n        $array.each(this._internalTemplates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._removeTemplates();\r\n        this._disposeTemplates();\r\n        this.events.dispose();\r\n        this._disposers.forEach((x) => {\r\n            x.dispose();\r\n        });\r\n        $object.each(this._disposerProperties, (_, disposers) => {\r\n            $array.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n        });\r\n        const id = this.get(\"id\");\r\n        if (id) {\r\n            delete registry.entitiesById[id];\r\n        }\r\n    }\r\n    /**\r\n     * Creates and returns a \"disposable\" timeout.\r\n     *\r\n     * @param   fn     Callback\r\n     * @param   delay  Delay in milliseconds\r\n     * @return         Timeout disposer\r\n     */\r\n    setTimeout(fn, delay) {\r\n        const id = setTimeout(() => {\r\n            this.removeDispose(disposer);\r\n            fn();\r\n        }, delay);\r\n        const disposer = new Disposer(() => {\r\n            clearTimeout(id);\r\n        });\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeDispose(target) {\r\n        if (!this.isDisposed()) {\r\n            let index = $array.indexOf(this._disposers, target);\r\n            if (index > -1) {\r\n                this._disposers.splice(index, 1);\r\n            }\r\n        }\r\n        target.dispose();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hasTag(tag) {\r\n        return $array.indexOf(this.get(\"themeTags\", []), tag) !== -1;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addTag(tag) {\r\n        if (!this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            tags.push(tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeTag(tag) {\r\n        if (this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            $array.remove(tags, tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    _t(text, locale, ...rest) {\r\n        return this._root.language.translate(text, locale, ...rest);\r\n    }\r\n    /**\r\n     * An instance of [[Root]] object.\r\n     *\r\n     * @readonly\r\n     * @since 5.0.6\r\n     * @return Root object\r\n     */\r\n    get root() {\r\n        return this._root;\r\n    }\r\n}\r\nObject.defineProperty(Entity, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Entity\"\r\n});\r\nObject.defineProperty(Entity, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: [\"Entity\"]\r\n});\r\n//# sourceMappingURL=Entity.js.map","import { EventDispatcher } from \"./EventDispatcher\";\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nexport class TemplateState {\r\n    constructor(name, template, settings) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._name = name;\r\n        this._template = template;\r\n        this._settings = settings;\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    set(key, value) {\r\n        this._settings[key] = value;\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    remove(key) {\r\n        delete this._settings[key];\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    setAll(settings) {\r\n        $object.keys(settings).forEach((key) => {\r\n            this._settings[key] = settings[key];\r\n        });\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    _apply(other, seen) {\r\n        $object.each(this._settings, (key, value) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                seen[key] = true;\r\n                other.setRaw(key, value);\r\n            }\r\n        });\r\n    }\r\n}\r\nexport class TemplateStates {\r\n    constructor(template) {\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._template = template;\r\n    }\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new TemplateState(name, this._template, settings);\r\n            this._states[name] = state;\r\n            this._template._stateChanged(name);\r\n            return state;\r\n        }\r\n    }\r\n    remove(name) {\r\n        delete this._states[name];\r\n        this._template._stateChanged(name);\r\n    }\r\n    _apply(entity, state) {\r\n        $object.each(this._states, (key, value) => {\r\n            let seen = state.states[key];\r\n            if (seen == null) {\r\n                seen = state.states[key] = {};\r\n            }\r\n            const other = entity.states.create(key, {});\r\n            value._apply(other, seen);\r\n        });\r\n    }\r\n}\r\nexport class TemplateAdapters {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(callbacks, callback);\r\n            if (callbacks.length === 0) {\r\n                delete this._callbacks[key];\r\n            }\r\n        });\r\n    }\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n        }\r\n    }\r\n    _apply(entity) {\r\n        const disposers = [];\r\n        $object.each(this._callbacks, (key, callbacks) => {\r\n            $array.each(callbacks, (callback) => {\r\n                disposers.push(entity.adapters.add(key, callback));\r\n            });\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n// TODO maybe extend from Properties ?\r\nexport class Template {\r\n    constructor(settings, isReal) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        // TODO code duplication with Properties\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entities\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateStates(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateAdapters()\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"setup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(settings) {\r\n        return new Template(settings, true);\r\n    }\r\n    /**\r\n     * Array of all entities using this template.\r\n     */\r\n    get entities() {\r\n        return this._entities;\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setRaw(key, value) {\r\n        this._settings[key] = value;\r\n    }\r\n    set(key, value) {\r\n        if (this._settings[key] !== value) {\r\n            this.setRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplateProperty(this, key, value);\r\n            });\r\n        }\r\n    }\r\n    remove(key) {\r\n        if (key in this._settings) {\r\n            delete this._settings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    removeAll() {\r\n        $object.each(this._settings, (key, _value) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    getPrivate(key, fallback) {\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setPrivateRaw(key, value) {\r\n        this._privateSettings[key] = value;\r\n        return value;\r\n    }\r\n    setPrivate(key, value) {\r\n        if (this._privateSettings[key] !== value) {\r\n            this.setPrivateRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplatePrivateProperty(this, key, value);\r\n            });\r\n        }\r\n        return value;\r\n    }\r\n    removePrivate(key) {\r\n        if (key in this._privateSettings) {\r\n            delete this._privateSettings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplatePrivateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    setAll(value) {\r\n        $object.each(value, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    on(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    onPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    _apply(entity, state) {\r\n        const disposers = [];\r\n        $object.each(this._settingEvents, (key, events) => {\r\n            $array.each(events, (event) => {\r\n                disposers.push(entity.on(key, event));\r\n            });\r\n        });\r\n        $object.each(this._privateSettingEvents, (key, events) => {\r\n            $array.each(events, (event) => {\r\n                disposers.push(entity.onPrivate(key, event));\r\n            });\r\n        });\r\n        this.states._apply(entity, state);\r\n        disposers.push(this.adapters._apply(entity));\r\n        disposers.push(entity.events.copyFrom(this.events));\r\n        return new MultiDisposer(disposers);\r\n    }\r\n    _setObjectTemplate(entity) {\r\n        this._entities.push(entity);\r\n    }\r\n    _removeObjectTemplate(entity) {\r\n        $array.remove(this._entities, entity);\r\n    }\r\n    _stateChanged(name) {\r\n        this._entities.forEach((entity) => {\r\n            entity._applyStateByKey(name);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Template.js.map","import { isNumber } from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nexport const PI = Math.PI;\r\nexport const HALFPI = PI / 2;\r\nexport const RADIANS = PI / 180;\r\nexport const DEGREES = 180 / PI;\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nexport function round(value, precision, floor) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        let rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nexport function ceil(value, precision) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointA(p0, p1, p2, tensionX, tensionY) {\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointB(p1, p2, p3, tensionX, tensionY) {\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\nexport function fitToRange(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n/**\r\n * Returns sine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function sin(angle) {\r\n    return Math.sin(RADIANS * angle);\r\n}\r\n/**\r\n * Returns tan of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function tan(angle) {\r\n    return Math.tan(RADIANS * angle);\r\n}\r\n/**\r\n * Returns cosine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nexport function cos(angle) {\r\n    return Math.cos(RADIANS * angle);\r\n}\r\n// 0 to 360\r\nexport function normalizeAngle(value) {\r\n    value = value % 360;\r\n    if (value < 0) {\r\n        value += 360;\r\n    }\r\n    return value;\r\n}\r\n// TODO this doesn't work properly for skewing, and it's probably broken for rotation too\r\nexport function getArcBounds(cx, cy, startAngle, endAngle, radius) {\r\n    let minX = Number.MAX_VALUE;\r\n    let minY = Number.MAX_VALUE;\r\n    let maxX = -Number.MAX_VALUE;\r\n    let maxY = -Number.MAX_VALUE;\r\n    let bpoints = [];\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    let fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    let toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (let angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (let i = 0; i < bpoints.length; i++) {\r\n        let pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ left: cx + minX, top: cy + minY, right: cx + maxX, bottom: cy + maxY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nexport function getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\nexport function mergeBounds(bounds) {\r\n    const len = bounds.length;\r\n    if (len > 0) {\r\n        let bound = bounds[0];\r\n        let left = bound.left;\r\n        let top = bound.top;\r\n        let right = bound.right;\r\n        let bottom = bound.bottom;\r\n        if (len > 1) {\r\n            for (let i = 1; i < len; i++) {\r\n                bound = bounds[i];\r\n                left = Math.min(bound.left, left);\r\n                right = Math.max(bound.right, right);\r\n                top = Math.min(bound.top, top);\r\n                bottom = Math.max(bound.bottom, bottom);\r\n            }\r\n        }\r\n        return { left, right, top, bottom };\r\n    }\r\n    return { left: 0, right: 0, top: 0, bottom: 0 };\r\n}\r\nexport function fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        let temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    let count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    let maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    let maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\nexport function inBounds(point, bounds) {\r\n    if (point.x >= bounds.left && point.y >= bounds.top && point.x <= bounds.right && point.y <= bounds.bottom) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    let diffX = point2.x - point1.x;\r\n    let diffY = point2.y - point1.y;\r\n    let angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    let x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    let y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\nexport function getPointOnLine(pointA, pointB, position) {\r\n    return { x: pointA.x + (pointB.x - pointA.x) * position, y: pointA.y + (pointB.y - pointA.y) * position };\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nexport function closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\nexport function boundsOverlap(bounds1, bounds2) {\r\n    return !(bounds1.bottom < bounds2.top || bounds2.bottom < bounds1.top || bounds1.right < bounds2.left || bounds2.right < bounds1.left);\r\n}\r\n//# sourceMappingURL=Math.js.map","import { __awaiter } from \"tslib\";\r\nimport { Entity } from \"../util/Entity\";\r\nimport { Template } from \"../util/Template\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { EventDispatcher } from \"../util/EventDispatcher\";\r\nimport { MultiDisposer, CounterDisposer } from \"../util/Disposer\";\r\nimport { waitForAnimations } from \"../util/Animation\";\r\nimport * as $utils from \"../util/Utils\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $object from \"../util/Object\";\r\nimport * as $math from \"../util/Math\";\r\n//import { populateString } from \"../util/PopulateString\";\r\n/**\r\n * An [[EventDispatcher]] for [[Sprite]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nclass SpriteEventDispatcher extends EventDispatcher {\r\n    constructor(sprite) {\r\n        super();\r\n        Object.defineProperty(this, \"_sprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rendererDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dispatchParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        this._sprite = sprite;\r\n    }\r\n    _makePointerEvent(key, event) {\r\n        return {\r\n            type: key,\r\n            originalEvent: event.event,\r\n            point: event.point,\r\n            simulated: event.simulated,\r\n            native: event.native,\r\n            target: this._sprite\r\n        };\r\n    }\r\n    _onRenderer(key, dispatch) {\r\n        // TODO: is this OK? it'd be good not to require to set this on each individual element\r\n        this._sprite.set(\"interactive\", true);\r\n        this._sprite._display.interactive = true;\r\n        let events = this._rendererDisposers[key];\r\n        if (events === undefined) {\r\n            const disposer = this._sprite._display.on(key, (e) => {\r\n                dispatch.call(this, e);\r\n            });\r\n            events = this._rendererDisposers[key] = new CounterDisposer(() => {\r\n                delete this._rendererDisposers[key];\r\n                disposer.dispose();\r\n            });\r\n        }\r\n        return events.increment();\r\n    }\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        const info = super._on(once, type, callback, context, shouldClone, dispatch);\r\n        const rendererEvent = SpriteEventDispatcher.RENDERER_EVENTS[type];\r\n        if (rendererEvent !== undefined) {\r\n            info.disposer = new MultiDisposer([\r\n                info.disposer,\r\n                this._onRenderer(type, rendererEvent),\r\n            ]);\r\n        }\r\n        return info;\r\n    }\r\n    /**\r\n     * Will stop any bubbling up of the event to element's parents.\r\n     *\r\n     * Should be called in an event handler, e.g.:\r\n     *\r\n     * ```TypeScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     * ```JavaScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     */\r\n    stopParentDispatch() {\r\n        this._dispatchParents = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    dispatchParents(type, event) {\r\n        const old = this._dispatchParents;\r\n        this._dispatchParents = true;\r\n        try {\r\n            this.dispatch(type, event);\r\n            if (this._dispatchParents && this._sprite.parent) {\r\n                this._sprite.parent.events.dispatchParents(type, event);\r\n            }\r\n        }\r\n        finally {\r\n            this._dispatchParents = old;\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SpriteEventDispatcher, \"RENDERER_EVENTS\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: {\r\n        \"click\": function (event) {\r\n            if (this.isEnabled(\"click\") && !this._sprite.isDragging() && this._sprite._hasDown() && !this._sprite._hasMoved(this._makePointerEvent(\"click\", event))) {\r\n                this.dispatch(\"click\", this._makePointerEvent(\"click\", event));\r\n            }\r\n        },\r\n        \"rightclick\": function (event) {\r\n            if (this.isEnabled(\"rightclick\")) {\r\n                this.dispatch(\"rightclick\", this._makePointerEvent(\"rightclick\", event));\r\n            }\r\n        },\r\n        \"middleclick\": function (event) {\r\n            if (this.isEnabled(\"middleclick\")) {\r\n                this.dispatch(\"middleclick\", this._makePointerEvent(\"middleclick\", event));\r\n            }\r\n        },\r\n        \"dblclick\": function (event) {\r\n            this.dispatchParents(\"dblclick\", this._makePointerEvent(\"dblclick\", event));\r\n        },\r\n        \"pointerover\": function (event) {\r\n            const sprite = this._sprite;\r\n            let dispatch = true;\r\n            if (sprite._trustBounds) {\r\n                sprite._getBounds();\r\n                const bounds = sprite.globalBounds();\r\n                if (!$math.inBounds(event.point, bounds)) {\r\n                    dispatch = false;\r\n                    sprite._root._renderer.removeHovering(sprite._display);\r\n                }\r\n            }\r\n            if (dispatch && this.isEnabled(\"pointerover\")) {\r\n                this.dispatch(\"pointerover\", this._makePointerEvent(\"pointerover\", event));\r\n            }\r\n        },\r\n        \"pointerout\": function (event) {\r\n            if (this.isEnabled(\"pointerout\")) {\r\n                this.dispatch(\"pointerout\", this._makePointerEvent(\"pointerout\", event));\r\n            }\r\n        },\r\n        \"pointerdown\": function (event) {\r\n            this.dispatchParents(\"pointerdown\", this._makePointerEvent(\"pointerdown\", event));\r\n        },\r\n        \"pointerup\": function (event) {\r\n            if (this.isEnabled(\"pointerup\")) {\r\n                this.dispatch(\"pointerup\", this._makePointerEvent(\"pointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointerup\": function (event) {\r\n            if (this.isEnabled(\"globalpointerup\")) {\r\n                this.dispatch(\"globalpointerup\", this._makePointerEvent(\"globalpointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointermove\": function (event) {\r\n            if (this.isEnabled(\"globalpointermove\")) {\r\n                this.dispatch(\"globalpointermove\", this._makePointerEvent(\"globalpointermove\", event));\r\n            }\r\n        },\r\n        \"wheel\": function (event) {\r\n            this.dispatchParents(\"wheel\", {\r\n                type: \"wheel\",\r\n                target: this._sprite,\r\n                originalEvent: event.event,\r\n                point: event.point,\r\n            });\r\n        },\r\n    }\r\n});\r\n/**\r\n * A base class for all visual elements.\r\n *\r\n * @important\r\n */\r\nexport class Sprite extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_adjustedLocalBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_templateField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_sizeDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // Will be true only when dragging\r\n        Object.defineProperty(this, \"_isDragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // The event when the dragging starts\r\n        Object.defineProperty(this, \"_dragEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // The position when dragging starts\r\n        Object.defineProperty(this, \"_dragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isHidden\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isShowing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isHiding\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_downPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_toggleDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dragDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_hoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipMoveDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipPointerDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_statesHandled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_trustBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.setPrivateRaw(\"visible\", true);\r\n        super._afterNew();\r\n    }\r\n    _markDirtyKey(key) {\r\n        super._markDirtyKey(key);\r\n        if (key == \"x\" || key == \"y\" || key == \"dx\" || key == \"dy\") {\r\n            this.markDirtyBounds();\r\n            this._addPercentagePositionChildren();\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        super._markDirtyPrivateKey(key);\r\n        if (key == \"x\" || key == \"y\") {\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _removeTemplateField() {\r\n        if (this._templateField) {\r\n            this._templateField._removeObjectTemplate(this);\r\n        }\r\n    }\r\n    _createEvents() {\r\n        return new SpriteEventDispatcher(this);\r\n    }\r\n    _processTemplateField() {\r\n        let template;\r\n        const field = this.get(\"templateField\");\r\n        if (field) {\r\n            const dataItem = this.dataItem;\r\n            if (dataItem) {\r\n                const context = dataItem.dataContext;\r\n                if (context) {\r\n                    template = context[field];\r\n                    if (!(template instanceof Template) && template) {\r\n                        template = Template.new(template);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this._templateField !== template) {\r\n            this._removeTemplateField();\r\n            this._templateField = template;\r\n            if (template) {\r\n                template._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    // TODO change this to run before the element is added to the parent, so that way\r\n    //      it doesn't need to apply the themes twice\r\n    _setDataItem(dataItem) {\r\n        const oldDataItem = this._dataItem;\r\n        this._dataItem = dataItem;\r\n        this._processTemplateField();\r\n        const eventType = \"dataitemchanged\";\r\n        if (dataItem != oldDataItem) {\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this,\r\n                    oldDataItem: oldDataItem,\r\n                    newDataItem: dataItem\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * A [[DataItem]] used for this element.\r\n     *\r\n     * NOTE: data item is being assigned automatically in most cases where it\r\n     * matters. Use this accessor to set data item only if you know what you're\r\n     * doing.\r\n     *\r\n     * @param  value  Data item\r\n     */\r\n    set dataItem(value) {\r\n        this._setDataItem(value);\r\n    }\r\n    /**\r\n     * @return DataItem\r\n     */\r\n    get dataItem() {\r\n        if (this._dataItem) {\r\n            return this._dataItem;\r\n        }\r\n        else {\r\n            let parent = this._parent;\r\n            while (parent) {\r\n                if (parent._dataItem) {\r\n                    return parent._dataItem;\r\n                }\r\n                else {\r\n                    parent = parent._parent;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _addPercentageSizeChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"width\") instanceof Percent || this.get(\"height\") instanceof Percent) {\r\n                $array.pushOne(parent._percentageSizeChildren, this);\r\n            }\r\n            else {\r\n                $array.removeFirst(parent._percentageSizeChildren, this);\r\n            }\r\n        }\r\n    }\r\n    _addPercentagePositionChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"x\") instanceof Percent || this.get(\"y\") instanceof Percent) {\r\n                $array.pushOne(parent._percentagePositionChildren, this);\r\n            }\r\n            else {\r\n                $array.removeFirst(parent._percentagePositionChildren, this);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyPosition() {\r\n        this._root._addDirtyPosition(this);\r\n    }\r\n    updatePivotPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            const centerX = this.get(\"centerX\");\r\n            if (centerX != null) {\r\n                this._display.pivot.x = bounds.left + $utils.relativeToValue(centerX, bounds.right - bounds.left);\r\n            }\r\n            const centerY = this.get(\"centerY\");\r\n            if (centerY != null) {\r\n                this._display.pivot.y = bounds.top + $utils.relativeToValue(centerY, bounds.bottom - bounds.top);\r\n            }\r\n        }\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        // handling states in beforeChanged, otherwise states is not applied without animated theme\r\n        this._handleStates();\r\n        if (this.isDirty(\"tooltip\")) {\r\n            const previous = this._prevSettings.tooltip;\r\n            if (previous) {\r\n                previous.dispose();\r\n            }\r\n        }\r\n        if (this.isDirty(\"layer\") || this.isDirty(\"layerMargin\")) {\r\n            this._display.setLayer(this.get(\"layer\"), this.get(\"layerMargin\"));\r\n            this.markDirtyLayer();\r\n        }\r\n        if (this.isDirty(\"tooltipPosition\")) {\r\n            const tooltipMoveDp = this._tooltipMoveDp;\r\n            if (tooltipMoveDp) {\r\n                tooltipMoveDp.dispose();\r\n                this._tooltipMoveDp = undefined;\r\n            }\r\n            const tooltipPointerDp = this._tooltipPointerDp;\r\n            if (tooltipPointerDp) {\r\n                tooltipPointerDp.dispose();\r\n                this._tooltipPointerDp = undefined;\r\n            }\r\n            if (this.get(\"tooltipPosition\") == \"pointer\") {\r\n                if (this.isHover()) {\r\n                    this._tooltipMoveDp = this.events.on(\"globalpointermove\", (e) => {\r\n                        this.showTooltip(e.point);\r\n                    });\r\n                }\r\n                this._tooltipPointerDp = new MultiDisposer([\r\n                    this.events.on(\"pointerover\", () => {\r\n                        this._tooltipMoveDp = this.events.on(\"globalpointermove\", (e) => {\r\n                            this.showTooltip(e.point);\r\n                        });\r\n                    }),\r\n                    this.events.on(\"pointerout\", () => {\r\n                        const tooltipMoveDp = this._tooltipMoveDp;\r\n                        if (tooltipMoveDp) {\r\n                            tooltipMoveDp.dispose();\r\n                            this._tooltipMoveDp = undefined;\r\n                        }\r\n                    })\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n    _handleStates() {\r\n        if (!this._statesHandled) {\r\n            if (this.isDirty(\"active\")) {\r\n                if (this.get(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"disabled\")) {\r\n                if (this.get(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            this._statesHandled = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const display = this._display;\r\n        const events = this.events;\r\n        if (this.isDirty(\"draggable\")) {\r\n            const draggable = this.get(\"draggable\");\r\n            if (draggable) {\r\n                this.set(\"interactive\", true);\r\n                this._dragDp = new MultiDisposer([\r\n                    events.on(\"pointerdown\", (ev) => {\r\n                        this.dragStart(ev);\r\n                    }),\r\n                    events.on(\"globalpointermove\", (ev) => {\r\n                        this.dragMove(ev);\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        this.dragStop(ev);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._dragDp) {\r\n                    this._dragDp.dispose();\r\n                    this._dragDp = undefined;\r\n                }\r\n            }\r\n            display.cancelTouch = draggable ? true : false;\r\n        }\r\n        if (this.isDirty(\"tooltipText\") || this.isDirty(\"tooltipHTML\") || this.isDirty(\"showTooltipOn\")) {\r\n            const tooltipText = this.get(\"tooltipText\");\r\n            const tooltipHTML = this.get(\"tooltipHTML\");\r\n            const showTooltipOn = this.get(\"showTooltipOn\", \"hover\");\r\n            if (this._tooltipDp) {\r\n                this._tooltipDp.dispose();\r\n                this._tooltipDp = undefined;\r\n            }\r\n            if (tooltipText || tooltipHTML) {\r\n                if (showTooltipOn == \"click\") {\r\n                    this._tooltipDp = new MultiDisposer([\r\n                        events.on(\"click\", () => {\r\n                            this.setTimeout(() => this.showTooltip(), 10);\r\n                        }),\r\n                        $utils.addEventListener(document, \"click\", (_ev) => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n                else if (showTooltipOn == \"always\") {\r\n                    // nothing\r\n                }\r\n                else {\r\n                    this._tooltipDp = new MultiDisposer([\r\n                        events.on(\"pointerover\", () => {\r\n                            this.showTooltip();\r\n                        }),\r\n                        events.on(\"pointerout\", () => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"toggleKey\")) {\r\n            let toggleKey = this.get(\"toggleKey\");\r\n            if (toggleKey && toggleKey != \"none\") {\r\n                this._toggleDp = events.on(\"click\", () => {\r\n                    if (!this._isDragging) {\r\n                        this.set(toggleKey, !this.get(toggleKey));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._toggleDp) {\r\n                    this._toggleDp.dispose();\r\n                    this._toggleDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"opacity\")) {\r\n            display.alpha = Math.max(0, this.get(\"opacity\", 1));\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n        if (this.isDirty(\"rotation\")) {\r\n            this.markDirtyBounds();\r\n            display.angle = this.get(\"rotation\", 0);\r\n        }\r\n        if (this.isDirty(\"scale\")) {\r\n            this.markDirtyBounds();\r\n            display.scale = this.get(\"scale\", 0);\r\n        }\r\n        if (this.isDirty(\"centerX\") || this.isDirty(\"centerY\")) {\r\n            this.markDirtyBounds();\r\n            this.updatePivotPoint();\r\n        }\r\n        if (this.isDirty(\"visible\") || this.isPrivateDirty(\"visible\") || this.isDirty(\"forceHidden\")) {\r\n            if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                display.visible = false;\r\n                this.hideTooltip();\r\n            }\r\n            else {\r\n                display.visible = true;\r\n            }\r\n            this.markDirtyBounds();\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this.markDirtyBounds();\r\n            this._addPercentageSizeChildren();\r\n            const parent = this.parent;\r\n            if (parent) {\r\n                if ((this.isDirty(\"width\") && this.get(\"width\") instanceof Percent) || (this.isDirty(\"height\") && this.get(\"height\") instanceof Percent)) {\r\n                    parent.markDirty();\r\n                    parent._prevWidth = 0;\r\n                }\r\n            }\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"minWidth\") || this.isDirty(\"minHeight\") || this.isPrivateDirty(\"maxWidth\") || this.isPrivateDirty(\"maxHeight\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\")) {\r\n            this.markDirtyBounds();\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this._sizeDirty) {\r\n            this._updateSize();\r\n        }\r\n        if (this.isDirty(\"wheelable\")) {\r\n            const wheelable = this.get(\"wheelable\");\r\n            if (wheelable) {\r\n                this.set(\"interactive\", true);\r\n            }\r\n            display.wheelable = wheelable ? true : false;\r\n        }\r\n        // Accessibility\r\n        if (this.isDirty(\"tabindexOrder\") || this.isDirty(\"focusableGroup\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"filter\")) {\r\n            //this.markDirtyBounds();\r\n            display.filter = this.get(\"filter\");\r\n        }\r\n        if (this.isDirty(\"cursorOverStyle\")) {\r\n            display.cursorOverStyle = this.get(\"cursorOverStyle\");\r\n        }\r\n        if (this.isDirty(\"hoverOnFocus\")) {\r\n            if (this.get(\"hoverOnFocus\")) {\r\n                this._focusDp = new MultiDisposer([\r\n                    events.on(\"focus\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.showTooltip();\r\n                    }),\r\n                    events.on(\"blur\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.hideTooltip();\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._focusDp) {\r\n                    this._focusDp.dispose();\r\n                    this._focusDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"focusable\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isPrivateDirty(\"focusable\")) {\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"role\") || this.isDirty(\"ariaLive\") || this.isDirty(\"ariaChecked\") || this.isDirty(\"ariaHidden\") || this.isDirty(\"ariaOrientation\") || this.isDirty(\"ariaValueNow\") || this.isDirty(\"ariaValueMin\") || this.isDirty(\"ariaValueMax\") || this.isDirty(\"ariaValueText\") || this.isDirty(\"ariaLabel\") || this.isDirty(\"ariaControls\")) {\r\n            // display.accessibility.ariaLabel = populateString(this, this.get(\"ariaLabel\", \"\"));\r\n            // @todo make sure ariaLabel gets populated in Root\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"exportable\")) {\r\n            display.exportable = this.get(\"exportable\");\r\n        }\r\n        if (this.isDirty(\"interactive\")) {\r\n            const events = this.events;\r\n            if (this.get(\"interactive\")) {\r\n                this._hoverDp = new MultiDisposer([\r\n                    events.on(\"click\", (ev) => {\r\n                        if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                            if (!this.getPrivate(\"touchHovering\")) {\r\n                                this.setTimeout(() => {\r\n                                    this._handleOver();\r\n                                    if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                        this.showTooltip();\r\n                                    }\r\n                                    this.setPrivateRaw(\"touchHovering\", true);\r\n                                    this.events.dispatch(\"pointerover\", {\r\n                                        type: \"pointerover\",\r\n                                        target: ev.target,\r\n                                        originalEvent: ev.originalEvent,\r\n                                        point: ev.point,\r\n                                        simulated: ev.simulated\r\n                                    });\r\n                                }, 10);\r\n                            }\r\n                        }\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                            if (this.getPrivate(\"touchHovering\")) {\r\n                                this._handleOut();\r\n                                if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                    this.hideTooltip();\r\n                                }\r\n                                this.setPrivateRaw(\"touchHovering\", false);\r\n                                this.events.dispatch(\"pointerout\", {\r\n                                    type: \"pointerout\",\r\n                                    target: ev.target,\r\n                                    originalEvent: ev.originalEvent,\r\n                                    point: ev.point,\r\n                                    simulated: ev.simulated\r\n                                });\r\n                            }\r\n                        }\r\n                        if (this._isDown) {\r\n                            this._handleUp(ev);\r\n                        }\r\n                        //this._isDown = false;\r\n                    }),\r\n                    events.on(\"pointerover\", () => {\r\n                        this._handleOver();\r\n                    }),\r\n                    events.on(\"pointerout\", () => {\r\n                        this._handleOut();\r\n                    }),\r\n                    events.on(\"pointerdown\", (e) => {\r\n                        this._handleDown(e);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                this._display.interactive = false;\r\n                if (this._hoverDp) {\r\n                    this._hoverDp.dispose();\r\n                    this._hoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"forceInactive\")) {\r\n            this._display.inactive = this.get(\"forceInactive\", false);\r\n        }\r\n        if (this.get(\"showTooltipOn\") == \"always\" && this._display.visible) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStart(e) {\r\n        this._dragEvent = e;\r\n        this.events.stopParentDispatch();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStop(e) {\r\n        this._dragEvent = undefined;\r\n        this._dragPoint = undefined;\r\n        this.events.stopParentDispatch();\r\n        if (this._isDragging) {\r\n            this._isDragging = false;\r\n            const type = \"dragstop\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, {\r\n                    type: type,\r\n                    target: this,\r\n                    originalEvent: e.originalEvent,\r\n                    point: e.point,\r\n                    simulated: e.simulated,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    _handleOver() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"hoverActive\")) {\r\n                this.states.applyAnimate(\"hoverActive\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"hoverDisabled\")) {\r\n                this.states.applyAnimate(\"hoverDisabled\");\r\n            }\r\n            else {\r\n                this.states.applyAnimate(\"hover\");\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleOut() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else {\r\n                if (this.states.lookup(\"hover\") || this.states.lookup(\"hoverActive\")) {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleUp(e) {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else if (this.states.lookup(\"down\")) {\r\n                if (this.isHover()) {\r\n                    this.states.applyAnimate(\"hover\");\r\n                }\r\n                else {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            // @todo remove this once migrated to _downPoints\r\n            this._downPoint = undefined;\r\n            const pointerId = $utils.getPointerId(e.originalEvent);\r\n            delete this._downPoints[pointerId];\r\n            if ($object.keys(this._downPoints).length == 0) {\r\n                this._isDown = false;\r\n            }\r\n        }\r\n    }\r\n    _hasMoved(e) {\r\n        // @todo remove this once migrated to _downPoints\r\n        // if (this._downPoint) {\r\n        // \tconst x = Math.abs(this._downPoint.x - e.point.x);\r\n        // \tconst y = Math.abs(this._downPoint.y - e.point.y);\r\n        // \treturn (x > 5) || (y > 5);\r\n        // }\r\n        const pointerId = $utils.getPointerId(e.originalEvent);\r\n        const downPoint = this._downPoints[pointerId];\r\n        if (downPoint) {\r\n            const x = Math.abs(downPoint.x - e.point.x);\r\n            const y = Math.abs(downPoint.y - e.point.y);\r\n            return (x > 5) || (y > 5);\r\n        }\r\n        return false;\r\n    }\r\n    _hasDown() {\r\n        return $object.keys(this._downPoints).length > 0;\r\n    }\r\n    _handleDown(e) {\r\n        const parent = this.parent;\r\n        if (parent && !this.get(\"draggable\")) {\r\n            parent._handleDown(e);\r\n        }\r\n        if (this.get(\"interactive\") && !this.isHidden()) {\r\n            if (this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n            this._downPoint = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n            // @todo remove this once migrated to _downPoints\r\n            this._isDown = true;\r\n            const pointerId = $utils.getPointerId(e.originalEvent);\r\n            this._downPoints[pointerId] = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragMove(e) {\r\n        let dragEvent = this._dragEvent;\r\n        if (dragEvent) {\r\n            if (dragEvent.simulated && !e.simulated) {\r\n                return true;\r\n            }\r\n            let angle = 0;\r\n            let parent = this.parent;\r\n            while (parent != null) {\r\n                angle += parent.get(\"rotation\", 0);\r\n                parent = parent.parent;\r\n            }\r\n            let x = e.point.x - dragEvent.point.x;\r\n            let y = e.point.y - dragEvent.point.y;\r\n            const events = this.events;\r\n            if (dragEvent.simulated && !this._isDragging) {\r\n                this._isDragging = true;\r\n                this._dragEvent = e;\r\n                this._dragPoint = {\r\n                    x: this.x(),\r\n                    y: this.y()\r\n                };\r\n                const type = \"dragstart\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            if (this._isDragging) {\r\n                let dragPoint = this._dragPoint;\r\n                this.set(\"x\", dragPoint.x + x * $math.cos(angle) + y * $math.sin(angle));\r\n                this.set(\"y\", dragPoint.y + y * $math.cos(angle) - x * $math.sin(angle));\r\n                const type = \"dragged\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (Math.hypot(x, y) > 5) {\r\n                    this._isDragging = true;\r\n                    this._dragEvent = e;\r\n                    this._dragPoint = {\r\n                        x: this.x(),\r\n                        y: this.y()\r\n                    };\r\n                    const type = \"dragstart\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n    }\r\n    _getBounds() {\r\n        this._localBounds = this._display.getLocalBounds();\r\n    }\r\n    /**\r\n     * Returns depth (how deep in the hierachy of the content tree) of this\r\n     * element.\r\n     *\r\n     * @return Depth\r\n     */\r\n    depth() {\r\n        let self = this.parent;\r\n        let depth = 0;\r\n        while (true) {\r\n            if (self) {\r\n                ++depth;\r\n                self = self.parent;\r\n            }\r\n            else {\r\n                return depth;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyBounds() {\r\n        const display = this._display;\r\n        if (this.get(\"isMeasured\")) {\r\n            this._root._addDirtyBounds(this);\r\n            display.isMeasured = true;\r\n            display.invalidateBounds();\r\n            const parent = this.parent;\r\n            if (parent && this.get(\"position\") != \"absolute\") {\r\n                if (parent.get(\"width\") == null || parent.get(\"height\") == null || parent.get(\"layout\")) {\r\n                    parent.markDirtyBounds();\r\n                }\r\n            }\r\n            if (this.get(\"focusable\") && this.isFocus()) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyAccessibility() {\r\n        //if (this._root.focused(this)) {\r\n        this._root._invalidateAccessibility(this);\r\n        //}\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyLayer() {\r\n        //this._display.markDirtyLayer(this.isDirty(\"opacity\") || this.isDirty(\"visible\")); https://codepen.io/team/amcharts/pen/gOWZPmP <- problems\r\n        this._display.markDirtyLayer(true);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this.markDirtyLayer();\r\n    }\r\n    _updateBounds() {\r\n        const oldBounds = this._adjustedLocalBounds;\r\n        let newBounds;\r\n        // if display.visible == false, it still returns bounds\r\n        if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n            newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0\r\n            };\r\n            this._localBounds = newBounds;\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            this._getBounds();\r\n            this._fixMinBounds(this._localBounds);\r\n            this.updatePivotPoint();\r\n            this._adjustedLocalBounds = this._display.getAdjustedBounds(this._localBounds);\r\n            newBounds = this._adjustedLocalBounds;\r\n        }\r\n        if (!oldBounds || (oldBounds.left !== newBounds.left || oldBounds.top !== newBounds.top || oldBounds.right !== newBounds.right || oldBounds.bottom !== newBounds.bottom)) {\r\n            const eventType = \"boundschanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n            if (this.parent) {\r\n                this.parent.markDirty();\r\n                this.parent.markDirtyBounds();\r\n            }\r\n        }\r\n    }\r\n    _fixMinBounds(bounds) {\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        if ($type.isNumber(minWidth)) {\r\n            if (bounds.right - bounds.left < minWidth) {\r\n                bounds.right = bounds.left + minWidth;\r\n            }\r\n        }\r\n        if ($type.isNumber(minHeight)) {\r\n            if (bounds.bottom - bounds.top < minHeight) {\r\n                bounds.bottom = bounds.top + minHeight;\r\n            }\r\n        }\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        if ($type.isNumber(privateWidth)) {\r\n            if (privateWidth > 0) {\r\n                bounds.right = bounds.left + privateWidth;\r\n            }\r\n            else {\r\n                bounds.left = bounds.right + privateWidth;\r\n            }\r\n        }\r\n        if ($type.isNumber(privateHeight)) {\r\n            if (privateHeight > 0) {\r\n                bounds.bottom = bounds.top + privateHeight;\r\n            }\r\n            else {\r\n                bounds.top = bounds.bottom + privateHeight;\r\n            }\r\n        }\r\n    }\r\n    _removeParent(parent) {\r\n        if (parent) {\r\n            parent.children.removeValue(this);\r\n            $array.removeFirst(parent._percentageSizeChildren, this);\r\n            $array.removeFirst(parent._percentagePositionChildren, this);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._sizeDirty = false;\r\n        this._statesHandled = false;\r\n    }\r\n    /**\r\n     * Simulate hover over element.\r\n     */\r\n    hover() {\r\n        this.showTooltip();\r\n        this._handleOver();\r\n    }\r\n    /**\r\n     * Simulate unhover over element.\r\n     */\r\n    unhover() {\r\n        this.hideTooltip();\r\n        this._handleOut();\r\n    }\r\n    /**\r\n     * Shows element's [[Tooltip]].\r\n     */\r\n    showTooltip(point) {\r\n        const tooltip = this.getTooltip();\r\n        const tooltipText = this.get(\"tooltipText\");\r\n        const tooltipHTML = this.get(\"tooltipHTML\");\r\n        if ((tooltipText || tooltipHTML) && tooltip) {\r\n            const tooltipPosition = this.get(\"tooltipPosition\");\r\n            const tooltipTarget = this.getPrivate(\"tooltipTarget\", this);\r\n            if (tooltipPosition == \"fixed\" || !point) {\r\n                this._display._setMatrix();\r\n                point = this.toGlobal(tooltipTarget._getTooltipPoint());\r\n            }\r\n            tooltip.set(\"pointTo\", point);\r\n            tooltip.set(\"tooltipTarget\", tooltipTarget);\r\n            if (!tooltip.get(\"x\")) {\r\n                tooltip.set(\"x\", point.x);\r\n            }\r\n            if (!tooltip.get(\"y\")) {\r\n                tooltip.set(\"y\", point.y);\r\n            }\r\n            if (tooltipText) {\r\n                tooltip.label.set(\"text\", tooltipText);\r\n            }\r\n            if (tooltipHTML) {\r\n                tooltip.label.set(\"html\", tooltipHTML);\r\n            }\r\n            const dataItem = this.dataItem;\r\n            if (dataItem) {\r\n                tooltip.label._setDataItem(dataItem);\r\n            }\r\n            if (this.get(\"showTooltipOn\") == \"always\" && (point.x < 0 || point.x > this._root.width() || point.y < 0 || point.y > this._root.height())) {\r\n                this.hideTooltip();\r\n                return;\r\n            }\r\n            tooltip.label.text.markDirtyText();\r\n            const promise = tooltip.show();\r\n            this.setPrivateRaw(\"showingTooltip\", true);\r\n            return promise;\r\n        }\r\n    }\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     */\r\n    hideTooltip() {\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            if (tooltip.get(\"tooltipTarget\") == this.getPrivate(\"tooltipTarget\", this) || this.get(\"tooltip\") == tooltip) {\r\n                let timeout = tooltip.get(\"keepTargetHover\") && tooltip.get(\"stateAnimationDuration\", 0) == 0 ? 400 : undefined;\r\n                const promise = tooltip.hide(timeout);\r\n                this.setPrivateRaw(\"showingTooltip\", false);\r\n                return promise;\r\n            }\r\n        }\r\n    }\r\n    _getTooltipPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            let x = 0;\r\n            let y = 0;\r\n            if (!this.get(\"isMeasured\")) {\r\n                x = $utils.relativeToValue(this.get(\"tooltipX\", 0), this.width());\r\n                y = $utils.relativeToValue(this.get(\"tooltipY\", 0), this.height());\r\n            }\r\n            else {\r\n                x = bounds.left + $utils.relativeToValue(this.get(\"tooltipX\", 0), bounds.right - bounds.left);\r\n                y = bounds.top + $utils.relativeToValue(this.get(\"tooltipY\", 0), bounds.bottom - bounds.top);\r\n            }\r\n            return { x, y };\r\n        }\r\n        return { x: 0, y: 0 };\r\n    }\r\n    /**\r\n     * Returns [[Tooltip]] used for this element.\r\n     *\r\n     * @return Tooltip\r\n     */\r\n    getTooltip() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (!tooltip) {\r\n            let parent = this.parent;\r\n            if (parent) {\r\n                return parent.getTooltip();\r\n            }\r\n        }\r\n        else {\r\n            return tooltip;\r\n        }\r\n    }\r\n    _updatePosition() {\r\n        const parent = this.parent;\r\n        let dx = this.get(\"dx\", 0);\r\n        let dy = this.get(\"dy\", 0);\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        let xx = 0;\r\n        let yy = 0;\r\n        const position = this.get(\"position\");\r\n        if (x instanceof Percent) {\r\n            if (parent) {\r\n                x = parent.innerWidth() * x.value + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                x = 0;\r\n            }\r\n        }\r\n        if ($type.isNumber(x)) {\r\n            xx = x + dx;\r\n        }\r\n        else {\r\n            if (_x != null) {\r\n                xx = _x;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    xx = parent.get(\"paddingLeft\", 0) + dx;\r\n                }\r\n            }\r\n        }\r\n        let y = this.get(\"y\");\r\n        let _y = this.getPrivate(\"y\");\r\n        if (y instanceof Percent) {\r\n            if (parent) {\r\n                y = parent.innerHeight() * y.value + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                y = 0;\r\n            }\r\n        }\r\n        if ($type.isNumber(y)) {\r\n            yy = y + dy;\r\n        }\r\n        else {\r\n            if (_y != null) {\r\n                yy = _y;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    yy = parent.get(\"paddingTop\", 0) + dy;\r\n                }\r\n            }\r\n        }\r\n        const display = this._display;\r\n        if (display.x != xx || display.y != yy) {\r\n            display.invalidateBounds();\r\n            display.x = xx;\r\n            display.y = yy;\r\n            const eventType = \"positionchanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n        }\r\n        // Update tooltip position together with the Sprite\r\n        if (this.getPrivate(\"showingTooltip\")) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * Returns element's actual X position in pixels.\r\n     *\r\n     * @return X (px)\r\n     */\r\n    x() {\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (x instanceof Percent) {\r\n                return $utils.relativeToValue(x, parent.innerWidth()) + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                if (!$type.isNumber(x)) {\r\n                    if (_x != null) {\r\n                        return _x;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingLeft\", this._display.x);\r\n                    }\r\n                }\r\n                else {\r\n                    return x;\r\n                }\r\n            }\r\n        }\r\n        return this._display.x;\r\n    }\r\n    /**\r\n     * Returns element's actual Y position in pixels.\r\n     *\r\n     * @return Y (px)\r\n     */\r\n    y() {\r\n        let _y = this.getPrivate(\"y\");\r\n        if (_y != null) {\r\n            return _y;\r\n        }\r\n        let y = this.get(\"y\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (y instanceof Percent) {\r\n                return $utils.relativeToValue(y, parent.innerHeight()) + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                if (!$type.isNumber(y)) {\r\n                    if (_y != null) {\r\n                        return _y;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingTop\", this._display.y);\r\n                    }\r\n                }\r\n                else {\r\n                    return y;\r\n                }\r\n            }\r\n        }\r\n        return this._display.y;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._display.dispose();\r\n        this._removeTemplateField();\r\n        this._removeParent(this.parent);\r\n        this._root._removeFocusElement(this);\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.dispose();\r\n        }\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    adjustedLocalBounds() {\r\n        this._fixMinBounds(this._adjustedLocalBounds);\r\n        return this._adjustedLocalBounds;\r\n    }\r\n    /**\r\n     * Returns local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    localBounds() {\r\n        return this._localBounds;\r\n    }\r\n    /**\r\n     * Returns adjusted local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    bounds() {\r\n        const bounds = this._adjustedLocalBounds;\r\n        const x = this.x();\r\n        const y = this.y();\r\n        return { left: bounds.left + x, right: bounds.right + x, top: bounds.top + y, bottom: bounds.bottom + y };\r\n    }\r\n    /**\r\n     * Returns global coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    globalBounds() {\r\n        const bounds = this.localBounds();\r\n        const p0 = this.toGlobal({ x: bounds.left, y: bounds.top });\r\n        const p1 = this.toGlobal({ x: bounds.right, y: bounds.top });\r\n        const p2 = this.toGlobal({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = this.toGlobal({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    _onShow(_duration) {\r\n    }\r\n    _onHide(_duration) {\r\n    }\r\n    /**\r\n     * Plays initial reveal animation regardless if element is currently hidden\r\n     * or visible.\r\n     *\r\n     * @param   duration  Duration of the animation in milliseconds\r\n     * @param   delay     Delay showing of the element by X milliseconds\r\n     * @return            Promise\r\n     */\r\n    appear(duration, delay) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.hide(0);\r\n            if (delay) {\r\n                return new Promise((success, _error) => {\r\n                    this.setTimeout(() => {\r\n                        success(this.show(duration));\r\n                    }, delay);\r\n                });\r\n            }\r\n            else {\r\n                return this.show(duration);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Shows currently hidden element and returns a `Promise` which completes\r\n     * when all showing animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    show(duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this._isShowing) {\r\n                this._isHidden = false;\r\n                this._isShowing = true;\r\n                this._isHiding = false;\r\n                if (this.states.lookup(\"default\").get(\"visible\")) {\r\n                    this.set(\"visible\", true);\r\n                }\r\n                this._onShow(duration);\r\n                const animations = this.states.applyAnimate(\"default\", duration);\r\n                yield waitForAnimations(animations);\r\n                this._isShowing = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Hides the element and returns a `Promise` which completes when all hiding\r\n     * animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    hide(duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this._isHiding && !this._isHidden) {\r\n                this._isHiding = true;\r\n                this._isShowing = false;\r\n                let state = this.states.lookup(\"hidden\");\r\n                if (!state) {\r\n                    state = this.states.create(\"hidden\", {\r\n                        \"opacity\": 0,\r\n                        \"visible\": false\r\n                    });\r\n                }\r\n                this._isHidden = true;\r\n                this._onHide(duration);\r\n                const animations = this.states.applyAnimate(\"hidden\", duration);\r\n                yield waitForAnimations(animations);\r\n                this._isHiding = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hidden.\r\n     *\r\n     * @return Is hidden?\r\n     */\r\n    isHidden() {\r\n        return this._isHidden;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a default state.\r\n     *\r\n     * @return Is showing?\r\n     */\r\n    isShowing() {\r\n        return this._isShowing;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a hidden state.\r\n     *\r\n     * @return Is hiding?\r\n     */\r\n    isHiding() {\r\n        return this._isHiding;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hovered by a pointer.\r\n     *\r\n     * @return Is hovered?\r\n     */\r\n    isHover() {\r\n        return this._display.hovering();\r\n    }\r\n    /**\r\n     * Returns `true` if this element does currently have focus.\r\n     *\r\n     * @return Is focused?\r\n     */\r\n    isFocus() {\r\n        return this._root.focused(this);\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently being dragged.\r\n     *\r\n     * @return Is dragged?\r\n     */\r\n    isDragging() {\r\n        return this._isDragging;\r\n    }\r\n    /**\r\n     * Returns `false` if if either public or private setting `visible` is set\r\n     * to `false`, or `forceHidden` is set to `true`.\r\n     *\r\n     * @return Visible?\r\n     */\r\n    isVisible() {\r\n        if (this.get(\"visible\") && this.getPrivate(\"visible\") && !this.get(\"forceHidden\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Same as `isVisible()`, except it checks all ascendants, too.\r\n     *\r\n     * @since 5.2.7\r\n     * @return Visible?\r\n     */\r\n    isVisibleDeep() {\r\n        return this._parent ? (this._parent.isVisibleDeep() && this.isVisible()) : this.isVisible();\r\n    }\r\n    /**\r\n     * Returns an actual opacity of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.2.11\r\n     */\r\n    compositeOpacity() {\r\n        const opacity = this.get(\"opacity\", 1);\r\n        return this._parent ? (this._parent.compositeOpacity() * opacity) : opacity;\r\n    }\r\n    /**\r\n     * Returns width of this element in pixels.\r\n     *\r\n     * @return Width (px)\r\n     */\r\n    width() {\r\n        let width = this.get(\"width\");\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let w = 0;\r\n        if ($type.isNumber(privateWidth)) {\r\n            w = privateWidth;\r\n        }\r\n        else {\r\n            if (width == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    w = this._adjustedLocalBounds.right - this._adjustedLocalBounds.left;\r\n                }\r\n            }\r\n            else {\r\n                if (width instanceof Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        w = parent.innerWidth() * width.value;\r\n                    }\r\n                    else {\r\n                        w = this._root.width() * width.value;\r\n                    }\r\n                }\r\n                else if ($type.isNumber(width)) {\r\n                    w = width;\r\n                }\r\n            }\r\n        }\r\n        if ($type.isNumber(minWidth)) {\r\n            w = Math.max(minWidth, w);\r\n        }\r\n        if ($type.isNumber(maxWidth)) {\r\n            w = Math.min(maxWidth, w);\r\n        }\r\n        return w;\r\n    }\r\n    /**\r\n     * Returns maximum allowed width of this element in pixels.\r\n     *\r\n     * @return Maximum width (px)\r\n     */\r\n    maxWidth() {\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        if ($type.isNumber(maxWidth)) {\r\n            return maxWidth;\r\n        }\r\n        else {\r\n            let width = this.get(\"width\");\r\n            if ($type.isNumber(width)) {\r\n                return width;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerWidth();\r\n        }\r\n        return this._root.width();\r\n    }\r\n    /**\r\n     * Returns maximum allowed height of this element in pixels.\r\n     *\r\n     * @return Maximum height (px)\r\n     */\r\n    maxHeight() {\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        if ($type.isNumber(maxHeight)) {\r\n            return maxHeight;\r\n        }\r\n        else {\r\n            let height = this.get(\"height\");\r\n            if ($type.isNumber(height)) {\r\n                return height;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerHeight();\r\n        }\r\n        return this._root.height();\r\n    }\r\n    /**\r\n     * Returns height of this element in pixels.\r\n     *\r\n     * @return Height (px)\r\n     */\r\n    height() {\r\n        let height = this.get(\"height\");\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        let h = 0;\r\n        if ($type.isNumber(privateHeight)) {\r\n            h = privateHeight;\r\n        }\r\n        else {\r\n            if (height == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    h = this._adjustedLocalBounds.bottom - this._adjustedLocalBounds.top;\r\n                }\r\n            }\r\n            else {\r\n                if (height instanceof Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        h = parent.innerHeight() * height.value;\r\n                    }\r\n                    else {\r\n                        h = this._root.height() * height.value;\r\n                    }\r\n                }\r\n                else if ($type.isNumber(height)) {\r\n                    h = height;\r\n                }\r\n            }\r\n        }\r\n        if ($type.isNumber(minHeight)) {\r\n            h = Math.max(minHeight, h);\r\n        }\r\n        if ($type.isNumber(maxHeight)) {\r\n            h = Math.min(maxHeight, h);\r\n        }\r\n        return h;\r\n    }\r\n    _findStaticTemplate(f) {\r\n        // templateField overrides template\r\n        if (this._templateField && f(this._templateField)) {\r\n            return this._templateField;\r\n        }\r\n        return super._findStaticTemplate(f);\r\n    }\r\n    _walkParents(f) {\r\n        if (this._parent) {\r\n            this._walkParent(f);\r\n        }\r\n    }\r\n    _walkParent(f) {\r\n        if (this._parent) {\r\n            this._parent._walkParent(f);\r\n        }\r\n        f(this);\r\n    }\r\n    /**\r\n     * Parent [[Container]] of this element.\r\n     *\r\n     * @return Parent container\r\n     */\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n    _setParent(parent, updateChildren = false) {\r\n        const prevParent = this._parent;\r\n        if (parent !== prevParent) {\r\n            this.markDirtyBounds();\r\n            parent.markDirty();\r\n            this._parent = parent;\r\n            if (updateChildren) {\r\n                this._removeParent(prevParent);\r\n                if (parent) {\r\n                    this._addPercentageSizeChildren();\r\n                    this._addPercentagePositionChildren();\r\n                }\r\n            }\r\n            this.markDirtyPosition();\r\n            this._applyThemes();\r\n        }\r\n    }\r\n    /**\r\n     * Returns an instance of [[NumberFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return NumberFormatter instace\r\n     */\r\n    getNumberFormatter() {\r\n        return this.get(\"numberFormatter\", this._root.numberFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DateFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DateFormatter instace\r\n     */\r\n    getDateFormatter() {\r\n        return this.get(\"dateFormatter\", this._root.dateFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DurationFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DurationFormatter instace\r\n     */\r\n    getDurationFormatter() {\r\n        return this.get(\"durationFormatter\", this._root.durationFormatter);\r\n    }\r\n    /**\r\n     * Converts X/Y coordinate within this element to a global coordinate.\r\n     *\r\n     * @param  point  Local coordinate\r\n     * @return        Global coordinate\r\n     */\r\n    toGlobal(point) {\r\n        return this._display.toGlobal(point);\r\n    }\r\n    /**\r\n     * Converts global X/Y coordinate to a coordinate within this element.\r\n     *\r\n     * @param  point  Global coordinate\r\n     * @return        Local coordinate\r\n     */\r\n    toLocal(point) {\r\n        return this._display.toLocal(point);\r\n    }\r\n    _getDownPoint() {\r\n        const id = this._getDownPointId();\r\n        if (id) {\r\n            return this._downPoints[id];\r\n        }\r\n    }\r\n    _getDownPointId() {\r\n        if (this._downPoints) {\r\n            return $object.keysOrdered(this._downPoints, (a, b) => {\r\n                if (a > b) {\r\n                    return 1;\r\n                }\r\n                if (a < b) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            })[0];\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the end of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toFront() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, parent.children.length - 1);\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the beginning of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toBack() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, 0);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Sprite, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Sprite\"\r\n});\r\nObject.defineProperty(Sprite, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Sprite.className])\r\n});\r\n//# sourceMappingURL=Sprite.js.map","import { Entity } from \"../../util/Entity\";\r\n/**\r\n * Base class for patterns.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nexport class Pattern extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_backgroundDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_pattern\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        // Applying themes because pattern will not have parent\r\n        super._afterNewApplyThemes();\r\n    }\r\n    get pattern() {\r\n        return this._pattern;\r\n    }\r\n    _draw() { }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"repetition\") || this.isDirty(\"width\") || this.isDirty(\"height\") || this.isDirty(\"rotation\") || this.isDirty(\"color\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"colorOpacity\") || this.isDirty(\"fill\") || this.isDirty(\"fillOpacity\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const repetition = this.get(\"repetition\", \"\");\r\n            const width = this.get(\"width\", 100);\r\n            const height = this.get(\"height\", 100);\r\n            const fill = this.get(\"fill\");\r\n            const fillOpacity = this.get(\"fillOpacity\", 1);\r\n            this._display.clear();\r\n            this._backgroundDisplay.clear();\r\n            if (fill && (fillOpacity > 0)) {\r\n                this._backgroundDisplay.beginFill(fill, fillOpacity);\r\n                this._backgroundDisplay.drawRect(0, 0, width, height);\r\n                this._backgroundDisplay.endFill();\r\n            }\r\n            this._display.angle = this.get(\"rotation\", 0);\r\n            //this._display.pivot = { x: width / 2, y: height / 2 };\r\n            this._draw();\r\n            this._pattern = this._root._renderer.createPattern(this._display, this._backgroundDisplay, repetition, width, height);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Pattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Pattern\"\r\n});\r\nObject.defineProperty(Pattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Pattern.className])\r\n});\r\n//# sourceMappingURL=Pattern.js.map","import { Pattern } from \"./Pattern\";\r\n/**\r\n * Picture pattern.\r\n *\r\n * @since 5.2.15\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nexport class PicturePattern extends Pattern {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        this._clear = true;\r\n        if (this.isDirty(\"src\")) {\r\n            this._load();\r\n        }\r\n    }\r\n    _draw() {\r\n        super._draw();\r\n        const image = this._image;\r\n        if (image) {\r\n            const patternWidth = this.get(\"width\", 100);\r\n            const patternHeight = this.get(\"height\", 100);\r\n            // Fit\r\n            const fit = this.get(\"fit\", \"image\");\r\n            let width = 0;\r\n            let height = 0;\r\n            if (fit == \"pattern\") {\r\n                width = patternWidth;\r\n                height = patternHeight;\r\n            }\r\n            else {\r\n                width = image.width;\r\n                height = image.height;\r\n                if (fit == \"image\") {\r\n                    this.set(\"width\", width);\r\n                    this.set(\"height\", height);\r\n                }\r\n            }\r\n            // Position\r\n            const centered = this.get(\"centered\", true);\r\n            let x = 0;\r\n            let y = 0;\r\n            if (centered) {\r\n                x = patternWidth / 2 - width / 2;\r\n                y = patternHeight / 2 - height / 2;\r\n            }\r\n            this._display.image(image, width, height, x, y);\r\n        }\r\n    }\r\n    _load() {\r\n        const src = this.get(\"src\");\r\n        if (src) {\r\n            const image = new Image();\r\n            //image.crossOrigin = \"Anonymous\";\r\n            image.src = src;\r\n            image.decode().then(() => {\r\n                this._image = image;\r\n                this._draw();\r\n                if (this.events.isEnabled(\"loaded\")) {\r\n                    this.events.dispatch(\"loaded\", { type: \"loaded\", target: this });\r\n                }\r\n            }).catch((_error) => {\r\n                // TODO: maybe raise error?\r\n            });\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PicturePattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PicturePattern\"\r\n});\r\nObject.defineProperty(PicturePattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Pattern.classNames.concat([PicturePattern.className])\r\n});\r\n//# sourceMappingURL=PicturePattern.js.map","/**\r\n * From https://github.com/pixijs/pixi.js/blob/3dd0ff9a935f0bc13a09aefff9eb2872f02c51b9/packages/canvas/canvas-renderer/src/utils/mapCanvasBlendModesToPixi.ts#L13\r\n */\r\nexport var BlendMode;\r\n(function (BlendMode) {\r\n    BlendMode[\"ADD\"] = \"lighter\";\r\n    BlendMode[\"COLOR\"] = \"color\";\r\n    BlendMode[\"COLOR_BURN\"] = \"color-burn\";\r\n    BlendMode[\"COLOR_DODGE\"] = \"color-dodge\";\r\n    BlendMode[\"DARKEN\"] = \"darken\";\r\n    BlendMode[\"DIFFERENCE\"] = \"difference\";\r\n    BlendMode[\"DST_OVER\"] = \"destination-over\";\r\n    BlendMode[\"EXCLUSION\"] = \"exclusion\";\r\n    BlendMode[\"HARD_LIGHT\"] = \"hard-light\";\r\n    BlendMode[\"HUE\"] = \"hue\";\r\n    BlendMode[\"LIGHTEN\"] = \"lighten\";\r\n    BlendMode[\"LUMINOSITY\"] = \"luminosity\";\r\n    BlendMode[\"MULTIPLY\"] = \"multiply\";\r\n    BlendMode[\"NORMAL\"] = \"source-over\";\r\n    BlendMode[\"OVERLAY\"] = \"overlay\";\r\n    BlendMode[\"SATURATION\"] = \"saturation\";\r\n    BlendMode[\"SCREEN\"] = \"screen\";\r\n    BlendMode[\"SOFT_LIGHT\"] = \"soft-light\";\r\n    BlendMode[\"SRC_ATOP\"] = \"source-atop\";\r\n    BlendMode[\"XOR\"] = \"xor\";\r\n})(BlendMode || (BlendMode = {}));\r\n//# sourceMappingURL=Renderer.js.map","import { PicturePattern } from \"../render/patterns/PicturePattern\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { BlendMode } from \"./backend/Renderer\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $array from \"../util/Array\";\r\nexport const visualSettings = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeWidth\", \"strokeOpacity\", \"fillPattern\", \"strokePattern\", \"fillGradient\", \"strokeGradient\", \"strokeDasharray\", \"strokeDashoffset\"];\r\n/**\r\n * Base class used for drawing shapes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Graphics extends Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"draw\") || this.isDirty(\"svgPath\")) {\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\") || this.isDirty(\"visible\") || this.isDirty(\"forceHidden\") || this.isDirty(\"scale\") || this.isDirty(\"fillGradient\") || this.isDirty(\"strokeGradient\") || this.isDirty(\"fillPattern\") || this.isDirty(\"strokePattern\") || this.isDirty(\"fillOpacity\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"draw\") || this.isDirty(\"blendMode\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"svgPath\") || this.isDirty(\"lineJoin\") || this.isDirty(\"shadowColor\") || this.isDirty(\"shadowBlur\") || this.isDirty(\"shadowOffsetX\") || this.isDirty(\"shadowOffsetY\")) {\r\n            this._clear = true;\r\n        }\r\n        this._display.crisp = this.get(\"crisp\", false);\r\n        if (this.isDirty(\"fillGradient\")) {\r\n            const gradient = this.get(\"fillGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"strokeGradient\")) {\r\n            const gradient = this.get(\"strokeGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            this.markDirtyLayer();\r\n            this._display.clear();\r\n            let strokeDasharray = this.get(\"strokeDasharray\");\r\n            if ($type.isNumber(strokeDasharray)) {\r\n                if (strokeDasharray < 0.5) {\r\n                    strokeDasharray = [0];\r\n                }\r\n                else {\r\n                    strokeDasharray = [strokeDasharray];\r\n                }\r\n            }\r\n            this._display.setLineDash(strokeDasharray);\r\n            const strokeDashoffset = this.get(\"strokeDashoffset\");\r\n            if (strokeDashoffset) {\r\n                this._display.setLineDashOffset(strokeDashoffset);\r\n            }\r\n            const blendMode = this.get(\"blendMode\", BlendMode.NORMAL);\r\n            this._display.blendMode = blendMode;\r\n            const draw = this.get(\"draw\");\r\n            if (draw) {\r\n                draw(this._display, this);\r\n            }\r\n            const svgPath = this.get(\"svgPath\");\r\n            if (svgPath != null) {\r\n                this._display.svgPath(svgPath);\r\n            }\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._clear) {\r\n            const fill = this.get(\"fill\");\r\n            const fillGradient = this.get(\"fillGradient\");\r\n            const fillPattern = this.get(\"fillPattern\");\r\n            const fillOpacity = this.get(\"fillOpacity\");\r\n            const stroke = this.get(\"stroke\");\r\n            const strokeGradient = this.get(\"strokeGradient\");\r\n            const strokePattern = this.get(\"strokePattern\");\r\n            const shadowColor = this.get(\"shadowColor\");\r\n            const shadowBlur = this.get(\"shadowBlur\");\r\n            const shadowOffsetX = this.get(\"shadowOffsetX\");\r\n            const shadowOffsetY = this.get(\"shadowOffsetY\");\r\n            const shadowOpacity = this.get(\"shadowOpacity\");\r\n            //const bounds = this._display.getLocalBounds();\r\n            if (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) {\r\n                this._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);\r\n            }\r\n            if (fillPattern) {\r\n                let changed = false;\r\n                if (fill && (!fillPattern.get(\"fill\") || fillPattern.get(\"fillInherited\"))) {\r\n                    fillPattern.set(\"fill\", fill);\r\n                    fillPattern.set(\"fillInherited\", true);\r\n                    changed = true;\r\n                }\r\n                if (stroke && (!fillPattern.get(\"color\") || fillPattern.get(\"colorInherited\"))) {\r\n                    fillPattern.set(\"color\", stroke);\r\n                    fillPattern.set(\"colorInherited\", true);\r\n                    changed = true;\r\n                }\r\n                if (changed) {\r\n                    // @todo: is this OK?\r\n                    fillPattern._changed();\r\n                }\r\n                const pattern = fillPattern.pattern;\r\n                if (pattern) {\r\n                    this._display.beginFill(pattern, fillOpacity);\r\n                    this._display.endFill();\r\n                    if (fillPattern instanceof PicturePattern) {\r\n                        fillPattern.events.once(\"loaded\", () => {\r\n                            this._clear = true;\r\n                            this.markDirty();\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else if (fillGradient) {\r\n                if (fill) {\r\n                    const stops = fillGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        $array.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && fill) {\r\n                                stop.color = fill;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = fillOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                const gradient = fillGradient.getFill(this);\r\n                if (gradient) {\r\n                    this._display.beginFill(gradient, fillOpacity);\r\n                    this._display.endFill();\r\n                }\r\n            }\r\n            else if (fill) {\r\n                this._display.beginFill(fill, fillOpacity);\r\n                this._display.endFill();\r\n            }\r\n            if (stroke || strokeGradient || strokePattern) {\r\n                const strokeOpacity = this.get(\"strokeOpacity\");\r\n                let strokeWidth = this.get(\"strokeWidth\", 1);\r\n                if (this.get(\"nonScalingStroke\")) {\r\n                    strokeWidth = strokeWidth / this.get(\"scale\", 1);\r\n                }\r\n                if (this.get(\"crisp\")) {\r\n                    strokeWidth /= this._root._renderer.resolution;\r\n                }\r\n                const lineJoin = this.get(\"lineJoin\");\r\n                if (strokePattern) {\r\n                    let changed = false;\r\n                    if (stroke && (!strokePattern.get(\"color\") || strokePattern.get(\"colorInherited\"))) {\r\n                        strokePattern.set(\"color\", stroke);\r\n                        strokePattern.set(\"colorInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (changed) {\r\n                        // @todo: is this OK?\r\n                        strokePattern._changed();\r\n                    }\r\n                    const pattern = strokePattern.pattern;\r\n                    if (pattern) {\r\n                        this._display.lineStyle(strokeWidth, pattern, strokeOpacity, lineJoin);\r\n                        this._display.endStroke();\r\n                        if (strokePattern instanceof PicturePattern) {\r\n                            strokePattern.events.once(\"loaded\", () => {\r\n                                this._clear = true;\r\n                                this.markDirty();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else if (strokeGradient) {\r\n                    const stops = strokeGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        $array.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && stroke) {\r\n                                stop.color = stroke;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = strokeOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                    const gradient = strokeGradient.getFill(this);\r\n                    if (gradient) {\r\n                        this._display.lineStyle(strokeWidth, gradient, strokeOpacity, lineJoin);\r\n                        this._display.endStroke();\r\n                    }\r\n                }\r\n                else if (stroke) {\r\n                    this._display.lineStyle(strokeWidth, stroke, strokeOpacity, lineJoin);\r\n                    this._display.endStroke();\r\n                }\r\n            }\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n        this._clear = false;\r\n    }\r\n}\r\nObject.defineProperty(Graphics, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Graphics\"\r\n});\r\nObject.defineProperty(Graphics, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Sprite.classNames.concat([Graphics.className])\r\n});\r\n//# sourceMappingURL=Graphics.js.map","import { Graphics } from \"./Graphics\";\r\n/**\r\n * Draws a rectangle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Rectangle extends Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_trustBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.isMeasured = true;\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear && !this.get(\"draw\")) {\r\n            this._draw();\r\n        }\r\n    }\r\n    _draw() {\r\n        this._display.drawRect(0, 0, this.width(), this.height());\r\n    }\r\n    _updateSize() {\r\n        this.markDirty();\r\n        this._clear = true;\r\n    }\r\n}\r\nObject.defineProperty(Rectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Rectangle\"\r\n});\r\nObject.defineProperty(Rectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Rectangle.className])\r\n});\r\n//# sourceMappingURL=Rectangle.js.map","import { Entity } from \"../util/Entity\";\r\nexport function eachChildren(container, f) {\r\n    if (container.get(\"reverseChildren\", false)) {\r\n        container.children.eachReverse(f);\r\n    }\r\n    else {\r\n        container.children.each(f);\r\n    }\r\n}\r\n/**\r\n * Base class for [[Container]] layouts.\r\n */\r\nexport class Layout extends Entity {\r\n}\r\nObject.defineProperty(Layout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Layout\"\r\n});\r\nObject.defineProperty(Layout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Layout.className])\r\n});\r\n//# sourceMappingURL=Layout.js.map","import { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A horizontal children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nexport class HorizontalLayout extends Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let availableWidth = container.innerWidth();\r\n        let totalPercent = 0;\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof Percent) {\r\n                        totalPercent += childWidth.value;\r\n                        let w = availableWidth * childWidth.value;\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        if (minWidth > w) {\r\n                            availableWidth -= minWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        if (w > maxWidth) {\r\n                            availableWidth -= maxWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!$type.isNumber(childWidth)) {\r\n                            childWidth = child.width();\r\n                        }\r\n                        availableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableWidth <= 0 || availableWidth == Infinity) {\r\n            availableWidth = .1;\r\n        }\r\n        //if (availableWidth > 0) {\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof Percent) {\r\n                        let privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\r\n                        child.setPrivate(\"width\", privateWidth);\r\n                    }\r\n                    else {\r\n                        if (child._prevSettings.width instanceof Percent) {\r\n                            child.setPrivate(\"width\", undefined);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevX = paddingLeft;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginLeft = child.get(\"marginLeft\", 0);\r\n                    let marginRight = child.get(\"marginRight\", 0);\r\n                    let maxWidth = child.get(\"maxWidth\");\r\n                    let left = bounds.left;\r\n                    let right = bounds.right;\r\n                    if (maxWidth) {\r\n                        if (right - left > maxWidth) {\r\n                            right = left + maxWidth;\r\n                        }\r\n                    }\r\n                    let x = prevX + marginLeft - left;\r\n                    child.setPrivate(\"x\", x);\r\n                    prevX = x + right + marginRight;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"x\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(HorizontalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HorizontalLayout\"\r\n});\r\nObject.defineProperty(HorizontalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Layout.classNames.concat([HorizontalLayout.className])\r\n});\r\n//# sourceMappingURL=HorizontalLayout.js.map","import { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A vertical children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nexport class VerticalLayout extends Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableHeight = container.innerHeight();\r\n        let totalPercent = 0;\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof Percent) {\r\n                        totalPercent += childHeight.value;\r\n                        let h = availableHeight * childHeight.value;\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        if (minHeight > h) {\r\n                            availableHeight -= minHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        if (h > maxHeight) {\r\n                            availableHeight -= maxHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!$type.isNumber(childHeight)) {\r\n                            childHeight = child.height();\r\n                        }\r\n                        availableHeight -= childHeight + child.get(\"marginTop\", 0) + child.get(\"marginBottom\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableHeight <= 0 || availableHeight == Infinity) {\r\n            availableHeight = .1;\r\n        }\r\n        //if (availableHeight > 0) {\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof Percent) {\r\n                        let privateHeight = availableHeight * childHeight.value / totalPercent - child.get(\"marginTop\", 0) - child.get(\"marginBottom\", 0);\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        privateHeight = Math.min(Math.max(minHeight, privateHeight), maxHeight);\r\n                        child.setPrivate(\"height\", privateHeight);\r\n                    }\r\n                    else {\r\n                        if (child._prevSettings.height instanceof Percent) {\r\n                            child.setPrivate(\"height\", undefined);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevY = paddingTop;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginTop = child.get(\"marginTop\", 0);\r\n                    let top = bounds.top;\r\n                    let bottom = bounds.bottom;\r\n                    let maxHeight = child.get(\"maxHeight\");\r\n                    if (maxHeight) {\r\n                        if (bottom - top > maxHeight) {\r\n                            bottom = top + maxHeight;\r\n                        }\r\n                    }\r\n                    let marginBottom = child.get(\"marginBottom\", 0);\r\n                    let y = prevY + marginTop - top;\r\n                    child.setPrivate(\"y\", y);\r\n                    prevY = y + bottom + marginBottom;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"y\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(VerticalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"VerticalLayout\"\r\n});\r\nObject.defineProperty(VerticalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Layout.classNames.concat([VerticalLayout.className])\r\n});\r\n//# sourceMappingURL=VerticalLayout.js.map","import { Layout, eachChildren } from \"./Layout\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * A grid children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nexport class GridLayout extends Layout {\r\n    _afterNew() {\r\n        this._setRawDefault(\"maxColumns\", Number.MAX_VALUE);\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let paddingRight = container.get(\"paddingRight\", 0);\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableWidth = container.maxWidth() - paddingLeft - paddingRight;\r\n        let minCellWidth = availableWidth;\r\n        let maxCellWidth = 1;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"visible\") && child.getPrivate(\"visible\") && !child.get(\"forceHidden\")) {\r\n                if (child.get(\"position\") != \"absolute\") {\r\n                    let childWidth = child.width();\r\n                    if (childWidth < minCellWidth) {\r\n                        minCellWidth = childWidth;\r\n                    }\r\n                    if (childWidth > maxCellWidth) {\r\n                        maxCellWidth = childWidth;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        minCellWidth = $math.fitToRange(minCellWidth, 1, availableWidth);\r\n        maxCellWidth = $math.fitToRange(maxCellWidth, 1, availableWidth);\r\n        let columnCount = 1;\r\n        if (this.get(\"fixedWidthGrid\")) {\r\n            columnCount = availableWidth / maxCellWidth;\r\n        }\r\n        else {\r\n            columnCount = availableWidth / minCellWidth;\r\n        }\r\n        columnCount = Math.max(1, Math.floor(columnCount));\r\n        columnCount = Math.min(this.get(\"maxColumns\", Number.MAX_VALUE), columnCount);\r\n        let columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n        let prevY = paddingTop;\r\n        let column = 0;\r\n        let maxColumnHeight = 0;\r\n        columnCount = columnWidths.length;\r\n        let prevX = paddingLeft;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\" && child.isVisible()) {\r\n                const marginTop = child.get(\"marginTop\", 0);\r\n                const marginBottom = child.get(\"marginBottom\", 0);\r\n                let bounds = child.adjustedLocalBounds();\r\n                let marginLeft = child.get(\"marginLeft\", 0);\r\n                let marginRight = child.get(\"marginRight\", 0);\r\n                let x = prevX + marginLeft - bounds.left;\r\n                let y = prevY + marginTop - bounds.top;\r\n                child.setPrivate(\"x\", x);\r\n                child.setPrivate(\"y\", y);\r\n                prevX += columnWidths[column] + marginRight;\r\n                maxColumnHeight = Math.max(maxColumnHeight, child.height() + marginTop + marginBottom);\r\n                column++;\r\n                if (column >= columnCount) {\r\n                    column = 0;\r\n                    prevX = paddingLeft;\r\n                    prevY += maxColumnHeight;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getColumnWidths(container, columnCount, maxCellWidth, availableWidth) {\r\n        let totalWidth = 0;\r\n        let columnWidths = [];\r\n        let column = 0;\r\n        eachChildren(container, (child) => {\r\n            let bounds = child.adjustedLocalBounds();\r\n            if (child.get(\"position\") != \"absolute\" && child.isVisible()) {\r\n                if (this.get(\"fixedWidthGrid\")) {\r\n                    columnWidths[column] = maxCellWidth;\r\n                }\r\n                else {\r\n                    columnWidths[column] = Math.max(columnWidths[column] | 0, bounds.right - bounds.left + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0));\r\n                }\r\n                if (column < container.children.length - 1) {\r\n                    column++;\r\n                    if (column == columnCount) {\r\n                        column = 0;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        $array.each(columnWidths, (w) => {\r\n            totalWidth += w;\r\n        });\r\n        if (totalWidth > availableWidth) {\r\n            if (columnCount > 2) {\r\n                columnCount -= 1;\r\n                return this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n            }\r\n            else {\r\n                return [availableWidth];\r\n            }\r\n        }\r\n        return columnWidths;\r\n    }\r\n}\r\nObject.defineProperty(GridLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"GridLayout\"\r\n});\r\nObject.defineProperty(GridLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Layout.classNames.concat([GridLayout.className])\r\n});\r\n//# sourceMappingURL=GridLayout.js.map","import { Color } from \"./Color\";\r\nimport * as $type from \"./Type\";\r\nexport class TextFormatter {\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    static escape(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, this.prefix + \"1\").\r\n            replace(/([^\\/\\]]{1})\\]\\]/g, \"$1\" + this.prefix + \"2\").\r\n            replace(/\\]\\]/g, this.prefix + \"2\").\r\n            replace(/\\{\\{/g, this.prefix + \"3\").\r\n            replace(/\\}\\}/g, this.prefix + \"4\").\r\n            replace(/\\'\\'/g, this.prefix + \"5\");\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    static unescape(text) {\r\n        return text.\r\n            replace(new RegExp(this.prefix + \"1\", \"g\"), \"[[\").\r\n            replace(new RegExp(this.prefix + \"2\", \"g\"), \"]]\").\r\n            replace(new RegExp(this.prefix + \"3\", \"g\"), \"{{\").\r\n            replace(new RegExp(this.prefix + \"4\", \"g\"), \"}}\").\r\n            replace(new RegExp(this.prefix + \"5\", \"g\"), \"''\");\r\n    }\r\n    /**\r\n     * Cleans up the text text for leftover double square brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Cleaned up text\r\n     */\r\n    static cleanUp(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, \"[\").\r\n            replace(/\\]\\]/g, \"]\").\r\n            replace(/\\{\\{/g, \"{\").\r\n            replace(/\\}\\}/g, \"}\").\r\n            replace(/\\'\\'/g, \"'\");\r\n    }\r\n    /**\r\n     * Splits string into chunks. (style blocks, quoted blocks, regular blocks)\r\n     *\r\n     * If the second parameter `quotedBlocks` is set to `true` this method will\r\n     * also single out text blocks enclosed within single quotes that no\r\n     * formatting should be applied to, and they should be displayed as is.\r\n     *\r\n     * Default for the above is `false`, so that you can use single quote in text\r\n     * without escaping it.\r\n     *\r\n     * If enabled, single quotes can be escaped by doubling it - adding two\r\n     * single quotes, which will be replaced by a one single quote in the final\r\n     * output.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text          Text to chunk\r\n     * @param quotedBlocks  Use quoted blocks\r\n     * @param noFormatting  Formatting blocks will be treated as regular text\r\n     * @return Array of string chunks\r\n     */\r\n    static chunk(text, quotedBlocks = false, noFormatting = false) {\r\n        // Init result\r\n        let res = [];\r\n        // Replace double (escaped) square spaces and quotes with temporary codes\r\n        text = this.escape(text);\r\n        // Deal with style blocks\r\n        let chunks = quotedBlocks ? text.split(\"'\") : [text];\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            // Empty?\r\n            if (chunk === \"\") {\r\n                continue;\r\n            }\r\n            if ((i % 2) === 0) {\r\n                // Text outside quotes\r\n                // Parse for style blocks which are \"text\" chunks, the rest chunks are\r\n                // \"value\"\r\n                chunk = chunk.replace(/\\]\\[/g, \"]\" + $type.PLACEHOLDER + \"[\");\r\n                chunk = chunk.replace(/\\[\\]/g, \"[ ]\");\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Placeholder?\r\n                    if (chunk2 === $type.PLACEHOLDER) {\r\n                        continue;\r\n                    }\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or value\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"value\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": noFormatting ? \"value\" : \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // A text within doublequotes\r\n                // All chunks are \"text\"\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or text\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"text\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else if (this.isImage(chunk2)) {\r\n                        res.push({\r\n                            \"type\": \"image\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Checks if supplied format contains image information and should be\r\n     * formatted as such.\r\n     * I.e.: `[img: myImage.png]`\r\n     *\r\n     * @ignore\r\n     * @param  text  Format\r\n     * @return true if it is an image\r\n     */\r\n    static isImage(text) {\r\n        return text.match(/img[ ]?:/) ? true : false;\r\n    }\r\n    static getTextStyle(style) {\r\n        // let textStyle: string[] = [];\r\n        // let textFill: string | undefined;\r\n        let format = {};\r\n        if (style == \"\" || style == \"[ ]\") {\r\n            return {};\r\n        }\r\n        // Pre-process quoted text\r\n        const q = style.match(/('[^']*')|(\"[^\"]*\")/gi);\r\n        if (q) {\r\n            for (let i = 0; i < q.length; i++) {\r\n                style = style.replace(q[i], q[i].replace(/['\"]*/g, \"\").replace(/[ ]+/g, \"+\"));\r\n            }\r\n        }\r\n        // Get style parts\r\n        let b = style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w\\-]+)|(\\/)/gi);\r\n        // Empty?\r\n        if (!b) {\r\n            return {};\r\n        }\r\n        // Check each part\r\n        for (let i = 0; i < b.length; i++) {\r\n            if (b[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i)) {\r\n                format.fontWeight = b[i];\r\n            }\r\n            else if (b[i].match(/^(underline|line-through)$/i)) {\r\n                format.textDecoration = b[i];\r\n            }\r\n            else if (b[i] == \"/\") {\r\n                // Just closing tag\r\n                // Do nothing\r\n            }\r\n            else if (!b[i].match(/:/)) {\r\n                // Color\r\n                format.fill = Color.fromString(b[i]);\r\n            }\r\n            else {\r\n                const p = b[i].replace(\"+\", \" \").split(/:[ ]*/);\r\n                format[p[0]] = p[1];\r\n                //textStyle.push(b[i].replace(/^[a-zA-Z]:[ ]*/, \"\"));\r\n                //b[i] = b[i].replace(/\\+/g, \" \");\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n}\r\nObject.defineProperty(TextFormatter, \"prefix\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"__amcharts__\"\r\n});\r\n//# sourceMappingURL=TextFormatter.js.map","/** @ignore */ /** */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nimport { Sprite } from \"../render/Sprite\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\n/**\r\n * @ignore\r\n */\r\nexport function populateString(target, string) {\r\n    if (string != null) {\r\n        string = \"\" + string;\r\n        string = TextFormatter.escape(string);\r\n        let tags = string.match(/\\{([^}]+)\\}/g);\r\n        let i;\r\n        if (tags) {\r\n            for (i = 0; i < tags.length; i++) {\r\n                let tag = tags[i].replace(/\\{([^}]+)\\}/, \"$1\");\r\n                let value = getTagValue(target, tag, \"\");\r\n                if (value == null) {\r\n                    value = \"\";\r\n                }\r\n                string = string.split(tags[i]).join(value);\r\n            }\r\n        }\r\n        string = TextFormatter.unescape(string);\r\n    }\r\n    else {\r\n        string = \"\";\r\n    }\r\n    // TODO: apply adapter?\r\n    return string;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValue(target, tagName, format) {\r\n    let value;\r\n    const dataItem = target.dataItem;\r\n    // Parse parts\r\n    let parts = [];\r\n    let reg = /(format[a-zA-Z]*)\\((.*)\\)|([^.]+)/g;\r\n    let matches;\r\n    while (true) {\r\n        matches = reg.exec(tagName);\r\n        if (matches === null) {\r\n            break;\r\n        }\r\n        if (matches[3]) {\r\n            // Simple property\r\n            parts.push({\r\n                prop: matches[3]\r\n            });\r\n            // Check if maybe we should force a formatter on this value\r\n            const dateFields = target.getDateFormatter().get(\"dateFields\", []);\r\n            const numericFields = target.getNumberFormatter().get(\"numericFields\", []);\r\n            const durationFields = target.getDurationFormatter().get(\"durationFields\", []);\r\n            if (dateFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDate\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (numericFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatNumber\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (durationFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDuration\",\r\n                    params: []\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            // Parse parameters\r\n            let params = [];\r\n            if ($utils.trim(matches[2]) != \"\") {\r\n                let reg2 = /'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g;\r\n                let matches2;\r\n                while (true) {\r\n                    matches2 = reg2.exec(matches[2]);\r\n                    if (matches2 === null) {\r\n                        break;\r\n                    }\r\n                    params.push(matches2[1] || matches2[2] || matches2[3]);\r\n                }\r\n            }\r\n            parts.push({\r\n                method: matches[1],\r\n                params: params\r\n            });\r\n        }\r\n    }\r\n    // Check if we can retrieve the value from data item\r\n    if (dataItem) {\r\n        // Check values\r\n        value = getTagValueFromObject(target, parts, dataItem._settings);\r\n        // Check properties\r\n        if (value == null || $type.isObject(value)) { // isObject helps to solve problem with date axis, as for example dateX will get dateX from values object and won't get to the dateX date.\r\n            value = getTagValueFromObject(target, parts, dataItem);\r\n        }\r\n        // Check data context\r\n        let dataContext = dataItem.dataContext;\r\n        if (value == null && dataContext) {\r\n            value = getTagValueFromObject(target, parts, dataContext);\r\n            // Maybe it's a literal dot-separated name of the key in dataContext?\r\n            if (value == null) {\r\n                value = getTagValueFromObject(target, [{\r\n                        prop: tagName\r\n                    }], dataContext);\r\n            }\r\n            // scond data context level sometimes exist (tree map)\r\n            if (value == null && dataContext.dataContext) {\r\n                value = getTagValueFromObject(target, parts, dataContext.dataContext);\r\n            }\r\n        }\r\n        // Check component's data item\r\n        if (value == null && dataItem.component && dataItem.component.dataItem !== dataItem) {\r\n            value = getTagValue(dataItem.component, tagName, format);\r\n        }\r\n    }\r\n    // Check sprite's properties\r\n    if (value == null) {\r\n        value = getTagValueFromObject(target, parts, target);\r\n    }\r\n    // Finally, check the parent\r\n    if (value == null && target.parent) {\r\n        value = getTagValue(target.parent, tagName, format);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getCustomDataValue(target, prop) {\r\n    const customData = target.getPrivate(\"customData\");\r\n    if ($type.isObject(customData)) {\r\n        return customData[prop];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getTagValueFromObject(target, parts, object, format) {\r\n    let current = object;\r\n    let formatApplied = false;\r\n    for (let i = 0, len = parts.length; i < len; i++) {\r\n        let part = parts[i];\r\n        if (part.prop) {\r\n            // Regular property\r\n            if (current instanceof Sprite) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current.getPrivate(part.prop);\r\n                if (tmp == null)\r\n                    tmp = getCustomDataValue(current, part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else if (current.get) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else {\r\n                current = current[part.prop];\r\n            }\r\n            if (current == null) {\r\n                // Not set, return undefined\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            switch (part.method) {\r\n                case \"formatNumber\":\r\n                    let numberValue = $type.toNumber(current);\r\n                    if (numberValue != null) {\r\n                        current = target.getNumberFormatter().format(numberValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDate\":\r\n                    let dateValue = $type.toDate(current);\r\n                    if (!$type.isDate(dateValue) || $type.isNaN(dateValue.getTime())) {\r\n                        // Was not able to get date out of value, quitting and letting\r\n                        // calling method try another value\r\n                        return;\r\n                    }\r\n                    if (dateValue != null) {\r\n                        current = target.getDateFormatter().format(dateValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDuration\":\r\n                    let durationValue = $type.toNumber(current);\r\n                    if (durationValue != null) {\r\n                        current = target.getDurationFormatter().format(durationValue, format || part.params[0] || undefined, part.params[1] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"urlEncode\":\r\n                case \"encodeURIComponent\":\r\n                    current = encodeURIComponent(current);\r\n                    break;\r\n                default:\r\n                    if (current[part.method]) {\r\n                        current[part.method].apply(object, part.params);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    // Apply default format if it wasn't applied explicitly\r\n    if (!formatApplied) {\r\n        let formatParts = [{\r\n                method: \"\",\r\n                params: format\r\n            }];\r\n        if (format == null) {\r\n            // Format is not set\r\n            // Determine from the type of the value\r\n            if ($type.isNumber(current)) {\r\n                formatParts[0].method = \"formatNumber\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n            else if ($type.isDate(current)) {\r\n                formatParts[0].method = \"formatDate\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n        }\r\n        else {\r\n            // Format set\r\n            // Try to determine formatter based on the format\r\n            let formatterType = $utils.getFormat(format);\r\n            // format\r\n            if (formatterType === \"number\") {\r\n                formatParts[0].method = \"formatNumber\";\r\n            }\r\n            else if (formatterType === \"date\") {\r\n                formatParts[0].method = \"formatDate\";\r\n            }\r\n            else if (formatterType === \"duration\") {\r\n                formatParts[0].method = \"formatDuration\";\r\n            }\r\n        }\r\n        // Apply format\r\n        if (formatParts[0].method) {\r\n            current = getTagValueFromObject(target, formatParts, current);\r\n        }\r\n    }\r\n    return current;\r\n}\r\n//# sourceMappingURL=PopulateString.js.map","import { Children } from \"../util/Children\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { Rectangle } from \"./Rectangle\";\r\nimport { HorizontalLayout } from \"./HorizontalLayout\";\r\nimport { VerticalLayout } from \"./VerticalLayout\";\r\nimport { GridLayout } from \"./GridLayout\";\r\nimport { populateString } from \"../util/PopulateString\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * A basic element that can have child elements, maintain their layout, and\r\n * have a background.\r\n *\r\n * It can have any [[Sprite]] element as a child, from very basic shapes, to\r\n * full-fledged charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n * @important\r\n */\r\nexport class Container extends Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        Object.defineProperty(this, \"_childrenDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        /**\r\n         * List of Container's child elements.\r\n         */\r\n        Object.defineProperty(this, \"children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Children(this)\r\n        });\r\n        Object.defineProperty(this, \"_percentageSizeChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_percentagePositionChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_prevWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_prevHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.addChild(this._childrenDisplay);\r\n    }\r\n    _dispose() {\r\n        $array.eachReverse(this.allChildren(), (child) => {\r\n            child.dispose();\r\n        });\r\n        if (this.getPrivate(\"htmlElement\")) {\r\n            this._root._removeHTMLContent(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"interactiveChildren\")) {\r\n            this._display.interactiveChildren = this.get(\"interactiveChildren\", false);\r\n        }\r\n        if (this.isDirty(\"layout\")) {\r\n            this._prevWidth = 0;\r\n            this._prevHeight = 0;\r\n            this.markDirtyBounds();\r\n            if (this._prevSettings.layout) {\r\n                this.children.each((child) => {\r\n                    child.removePrivate(\"x\");\r\n                    child.removePrivate(\"y\");\r\n                });\r\n            }\r\n        }\r\n        if (this.isDirty(\"paddingTop\") || this.isDirty(\"paddingBottom\") || this.isDirty(\"paddingLeft\") || this.isDirty(\"paddingRight\")) {\r\n            this.children.each((child) => {\r\n                child.markDirtyPosition();\r\n            });\r\n        }\r\n        if (this.isDirty(\"maskContent\")) {\r\n            const childrenDisplay = this._childrenDisplay;\r\n            let contentMask = this._contentMask;\r\n            if (this.get(\"maskContent\")) {\r\n                if (!contentMask) {\r\n                    contentMask = Rectangle.new(this._root, {\r\n                        x: -.5,\r\n                        y: -.5,\r\n                        width: this.width() + 1,\r\n                        height: this.height() + 1\r\n                    });\r\n                    this._contentMask = contentMask;\r\n                    childrenDisplay.addChildAt(contentMask._display, 0);\r\n                    childrenDisplay.mask = contentMask._display;\r\n                }\r\n            }\r\n            else {\r\n                if (contentMask) {\r\n                    childrenDisplay.removeChild(contentMask._display);\r\n                    childrenDisplay.mask = null;\r\n                    contentMask.dispose();\r\n                    this._contentMask = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n        super._updateSize();\r\n        $array.each(this._percentageSizeChildren, (child) => {\r\n            child._updateSize();\r\n        });\r\n        $array.each(this._percentagePositionChildren, (child) => {\r\n            child.markDirtyPosition();\r\n            child._updateSize();\r\n        });\r\n        this.updateBackground();\r\n    }\r\n    updateBackground() {\r\n        const background = this.get(\"background\");\r\n        let bounds = this._localBounds;\r\n        if (bounds && !this.isHidden()) {\r\n            let x = bounds.left;\r\n            let y = bounds.top;\r\n            let w = bounds.right - x;\r\n            let h = bounds.bottom - y;\r\n            let maxWidth = this.get(\"maxWidth\");\r\n            let maxHeight = this.get(\"maxHeight\");\r\n            if (maxHeight) {\r\n                if (h > maxHeight) {\r\n                    h = maxHeight;\r\n                }\r\n            }\r\n            if (maxWidth) {\r\n                if (w > maxWidth) {\r\n                    w = maxWidth;\r\n                }\r\n            }\r\n            let width = this.width();\r\n            let height = this.height();\r\n            if (background) {\r\n                background.setAll({ width: w, height: h, x: x, y: y });\r\n                if (this._display.interactive) {\r\n                    background._display.interactive = true;\r\n                }\r\n            }\r\n            const contentMask = this._contentMask;\r\n            if (contentMask) {\r\n                contentMask.setAll({ width: width + 1, height: height + 1 });\r\n            }\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar.set(\"height\", height);\r\n                verticalScrollbar.set(\"x\", width - verticalScrollbar.width() - verticalScrollbar.get(\"marginRight\", 0));\r\n                verticalScrollbar.set(\"end\", verticalScrollbar.get(\"start\", 0) + height / this._contentHeight);\r\n                const bg = verticalScrollbar.get(\"background\");\r\n                if (bg) {\r\n                    bg.setAll({ width: verticalScrollbar.width(), height: height });\r\n                }\r\n                let visible = true;\r\n                if (this._contentHeight <= height) {\r\n                    visible = false;\r\n                }\r\n                verticalScrollbar.setPrivate(\"visible\", visible);\r\n            }\r\n        }\r\n    }\r\n    _applyThemes() {\r\n        if (super._applyThemes()) {\r\n            this.eachChildren((child) => {\r\n                child._applyThemes();\r\n            });\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _applyState(name) {\r\n        super._applyState(name);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.apply(name);\r\n            });\r\n        }\r\n    }\r\n    _applyStateAnimated(name, duration) {\r\n        super._applyStateAnimated(name, duration);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.applyAnimate(name, duration);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns container's inner width (width without padding) in pixels.\r\n     *\r\n     * @return Inner width (px)\r\n     */\r\n    innerWidth() {\r\n        return this.width() - this.get(\"paddingRight\", 0) - this.get(\"paddingLeft\", 0);\r\n    }\r\n    /**\r\n     * Returns container's inner height (height without padding) in pixels.\r\n     *\r\n     * @return Inner height (px)\r\n     */\r\n    innerHeight() {\r\n        return this.height() - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0);\r\n    }\r\n    _getBounds() {\r\n        let width = this.get(\"width\");\r\n        let height = this.get(\"height\");\r\n        let pWidth = this.getPrivate(\"width\");\r\n        let pHeight = this.getPrivate(\"height\");\r\n        let bounds = {\r\n            left: 0,\r\n            top: 0,\r\n            right: this.width(),\r\n            bottom: this.height(),\r\n        };\r\n        let layout = this.get(\"layout\");\r\n        let horizontal = false;\r\n        let vertical = false;\r\n        if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n            horizontal = true;\r\n        }\r\n        if (layout instanceof VerticalLayout) {\r\n            vertical = true;\r\n        }\r\n        if ((width != null || pWidth != null) && (height != null || pHeight != null) && !this.get(\"verticalScrollbar\")) {\r\n            // void\r\n        }\r\n        else {\r\n            let m = Number.MAX_VALUE;\r\n            let l = m;\r\n            let r = -m;\r\n            let t = m;\r\n            let b = -m;\r\n            const paddingLeft = this.get(\"paddingLeft\", 0);\r\n            const paddingTop = this.get(\"paddingTop\", 0);\r\n            const paddingRight = this.get(\"paddingRight\", 0);\r\n            const paddingBottom = this.get(\"paddingBottom\", 0);\r\n            this.children.each((child) => {\r\n                if (child.get(\"position\") != \"absolute\" && child.get(\"isMeasured\")) {\r\n                    let childBounds = child.adjustedLocalBounds();\r\n                    let childX = child.x();\r\n                    let childY = child.y();\r\n                    let cl = childX + childBounds.left;\r\n                    let cr = childX + childBounds.right;\r\n                    let ct = childY + childBounds.top;\r\n                    let cb = childY + childBounds.bottom;\r\n                    if (horizontal) {\r\n                        cl -= child.get(\"marginLeft\", 0);\r\n                        cr += child.get(\"marginRight\", 0);\r\n                    }\r\n                    if (vertical) {\r\n                        ct -= child.get(\"marginTop\", 0);\r\n                        cb += child.get(\"marginBottom\", 0);\r\n                    }\r\n                    if (cl < l) {\r\n                        l = cl;\r\n                    }\r\n                    if (cr > r) {\r\n                        r = cr;\r\n                    }\r\n                    if (ct < t) {\r\n                        t = ct;\r\n                    }\r\n                    if (cb > b) {\r\n                        b = cb;\r\n                    }\r\n                }\r\n            });\r\n            if (l == m) {\r\n                l = 0;\r\n            }\r\n            if (r == -m) {\r\n                r = 0;\r\n            }\r\n            if (t == m) {\r\n                t = 0;\r\n            }\r\n            if (b == -m) {\r\n                b = 0;\r\n            }\r\n            bounds.left = l - paddingLeft;\r\n            bounds.top = t - paddingTop;\r\n            bounds.right = r + paddingRight;\r\n            bounds.bottom = b + paddingBottom;\r\n        }\r\n        this._contentWidth = bounds.right - bounds.left;\r\n        this._contentHeight = bounds.bottom - bounds.top;\r\n        if ($type.isNumber(width)) {\r\n            bounds.left = 0;\r\n            bounds.right = width;\r\n        }\r\n        if ($type.isNumber(pWidth)) {\r\n            bounds.left = 0;\r\n            bounds.right = pWidth;\r\n        }\r\n        if ($type.isNumber(height)) {\r\n            bounds.top = 0;\r\n            bounds.bottom = height;\r\n        }\r\n        if ($type.isNumber(pHeight)) {\r\n            bounds.top = 0;\r\n            bounds.bottom = pHeight;\r\n        }\r\n        this._localBounds = bounds;\r\n    }\r\n    _updateBounds() {\r\n        const layout = this.get(\"layout\");\r\n        if (layout) {\r\n            layout.updateContainer(this);\r\n        }\r\n        super._updateBounds();\r\n        this.updateBackground();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this._root._addDirtyParent(this);\r\n    }\r\n    _prepareChildren() {\r\n        const innerWidth = this.innerWidth();\r\n        const innerHeight = this.innerHeight();\r\n        const fi = \"forceInactive\";\r\n        if (this.isDirty(fi)) {\r\n            const forceInactive = this.get(fi);\r\n            this.walkChildren((child) => {\r\n                child.set(fi, forceInactive);\r\n            });\r\n            const background = this.get(\"background\");\r\n            if (background) {\r\n                background.set(fi, forceInactive);\r\n            }\r\n        }\r\n        if (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {\r\n            let layout = this.get(\"layout\");\r\n            let horizontal = false;\r\n            let vertical = false;\r\n            if (layout) {\r\n                if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n                    horizontal = true;\r\n                }\r\n                if (layout instanceof VerticalLayout) {\r\n                    vertical = true;\r\n                }\r\n            }\r\n            $array.each(this._percentageSizeChildren, (child) => {\r\n                if (!horizontal) {\r\n                    let width = child.get(\"width\");\r\n                    if (width instanceof Percent) {\r\n                        child.setPrivate(\"width\", width.value * innerWidth);\r\n                    }\r\n                }\r\n                if (!vertical) {\r\n                    let height = child.get(\"height\");\r\n                    if (height instanceof Percent) {\r\n                        child.setPrivate(\"height\", height.value * innerHeight);\r\n                    }\r\n                }\r\n            });\r\n            $array.each(this._percentagePositionChildren, (child) => {\r\n                child.markDirtyPosition();\r\n                child.markDirtyBounds();\r\n            });\r\n            this._prevWidth = innerWidth;\r\n            this._prevHeight = innerHeight;\r\n            this._sizeDirty = true;\r\n            this.updateBackground();\r\n        }\r\n        this._handleStates();\r\n    }\r\n    _updateChildren() {\r\n        if (this.isDirty(\"html\")) {\r\n            const html = this.get(\"html\");\r\n            if (html && html !== \"\") {\r\n                this._root._setHTMLContent(this, populateString(this, this.get(\"html\", \"\")));\r\n            }\r\n            else {\r\n                this._root._removeHTMLContent(this);\r\n            }\r\n            this._root._positionHTMLElement(this);\r\n        }\r\n        if (this.isDirty(\"verticalScrollbar\")) {\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar._setParent(this);\r\n                verticalScrollbar.startGrip.setPrivate(\"visible\", false);\r\n                verticalScrollbar.endGrip.setPrivate(\"visible\", false);\r\n                this.set(\"maskContent\", true);\r\n                this.set(\"paddingRight\", verticalScrollbar.width() + verticalScrollbar.get(\"marginRight\", 0) + verticalScrollbar.get(\"marginLeft\", 0));\r\n                let background = this.get(\"background\");\r\n                if (!background) {\r\n                    background = this.set(\"background\", Rectangle.new(this._root, {\r\n                        themeTags: [\"background\"],\r\n                        fillOpacity: 0,\r\n                        fill: this._root.interfaceColors.get(\"alternativeBackground\")\r\n                    }));\r\n                }\r\n                this._vsbd0 = this.events.on(\"wheel\", (event) => {\r\n                    const wheelEvent = event.originalEvent;\r\n                    // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n                    // some page element is over the chart.\r\n                    if ($utils.isLocalEvent(wheelEvent, this)) {\r\n                        wheelEvent.preventDefault();\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                    let shiftY = wheelEvent.deltaY / 5000;\r\n                    const start = verticalScrollbar.get(\"start\", 0);\r\n                    const end = verticalScrollbar.get(\"end\", 1);\r\n                    if (start + shiftY <= 0) {\r\n                        shiftY = -start;\r\n                    }\r\n                    if (end + shiftY >= 1) {\r\n                        shiftY = 1 - end;\r\n                    }\r\n                    if (start + shiftY >= 0 && end + shiftY <= 1) {\r\n                        verticalScrollbar.set(\"start\", start + shiftY);\r\n                        verticalScrollbar.set(\"end\", end + shiftY);\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd0);\r\n                this._vsbd1 = verticalScrollbar.events.on(\"rangechanged\", () => {\r\n                    let h = this._contentHeight;\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    const contentMask = this._contentMask;\r\n                    childrenDisplay.y = -verticalScrollbar.get(\"start\") * h;\r\n                    childrenDisplay.markDirtyLayer();\r\n                    if (contentMask) {\r\n                        contentMask._display.y = -childrenDisplay.y;\r\n                        childrenDisplay.mask = contentMask._display;\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd1);\r\n                this._display.addChild(verticalScrollbar._display);\r\n            }\r\n            else {\r\n                const previous = this._prevSettings.verticalScrollbar;\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                    if (this._vsbd0) {\r\n                        this._vsbd0.dispose();\r\n                    }\r\n                    if (this._vsbd1) {\r\n                        this._vsbd1.dispose();\r\n                    }\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    childrenDisplay.y = 0;\r\n                    this.setPrivate(\"height\", undefined);\r\n                    this.set(\"maskContent\", false);\r\n                    this.set(\"paddingRight\", undefined);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"background\")) {\r\n            // TODO maybe this should dispose ?\r\n            const previous = this._prevSettings[\"background\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n            }\r\n            const background = this.get(\"background\");\r\n            if (background instanceof Sprite) {\r\n                background.set(\"isMeasured\", false);\r\n                background._setParent(this);\r\n                this._display.addChildAt(background._display, 0);\r\n            }\r\n        }\r\n        if (this.isDirty(\"mask\")) {\r\n            const mask = this.get(\"mask\");\r\n            const previous = this._prevSettings[\"mask\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n                if (previous != mask) {\r\n                    previous.dispose();\r\n                }\r\n            }\r\n            if (mask) {\r\n                const parent = mask.parent;\r\n                if (parent) {\r\n                    parent.children.removeValue(mask);\r\n                }\r\n                mask._setParent(this);\r\n                this._display.addChildAt(mask._display, 0);\r\n                this._childrenDisplay.mask = mask._display;\r\n            }\r\n        }\r\n    }\r\n    _processTemplateField() {\r\n        super._processTemplateField();\r\n        this.children.each((child) => {\r\n            child._processTemplateField();\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    walkChildren(f) {\r\n        this.children.each((child) => {\r\n            if (child instanceof Container) {\r\n                child.walkChildren(f);\r\n            }\r\n            f(child);\r\n        });\r\n    }\r\n    eachChildren(f) {\r\n        const background = this.get(\"background\");\r\n        if (background) {\r\n            f(background);\r\n        }\r\n        const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n        if (verticalScrollbar) {\r\n            f(verticalScrollbar);\r\n        }\r\n        const mask = this.get(\"mask\");\r\n        if (mask) {\r\n            f(mask);\r\n        }\r\n        this.children.values.forEach((child) => {\r\n            f(child);\r\n        });\r\n    }\r\n    allChildren() {\r\n        const output = [];\r\n        this.eachChildren((x) => {\r\n            output.push(x);\r\n        });\r\n        return output;\r\n    }\r\n    _setDataItem(dataItem) {\r\n        const updated = (dataItem !== this._dataItem);\r\n        super._setDataItem(dataItem);\r\n        const html = this.get(\"html\", \"\");\r\n        if (html && html !== \"\" && updated) {\r\n            this._root._setHTMLContent(this, populateString(this, html));\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Container, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Container\"\r\n});\r\nObject.defineProperty(Container, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Sprite.classNames.concat([Container.className])\r\n});\r\n//# sourceMappingURL=Container.js.map","import { Sprite } from \"./Sprite\";\r\nimport { populateString } from \"../util/PopulateString\";\r\nimport * as $array from \"../util/Array\";\r\nimport { Disposer } from \"../util/Disposer\";\r\n/**\r\n * @ignore Text is an internal class. Use Label instead.\r\n */\r\nexport class Text extends Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeTextStyle()\r\n        });\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeText(\"\", this.textStyle)\r\n        });\r\n        Object.defineProperty(this, \"_textStyles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _updateBounds() {\r\n        if (!this.get(\"text\")) {\r\n            let newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            super._updateBounds();\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        this._display.clear();\r\n        let textStyle = this.textStyle;\r\n        if (this.isDirty(\"opacity\")) {\r\n            let opacity = this.get(\"opacity\", 1);\r\n            this._display.alpha = opacity;\r\n        }\r\n        if (this.isDirty(\"text\") || this.isDirty(\"populateText\")) {\r\n            this._display.text = this._getText();\r\n            this.markDirtyBounds();\r\n            if (this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n        }\r\n        if (this.isPrivateDirty(\"tooltipElement\")) {\r\n            const tooltipElement = this.getPrivate(\"tooltipElement\");\r\n            if (tooltipElement) {\r\n                this._disposers.push(new Disposer(() => {\r\n                    this._root._removeTooltipElement(this);\r\n                }));\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\")) {\r\n            textStyle.wordWrapWidth = this.width();\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"oversizedBehavior\")) {\r\n            textStyle.oversizedBehavior = this.get(\"oversizedBehavior\", \"none\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"breakWords\")) {\r\n            textStyle.breakWords = this.get(\"breakWords\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ellipsis\")) {\r\n            textStyle.ellipsis = this.get(\"ellipsis\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ignoreFormatting\")) {\r\n            textStyle.ignoreFormatting = this.get(\"ignoreFormatting\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"minScale\")) {\r\n            textStyle.minScale = this.get(\"minScale\", 0);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\")) {\r\n            let fill = this.get(\"fill\");\r\n            if (fill) {\r\n                textStyle.fill = fill;\r\n            }\r\n        }\r\n        if (this.isDirty(\"fillOpacity\")) {\r\n            let fillOpacity = this.get(\"fillOpacity\", 1);\r\n            if (fillOpacity) {\r\n                textStyle.fillOpacity = fillOpacity;\r\n            }\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isPrivateDirty(\"maxWidth\")) {\r\n            textStyle.maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"maxHeight\")) {\r\n            textStyle.maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        $array.each(this._textStyles, (styleName) => {\r\n            if (this._dirty[styleName]) {\r\n                textStyle[styleName] = this.get(styleName);\r\n                this.markDirtyBounds();\r\n            }\r\n        });\r\n        textStyle[\"fontSize\"] = this.get(\"fontSize\");\r\n        textStyle[\"fontFamily\"] = this.get(\"fontFamily\");\r\n        this._display.style = textStyle;\r\n        if (this.isDirty(\"role\") && this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n    }\r\n    _getText() {\r\n        const text = this.get(\"text\", \"\");\r\n        return this.get(\"populateText\") ? populateString(this, text) : text;\r\n    }\r\n    /**\r\n     * Forces the text to be re-evaluated and re-populated.\r\n     */\r\n    markDirtyText() {\r\n        this._display.text = this._getText();\r\n        if (this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n        this.markDirtyBounds();\r\n        this.markDirty();\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        if (this.get(\"populateText\")) {\r\n            this.markDirtyText();\r\n        }\r\n    }\r\n    getNumberFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getNumberFormatter();\r\n        }\r\n        else {\r\n            return super.getNumberFormatter();\r\n        }\r\n    }\r\n    getDateFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDateFormatter();\r\n        }\r\n        else {\r\n            return super.getDateFormatter();\r\n        }\r\n    }\r\n    getDurationFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDurationFormatter();\r\n        }\r\n        else {\r\n            return super.getDurationFormatter();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Text, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Text\"\r\n});\r\nObject.defineProperty(Text, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Sprite.classNames.concat([Text.className])\r\n});\r\n//# sourceMappingURL=Text.js.map","/** @ignore */ /** */\r\nimport * as $array from \"./Array\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * @ignore\r\n */\r\nclass Native {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_observer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        this._observer = new ResizeObserver((entries) => {\r\n            $array.each(entries, (entry) => {\r\n                $array.each(this._targets, (x) => {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        this._observer.observe(target, { box: \"border-box\" });\r\n        this._targets.push({ target, callback });\r\n    }\r\n    removeTarget(target) {\r\n        this._observer.unobserve(target);\r\n        $array.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Raf {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_timer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        if (this._timer === null) {\r\n            let lastTime = null;\r\n            const loop = () => {\r\n                const currentTime = Date.now();\r\n                if (lastTime === null || currentTime > (lastTime + Raf.delay)) {\r\n                    lastTime = currentTime;\r\n                    $array.each(this._targets, (x) => {\r\n                        let newSize = x.target.getBoundingClientRect();\r\n                        if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                            x.size = newSize;\r\n                            x.callback();\r\n                        }\r\n                    });\r\n                }\r\n                if (this._targets.length === 0) {\r\n                    this._timer = null;\r\n                }\r\n                else {\r\n                    this._timer = requestAnimationFrame(loop);\r\n                }\r\n            };\r\n            this._timer = requestAnimationFrame(loop);\r\n        }\r\n        // We start off with fake bounds so that sensor always kicks in\r\n        let size = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\r\n        this._targets.push({ target, callback, size });\r\n    }\r\n    removeTarget(target) {\r\n        $array.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n        if (this._targets.length === 0) {\r\n            if (this._timer !== null) {\r\n                cancelAnimationFrame(this._timer);\r\n                this._timer = null;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Raf, \"delay\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: 200\r\n});\r\n/**\r\n * @ignore\r\n */\r\nlet observer = null;\r\n/**\r\n * @ignore\r\n */\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class ResizeSensor {\r\n    constructor(element, callback) {\r\n        Object.defineProperty(this, \"_sensor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_listener\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        // This is needed because we need to know when the window is zoomed\r\n        this._listener = $utils.onZoom(callback);\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._sensor.removeTarget(this._element);\r\n            this._listener.dispose();\r\n        }\r\n    }\r\n    get sensor() {\r\n        return this._sensor;\r\n    }\r\n}\r\n//# sourceMappingURL=ResizeSensor.js.map","import { Entity } from \"./Entity\";\r\n/**\r\n * Presets for common UI elements.\r\n */\r\nexport class InterfaceColors extends Entity {\r\n}\r\nObject.defineProperty(InterfaceColors, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"InterfaceColors\"\r\n});\r\nObject.defineProperty(InterfaceColors, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([InterfaceColors.className])\r\n});\r\n//# sourceMappingURL=InterfaceColors.js.map","import { Text } from \"../render/Text\";\r\nimport { p50, p100 } from \"../util/Percent\";\r\nimport { Container } from \"./Container\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * Creates a label with support for in-line styling and data bindings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/} for more info\r\n */\r\nexport class Label extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_textKeys\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"text\",\r\n                \"fill\",\r\n                \"fillOpacity\",\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"populateText\",\r\n                \"role\",\r\n                \"ignoreFormatting\"\r\n            ]\r\n        });\r\n    }\r\n    /**\r\n     * @ignore Text is not to be used directly\r\n     */\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._makeText();\r\n        $array.each(this._textKeys, (property) => {\r\n            const propValue = this.get(property);\r\n            if (propValue != undefined) {\r\n                this._text.set(property, propValue);\r\n            }\r\n        });\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            this._text.set(\"text\", \"\");\r\n        }\r\n        this.onPrivate(\"maxWidth\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n        this.onPrivate(\"maxHeight\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n    }\r\n    _makeText() {\r\n        this._text = this.children.push(Text.new(this._root, {}));\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        $array.each(this._textKeys, (property) => {\r\n            this._text.set(property, this.get(property));\r\n        });\r\n        if (this.isDirty(\"maxWidth\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        if (this.isDirty(\"maxHeight\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        if (this.isDirty(\"rotation\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        // Do not show regular text if HTML is used\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            this._text.set(\"text\", \"\");\r\n        }\r\n        else {\r\n            this._text.set(\"text\", this.get(\"text\"));\r\n        }\r\n        if (this.isDirty(\"textAlign\") || this.isDirty(\"width\")) {\r\n            const textAlign = this.get(\"textAlign\");\r\n            let x;\r\n            if (this.get(\"width\") != null) {\r\n                if (textAlign == \"right\") {\r\n                    x = p100;\r\n                }\r\n                else if (textAlign == \"center\") {\r\n                    x = p50;\r\n                }\r\n                else {\r\n                    x = 0;\r\n                }\r\n            }\r\n            else {\r\n                if (textAlign == \"left\" || textAlign == \"start\") {\r\n                    x = this.get(\"paddingLeft\");\r\n                }\r\n                else if (textAlign == \"right\" || textAlign == \"end\") {\r\n                    x = -this.get(\"paddingRight\");\r\n                }\r\n            }\r\n            this.text.set(\"x\", x);\r\n        }\r\n    }\r\n    _setMaxDimentions() {\r\n        const rotation = this.get(\"rotation\");\r\n        const vertical = rotation == 90 || rotation == 270 || rotation == -90;\r\n        const maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\", Infinity));\r\n        if ($type.isNumber(maxWidth)) {\r\n            this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", maxWidth - this.get(\"paddingLeft\", 0) - this.get(\"paddingRight\", 0));\r\n        }\r\n        else {\r\n            this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", undefined);\r\n        }\r\n        const maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\", Infinity));\r\n        if ($type.isNumber(maxHeight)) {\r\n            this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", maxHeight - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0));\r\n        }\r\n        else {\r\n            this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", undefined);\r\n        }\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this._markDirtyKey(\"text\");\r\n        if (this.text.get(\"populateText\")) {\r\n            this.text.markDirtyText();\r\n        }\r\n    }\r\n    /**\r\n     * Returns text with populated placeholders and formatting if `populateText` is\r\n     * set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    getText() {\r\n        return this._text._getText();\r\n    }\r\n}\r\nObject.defineProperty(Label, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Label\"\r\n});\r\nObject.defineProperty(Label, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Label.className])\r\n});\r\n//# sourceMappingURL=Label.js.map","import { Graphics } from \"./Graphics\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * Draws a rectangle with a pointer.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class PointedRectangle extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"pointerBaseWidth\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"pointerLength\") || this.isDirty(\"pointerX\") || this.isDirty(\"pointerY\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            if (w > 0 && h > 0) {\r\n                let cr = this.get(\"cornerRadius\", 8);\r\n                cr = $math.fitToRange(cr, 0, Math.min(w / 2, h / 2));\r\n                let x = this.get(\"pointerX\", 0);\r\n                let y = this.get(\"pointerY\", 0);\r\n                let bwh = this.get(\"pointerBaseWidth\", 15) / 2;\r\n                // corner coordinates\r\n                // top left\r\n                let xtl = 0;\r\n                let ytl = 0;\r\n                // top right\r\n                let xtr = w;\r\n                let ytr = 0;\r\n                // bottom right\r\n                let xbr = w;\r\n                let ybr = h;\r\n                // bottom left\r\n                let xbl = 0;\r\n                let ybl = h;\r\n                // find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\r\n                // d=(x−x1)(y2−y1)−(y−y1)(x2−x1)\r\n                let d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\r\n                let d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\r\n                const display = this._display;\r\n                // top\r\n                display.moveTo(cr, 0);\r\n                if (d1 > 0 && d2 > 0) {\r\n                    let stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = $math.fitToRange(y, -Infinity, 0);\r\n                    display.lineTo(stemX - bwh, 0);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX + bwh, 0);\r\n                }\r\n                display.lineTo(w - cr, 0);\r\n                display.arcTo(w, 0, w, cr, cr);\r\n                // right\r\n                if (d1 > 0 && d2 < 0) {\r\n                    let stemY = Math.round($math.fitToRange(y, cr + bwh, h - bwh - cr));\r\n                    x = $math.fitToRange(x, w, Infinity);\r\n                    display.lineTo(w, cr);\r\n                    display.lineTo(w, Math.max(stemY - bwh, cr));\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(w, stemY + bwh);\r\n                }\r\n                display.lineTo(w, h - cr);\r\n                display.arcTo(w, h, w - cr, h, cr);\r\n                // bottom\r\n                if (d1 < 0 && d2 < 0) {\r\n                    let stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = $math.fitToRange(y, h, Infinity);\r\n                    display.lineTo(w - cr, h);\r\n                    display.lineTo(stemX + bwh, h);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX - bwh, h);\r\n                }\r\n                display.lineTo(cr, h);\r\n                display.arcTo(0, h, 0, h - cr, cr);\r\n                // left\r\n                if (d1 < 0 && d2 > 0) {\r\n                    let stemY = Math.round($math.fitToRange(y, cr + bwh, h - cr - bwh));\r\n                    x = $math.fitToRange(x, -Infinity, 0);\r\n                    display.lineTo(0, h - cr);\r\n                    display.lineTo(0, stemY + bwh);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(0, Math.max(stemY - bwh, cr));\r\n                }\r\n                display.lineTo(0, cr);\r\n                display.arcTo(0, 0, cr, 0, cr);\r\n                display.closePath();\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PointedRectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PointedRectangle\"\r\n});\r\nObject.defineProperty(PointedRectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([PointedRectangle.className])\r\n});\r\n//# sourceMappingURL=PointedRectangle.js.map","import { MultiDisposer } from \"../util/Disposer\";\r\nimport { Label } from \"../render/Label\";\r\nimport { PointedRectangle } from \"../render/PointedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Color } from \"../util/Color\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * Creates a tooltip.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/tooltips/} for more info\r\n * @important\r\n */\r\nexport class Tooltip extends Container {\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(root, settings, isReal, templates);\r\n        Object.defineProperty(this, \"_fx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_fy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_label\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fillDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_labelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_w\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_h\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_keepHoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlContentHovered\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"tooltip\"]);\r\n        super._afterNew();\r\n        this.set(\"background\", PointedRectangle.new(this._root, {\r\n            themeTags: [\"tooltip\", \"background\"]\r\n        }));\r\n        this._label = this.children.push(Label.new(this._root, {}));\r\n        this._disposers.push(this._label.events.on(\"boundschanged\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._disposers.push(this.on(\"bounds\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._updateTextColor();\r\n        this._root.tooltipContainer.children.push(this);\r\n        this.hide(0);\r\n        this._disposers.push(this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n            if (htmlElement) {\r\n                $utils.addEventListener(htmlElement, \"pointerover\", (_ev) => {\r\n                    this._htmlContentHovered = true;\r\n                });\r\n                $utils.addEventListener(htmlElement, \"pointerout\", (_ev) => {\r\n                    this._htmlContentHovered = false;\r\n                });\r\n            }\r\n        }));\r\n        this._root._tooltips.push(this);\r\n    }\r\n    /**\r\n     * A [[Label]] element for the tooltip.\r\n     *\r\n     * @readonly\r\n     * @return Label\r\n     */\r\n    get label() {\r\n        return this._label;\r\n    }\r\n    /**\r\n     * Permanently disposes the tooltip.\r\n     */\r\n    dispose() {\r\n        super.dispose();\r\n        $array.remove(this._root._tooltips, this);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this.isDirty(\"pointerOrientation\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\")) {\r\n            this.get(\"background\")._markDirtyKey(\"width\");\r\n        }\r\n        const labelText = this.get(\"labelText\");\r\n        if (labelText != null) {\r\n            this.label.set(\"text\", this.get(\"labelText\"));\r\n        }\r\n        const labelHTML = this.get(\"labelHTML\");\r\n        if (labelHTML != null) {\r\n            this.label.set(\"html\", this.get(\"labelHTML\"));\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"pointTo\") || this.isDirty(\"pointerOrientation\")) {\r\n            // can't compare to previous, as sometimes pointTo is set twice (when pointer moves, so the position won't be udpated)\r\n            this._updateBackground();\r\n        }\r\n        if (this.isDirty(\"tooltipTarget\")) {\r\n            this.updateBackgroundColor();\r\n        }\r\n        if (this.isDirty(\"keepTargetHover\")) {\r\n            const keephover = this.get(\"keepTargetHover\");\r\n            if (keephover) {\r\n                const bg = this.get(\"background\");\r\n                this._keepHoverDp = new MultiDisposer([\r\n                    bg.events.on(\"pointerover\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            target.hover();\r\n                        }\r\n                    }),\r\n                    bg.events.on(\"pointerout\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            if (!this._htmlContentHovered) {\r\n                                target.unhover();\r\n                            }\r\n                        }\r\n                    })\r\n                ]);\r\n                this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n                    if (this._keepHoverDp && htmlElement) {\r\n                        this._keepHoverDp.disposers.push($utils.addEventListener(htmlElement, \"pointerleave\", (ev) => {\r\n                            const outEvent = this.root._renderer.getEvent(ev);\r\n                            bg.events.dispatch(\"pointerout\", {\r\n                                type: \"pointerout\",\r\n                                originalEvent: outEvent.event,\r\n                                point: outEvent.point,\r\n                                simulated: false,\r\n                                target: bg\r\n                            });\r\n                        }));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._keepHoverDp) {\r\n                    this._keepHoverDp.dispose();\r\n                    this._keepHoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _onShow() {\r\n        super._onShow();\r\n        this.updateBackgroundColor();\r\n    }\r\n    updateBackgroundColor() {\r\n        let tooltipTarget = this.get(\"tooltipTarget\");\r\n        const background = this.get(\"background\");\r\n        let fill;\r\n        let stroke;\r\n        if (tooltipTarget && background) {\r\n            fill = tooltipTarget.get(\"fill\");\r\n            stroke = tooltipTarget.get(\"stroke\");\r\n            if (fill == null) {\r\n                fill = stroke;\r\n            }\r\n            if (this.get(\"getFillFromSprite\")) {\r\n                if (this._fillDp) {\r\n                    this._fillDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"fill\", fill);\r\n                }\r\n                this._fillDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"fill\", fill);\r\n                        this._updateTextColor(fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._fillDp);\r\n            }\r\n            if (this.get(\"getStrokeFromSprite\")) {\r\n                if (this._strokeDp) {\r\n                    this._strokeDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"stroke\", fill);\r\n                }\r\n                this._strokeDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"stroke\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._strokeDp);\r\n            }\r\n            if (this.get(\"getLabelFillFromSprite\")) {\r\n                if (this._labelDp) {\r\n                    this._labelDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    this.label.set(\"fill\", fill);\r\n                }\r\n                this._labelDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        this.label.set(\"fill\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._labelDp);\r\n            }\r\n        }\r\n        this._updateTextColor(fill);\r\n    }\r\n    _updateTextColor(fill) {\r\n        if (this.get(\"autoTextColor\")) {\r\n            if (fill == null) {\r\n                fill = this.get(\"background\").get(\"fill\");\r\n            }\r\n            if (fill == null) {\r\n                fill = this._root.interfaceColors.get(\"background\");\r\n            }\r\n            if (fill instanceof Color) {\r\n                this.label.set(\"fill\", Color.alternative(fill, this._root.interfaceColors.get(\"alternativeText\"), this._root.interfaceColors.get(\"text\")));\r\n            }\r\n        }\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this.label._setDataItem(dataItem);\r\n    }\r\n    _updateBackground() {\r\n        super.updateBackground();\r\n        const parent = this._root.container;\r\n        if (parent) {\r\n            let cw = 0.5;\r\n            let ch = 0.5;\r\n            let centerX = this.get(\"centerX\");\r\n            if (centerX instanceof Percent) {\r\n                cw = centerX.value;\r\n            }\r\n            let centerY = this.get(\"centerY\");\r\n            if (centerY instanceof Percent) {\r\n                ch = centerY.value;\r\n            }\r\n            let parentW = parent.width();\r\n            let parentH = parent.height();\r\n            let tooltipContainer = this.parent;\r\n            let xx = 0;\r\n            let yy = 0;\r\n            if (tooltipContainer) {\r\n                xx = tooltipContainer.x();\r\n                yy = tooltipContainer.y();\r\n                const layerMargin = tooltipContainer.get(\"layerMargin\");\r\n                if (layerMargin) {\r\n                    xx += layerMargin.left || 0;\r\n                    yy += layerMargin.top || 0;\r\n                    parentW += (layerMargin.left || 0) + (layerMargin.right || 0);\r\n                    parentH += (layerMargin.top || 0) + (layerMargin.bottom || 0);\r\n                }\r\n            }\r\n            const bounds = this.get(\"bounds\", { left: -xx, top: -yy, right: parentW - xx, bottom: parentH - yy });\r\n            this._updateBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            // use old w and h,as when tooltip is hidden, these are 0 and unneeded animation happens\r\n            if (w === 0) {\r\n                w = this._w;\r\n            }\r\n            if (h === 0) {\r\n                h = this._h;\r\n            }\r\n            let pointTo = this.get(\"pointTo\", { x: parentW / 2, y: parentH / 2 });\r\n            let x = pointTo.x;\r\n            let y = pointTo.y;\r\n            let pointerOrientation = this.get(\"pointerOrientation\");\r\n            let background = this.get(\"background\");\r\n            let pointerLength = 0;\r\n            let bgStrokeSizeY = 0;\r\n            let bgStrokeSizeX = 0;\r\n            if (background instanceof PointedRectangle) {\r\n                pointerLength = background.get(\"pointerLength\", 0);\r\n                bgStrokeSizeY = background.get(\"strokeWidth\", 0) / 2;\r\n                bgStrokeSizeX = bgStrokeSizeY;\r\n                background.set(\"width\", w);\r\n                background.set(\"height\", h);\r\n            }\r\n            let pointerX = 0;\r\n            let pointerY = 0;\r\n            let boundsW = bounds.right - bounds.left;\r\n            let boundsH = bounds.bottom - bounds.top;\r\n            // horizontal\r\n            if (pointerOrientation == \"horizontal\" || pointerOrientation == \"left\" || pointerOrientation == \"right\") {\r\n                bgStrokeSizeY = 0;\r\n                if (pointerOrientation == \"horizontal\") {\r\n                    if (x > bounds.left + boundsW / 2) {\r\n                        x -= (w * (1 - cw) + pointerLength);\r\n                        bgStrokeSizeX *= -1;\r\n                    }\r\n                    else {\r\n                        x += (w * cw + pointerLength);\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"left\") {\r\n                    x += (w * (1 - cw) + pointerLength);\r\n                }\r\n                else {\r\n                    x -= (w * cw + pointerLength);\r\n                    bgStrokeSizeX *= -1;\r\n                }\r\n            }\r\n            // vertical pointer\r\n            else {\r\n                bgStrokeSizeX = 0;\r\n                if (pointerOrientation == \"vertical\") {\r\n                    if (y > bounds.top + h / 2 + pointerLength) {\r\n                        y -= (h * (1 - ch) + pointerLength);\r\n                    }\r\n                    else {\r\n                        y += (h * ch + pointerLength);\r\n                        bgStrokeSizeY *= -1;\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"down\") {\r\n                    y -= (h * (1 - ch) + pointerLength);\r\n                }\r\n                else {\r\n                    y += (h * ch + pointerLength);\r\n                    bgStrokeSizeY *= -1;\r\n                }\r\n            }\r\n            x = $math.fitToRange(x, bounds.left + w * cw, bounds.left + boundsW - w * (1 - cw)) + bgStrokeSizeX;\r\n            y = $math.fitToRange(y, bounds.top + h * ch, bounds.top + boundsH - h * (1 - ch)) - bgStrokeSizeY;\r\n            pointerX = pointTo.x - x + w * cw + bgStrokeSizeX;\r\n            pointerY = pointTo.y - y + h * ch - bgStrokeSizeY;\r\n            this._fx = x;\r\n            this._fy = y;\r\n            const animationDuration = this.get(\"animationDuration\", 0);\r\n            if (animationDuration > 0 && this.get(\"visible\") && this.get(\"opacity\") > 0.1) {\r\n                const animationEasing = this.get(\"animationEasing\");\r\n                this.animate({ key: \"x\", to: x, duration: animationDuration, easing: animationEasing });\r\n                this.animate({ key: \"y\", to: y, duration: animationDuration, easing: animationEasing });\r\n            }\r\n            else {\r\n                this.set(\"x\", x);\r\n                this.set(\"y\", y);\r\n            }\r\n            if (background instanceof PointedRectangle) {\r\n                background.set(\"pointerX\", pointerX);\r\n                background.set(\"pointerY\", pointerY);\r\n            }\r\n            if (w > 0) {\r\n                this._w = w;\r\n            }\r\n            if (h > 0) {\r\n                this._h = h;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Tooltip, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tooltip\"\r\n});\r\nObject.defineProperty(Tooltip, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Tooltip.className])\r\n});\r\n//# sourceMappingURL=Tooltip.js.map","import { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Number formatter\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n * @important\r\n */\r\nexport class NumberFormatter extends Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"numberFormat\", \"#,###.#####\");\r\n        this._setDefault(\"smallNumberThreshold\", 1.00);\r\n        const bns = \"_big_number_suffix_\";\r\n        const sns = \"_small_number_suffix_\";\r\n        const bs = \"_byte_suffix_\";\r\n        this._setDefault(\"bigNumberPrefixes\", [\r\n            { \"number\": 1e+3, \"suffix\": this._t(bns + \"3\") },\r\n            { \"number\": 1e+6, \"suffix\": this._t(bns + \"6\") },\r\n            { \"number\": 1e+9, \"suffix\": this._t(bns + \"9\") },\r\n            { \"number\": 1e+12, \"suffix\": this._t(bns + \"12\") },\r\n            { \"number\": 1e+15, \"suffix\": this._t(bns + \"15\") },\r\n            { \"number\": 1e+18, \"suffix\": this._t(bns + \"18\") },\r\n            { \"number\": 1e+21, \"suffix\": this._t(bns + \"21\") },\r\n            { \"number\": 1e+24, \"suffix\": this._t(bns + \"24\") }\r\n        ]);\r\n        this._setDefault(\"smallNumberPrefixes\", [\r\n            { \"number\": 1e-24, \"suffix\": this._t(sns + \"24\") },\r\n            { \"number\": 1e-21, \"suffix\": this._t(sns + \"21\") },\r\n            { \"number\": 1e-18, \"suffix\": this._t(sns + \"18\") },\r\n            { \"number\": 1e-15, \"suffix\": this._t(sns + \"15\") },\r\n            { \"number\": 1e-12, \"suffix\": this._t(sns + \"12\") },\r\n            { \"number\": 1e-9, \"suffix\": this._t(sns + \"9\") },\r\n            { \"number\": 1e-6, \"suffix\": this._t(sns + \"6\") },\r\n            { \"number\": 1e-3, \"suffix\": this._t(sns + \"3\") }\r\n        ]);\r\n        this._setDefault(\"bytePrefixes\", [\r\n            { \"number\": 1, suffix: this._t(bs + \"B\") },\r\n            { \"number\": 1024, suffix: this._t(bs + \"KB\") },\r\n            { \"number\": 1048576, suffix: this._t(bs + \"MB\") },\r\n            { \"number\": 1073741824, suffix: this._t(bs + \"GB\") },\r\n            { \"number\": 1099511627776, suffix: this._t(bs + \"TB\") },\r\n            { \"number\": 1125899906842624, suffix: this._t(bs + \"PB\") }\r\n        ]);\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number according to specific format.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, precision) {\r\n        // no format passed in or \"Number\"\r\n        if (format == null || ($type.isString(format) && format.toLowerCase() === \"number\")) {\r\n            format = this.get(\"numberFormat\", \"\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // Is it a built-in format or Intl.NumberFormatOptions\r\n        if ($type.isObject(format)) {\r\n            try {\r\n                if (this.get(\"intlLocales\")) {\r\n                    return new Intl.NumberFormat(this.get(\"intlLocales\"), format).format(source);\r\n                }\r\n                else {\r\n                    return new Intl.NumberFormat(undefined, format).format(source);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        else {\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // Get format info (it will also deal with parser caching)\r\n            let info = this.parseFormat(format, this._root.language);\r\n            // format and replace the number\r\n            let details;\r\n            if (source > this.get(\"negativeBase\")) {\r\n                details = info.positive;\r\n            }\r\n            else if (source < this.get(\"negativeBase\")) {\r\n                details = info.negative;\r\n            }\r\n            else {\r\n                details = info.zero;\r\n            }\r\n            // Adjust precision\r\n            if (precision != null && !details.mod) {\r\n                details = $object.copy(details);\r\n                details.decimals.active = source == 0 ? 0 : precision;\r\n            }\r\n            // Format\r\n            formatted = details.template.split($type.PLACEHOLDER).join(this.applyFormat(source, details));\r\n        }\r\n        if (this.get(\"forceLTR\") === true) {\r\n            formatted = \"‎\" + formatted;\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format Format string, i.e. \"#,###.00\"\r\n     * @param language Language\r\n     * @ignore\r\n     */\r\n    parseFormat(format, language) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        const thousandSeparator = language.translateEmpty(\"_thousandSeparator\");\r\n        const decimalSeparator = language.translateEmpty(\"_decimalSeparator\");\r\n        // init format parse info holder\r\n        let info = {\r\n            \"positive\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"negative\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"zero\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        $object.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Just \"Number\"?\r\n            if (partFormat.toLowerCase() === \"number\") {\r\n                partFormat = this.get(\"numberFormat\", \"#,###.#####\");\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Parse format\r\n                    // Look for codes\r\n                    let matches = chunk.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);\r\n                    if (matches) {\r\n                        if (matches === null || matches[0] === \"\") {\r\n                            // no codes here - assume string\r\n                            // nothing to do here\r\n                            item.template += chunk.text;\r\n                        }\r\n                        else {\r\n                            // look for the format modifiers at the end\r\n                            let mods = matches[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);\r\n                            if (mods) {\r\n                                item.mod = mods[0].toLowerCase();\r\n                                item.modSpacing = matches[0].match(/[ ]{1}[abespABESP%‰!]{1}$/) ? true : false;\r\n                            }\r\n                            // break the format up\r\n                            let a = matches[0].split(\".\");\r\n                            // Deal with thousands\r\n                            if (a[0] === \"\") {\r\n                                // No directives for thousands\r\n                                // Leave default settings (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.thousands.active = (a[0].match(/0/g) || []).length;\r\n                                item.thousands.passive = (a[0].match(/\\#/g) || []).length + item.thousands.active;\r\n                                // Separator interval\r\n                                let b = a[0].split(\",\");\r\n                                if (b.length === 1) {\r\n                                    // No thousands separators\r\n                                    // Do nothing\r\n                                }\r\n                                else {\r\n                                    // Use length fo the last chunk as thousands length\r\n                                    item.thousands.interval = (b.pop() || \"\").length;\r\n                                    if (item.thousands.interval === 0) {\r\n                                        item.thousands.interval = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // Deal with decimals\r\n                            if (typeof (a[1]) === \"undefined\") {\r\n                                // No directives for decimals\r\n                                // Leave at defaults (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.decimals.active = (a[1].match(/0/g) || []).length;\r\n                                item.decimals.passive = (a[1].match(/\\#/g) || []).length + item.decimals.active;\r\n                            }\r\n                            // Add special code to template\r\n                            item.template += chunk.text.split(matches[0]).join($type.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // Quoted string - take it as it is\r\n                    item.template += chunk.text;\r\n                }\r\n            }\r\n            // Apply style formatting\r\n            //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by parseFormat()\r\n     * @return Formatted number\r\n     * @ignore\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = value < 0;\r\n        value = Math.abs(value);\r\n        // Recalculate according to modifier\r\n        let prefix = \"\", suffix = \"\";\r\n        let mods = details.mod ? details.mod.split(\"\") : [];\r\n        if (mods.indexOf(\"b\") !== -1) {\r\n            let a = this.applyPrefix(value, this.get(\"bytePrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"a\") !== -1) {\r\n            let a = this.applyPrefix(value, value < this.get(\"smallNumberThreshold\") ? this.get(\"smallNumberPrefixes\") : this.get(\"bigNumberPrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"p\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            //value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            prefix = this._root.language.translate(\"_percentPrefix\");\r\n            suffix = this._root.language.translate(\"_percentSuffix\");\r\n            if (prefix == \"\" && suffix == \"\") {\r\n                suffix = \"%\";\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"%\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"%\";\r\n        }\r\n        else if (mods.indexOf(\"‰\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 3, 21);\r\n            value *= 1000;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"‰\";\r\n        }\r\n        // Round to passive\r\n        if (mods.indexOf(\"e\") !== -1) {\r\n            // convert the value to exponential\r\n            let exp;\r\n            if (details.decimals.passive >= 0) {\r\n                exp = value.toExponential(details.decimals.passive).split(\"e\");\r\n            }\r\n            else {\r\n                exp = value.toExponential().split(\"e\");\r\n            }\r\n            value = Number(exp[0]);\r\n            suffix = \"e\" + exp[1];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (details.decimals.passive === 0) {\r\n            value = Math.round(value);\r\n        }\r\n        else if (details.decimals.passive > 0) {\r\n            let d = Math.pow(10, details.decimals.passive);\r\n            value = Math.round(value * d) / d;\r\n        }\r\n        // Init return value\r\n        let res = \"\";\r\n        // Calc integer and decimal parts\r\n        let a = $type.numberToString(value).split(\".\");\r\n        // Format integers\r\n        let ints = a[0];\r\n        // Pad integers to active length\r\n        if (ints.length < details.thousands.active) {\r\n            ints = Array(details.thousands.active - ints.length + 1).join(\"0\") + ints;\r\n        }\r\n        // Insert thousands separators\r\n        if (details.thousands.interval > 0) {\r\n            let ip = [];\r\n            let intsr = ints.split(\"\").reverse().join(\"\");\r\n            for (let i = 0, len = ints.length; i <= len; i += details.thousands.interval) {\r\n                let c = intsr.substr(i, details.thousands.interval).split(\"\").reverse().join(\"\");\r\n                if (c !== \"\") {\r\n                    ip.unshift(c);\r\n                }\r\n            }\r\n            ints = ip.join(details.thousands.separator);\r\n        }\r\n        // Add integers\r\n        res += ints;\r\n        // Add decimals\r\n        if (a.length === 1) {\r\n            a.push(\"\");\r\n        }\r\n        let decs = a[1];\r\n        // Fill zeros?\r\n        if (decs.length < details.decimals.active) {\r\n            decs += Array(details.decimals.active - decs.length + 1).join(\"0\");\r\n        }\r\n        if (decs !== \"\") {\r\n            res += details.decimals.separator + decs;\r\n        }\r\n        // Can't have empty return value\r\n        if (res === \"\") {\r\n            res = \"0\";\r\n        }\r\n        // Add minus sign back\r\n        if (value !== 0 && negative && (mods.indexOf(\"s\") === -1)) {\r\n            res = \"-\" + res;\r\n        }\r\n        // Add suffixes/prefixes\r\n        if (prefix) {\r\n            res = prefix + res;\r\n        }\r\n        if (suffix) {\r\n            res += suffix;\r\n        }\r\n        return res;\r\n    }\r\n    applyPrefix(value, prefixes, force = false) {\r\n        let newvalue = value;\r\n        let prefix = \"\";\r\n        let suffix = \"\";\r\n        let applied = false;\r\n        let k = 1;\r\n        for (let i = 0, len = prefixes.length; i < len; i++) {\r\n            if (prefixes[i].number <= value) {\r\n                if (prefixes[i].number === 0) {\r\n                    newvalue = 0;\r\n                }\r\n                else {\r\n                    newvalue = value / prefixes[i].number;\r\n                    k = prefixes[i].number;\r\n                }\r\n                prefix = prefixes[i].prefix;\r\n                suffix = prefixes[i].suffix;\r\n                applied = true;\r\n            }\r\n        }\r\n        if (!applied && force && prefixes.length && value != 0) {\r\n            // Prefix was not applied. Use the first prefix.\r\n            newvalue = value / prefixes[0].number;\r\n            prefix = prefixes[0].prefix;\r\n            suffix = prefixes[0].suffix;\r\n            applied = true;\r\n        }\r\n        if (applied) {\r\n            newvalue = parseFloat(newvalue.toPrecision(Math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, \"\").length, 21)));\r\n        }\r\n        return [newvalue, prefix, suffix];\r\n    }\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    escape(text) {\r\n        return text.replace(\"||\", $type.PLACEHOLDER2);\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    unescape(text) {\r\n        return text.replace($type.PLACEHOLDER2, \"|\");\r\n    }\r\n}\r\n//# sourceMappingURL=NumberFormatter.js.map","function parseDate(timezone, date) {\r\n    let year = 0;\r\n    let month = 0;\r\n    let day = 1;\r\n    let hour = 0;\r\n    let minute = 0;\r\n    let second = 0;\r\n    let millisecond = 0;\r\n    let weekday = 0;\r\n    timezone.formatToParts(date).forEach((x) => {\r\n        switch (x.type) {\r\n            case \"year\":\r\n                year = +x.value;\r\n                break;\r\n            case \"month\":\r\n                month = (+x.value) - 1;\r\n                break;\r\n            case \"day\":\r\n                day = +x.value;\r\n                break;\r\n            case \"hour\":\r\n                hour = +x.value;\r\n                break;\r\n            case \"minute\":\r\n                minute = +x.value;\r\n                break;\r\n            case \"second\":\r\n                second = +x.value;\r\n                break;\r\n            case \"fractionalSecond\":\r\n                millisecond = +x.value;\r\n                break;\r\n            case \"weekday\":\r\n                switch (x.value) {\r\n                    case \"Sun\":\r\n                        weekday = 0;\r\n                        break;\r\n                    case \"Mon\":\r\n                        weekday = 1;\r\n                        break;\r\n                    case \"Tue\":\r\n                        weekday = 2;\r\n                        break;\r\n                    case \"Wed\":\r\n                        weekday = 3;\r\n                        break;\r\n                    case \"Thu\":\r\n                        weekday = 4;\r\n                        break;\r\n                    case \"Fri\":\r\n                        weekday = 5;\r\n                        break;\r\n                    case \"Sat\":\r\n                        weekday = 6;\r\n                        break;\r\n                }\r\n        }\r\n    });\r\n    if (hour === 24) {\r\n        hour = 0;\r\n    }\r\n    return { year, month, day, hour, minute, second, millisecond, weekday };\r\n}\r\nfunction toUTCDate(timezone, date) {\r\n    const { year, month, day, hour, minute, second, millisecond } = parseDate(timezone, date);\r\n    return Date.UTC(year, month, day, hour, minute, second, millisecond);\r\n}\r\nexport class Timezone {\r\n    constructor(timezone, isReal) {\r\n        Object.defineProperty(this, \"_utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dtf\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this.name = timezone;\r\n        this._utc = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: \"UTC\",\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n        this._dtf = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: timezone,\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   timezone  IANA timezone\r\n     * @return            Instantiated object\r\n     */\r\n    static new(timezone) {\r\n        return (new this(timezone, true));\r\n    }\r\n    convertLocal(date) {\r\n        const offset = this.offsetUTC(date);\r\n        const userOffset = date.getTimezoneOffset();\r\n        const output = new Date(date);\r\n        output.setUTCMinutes(output.getUTCMinutes() - (offset - userOffset));\r\n        const newUserOffset = output.getTimezoneOffset();\r\n        if (userOffset != newUserOffset) {\r\n            output.setUTCMinutes(output.getUTCMinutes() + newUserOffset - userOffset);\r\n        }\r\n        return output;\r\n    }\r\n    offsetUTC(date) {\r\n        const utc = toUTCDate(this._utc, date);\r\n        const dtf = toUTCDate(this._dtf, date);\r\n        return (utc - dtf) / 60000;\r\n    }\r\n    parseDate(date) {\r\n        return parseDate(this._dtf, date);\r\n    }\r\n}\r\n//# sourceMappingURL=Timezone.js.map","import { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport { Timezone } from \"./Timezone\";\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nexport class DateFormatter extends Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"capitalize\", true);\r\n        this._setDefault(\"dateFormat\", \"yyyy-MM-dd\");\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    format(source, format) {\r\n        // Locale?\r\n        // TODO\r\n        // No format passed in or it's empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            format = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast?\r\n        // TODO: decide if we need to cast\r\n        let date = source;\r\n        // Is it a built-in format or Intl.DateTimeFormat\r\n        if ($type.isObject(format)) {\r\n            try {\r\n                const locales = this.get(\"intlLocales\");\r\n                if (locales) {\r\n                    return new Intl.DateTimeFormat(locales, format).format(date);\r\n                }\r\n                else {\r\n                    return new Intl.DateTimeFormat(undefined, format).format(date);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format);\r\n        // Should we apply custom time zone?\r\n        const timezone = this._root.timezone;\r\n        if (timezone && !this._root.utc) {\r\n            date = timezone.convertLocal(date);\r\n        }\r\n        // Check if it's a valid date\r\n        if (!$type.isNumber(date.getTime())) {\r\n            // TODO translation\r\n            //return this._t(\"Invalid date\");\r\n            return \"Invalid date\";\r\n        }\r\n        // Apply format\r\n        formatted = this.applyFormat(date, info);\r\n        // Capitalize\r\n        if (this.get(\"capitalize\")) {\r\n            formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());\r\n        }\r\n        // We're done\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Applies format to Date.\r\n     *\r\n     * @param date      Date object\r\n     * @param info      Parsed format information\r\n     * @return Formatted date string\r\n     */\r\n    applyFormat(date, info) {\r\n        // Init return value\r\n        let res = info.template;\r\n        // Get values\r\n        let fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, timestamp = date.getTime();\r\n        if (this._root.utc) {\r\n            fullYear = date.getUTCFullYear();\r\n            month = date.getUTCMonth();\r\n            weekday = date.getUTCDay();\r\n            day = date.getUTCDate();\r\n            hours = date.getUTCHours();\r\n            minutes = date.getUTCMinutes();\r\n            seconds = date.getUTCSeconds();\r\n            milliseconds = date.getUTCMilliseconds();\r\n        }\r\n        else {\r\n            fullYear = date.getFullYear();\r\n            month = date.getMonth();\r\n            weekday = date.getDay();\r\n            day = date.getDate();\r\n            hours = date.getHours();\r\n            minutes = date.getMinutes();\r\n            seconds = date.getSeconds();\r\n            milliseconds = date.getMilliseconds();\r\n        }\r\n        // Go through each part and format/replace it in template\r\n        for (let i = 0, len = info.parts.length; i < len; i++) {\r\n            let value = \"\";\r\n            switch (info.parts[i]) {\r\n                case \"G\":\r\n                    value = this._t(fullYear < 0\r\n                        ? \"_era_bc\"\r\n                        : \"_era_ad\");\r\n                    break;\r\n                case \"yyyy\":\r\n                    value = Math.abs(fullYear).toString();\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"yyy\":\r\n                case \"yy\":\r\n                case \"y\":\r\n                    value = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                    let year = $utils.getWeekYear(date, this._root.utc);\r\n                    if (info.parts[i] == \"YYYY\") {\r\n                        value = Math.abs(year).toString();\r\n                    }\r\n                    else {\r\n                        value = Math.abs(year).toString().substr(-info.parts[i].length);\r\n                    }\r\n                    if (year < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"u\":\r\n                    // @todo\r\n                    break;\r\n                case \"q\":\r\n                    value = \"\" + Math.ceil((date.getMonth() + 1) / 3);\r\n                    break;\r\n                case \"MMMMM\":\r\n                    value = this._t(this._getMonth(month)).substr(0, 1);\r\n                    break;\r\n                case \"MMMM\":\r\n                    value = this._t(this._getMonth(month));\r\n                    break;\r\n                case \"MMM\":\r\n                    value = this._t(this._getShortMonth(month));\r\n                    break;\r\n                case \"MM\":\r\n                    value = $utils.padString(month + 1, 2, \"0\");\r\n                    break;\r\n                case \"M\":\r\n                    value = (month + 1).toString();\r\n                    break;\r\n                case \"ww\":\r\n                    value = $utils.padString($utils.getWeek(date, this._root.utc), 2, \"0\");\r\n                    break;\r\n                case \"w\":\r\n                    value = $utils.getWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"W\":\r\n                    value = $utils.getMonthWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"dd\":\r\n                    value = $utils.padString(day, 2, \"0\");\r\n                    break;\r\n                case \"d\":\r\n                    value = day.toString();\r\n                    break;\r\n                case \"DD\":\r\n                case \"DDD\":\r\n                    value = $utils.padString($utils.getYearDay(date, this._root.utc).toString(), info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"D\":\r\n                    value = $utils.getYearDay(date, this._root.utc).toString();\r\n                    break;\r\n                case \"F\":\r\n                    // @todo\r\n                    break;\r\n                case \"g\":\r\n                    // @todo\r\n                    break;\r\n                case \"t\":\r\n                    value = this._root.language.translateFunc(\"_dateOrd\").call(this, day);\r\n                    break;\r\n                case \"E\":\r\n                    value = (weekday || 7).toString();\r\n                    break;\r\n                case \"EE\":\r\n                    value = $utils.padString((weekday || 7).toString(), 2, \"0\");\r\n                    break;\r\n                case \"EEE\":\r\n                case \"eee\":\r\n                    value = this._t(this._getShortWeekday(weekday));\r\n                    break;\r\n                case \"EEEE\":\r\n                case \"eeee\":\r\n                    value = this._t(this._getWeekday(weekday));\r\n                    break;\r\n                case \"EEEEE\":\r\n                case \"eeeee\":\r\n                    value = this._t(this._getShortWeekday(weekday)).substr(0, 1);\r\n                    break;\r\n                case \"e\":\r\n                case \"ee\":\r\n                    value = (weekday - (this._root.locale.firstDayOfWeek || 1) + 1).toString();\r\n                    if (info.parts[i] == \"ee\") {\r\n                        value = $utils.padString(value, 2, \"0\");\r\n                    }\r\n                    break;\r\n                case \"a\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"PM\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"AM\");\r\n                    }\r\n                    break;\r\n                case \"aa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P.M.\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A.M.\");\r\n                    }\r\n                    break;\r\n                case \"aaa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A\");\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    value = $utils.get12Hours(hours).toString();\r\n                    break;\r\n                case \"hh\":\r\n                    value = $utils.padString($utils.get12Hours(hours), 2, \"0\");\r\n                    break;\r\n                case \"H\":\r\n                    value = hours.toString();\r\n                    break;\r\n                case \"HH\":\r\n                    value = $utils.padString(hours, 2, \"0\");\r\n                    break;\r\n                case \"K\":\r\n                    value = $utils.get12Hours(hours, 0).toString();\r\n                    break;\r\n                case \"KK\":\r\n                    value = $utils.padString($utils.get12Hours(hours, 0), 2, \"0\");\r\n                    break;\r\n                case \"k\":\r\n                    value = (hours + 1).toString();\r\n                    break;\r\n                case \"kk\":\r\n                    value = $utils.padString(hours + 1, 2, \"0\");\r\n                    break;\r\n                case \"m\":\r\n                    value = minutes.toString();\r\n                    break;\r\n                case \"mm\":\r\n                    value = $utils.padString(minutes, 2, \"0\");\r\n                    break;\r\n                case \"s\":\r\n                    value = seconds.toString();\r\n                    break;\r\n                case \"ss\":\r\n                    value = $utils.padString(seconds, 2, \"0\");\r\n                    break;\r\n                case \"S\":\r\n                case \"SS\":\r\n                case \"SSS\":\r\n                    value = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n                    break;\r\n                case \"x\":\r\n                    value = timestamp.toString();\r\n                    break;\r\n                case \"n\":\r\n                case \"nn\":\r\n                case \"nnn\":\r\n                    value = $utils.padString(milliseconds, info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"z\":\r\n                    value = $utils.getTimeZone(date, false, false, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"zz\":\r\n                    value = $utils.getTimeZone(date, true, false, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"zzz\":\r\n                    value = $utils.getTimeZone(date, false, true, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"zzzz\":\r\n                    value = $utils.getTimeZone(date, true, true, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"Z\":\r\n                case \"ZZ\":\r\n                    let timezone = this._root.utc ? \"UTC\" : this._root.timezone;\r\n                    if (timezone instanceof Timezone) {\r\n                        timezone = timezone.name;\r\n                    }\r\n                    const offset = timezone ? $utils.getTimezoneOffset(timezone) : date.getTimezoneOffset();\r\n                    let tz = Math.abs(offset) / 60;\r\n                    let tzh = Math.floor(tz);\r\n                    let tzm = tz * 60 - tzh * 60;\r\n                    if (this._root.utc) {\r\n                        tzh = 0;\r\n                        tzm = 0;\r\n                    }\r\n                    if (info.parts[i] == \"Z\") {\r\n                        value = \"GMT\";\r\n                        value += offset > 0 ? \"-\" : \"+\";\r\n                        value += $utils.padString(tzh, 2) + \":\" + $utils.padString(tzm, 2);\r\n                    }\r\n                    else {\r\n                        value = offset > 0 ? \"-\" : \"+\";\r\n                        value += $utils.padString(tzh, 2) + $utils.padString(tzm, 2);\r\n                    }\r\n                    break;\r\n                case \"i\":\r\n                    value = date.toISOString();\r\n                    break;\r\n                case \"I\":\r\n                    value = date.toUTCString();\r\n                    break;\r\n            }\r\n            res = res.replace($type.PLACEHOLDER, value);\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Parses format into structured infromation.\r\n     *\r\n     * @param format Format template\r\n     */\r\n    parseFormat(format) {\r\n        // Check cache\r\n        // TODO: implement caching of the parsed format\r\n        // Init format parse info holder\r\n        let info = {\r\n            \"template\": \"\",\r\n            \"parts\": []\r\n        };\r\n        // Let TextFormatter split into chunks\r\n        let chunks = TextFormatter.chunk(format, true);\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            if (chunk.type === \"value\") {\r\n                // Just \"Date\"?\r\n                if (chunk.text.match(/^date$/i)) {\r\n                    let dateFormat = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n                    if (!$type.isString(dateFormat)) {\r\n                        dateFormat = \"yyyy-MM-dd\";\r\n                    }\r\n                    chunk.text = dateFormat;\r\n                }\r\n                // Find all possible parts\r\n                let matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n                // Found?\r\n                if (matches) {\r\n                    // Populate template\r\n                    for (let x = 0; x < matches.length; x++) {\r\n                        info.parts.push(matches[x]);\r\n                        chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                    }\r\n                }\r\n            }\r\n            // Apply to template\r\n            info.template += chunk.text;\r\n        }\r\n        // Save cache\r\n        // TODO\r\n        return info;\r\n    }\r\n    _months() {\r\n        return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    }\r\n    _getMonth(index) {\r\n        return this._months()[index];\r\n    }\r\n    _shortMonths() {\r\n        return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    }\r\n    _getShortMonth(index) {\r\n        return this._shortMonths()[index];\r\n    }\r\n    _weekdays() {\r\n        return [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    }\r\n    _getWeekday(index) {\r\n        return this._weekdays()[index];\r\n    }\r\n    _shortWeekdays() {\r\n        return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    }\r\n    _getShortWeekday(index) {\r\n        return this._shortWeekdays()[index];\r\n    }\r\n    parse(source, format) {\r\n        // Is it already a Date\r\n        if (source instanceof Date) {\r\n            return source;\r\n        }\r\n        // Is it a numeric timestamp\r\n        if ($type.isNumber(source)) {\r\n            return new Date(source);\r\n        }\r\n        // No? Let's check if it's string, and try converting to it if nec\r\n        if (!$type.isString(source)) {\r\n            source = source.toString();\r\n        }\r\n        // Init return value\r\n        let res;\r\n        // Init RegEx for parsing\r\n        let reg = \"\";\r\n        // Clean format\r\n        format = $utils.cleanFormat(format);\r\n        // Clip format to length of the source string\r\n        format = format.substr(0, source.length);\r\n        // Parse format\r\n        let info = this.parseFormat(format);\r\n        // Init parsed items holder\r\n        let parsedIndexes = {\r\n            \"year\": -1,\r\n            \"year3\": -1,\r\n            \"year2\": -1,\r\n            \"year1\": -1,\r\n            \"month\": -1,\r\n            \"monthShort\": -1,\r\n            \"monthLong\": -1,\r\n            \"weekdayShort\": -1,\r\n            \"weekdayLong\": -1,\r\n            \"day\": -1,\r\n            \"yearDay\": -1,\r\n            \"week\": -1,\r\n            \"hourBase0\": -1,\r\n            \"hour12Base0\": -1,\r\n            \"hourBase1\": -1,\r\n            \"hour12Base1\": -1,\r\n            \"minute\": -1,\r\n            \"second\": -1,\r\n            \"millisecond\": -1,\r\n            \"millisecondDigits\": -1,\r\n            \"am\": -1,\r\n            \"zone\": -1,\r\n            \"timestamp\": -1,\r\n            \"iso\": -1\r\n        };\r\n        // Init values\r\n        let resValues = {\r\n            \"year\": 1970,\r\n            \"month\": 0,\r\n            \"day\": 1,\r\n            \"hour\": 0,\r\n            \"minute\": 0,\r\n            \"second\": 0,\r\n            \"millisecond\": 0,\r\n            \"timestamp\": null,\r\n            \"offset\": 0,\r\n            \"utc\": this._root.utc\r\n        };\r\n        // Index adjuster\r\n        let indexAdjust = 0;\r\n        let index = 0;\r\n        // Iterate through all of the parts\r\n        for (let i = 0; i < info.parts.length; i++) {\r\n            // Set current match index\r\n            index = i + indexAdjust + 1;\r\n            switch (info.parts[i]) {\r\n                case \"yyyy\":\r\n                case \"YYYY\":\r\n                    reg += \"([0-9]{4})\";\r\n                    parsedIndexes.year = index;\r\n                    break;\r\n                case \"yyy\":\r\n                case \"YYY\":\r\n                    reg += \"([0-9]{3})\";\r\n                    parsedIndexes.year3 = index;\r\n                    break;\r\n                case \"yy\":\r\n                case \"YY\":\r\n                    reg += \"([0-9]{2})\";\r\n                    parsedIndexes.year2 = index;\r\n                    break;\r\n                case \"y\":\r\n                case \"Y\":\r\n                    reg += \"([0-9]{1})\";\r\n                    parsedIndexes.year1 = index;\r\n                    break;\r\n                case \"MMMM\":\r\n                    reg += \"(\" + this.getStringList(this._months()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthLong = index;\r\n                    break;\r\n                case \"MMM\":\r\n                    reg += \"(\" + this.getStringList(this._shortMonths()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthShort = index;\r\n                    break;\r\n                case \"MM\":\r\n                case \"M\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.month = index;\r\n                    break;\r\n                case \"ww\":\r\n                case \"w\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.week = index;\r\n                    break;\r\n                case \"dd\":\r\n                case \"d\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.day = index;\r\n                    break;\r\n                case \"DDD\":\r\n                case \"DD\":\r\n                case \"D\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.yearDay = index;\r\n                    break;\r\n                case \"dddd\":\r\n                    reg += \"(\" + this.getStringList(this._weekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayLong = index;\r\n                    break;\r\n                case \"ddd\":\r\n                    reg += \"(\" + this.getStringList(this._shortWeekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayShort = index;\r\n                    break;\r\n                case \"aaa\":\r\n                case \"aa\":\r\n                case \"a\":\r\n                    // TODO: fix (escape regex)\r\n                    reg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n                    parsedIndexes.am = index;\r\n                    break;\r\n                case \"hh\":\r\n                case \"h\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base1 = index;\r\n                    break;\r\n                case \"HH\":\r\n                case \"H\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase0 = index;\r\n                    break;\r\n                case \"KK\":\r\n                case \"K\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base0 = index;\r\n                    break;\r\n                case \"kk\":\r\n                case \"k\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase1 = index;\r\n                    break;\r\n                case \"mm\":\r\n                case \"m\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.minute = index;\r\n                    break;\r\n                case \"ss\":\r\n                case \"s\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.second = index;\r\n                    break;\r\n                case \"SSS\":\r\n                case \"SS\":\r\n                case \"S\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    parsedIndexes.millisecondDigits = info.parts[i].length;\r\n                    break;\r\n                case \"nnn\":\r\n                case \"nn\":\r\n                case \"n\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    break;\r\n                case \"x\":\r\n                    reg += \"([0-9]{1,})\";\r\n                    parsedIndexes.timestamp = index;\r\n                    break;\r\n                case \"Z\":\r\n                    reg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"ZZ\":\r\n                    reg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"i\":\r\n                    reg += \"([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\\\.?([0-9]{0,3})([zZ]|[+\\\\-][0-9]{2}:?[0-9]{2}|$)\";\r\n                    parsedIndexes.iso = index;\r\n                    indexAdjust += 7;\r\n                    break;\r\n                case \"G\":\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                case \"MMMMM\":\r\n                case \"W\":\r\n                case \"EEEEE\":\r\n                case \"EEEE\":\r\n                case \"EEE\":\r\n                case \"EE\":\r\n                case \"E\":\r\n                case \"eeeee\":\r\n                case \"eeee\":\r\n                case \"eee\":\r\n                case \"ee\":\r\n                case \"e\":\r\n                case \"zzzz\":\r\n                case \"zzz\":\r\n                case \"zz\":\r\n                case \"z\":\r\n                case \"t\":\r\n                    // Ignore\r\n                    indexAdjust--;\r\n                    break;\r\n            }\r\n            reg += \"[^0-9]*\";\r\n        }\r\n        // Try matching\r\n        let regex = new RegExp(reg);\r\n        let matches = source.match(regex);\r\n        if (matches) {\r\n            // Populate the date object\r\n            // Full year\r\n            if (parsedIndexes.year > -1) {\r\n                resValues.year = parseInt(matches[parsedIndexes.year]);\r\n            }\r\n            // 3-digit year\r\n            if (parsedIndexes.year3 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year3]);\r\n                val += 1000;\r\n                resValues.year = val;\r\n            }\r\n            // 2-digit year\r\n            if (parsedIndexes.year2 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year2]);\r\n                if (val > 50) {\r\n                    val += 1000;\r\n                }\r\n                else {\r\n                    val += 2000;\r\n                }\r\n                resValues.year = val;\r\n            }\r\n            // 1-digit year\r\n            if (parsedIndexes.year1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year1]);\r\n                val = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n                resValues.year = val;\r\n            }\r\n            // Full month\r\n            if (parsedIndexes.monthLong > -1) {\r\n                resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);\r\n            }\r\n            // Short month\r\n            if (parsedIndexes.monthShort > -1) {\r\n                resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);\r\n            }\r\n            // Numeric month\r\n            if (parsedIndexes.month > -1) {\r\n                resValues.month = parseInt(matches[parsedIndexes.month]) - 1;\r\n            }\r\n            // Weekday\r\n            // @todo\r\n            // Week\r\n            if ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n                // We parse weeks ONLY if day is not explicitly set\r\n                // TODO: this needs work\r\n                // (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n                resValues.month = 0;\r\n                resValues.day = $utils.getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, this._root.utc);\r\n            }\r\n            // Day\r\n            if (parsedIndexes.day > -1) {\r\n                resValues.day = parseInt(matches[parsedIndexes.day]);\r\n            }\r\n            // Year day\r\n            if (parsedIndexes.yearDay > -1) {\r\n                resValues.month = 0;\r\n                resValues.day = parseInt(matches[parsedIndexes.yearDay]);\r\n            }\r\n            // 24 Hour (0-23)\r\n            if (parsedIndexes.hourBase0 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);\r\n            }\r\n            // 24 Hour (1-24)\r\n            if (parsedIndexes.hourBase1 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n            }\r\n            // 12 Hour (0-11)\r\n            if (parsedIndexes.hour12Base0 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n                if (val == 11) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // 12 Hour (1-12)\r\n            if (parsedIndexes.hour12Base1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n                if (val == 12) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // Minute\r\n            if (parsedIndexes.minute > -1) {\r\n                resValues.minute = parseInt(matches[parsedIndexes.minute]);\r\n            }\r\n            // Second\r\n            if (parsedIndexes.second > -1) {\r\n                resValues.second = parseInt(matches[parsedIndexes.second]);\r\n            }\r\n            // Millisecond\r\n            if (parsedIndexes.millisecond > -1) {\r\n                let val = parseInt(matches[parsedIndexes.millisecond]);\r\n                if (parsedIndexes.millisecondDigits == 2) {\r\n                    val *= 10;\r\n                }\r\n                else if (parsedIndexes.millisecondDigits == 1) {\r\n                    val *= 100;\r\n                }\r\n                resValues.millisecond = val;\r\n            }\r\n            // Timestamp\r\n            if (parsedIndexes.timestamp > -1) {\r\n                resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);\r\n                const ts = new Date(resValues.timestamp);\r\n                resValues.year = ts.getUTCFullYear();\r\n                resValues.month = ts.getUTCMonth();\r\n                resValues.day = ts.getUTCDate();\r\n                resValues.hour = ts.getUTCHours();\r\n                resValues.minute = ts.getUTCMinutes();\r\n                resValues.second = ts.getUTCSeconds();\r\n                resValues.millisecond = ts.getUTCMilliseconds();\r\n            }\r\n            // Adjust time zone\r\n            if (parsedIndexes.zone > -1) {\r\n                resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.zone]);\r\n            }\r\n            // ISO\r\n            if (parsedIndexes.iso > -1) {\r\n                resValues.year = $type.toNumber(matches[parsedIndexes.iso + 0]);\r\n                resValues.month = $type.toNumber(matches[parsedIndexes.iso + 1]) - 1;\r\n                resValues.day = $type.toNumber(matches[parsedIndexes.iso + 2]);\r\n                resValues.hour = $type.toNumber(matches[parsedIndexes.iso + 3]);\r\n                resValues.minute = $type.toNumber(matches[parsedIndexes.iso + 4]);\r\n                resValues.second = $type.toNumber(matches[parsedIndexes.iso + 5]);\r\n                resValues.millisecond = $type.toNumber(matches[parsedIndexes.iso + 6]);\r\n                if (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n                    resValues.utc = true;\r\n                }\r\n                else if (matches[parsedIndexes.iso + 7] != \"\") {\r\n                    resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.iso + 7]);\r\n                }\r\n            }\r\n            // Create Date object\r\n            if (resValues.utc) {\r\n                res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond));\r\n            }\r\n            else {\r\n                res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);\r\n            }\r\n        }\r\n        else {\r\n            // Didn't match anything\r\n            // Let's try dropping it into Date constructor and hope for the best\r\n            res = new Date(source);\r\n        }\r\n        return res;\r\n    }\r\n    resolveTimezoneOffset(date, zone) {\r\n        let value = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n        if (value) {\r\n            let match = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n            let dir = match[1];\r\n            let hour = match[2];\r\n            let minute = match[3];\r\n            let offset = parseInt(hour) * 60 + parseInt(minute);\r\n            // Adjust offset\r\n            // Making it negative does not seem to make sense, but it's right\r\n            // because of how JavaScript calculates GMT offsets\r\n            if (dir == \"+\") {\r\n                offset *= -1;\r\n            }\r\n            // Check the difference in offset\r\n            let originalOffset = (date || new Date()).getTimezoneOffset();\r\n            let diff = offset - originalOffset;\r\n            return diff;\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves month name (i.e. \"December\") into a month number (11).\r\n     *\r\n     * @param value  Month name\r\n     * @return Month number\r\n     */\r\n    resolveMonth(value) {\r\n        // Let's try English first\r\n        let month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (!this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._months()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves short month name (i.e. \"Dec\") into a month number.\r\n     *\r\n     * @param value  Short month name\r\n     * @return Month number\r\n     */\r\n    resolveShortMonth(value) {\r\n        // Let's try English first\r\n        let month = this._shortMonths().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Maybe long month (workaround for May)\r\n        month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (this._root.language && !this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._shortMonths()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Checks if passed in string represents AM/PM notation in many of its\r\n     * versions.\r\n     *\r\n     * @param value  Source string\r\n     * @return Is it AM/PM?\r\n     */\r\n    isAm(value) {\r\n        let list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n        return list.indexOf(value.toUpperCase()) > -1;\r\n    }\r\n    /**\r\n     * Translates list of strings.\r\n     *\r\n     * @param list  Source strings\r\n     * @return Translated strings\r\n     */\r\n    getStringList(list) {\r\n        let res = [];\r\n        for (let i = 0; i < list.length; i++) {\r\n            // translate?\r\n            if (this._root.language) {\r\n                res.push($utils.escapeForRgex(this._t(list[i])));\r\n            }\r\n            else {\r\n                res.push($utils.escapeForRgex(list[i]));\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\n//# sourceMappingURL=DateFormatter.js.map","import { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * A class used to format numberic values as time duration.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-durations/} for more info\r\n */\r\nexport class DurationFormatter extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Collection of aliases for units.\r\n         */\r\n        Object.defineProperty(this, \"_unitAliases\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                \"Y\": \"y\",\r\n                \"D\": \"d\",\r\n                \"H\": \"h\",\r\n                \"K\": \"h\",\r\n                \"k\": \"h\",\r\n                \"n\": \"S\"\r\n            }\r\n        });\r\n    }\r\n    _setDefaults() {\r\n        const dmillisecond = \"_duration_millisecond\";\r\n        const dsecond = \"_duration_second\";\r\n        const dminute = \"_duration_minute\";\r\n        const dhour = \"_duration_hour\";\r\n        const dday = \"_duration_day\";\r\n        const dweek = \"_duration_week\";\r\n        const dmonth = \"_duration_month\";\r\n        const dyear = \"_duration_year\";\r\n        const asecond = \"_second\";\r\n        const aminute = \"_minute\";\r\n        const ahour = \"_hour\";\r\n        const aday = \"_day\";\r\n        const aweek = \"_week\";\r\n        const amonth = \"_week\";\r\n        const ayear = \"_year\";\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"baseUnit\", \"second\");\r\n        this._setDefault(\"durationFormats\", {\r\n            \"millisecond\": {\r\n                \"millisecond\": this._t(dmillisecond),\r\n                \"second\": this._t((dmillisecond + asecond)),\r\n                \"minute\": this._t((dmillisecond + aminute)),\r\n                \"hour\": this._t((dmillisecond + ahour)),\r\n                \"day\": this._t((dmillisecond + aday)),\r\n                \"week\": this._t((dmillisecond + aweek)),\r\n                \"month\": this._t((dmillisecond + amonth)),\r\n                \"year\": this._t((dmillisecond + ayear))\r\n            },\r\n            \"second\": {\r\n                \"second\": this._t((dsecond)),\r\n                \"minute\": this._t((dsecond + aminute)),\r\n                \"hour\": this._t((dsecond + ahour)),\r\n                \"day\": this._t((dsecond + aday)),\r\n                \"week\": this._t((dsecond + aweek)),\r\n                \"month\": this._t((dsecond + amonth)),\r\n                \"year\": this._t((dsecond + ayear))\r\n            },\r\n            \"minute\": {\r\n                \"minute\": this._t((dminute)),\r\n                \"hour\": this._t((dminute + ahour)),\r\n                \"day\": this._t((dminute + aday)),\r\n                \"week\": this._t((dminute + aweek)),\r\n                \"month\": this._t((dminute + amonth)),\r\n                \"year\": this._t((dminute + ayear))\r\n            },\r\n            \"hour\": {\r\n                \"hour\": this._t((dhour)),\r\n                \"day\": this._t((dhour + aday)),\r\n                \"week\": this._t((dhour + aweek)),\r\n                \"month\": this._t((dhour + amonth)),\r\n                \"year\": this._t((dhour + ayear))\r\n            },\r\n            \"day\": {\r\n                \"day\": this._t((dday)),\r\n                \"week\": this._t((dday + aweek)),\r\n                \"month\": this._t((dday + amonth)),\r\n                \"year\": this._t((dday + ayear))\r\n            },\r\n            \"week\": {\r\n                \"week\": this._t((dweek)),\r\n                \"month\": this._t((dweek + amonth)),\r\n                \"year\": this._t((dweek + ayear))\r\n            },\r\n            \"month\": {\r\n                \"month\": this._t((dmonth)),\r\n                \"year\": this._t((dmonth + ayear))\r\n            },\r\n            \"year\": {\r\n                \"year\": this._t(dyear)\r\n            }\r\n        });\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number as duration.\r\n     *\r\n     * For example `1000` (base unit seconds) would be converted to `16:40` as in\r\n     * 16 minutes and 40 seconds.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @param base    Override base unit\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, base) {\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // no format passed in or empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            if (this.get(\"durationFormat\") != null) {\r\n                format = this.get(\"durationFormat\");\r\n            }\r\n            else {\r\n                format = this.getFormat($type.toNumber(value), undefined, baseUnit);\r\n            }\r\n        }\r\n        // Clean format\r\n        format = $utils.cleanFormat(format);\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format, baseUnit);\r\n        // cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // format and replace the number\r\n        let details;\r\n        if (source > this.get(\"negativeBase\")) {\r\n            details = info.positive;\r\n        }\r\n        else if (source < this.get(\"negativeBase\")) {\r\n            details = info.negative;\r\n        }\r\n        else {\r\n            details = info.zero;\r\n        }\r\n        // Format\r\n        let formatted = this.applyFormat(source, details);\r\n        // Apply color?\r\n        if (details.color !== \"\") {\r\n            formatted = \"[\" + details.color + \"]\" + formatted + \"[/]\";\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format  Format string, i.e. \"#,###.00\"\r\n     * @param base    Override base unit\r\n     * @return Parsed information\r\n     */\r\n    parseFormat(format, base) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // Initialize duration parsing info\r\n        let info = {\r\n            \"positive\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"negative\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"zero\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        $object.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Check for [] directives\r\n            let dirs = [];\r\n            dirs = item.source.match(/^\\[([^\\]]*)\\]/);\r\n            if (dirs && dirs.length && dirs[0] !== \"\") {\r\n                partFormat = item.source.substr(dirs[0].length);\r\n                item.color = dirs[1];\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Just \"Duration\"?\r\n                    // if (chunk.text.toLowerCase() === \"duration\") {\r\n                    // \tchunk.text = durationFormat;\r\n                    // }\r\n                    // Check for \"a\" (absolute) modifier\r\n                    if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {\r\n                        item.absolute = true;\r\n                        chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, \"$1\");\r\n                    }\r\n                    // Find all possible parts\r\n                    let matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);\r\n                    if (matches) {\r\n                        // Populate template\r\n                        for (let x = 0; x < matches.length; x++) {\r\n                            // Is it an alias?\r\n                            if (matches[x] == null) {\r\n                                matches[x] = this._unitAliases[matches[x]];\r\n                            }\r\n                            item.parts.push(matches[x]);\r\n                            chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                // Apply to template\r\n                item.template += chunk.text;\r\n            }\r\n            // Apply style formatting\r\n            //item.template = TextFormatter.format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by {parseFormat}\r\n     * @return Formatted duration\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = !details.absolute && (value < this.get(\"negativeBase\"));\r\n        value = Math.abs(value);\r\n        // Recalculate to milliseconds\r\n        let tstamp = this.toTimeStamp(value, details.baseUnit);\r\n        // Init return value\r\n        let res = details.template;\r\n        // Iterate through duration parts\r\n        for (let i = 0, len = details.parts.length; i < len; i++) {\r\n            // Gather the part\r\n            let part = details.parts[i];\r\n            let unit = this._toTimeUnit(part.substr(0, 1));\r\n            let digits = part.length;\r\n            // Calculate current unit value\r\n            let ints = Math.floor(tstamp / this._getUnitValue(unit));\r\n            res = res.replace($type.PLACEHOLDER, $utils.padString(ints, digits, \"0\"));\r\n            // Reduce timestamp\r\n            tstamp -= ints * this._getUnitValue(unit);\r\n        }\r\n        // Reapply negative sign\r\n        if (negative) {\r\n            res = \"-\" + res;\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Converts numeric value to timestamp in milliseconds.\r\n     *\r\n     * @param value     A source value\r\n     * @param baseUnit  Base unit the source value is in: \"q\", \"s\", \"i\", \"h\", \"d\", \"w\", \"m\", \"y\"\r\n     * @return Value representation as a timestamp in milliseconds\r\n     */\r\n    toTimeStamp(value, baseUnit) {\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _toTimeUnit(code) {\r\n        switch (code) {\r\n            case \"S\":\r\n                return \"millisecond\";\r\n            case \"s\":\r\n                return \"second\";\r\n            case \"m\":\r\n                return \"minute\";\r\n            case \"h\":\r\n                return \"hour\";\r\n            case \"d\":\r\n                return \"day\";\r\n            case \"w\":\r\n                return \"week\";\r\n            case \"M\":\r\n                return \"month\";\r\n            case \"y\":\r\n                return \"year\";\r\n        }\r\n        ;\r\n    }\r\n    /**\r\n     * Returns appropriate default format for the value.\r\n     *\r\n     * If `maxValue` is sepcified, it will use that value to determine the time\r\n     * unit for the format.\r\n     *\r\n     * For example if your `baseUnit` is `\"second\"` and you pass in `10`, you\r\n     * will get `\"10\"`.\r\n     *\r\n     * However, you might want it to be formatted in the context of bigger scale,\r\n     * say 10 minutes (600 seconds). If you pass in `600` as `maxValue`, all\r\n     * values, including small ones will use format with minutes, e.g.:\r\n     * `00:10`, `00:50`, `12: 30`, etc.\r\n     *\r\n     * @param value     Value to format\r\n     * @param maxValue  Maximum value to be used to determine format\r\n     * @param baseUnit  Base unit of the value\r\n     * @return Format\r\n     */\r\n    getFormat(value, maxValue, baseUnit) {\r\n        // Is format override set?\r\n        if (this.get(\"durationFormat\") != null) {\r\n            return this.get(\"durationFormat\");\r\n        }\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        if (maxValue != null && value != maxValue) {\r\n            value = Math.abs(value);\r\n            maxValue = Math.abs(maxValue);\r\n            let maxUnit = this.getValueUnit(Math.max(value, maxValue), baseUnit);\r\n            //let diffUnit = this.getValueUnit(Math.abs(maxValue - value), baseUnit);\r\n            //console.log(maxUnit, diffUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][maxUnit];\r\n        }\r\n        else {\r\n            let unit = this.getValueUnit(value, baseUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][unit];\r\n        }\r\n    }\r\n    /**\r\n     * Returns value's closest denominator time unit, e.g 100 seconds is\r\n     * `\"minute\"`, while 59 seconds would still be `second`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Denominator\r\n     */\r\n    getValueUnit(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        // Convert to milliseconds\r\n        let currentUnit;\r\n        let ms = this.getMilliseconds(value, baseUnit);\r\n        $object.eachContinue(this._getUnitValues(), (key, val) => {\r\n            if (key == baseUnit || currentUnit) {\r\n                let num = ms / val;\r\n                if (num <= 1) {\r\n                    if (!currentUnit) {\r\n                        currentUnit = key;\r\n                    }\r\n                    return false;\r\n                }\r\n                currentUnit = key;\r\n            }\r\n            return true;\r\n        });\r\n        return currentUnit;\r\n    }\r\n    /**\r\n     * Converts value to milliseconds according to `baseUnit`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Value in milliseconds\r\n     */\r\n    getMilliseconds(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _getUnitValue(timeUnit) {\r\n        return this._getUnitValues()[timeUnit];\r\n    }\r\n    _getUnitValues() {\r\n        return {\r\n            \"millisecond\": 1,\r\n            \"second\": 1000,\r\n            \"minute\": 60000,\r\n            \"hour\": 3600000,\r\n            \"day\": 86400000,\r\n            \"week\": 604800000,\r\n            \"month\": 2592000000,\r\n            \"year\": 31536000000,\r\n        };\r\n    }\r\n}\r\n//# sourceMappingURL=DurationFormatter.js.map","/**\r\n * amCharts 5 locale\r\n *\r\n * Locale: en\r\n * Language: International English\r\n * Author: Martynas Majeris\r\n *\r\n * Follow instructions in [on this page](https://www.amcharts.com/docs/v5/tutorials/creating-translations/) to make corrections or add new translations.\r\n *\r\n * ---\r\n * Edit but leave the header section above this line. You can remove any\r\n * subsequent comment sections.\r\n * ---\r\n *\r\n * Use this file as a template to create translations. Leave the key part in\r\n * English intact. Fill the value with a translation.\r\n *\r\n * Empty string means no translation, so default \"International English\"\r\n * will be used.\r\n *\r\n * If you need the translation to literally be an empty string, use `null`\r\n * instead.\r\n *\r\n * IMPORTANT:\r\n * When translating make good effort to keep the translation length\r\n * at least the same chartcount as the English, especially for short prompts.\r\n *\r\n * Having significantly longer prompts may distort the actual charts.\r\n *\r\n * NOTE:\r\n * Some prompts - like months or weekdays - come in two versions: full and\r\n * shortened.\r\n *\r\n * If there's no official shortened version of these in your language, and it\r\n * would not be possible to invent such short versions that don't seem weird\r\n * to native speakers of that language, fill those with the same as full\r\n * version.\r\n *\r\n * PLACEHOLDERS:\r\n * Some prompts have placeholders like \"%1\". Those will be replaced by actual\r\n * values during translation and should be retained in the translated prompts.\r\n *\r\n * Placeholder positions may be changed to better suit structure of the\r\n * sentence.\r\n *\r\n * For example \"From %1 to %2\", when actually used will replace \"%1\" with an\r\n * actual value representing range start, and \"%2\" will be replaced by end\r\n * value.\r\n *\r\n * E.g. in a Scrollbar for Value axis \"From %1 to %2\" will become\r\n * \"From 100 to 200\". You may translate \"From\" and \"to\", as well as re-arrange\r\n * the order of the prompt itself, but make sure the \"%1\" and \"%2\" remain, in\r\n * places where they will make sense.\r\n *\r\n * Save the file as language_LOCALE, i.e. `en_GB.ts`, `fr_FR.ts`, etc.\r\n */\r\nexport default {\r\n    \"firstDayOfWeek\": 1,\r\n    // Number formatting options.\r\n    // \r\n    // Please check with the local standards which separator is accepted to be\r\n    // used for separating decimals, and which for thousands.\r\n    \"_decimalSeparator\": \".\",\r\n    \"_thousandSeparator\": \",\",\r\n    // Position of the percent sign in numbers\r\n    \"_percentPrefix\": null,\r\n    \"_percentSuffix\": \"%\",\r\n    // Suffixes for numbers\r\n    // When formatting numbers, big or small numers might be reformatted to\r\n    // shorter version, by applying a suffix.\r\n    // \r\n    // For example, 1000000 might become \"1m\".\r\n    // Or 1024 might become \"1KB\" if we're formatting byte numbers.\r\n    // \r\n    // This section defines such suffixes for all such cases.\r\n    \"_big_number_suffix_3\": \"k\",\r\n    \"_big_number_suffix_6\": \"M\",\r\n    \"_big_number_suffix_9\": \"G\",\r\n    \"_big_number_suffix_12\": \"T\",\r\n    \"_big_number_suffix_15\": \"P\",\r\n    \"_big_number_suffix_18\": \"E\",\r\n    \"_big_number_suffix_21\": \"Z\",\r\n    \"_big_number_suffix_24\": \"Y\",\r\n    \"_small_number_suffix_3\": \"m\",\r\n    \"_small_number_suffix_6\": \"μ\",\r\n    \"_small_number_suffix_9\": \"n\",\r\n    \"_small_number_suffix_12\": \"p\",\r\n    \"_small_number_suffix_15\": \"f\",\r\n    \"_small_number_suffix_18\": \"a\",\r\n    \"_small_number_suffix_21\": \"z\",\r\n    \"_small_number_suffix_24\": \"y\",\r\n    \"_byte_suffix_B\": \"B\",\r\n    \"_byte_suffix_KB\": \"KB\",\r\n    \"_byte_suffix_MB\": \"MB\",\r\n    \"_byte_suffix_GB\": \"GB\",\r\n    \"_byte_suffix_TB\": \"TB\",\r\n    \"_byte_suffix_PB\": \"PB\",\r\n    // Default date formats for various periods.\r\n    // \r\n    // This should reflect official or de facto formatting universally accepted\r\n    // in the country translation is being made for\r\n    // Available format codes here:\r\n    // https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#Format_codes\r\n    // \r\n    // This will be used when formatting date/time for particular granularity,\r\n    // e.g. \"_date_hour\" will be shown whenever we need to show time as hours.\r\n    // \r\n    // \"date\" is used as in default date format when showing standalone dates.\r\n    \"_date\": \"yyyy-MM-dd\",\r\n    \"_date_millisecond\": \"mm:ss SSS\",\r\n    \"_date_millisecond_full\": \"HH:mm:ss SSS\",\r\n    \"_date_second\": \"HH:mm:ss\",\r\n    \"_date_second_full\": \"HH:mm:ss\",\r\n    \"_date_minute\": \"HH:mm\",\r\n    \"_date_minute_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_hour\": \"HH:mm\",\r\n    \"_date_hour_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_day\": \"MMM dd\",\r\n    \"_date_day_full\": \"MMM dd, yyyy\",\r\n    \"_date_week\": \"ww\",\r\n    \"_date_week_full\": \"MMM dd, yyyy\",\r\n    \"_date_month\": \"MMM\",\r\n    \"_date_month_full\": \"MMM, yyyy\",\r\n    \"_date_year\": \"yyyy\",\r\n    // Default duration formats for various base units.\r\n    // \r\n    // This will be used by DurationFormatter to format numeric values into\r\n    // duration.\r\n    // \r\n    // Notice how each duration unit comes in several versions. This is to ensure\r\n    // that each base unit is shown correctly.\r\n    // \r\n    // For example, if we have baseUnit set to \"second\", meaning our duration is\r\n    // in seconds.\r\n    // \r\n    // If we pass in `50` to formatter, it will know that we have just 50 seconds\r\n    // (less than a minute) so it will use format in `\"_duration_second\"` (\"ss\"),\r\n    // and the formatted result will be in like `\"50\"`.\r\n    // \r\n    // If we pass in `70`, which is more than a minute, the formatter will switch\r\n    // to `\"_duration_second_minute\"` (\"mm:ss\"), resulting in \"01:10\" formatted\r\n    // text.\r\n    // \r\n    // Available codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/#Available_Codes\r\n    \"_duration_millisecond\": \"SSS\",\r\n    \"_duration_millisecond_second\": \"ss.SSS\",\r\n    \"_duration_millisecond_minute\": \"mm:ss SSS\",\r\n    \"_duration_millisecond_hour\": \"hh:mm:ss SSS\",\r\n    \"_duration_millisecond_day\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_week\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_month\": \"M'm' dd'd' mm:ss SSS\",\r\n    \"_duration_millisecond_year\": \"y'y' MM'm' dd'd' mm:ss SSS\",\r\n    \"_duration_second\": \"ss\",\r\n    \"_duration_second_minute\": \"mm:ss\",\r\n    \"_duration_second_hour\": \"hh:mm:ss\",\r\n    \"_duration_second_day\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_week\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_month\": \"M'm' dd'd' hh:mm:ss\",\r\n    \"_duration_second_year\": \"y'y' MM'm' dd'd' hh:mm:ss\",\r\n    \"_duration_minute\": \"mm\",\r\n    \"_duration_minute_hour\": \"hh:mm\",\r\n    \"_duration_minute_day\": \"d'd' hh:mm\",\r\n    \"_duration_minute_week\": \"d'd' hh:mm\",\r\n    \"_duration_minute_month\": \"M'm' dd'd' hh:mm\",\r\n    \"_duration_minute_year\": \"y'y' MM'm' dd'd' hh:mm\",\r\n    \"_duration_hour\": \"hh'h'\",\r\n    \"_duration_hour_day\": \"d'd' hh'h'\",\r\n    \"_duration_hour_week\": \"d'd' hh'h'\",\r\n    \"_duration_hour_month\": \"M'm' dd'd' hh'h'\",\r\n    \"_duration_hour_year\": \"y'y' MM'm' dd'd' hh'h'\",\r\n    \"_duration_day\": \"d'd'\",\r\n    \"_duration_day_week\": \"d'd'\",\r\n    \"_duration_day_month\": \"M'm' dd'd'\",\r\n    \"_duration_day_year\": \"y'y' MM'm' dd'd'\",\r\n    \"_duration_week\": \"w'w'\",\r\n    \"_duration_week_month\": \"w'w'\",\r\n    \"_duration_week_year\": \"w'w'\",\r\n    \"_duration_month\": \"M'm'\",\r\n    \"_duration_month_year\": \"y'y' MM'm'\",\r\n    \"_duration_year\": \"y'y'\",\r\n    // Era translations\r\n    \"_era_ad\": \"AD\",\r\n    \"_era_bc\": \"BC\",\r\n    // Day part, used in 12-hour formats, e.g. 5 P.M.\r\n    // Please note that these come in 3 variants:\r\n    // * one letter (e.g. \"A\")\r\n    // * two letters (e.g. \"AM\")\r\n    // * two letters with dots (e.g. \"A.M.\")\r\n    // \r\n    // All three need to to be translated even if they are all the same. Some\r\n    // users might use one, some the other.\r\n    \"A\": \"\",\r\n    \"P\": \"\",\r\n    \"AM\": \"\",\r\n    \"PM\": \"\",\r\n    \"A.M.\": \"\",\r\n    \"P.M.\": \"\",\r\n    // Date-related stuff.\r\n    // \r\n    // When translating months, if there's a difference, use the form which is\r\n    // best for a full date, e.g. as you would use it in \"2018 January 1\".\r\n    // \r\n    // Note that May is listed twice. This is because in English May is the same\r\n    // in both long and short forms, while in other languages it may not be the\r\n    // case. Translate \"May\" to full word, while \"May(short)\" to shortened\r\n    // version.\r\n    // \r\n    // Should month names and weekdays be capitalized or not?\r\n    // \r\n    // Rule of thumb is this: if the names should always be capitalized,\r\n    // regardless of name position within date (\"January\", \"21st January 2018\",\r\n    // etc.) use capitalized names. Otherwise enter all lowercase.\r\n    // \r\n    // The date formatter will automatically capitalize names if they are the\r\n    // first (or only) word in resulting date.\r\n    \"January\": \"\",\r\n    \"February\": \"\",\r\n    \"March\": \"\",\r\n    \"April\": \"\",\r\n    \"May\": \"\",\r\n    \"June\": \"\",\r\n    \"July\": \"\",\r\n    \"August\": \"\",\r\n    \"September\": \"\",\r\n    \"October\": \"\",\r\n    \"November\": \"\",\r\n    \"December\": \"\",\r\n    \"Jan\": \"\",\r\n    \"Feb\": \"\",\r\n    \"Mar\": \"\",\r\n    \"Apr\": \"\",\r\n    \"May(short)\": \"May\",\r\n    \"Jun\": \"\",\r\n    \"Jul\": \"\",\r\n    \"Aug\": \"\",\r\n    \"Sep\": \"\",\r\n    \"Oct\": \"\",\r\n    \"Nov\": \"\",\r\n    \"Dec\": \"\",\r\n    // Weekdays.\r\n    \"Sunday\": \"\",\r\n    \"Monday\": \"\",\r\n    \"Tuesday\": \"\",\r\n    \"Wednesday\": \"\",\r\n    \"Thursday\": \"\",\r\n    \"Friday\": \"\",\r\n    \"Saturday\": \"\",\r\n    \"Sun\": \"\",\r\n    \"Mon\": \"\",\r\n    \"Tue\": \"\",\r\n    \"Wed\": \"\",\r\n    \"Thu\": \"\",\r\n    \"Fri\": \"\",\r\n    \"Sat\": \"\",\r\n    // Date ordinal function.\r\n    // \r\n    // This is used when adding number ordinal when formatting days in dates.\r\n    // \r\n    // E.g. \"January 1st\", \"February 2nd\".\r\n    // \r\n    // The function accepts day number, and returns a string to be added to the\r\n    // day, like in default English translation, if we pass in 2, we will receive\r\n    // \"nd\" back.\r\n    \"_dateOrd\": function (day) {\r\n        let res = \"th\";\r\n        if ((day < 11) || (day > 13)) {\r\n            switch (day % 10) {\r\n                case 1:\r\n                    res = \"st\";\r\n                    break;\r\n                case 2:\r\n                    res = \"nd\";\r\n                    break;\r\n                case 3:\r\n                    res = \"rd\";\r\n                    break;\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n    // Various chart controls.\r\n    // Shown as a tooltip on zoom out button.\r\n    \"Zoom Out\": \"\",\r\n    // Timeline buttons\r\n    \"Play\": \"\",\r\n    \"Stop\": \"\",\r\n    // Chart's Legend screen reader title.\r\n    \"Legend\": \"\",\r\n    // Legend's item screen reader indicator.\r\n    \"Press ENTER to toggle\": \"\",\r\n    // Shown when the chart is busy loading something.\r\n    \"Loading\": \"\",\r\n    // Shown as the first button in the breadcrumb navigation, e.g.:\r\n    // Home > First level > ...\r\n    \"Home\": \"\",\r\n    // Chart types.\r\n    // Those are used as default screen reader titles for the main chart element\r\n    // unless developer has set some more descriptive title.\r\n    \"Chart\": \"\",\r\n    \"Serial chart\": \"\",\r\n    \"X/Y chart\": \"\",\r\n    \"Pie chart\": \"\",\r\n    \"Gauge chart\": \"\",\r\n    \"Radar chart\": \"\",\r\n    \"Sankey diagram\": \"\",\r\n    \"Flow diagram\": \"\",\r\n    \"Chord diagram\": \"\",\r\n    \"TreeMap chart\": \"\",\r\n    \"Force directed tree\": \"\",\r\n    \"Sliced chart\": \"\",\r\n    // Series types.\r\n    // Used to name series by type for screen readers if they do not have their\r\n    // name set.\r\n    \"Series\": \"\",\r\n    \"Candlestick Series\": \"\",\r\n    \"OHLC Series\": \"\",\r\n    \"Column Series\": \"\",\r\n    \"Line Series\": \"\",\r\n    \"Pie Slice Series\": \"\",\r\n    \"Funnel Series\": \"\",\r\n    \"Pyramid Series\": \"\",\r\n    \"X/Y Series\": \"\",\r\n    // Map-related stuff.\r\n    \"Map\": \"\",\r\n    \"Press ENTER to zoom in\": \"\",\r\n    \"Press ENTER to zoom out\": \"\",\r\n    \"Use arrow keys to zoom in and out\": \"\",\r\n    \"Use plus and minus keys on your keyboard to zoom in and out\": \"\",\r\n    // Export-related stuff.\r\n    // These prompts are used in Export menu labels.\r\n    // \r\n    // \"Export\" is the top-level menu item.\r\n    // \r\n    // \"Image\", \"Data\", \"Print\" as second-level indicating type of export\r\n    // operation.\r\n    // \r\n    // Leave actual format untranslated, unless you absolutely know that they\r\n    // would convey more meaning in some other way.\r\n    \"Export\": \"\",\r\n    \"Image\": \"\",\r\n    \"Data\": \"\",\r\n    \"Print\": \"\",\r\n    \"Press ENTER or use arrow keys to navigate\": \"\",\r\n    \"Press ENTER to open\": \"\",\r\n    \"Press ENTER to print.\": \"\",\r\n    \"Press ENTER to export as %1.\": \"\",\r\n    \"(Press ESC to close this message)\": \"\",\r\n    \"Image Export Complete\": \"\",\r\n    \"Export operation took longer than expected. Something might have gone wrong.\": \"\",\r\n    \"Saved from\": \"\",\r\n    \"PNG\": \"\",\r\n    \"JPG\": \"\",\r\n    \"GIF\": \"\",\r\n    \"SVG\": \"\",\r\n    \"PDF\": \"\",\r\n    \"JSON\": \"\",\r\n    \"CSV\": \"\",\r\n    \"XLSX\": \"\",\r\n    \"HTML\": \"\",\r\n    // Scrollbar-related stuff.\r\n    // \r\n    // Scrollbar is a control which can zoom and pan the axes on the chart.\r\n    // \r\n    // Each scrollbar has two grips: left or right (for horizontal scrollbar) or\r\n    // upper and lower (for vertical one).\r\n    // \r\n    // Prompts change in relation to whether Scrollbar is vertical or horizontal.\r\n    // \r\n    // The final section is used to indicate the current range of selection.\r\n    \"Use TAB to select grip buttons or left and right arrows to change selection\": \"\",\r\n    \"Use left and right arrows to move selection\": \"\",\r\n    \"Use left and right arrows to move left selection\": \"\",\r\n    \"Use left and right arrows to move right selection\": \"\",\r\n    \"Use TAB select grip buttons or up and down arrows to change selection\": \"\",\r\n    \"Use up and down arrows to move selection\": \"\",\r\n    \"Use up and down arrows to move lower selection\": \"\",\r\n    \"Use up and down arrows to move upper selection\": \"\",\r\n    \"From %1 to %2\": \"\",\r\n    \"From %1\": \"\",\r\n    \"To %1\": \"\",\r\n    // Data loader-related.\r\n    \"No parser available for file: %1\": \"\",\r\n    \"Error parsing file: %1\": \"\",\r\n    \"Unable to load file: %1\": \"\",\r\n    \"Invalid date\": \"\",\r\n    // Common actions\r\n    \"Close\": \"\",\r\n    \"Minimize\": \"\"\r\n};\r\n//# sourceMappingURL=en.js.map","import { Entity } from \"./Entity\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport en from \"../../../locales/en\";\r\n;\r\n/**\r\n * Add localization functionality.\r\n */\r\nexport class Language extends Entity {\r\n    _setDefaults() {\r\n        this.setPrivate(\"defaultLocale\", en);\r\n        super._setDefaults();\r\n    }\r\n    /**\r\n     * Returns a prompt translation.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translate(prompt, locale, ...rest) {\r\n        // Get langauge\r\n        if (!locale) {\r\n            locale = this._root.locale || this.getPrivate(\"defaultLocale\");\r\n        }\r\n        // Init translation\r\n        let translation = prompt;\r\n        let value = locale[prompt];\r\n        // Try to look for the translation\r\n        if (value === null) {\r\n            translation = \"\";\r\n        }\r\n        else if (value != null) {\r\n            // It might be an empty string\r\n            if (value) {\r\n                translation = value;\r\n            }\r\n        }\r\n        else if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            // Try to look in default language\r\n            return this.translate(prompt, this.getPrivate(\"defaultLocale\"), ...rest);\r\n        }\r\n        // Replace %1, %2, etc params\r\n        if (rest.length) {\r\n            for (let len = rest.length, i = 0; i < len; ++i) {\r\n                translation = translation.split(\"%\" + (i + 1)).join(rest[i]);\r\n            }\r\n        }\r\n        // Return the translation\r\n        return translation;\r\n    }\r\n    /**\r\n     * Returns a prompt translation, including custom prompts.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translateAny(prompt, locale, ...rest) {\r\n        return this.translate(prompt, locale, ...rest);\r\n    }\r\n    /**\r\n     * Add a custom prompt to locale.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  prompt       Source prompt\r\n     * @param  translation  Tanslation\r\n     * @param  locale       Target locale\r\n     */\r\n    setTranslationAny(prompt, translation, locale) {\r\n        const localeTarget = locale || this._root.locale;\r\n        localeTarget[prompt] = translation;\r\n    }\r\n    /**\r\n     * Add a batch of custom prompts.\r\n     *\r\n     * @since 5.3.3\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  translations  Translations\r\n     * @param  locale        Target locale\r\n     */\r\n    setTranslationsAny(translations, locale) {\r\n        $object.each(translations, (key, val) => {\r\n            this.setTranslationAny(key, val, locale);\r\n        });\r\n    }\r\n    translateEmpty(prompt, locale, ...rest) {\r\n        let translation = this.translate(prompt, locale, ...rest);\r\n        return translation == prompt ? \"\" : translation;\r\n    }\r\n    translateFunc(prompt, locale) {\r\n        if (this._root.locale[prompt]) {\r\n            return this._root.locale[prompt];\r\n        }\r\n        // Try to look in default language\r\n        if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            return this.translateFunc(prompt, this.getPrivate(\"defaultLocale\"));\r\n        }\r\n        // Fail - return empty function\r\n        return () => {\r\n            return \"\";\r\n        };\r\n    }\r\n    /**\r\n     * Translates a btach of prompts.\r\n     *\r\n     * @param  list    Array of prompts to translate\r\n     * @param  locale  Target locale\r\n     * @return         Array of translations\r\n     */\r\n    translateAll(list, locale) {\r\n        // Translate all items in the list\r\n        if (!this.isDefault()) {\r\n            return $array.map(list, (x) => this.translate(x, locale));\r\n        }\r\n        else {\r\n            return list;\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if the currently selected locale is a default locale.\r\n     *\r\n     * @return `true` if locale is default; `false` if it is not.\r\n     */\r\n    isDefault() {\r\n        return this.getPrivate(\"defaultLocale\") === this._root.locale;\r\n    }\r\n}\r\n//# sourceMappingURL=Language.js.map","import { Template } from \"./util/Template\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\n/**\r\n * A base class for an amCharts theme.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n * @important\r\n */\r\nexport class Theme {\r\n    constructor(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rules\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._root = root;\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root) {\r\n        const x = (new this(root, true));\r\n        x.setupDefaultRules();\r\n        return x;\r\n    }\r\n    setupDefaultRules() { }\r\n    /**\r\n     * Looks up the rules for a specific theme class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @return             Array<IRule<A>>\r\n     */\r\n    _lookupRules(themeClass) {\r\n        return this._rules[themeClass];\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\r\n     * type checks.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    ruleRaw(themeClass, themeTags = []) {\r\n        let rules = this._rules[themeClass];\r\n        if (!rules) {\r\n            rules = this._rules[themeClass] = [];\r\n        }\r\n        themeTags.sort($order.compare);\r\n        const { index, found } = $array.getSortedIndex(rules, (x) => {\r\n            const order = $order.compare(x.tags.length, themeTags.length);\r\n            if (order === 0) {\r\n                return $order.compareArray(x.tags, themeTags, $order.compare);\r\n            }\r\n            else {\r\n                return order;\r\n            }\r\n        });\r\n        if (found) {\r\n            return rules[index].template;\r\n        }\r\n        else {\r\n            const template = Template.new({});\r\n            rules.splice(index, 0, {\r\n                tags: themeTags,\r\n                template,\r\n            });\r\n            return template;\r\n        }\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    rule(themeClass, themeTags = []) {\r\n        return this.ruleRaw(themeClass, themeTags);\r\n    }\r\n}\r\n//# sourceMappingURL=Theme.js.map","import { Theme } from \"../core/Theme\";\r\nimport { p100, p50 } from \"../core/util/Percent\";\r\nimport { Color } from \"../core/util/Color\";\r\nimport { GridLayout } from \"../core/render/GridLayout\";\r\nimport * as $ease from \"../core/util/Ease\";\r\n/**\r\n * @ignore\r\n */\r\nexport function setColor(rule, key, ic, name) {\r\n    // TODO this shouldn't use get, figure out a better way\r\n    rule.set(key, ic.get(name));\r\n    ic.on(name, (value) => {\r\n        rule.set(key, value);\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class DefaultTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const language = this._root.language;\r\n        const ic = this._root.interfaceColors;\r\n        const horizontalLayout = this._root.horizontalLayout;\r\n        const verticalLayout = this._root.verticalLayout;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * core\r\n         * ========================================================================\r\n         */\r\n        r(\"InterfaceColors\").setAll({\r\n            stroke: Color.fromHex(0xe5e5e5),\r\n            fill: Color.fromHex(0xf3f3f3),\r\n            primaryButton: Color.fromHex(0x6794dc),\r\n            primaryButtonHover: Color.fromHex(0x6771dc),\r\n            primaryButtonDown: Color.fromHex(0x68dc76),\r\n            primaryButtonActive: Color.fromHex(0x68dc76),\r\n            primaryButtonText: Color.fromHex(0xffffff),\r\n            primaryButtonStroke: Color.fromHex(0xffffff),\r\n            secondaryButton: Color.fromHex(0xd9d9d9),\r\n            secondaryButtonHover: Color.fromHex(0xa3a3a3),\r\n            secondaryButtonDown: Color.fromHex(0x8d8d8d),\r\n            secondaryButtonActive: Color.fromHex(0xe6e6e6),\r\n            secondaryButtonText: Color.fromHex(0x000000),\r\n            secondaryButtonStroke: Color.fromHex(0xffffff),\r\n            grid: Color.fromHex(0x000000),\r\n            background: Color.fromHex(0xffffff),\r\n            alternativeBackground: Color.fromHex(0x000000),\r\n            text: Color.fromHex(0x000000),\r\n            alternativeText: Color.fromHex(0xffffff),\r\n            disabled: Color.fromHex(0xadadad),\r\n            positive: Color.fromHex(0x50b300),\r\n            negative: Color.fromHex(0xb30000)\r\n        });\r\n        {\r\n            const rule = r(\"ColorSet\");\r\n            rule.setAll({\r\n                passOptions: {\r\n                    hue: 0.05,\r\n                    saturation: 0,\r\n                    lightness: 0\r\n                },\r\n                colors: [\r\n                    Color.fromHex(0x67b7dc)\r\n                ],\r\n                step: 1,\r\n                //baseColor: Color.fromRGB(103, 183, 220),\r\n                //count: 20,\r\n                reuse: false,\r\n                startIndex: 0\r\n            });\r\n            rule.setPrivate(\"currentStep\", 0);\r\n            rule.setPrivate(\"currentPass\", 0);\r\n        }\r\n        r(\"Entity\").setAll({\r\n            stateAnimationDuration: 0,\r\n            stateAnimationEasing: $ease.out($ease.cubic)\r\n        });\r\n        r(\"Component\").setAll({\r\n            interpolationDuration: 0,\r\n            interpolationEasing: $ease.out($ease.cubic)\r\n        });\r\n        r(\"Sprite\").setAll({\r\n            visible: true,\r\n            scale: 1,\r\n            opacity: 1,\r\n            rotation: 0,\r\n            position: \"relative\",\r\n            tooltipX: p50,\r\n            tooltipY: p50,\r\n            tooltipPosition: \"fixed\",\r\n            isMeasured: true\r\n        });\r\n        r(\"Sprite\").states.create(\"default\", { \"visible\": true, opacity: 1 });\r\n        r(\"Container\").setAll({\r\n            interactiveChildren: true,\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"Graphics\").setAll({\r\n            strokeWidth: 1\r\n        });\r\n        r(\"Chart\").setAll({\r\n            width: p100,\r\n            height: p100,\r\n            interactiveChildren: false\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: alignment\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Sprite\", [\"horizontal\", \"center\"]).setAll({\r\n            centerX: p50,\r\n            x: p50\r\n        });\r\n        r(\"Sprite\", [\"vertical\", \"center\"]).setAll({\r\n            centerY: p50,\r\n            y: p50\r\n        });\r\n        r(\"Container\", [\"horizontal\", \"layout\"]).setAll({\r\n            layout: horizontalLayout\r\n        });\r\n        r(\"Container\", [\"vertical\", \"layout\"]).setAll({\r\n            layout: verticalLayout\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: patterns\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Pattern\").setAll({\r\n            repetition: \"repeat\",\r\n            width: 50,\r\n            height: 50,\r\n            rotation: 0,\r\n            fillOpacity: 1\r\n        });\r\n        r(\"LinePattern\").setAll({\r\n            gap: 6,\r\n            colorOpacity: 1,\r\n            width: 49,\r\n            height: 49\r\n        });\r\n        r(\"RectanglePattern\").setAll({\r\n            gap: 6,\r\n            checkered: false,\r\n            centered: true,\r\n            maxWidth: 5,\r\n            maxHeight: 5,\r\n            width: 48,\r\n            height: 48,\r\n            strokeWidth: 0\r\n        });\r\n        r(\"CirclePattern\").setAll({\r\n            gap: 5,\r\n            checkered: false,\r\n            centered: false,\r\n            radius: 3,\r\n            strokeWidth: 0,\r\n            width: 45,\r\n            height: 45\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: gradients\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"LinearGradient\").setAll({\r\n            rotation: 90\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Legend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Legend\").setAll({\r\n            fillField: \"fill\",\r\n            strokeField: \"stroke\",\r\n            nameField: \"name\",\r\n            layout: GridLayout.new(this._root, {}),\r\n            layer: 30,\r\n            clickTarget: \"itemContainer\"\r\n        });\r\n        // Class: Container\r\n        r(\"Container\", [\"legend\", \"item\", \"itemcontainer\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingBottom: 5,\r\n            paddingTop: 5,\r\n            layout: horizontalLayout,\r\n            setStateOnChildren: true,\r\n            interactiveChildren: false,\r\n            ariaChecked: true,\r\n            focusable: true,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            role: \"checkbox\"\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"legend\", \"item\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n        }\r\n        r(\"Container\", [\"legend\", \"marker\"]).setAll({\r\n            setStateOnChildren: true,\r\n            centerY: p50,\r\n            paddingLeft: 0,\r\n            paddingRight: 0,\r\n            paddingBottom: 0,\r\n            paddingTop: 0,\r\n            width: 18,\r\n            height: 18\r\n        });\r\n        r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).setAll({\r\n            width: p100,\r\n            height: p100,\r\n            cornerRadiusBL: 3,\r\n            cornerRadiusTL: 3,\r\n            cornerRadiusBR: 3,\r\n            cornerRadiusTR: 3\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"label\"]).setAll({\r\n            centerY: p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"value\", \"label\"]).setAll({\r\n            centerY: p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            width: 50,\r\n            centerX: p100,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"value\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: HeatLegend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"HeatLegend\").setAll({\r\n            stepCount: 1\r\n        });\r\n        r(\"RoundedRectangle\", [\"heatlegend\", \"marker\"]).setAll({\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBL: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"vertical\", \"heatlegend\", \"marker\"]).setAll({\r\n            height: p100,\r\n            width: 15\r\n        });\r\n        r(\"RoundedRectangle\", [\"horizontal\", \"heatlegend\", \"marker\"]).setAll({\r\n            width: p100,\r\n            height: 15\r\n        });\r\n        r(\"HeatLegend\", [\"vertical\"]).setAll({\r\n            height: p100\r\n        });\r\n        r(\"HeatLegend\", [\"horizontal\"]).setAll({\r\n            width: p100\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"start\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"end\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Labels\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        {\r\n            const rule = r(\"Label\");\r\n            rule.setAll({\r\n                paddingTop: 8,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                fontFamily: \"-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\r\n                fontSize: \"1em\",\r\n                populateText: false\r\n            });\r\n            setColor(rule, \"fill\", ic, \"text\");\r\n        }\r\n        r(\"RadialLabel\").setAll({\r\n            textType: \"regular\",\r\n            centerY: p50,\r\n            centerX: p50,\r\n            inside: false,\r\n            radius: 0,\r\n            baseRadius: p100,\r\n            orientation: \"auto\",\r\n            textAlign: \"center\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Elements and shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"RoundedRectangle\").setAll({\r\n            cornerRadiusTL: 8,\r\n            cornerRadiusBL: 8,\r\n            cornerRadiusTR: 8,\r\n            cornerRadiusBR: 8\r\n        });\r\n        r(\"PointedRectangle\").setAll({\r\n            pointerBaseWidth: 15,\r\n            pointerLength: 10,\r\n            cornerRadius: 8\r\n        });\r\n        r(\"Slice\").setAll({\r\n            shiftRadius: 0,\r\n            dRadius: 0,\r\n            dInnerRadius: 0\r\n        });\r\n        {\r\n            const rule = r(\"Tick\");\r\n            rule.setAll({\r\n                strokeOpacity: .15,\r\n                isMeasured: false,\r\n                length: 4.5,\r\n                position: \"absolute\",\r\n                crisp: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Bullet\").setAll({\r\n            locationX: 0.5,\r\n            locationY: 0.5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Tooltip\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Tooltip\").setAll({\r\n            position: \"absolute\",\r\n            getFillFromSprite: true,\r\n            getStrokeFromSprite: false,\r\n            autoTextColor: true,\r\n            paddingTop: 9,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            marginBottom: 5,\r\n            pointerOrientation: \"vertical\",\r\n            centerX: p50,\r\n            centerY: p50,\r\n            animationEasing: $ease.out($ease.cubic),\r\n            exportable: false\r\n            //layer: 100\r\n        });\r\n        r(\"Polygon\").setAll({\r\n            animationEasing: $ease.out($ease.cubic),\r\n        });\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.9,\r\n                cornerRadius: 4,\r\n                pointerLength: 4,\r\n                pointerBaseWidth: 8,\r\n                fillOpacity: 0.9,\r\n                stroke: Color.fromHex(0xffffff)\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"tooltip\"]);\r\n            rule.setAll({\r\n                role: \"tooltip\",\r\n                populateText: true,\r\n                paddingRight: 0,\r\n                paddingTop: 0,\r\n                paddingLeft: 0,\r\n                paddingBottom: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Button\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\").setAll({\r\n            paddingTop: 8,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            interactive: true,\r\n            layout: horizontalLayout,\r\n            interactiveChildren: false,\r\n            setStateOnChildren: true,\r\n            focusable: true\r\n        });\r\n        r(\"Button\").states.create(\"hover\", {});\r\n        r(\"Button\").states.create(\"down\", { stateAnimationDuration: 0 });\r\n        r(\"Button\").states.create(\"active\", {});\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"active\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonActive\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"button\", \"icon\"]);\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"button\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: ZoomOutButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"zoom\"]).setAll({\r\n            paddingTop: 18,\r\n            paddingBottom: 18,\r\n            paddingLeft: 12,\r\n            paddingRight: 12,\r\n            centerX: 46,\r\n            centerY: -10,\r\n            y: 0,\r\n            x: p100,\r\n            role: \"button\",\r\n            ariaLabel: language.translate(\"Zoom Out\"),\r\n            layer: 30\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"icon\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                crisp: true,\r\n                strokeOpacity: 0.7,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(12, 0);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: ResizeButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"resize\"]).setAll({\r\n            paddingTop: 9,\r\n            paddingBottom: 9,\r\n            paddingLeft: 13,\r\n            paddingRight: 13,\r\n            draggable: true,\r\n            centerX: p50,\r\n            centerY: p50,\r\n            position: \"absolute\",\r\n            role: \"slider\",\r\n            ariaValueMin: \"0\",\r\n            ariaValueMax: \"100\",\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"resize\", \"button\", \"icon\"]);\r\n            rule.setAll({\r\n                interactive: false,\r\n                crisp: true,\r\n                strokeOpacity: 0.5,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0.5);\r\n                    display.lineTo(0, 12.5);\r\n                    display.moveTo(4, 0.5);\r\n                    display.lineTo(4, 12.5);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n        }\r\n        r(\"Button\", [\"resize\", \"vertical\"]).setAll({\r\n            rotation: 90,\r\n            cursorOverStyle: \"ns-resize\"\r\n        });\r\n        r(\"Button\", [\"resize\", \"horizontal\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: PlayButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"play\"]).setAll({\r\n            paddingTop: 13,\r\n            paddingBottom: 13,\r\n            paddingLeft: 14,\r\n            paddingRight: 14,\r\n            ariaLabel: language.translate(\"Play\"),\r\n            toggleKey: \"active\"\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"play\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"play\", \"icon\"]);\r\n            rule.setAll({\r\n                stateAnimationDuration: 0,\r\n                dx: 1,\r\n                draw: (display) => {\r\n                    display.moveTo(0, -5);\r\n                    display.lineTo(8, 0);\r\n                    display.lineTo(0, 5);\r\n                    display.lineTo(0, -5);\r\n                }\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"default\", {\r\n            stateAnimationDuration: 0\r\n        });\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"active\", {\r\n            stateAnimationDuration: 0,\r\n            draw: (display) => {\r\n                display.moveTo(-4, -5);\r\n                display.lineTo(-1, -5);\r\n                display.lineTo(-1, 5);\r\n                display.lineTo(-4, 5);\r\n                display.lineTo(-4, -5);\r\n                display.moveTo(4, -5);\r\n                display.lineTo(1, -5);\r\n                display.lineTo(1, 5);\r\n                display.lineTo(4, 5);\r\n                display.lineTo(4, -5);\r\n            }\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: SwitchButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"switch\"]).setAll({\r\n            paddingTop: 4,\r\n            paddingBottom: 4,\r\n            paddingLeft: 4,\r\n            paddingRight: 4,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            toggleKey: \"active\",\r\n            width: 40,\r\n            height: 24,\r\n            layout: null\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"switch\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Circle\", [\"switch\", \"icon\"]);\r\n            rule.setAll({\r\n                radius: 8,\r\n                centerY: 0,\r\n                centerX: 0,\r\n                dx: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"switch\", \"icon\"]).states.create(\"active\", {\r\n            dx: 16\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Scrollbar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Scrollbar\").setAll({\r\n            start: 0,\r\n            end: 1,\r\n            layer: 30,\r\n            animationEasing: $ease.out($ease.cubic)\r\n        });\r\n        r(\"Scrollbar\", [\"vertical\"]).setAll({\r\n            marginRight: 13,\r\n            marginLeft: 13,\r\n            minWidth: 12,\r\n            height: p100\r\n        });\r\n        r(\"Scrollbar\", [\"horizontal\"]).setAll({\r\n            marginTop: 13,\r\n            marginBottom: 13,\r\n            minHeight: 12,\r\n            width: p100\r\n        });\r\n        this.rule(\"Button\", [\"scrollbar\"]).setAll({\r\n            exportable: false\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"main\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadiusTL: 8,\r\n                cornerRadiusBL: 8,\r\n                cornerRadiusTR: 8,\r\n                cornerRadiusBR: 8,\r\n                fillOpacity: 0.8,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"fill\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]);\r\n            rule.setAll({\r\n                role: \"slider\",\r\n                ariaLive: \"polite\",\r\n                position: \"absolute\",\r\n                draggable: true\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"vertical\"]).setAll({\r\n            x: p50,\r\n            width: p100,\r\n            centerX: p50,\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"horizontal\"]).setAll({\r\n            y: p50,\r\n            centerY: p50,\r\n            height: p100,\r\n            ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n        });\r\n        // @todo: is this needed? used to be \"ContentScrollbar\"\r\n        // r(\"Scrollbar\", [\"content?\"]).setAll({\r\n        // \tmarginRight: 0,\r\n        // \tmarginLeft: 5,\r\n        // \tlayer: 5\r\n        // });\r\n        /**\r\n         * ========================================================================\r\n         * charts/xy\r\n         * ========================================================================\r\n         *\r\n         * This needs to be in DefaultTheme because it's the only theme that is\r\n         * automatically applied to Root, and tooltips different ancestors\r\n         * than actual charts using them.\r\n         */\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"axis\", \"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadius: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Label\", [\"axis\", \"tooltip\"]).setAll({\r\n            role: undefined\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\"]).setAll({\r\n            textAlign: \"right\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\", \"opposite\"]).setAll({\r\n            textAlign: \"left\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"x\"]).setAll({\r\n            textAlign: \"center\"\r\n        });\r\n        r(\"Tooltip\", [\"categoryaxis\"]).setAll({\r\n            labelText: \"{category}\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * Shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        // Class: Graphics\r\n        r(\"Star\").setAll({\r\n            spikes: 5,\r\n            innerRadius: 5,\r\n            radius: 10\r\n        });\r\n        // STOCK\r\n        r(\"Tooltip\", [\"stock\"]).setAll({\r\n            paddingTop: 6,\r\n            paddingBottom: 5,\r\n            paddingLeft: 7,\r\n            paddingRight: 7\r\n        });\r\n        r(\"PointedRectangle\", [\"tooltip\", \"stock\", \"axis\"]).setAll({\r\n            pointerLength: 0,\r\n            pointerBaseWidth: 0,\r\n            cornerRadius: 3\r\n        });\r\n        r(\"Label\", [\"tooltip\", \"stock\"]).setAll({\r\n            fontSize: \"0.8em\"\r\n        });\r\n        // resizer\r\n        r(\"SpriteResizer\").setAll({\r\n            rotationStep: 10\r\n        });\r\n        {\r\n            const rule = r(\"Container\", [\"resizer\", \"grip\"]);\r\n            rule.states.create(\"hover\", {});\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.7,\r\n                strokeWidth: 1,\r\n                fillOpacity: 1,\r\n                width: 12,\r\n                height: 12\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"outline\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0,\r\n                fillOpacity: 0,\r\n                width: 20,\r\n                height: 20\r\n            });\r\n            rule.states.create(\"hover\", {\r\n                fillOpacity: 0.3\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"left\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"right\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"resizer\", \"rectangle\"]);\r\n            rule.setAll({\r\n                strokeDasharray: [2, 2],\r\n                strokeOpacity: 0.5,\r\n                strokeWidth: 1\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultTheme.js.map","/**\r\n * Modified from Pixi:\r\n *\r\n * The MIT License\r\n *\r\n * Copyright (c) 2013-2017 Mathew Groves, Chad Engler\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n/**\r\n * @ignore\r\n */\r\nexport class Matrix {\r\n    constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {\r\n        Object.defineProperty(this, \"a\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"b\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"c\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"d\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }\r\n    /**\r\n     * Sets the matrix based on all the available properties\r\n     */\r\n    setTransform(x, y, pivotX, pivotY, rotation, scale = 1) {\r\n        this.a = Math.cos(rotation) * scale;\r\n        this.b = Math.sin(rotation) * scale;\r\n        this.c = -Math.sin(rotation) * scale;\r\n        this.d = Math.cos(rotation) * scale;\r\n        this.tx = x - ((pivotX * this.a) + (pivotY * this.c));\r\n        this.ty = y - ((pivotX * this.b) + (pivotY * this.d));\r\n    }\r\n    /**\r\n     * Get a new position with the current transformation applied.\r\n     * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\r\n     */\r\n    apply(origin) {\r\n        return {\r\n            x: (this.a * origin.x) + (this.c * origin.y) + this.tx,\r\n            y: (this.b * origin.x) + (this.d * origin.y) + this.ty\r\n        };\r\n    }\r\n    /**\r\n     * Get a new position with the inverse of the current transformation applied.\r\n     * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\r\n     */\r\n    applyInverse(origin) {\r\n        const id = 1 / ((this.a * this.d) + (this.c * -this.b));\r\n        return {\r\n            x: (this.d * id * origin.x) + (-this.c * id * origin.y) + (((this.ty * this.c) - (this.tx * this.d)) * id),\r\n            y: (this.a * id * origin.y) + (-this.b * id * origin.x) + (((-this.ty * this.a) + (this.tx * this.b)) * id)\r\n        };\r\n    }\r\n    /**\r\n     * Appends the given Matrix to this Matrix.\r\n     */\r\n    append(matrix) {\r\n        const a1 = this.a;\r\n        const b1 = this.b;\r\n        const c1 = this.c;\r\n        const d1 = this.d;\r\n        this.a = (matrix.a * a1) + (matrix.b * c1);\r\n        this.b = (matrix.a * b1) + (matrix.b * d1);\r\n        this.c = (matrix.c * a1) + (matrix.d * c1);\r\n        this.d = (matrix.c * b1) + (matrix.d * d1);\r\n        this.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\r\n        this.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\r\n    }\r\n    /**\r\n     * Prepends the given Matrix to this Matrix.\r\n     */\r\n    prepend(matrix) {\r\n        const tx1 = this.tx;\r\n        if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\r\n            const a1 = this.a;\r\n            const c1 = this.c;\r\n            this.a = (a1 * matrix.a) + (this.b * matrix.c);\r\n            this.b = (a1 * matrix.b) + (this.b * matrix.d);\r\n            this.c = (c1 * matrix.a) + (this.d * matrix.c);\r\n            this.d = (c1 * matrix.b) + (this.d * matrix.d);\r\n        }\r\n        this.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\r\n        this.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\r\n    }\r\n    /**\r\n     * Copies the other matrix's properties into this matrix\r\n     */\r\n    copyFrom(matrix) {\r\n        this.a = matrix.a;\r\n        this.b = matrix.b;\r\n        this.c = matrix.c;\r\n        this.d = matrix.d;\r\n        this.tx = matrix.tx;\r\n        this.ty = matrix.ty;\r\n    }\r\n}\r\n//# sourceMappingURL=Matrix.js.map","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  x *= rx;\n  y *= ry;\n\n  var xp = cosphi * x - sinphi * y;\n  var yp = sinphi * x + cosphi * y;\n\n  return {\n    x: xp + centerx,\n    y: yp + centery\n  };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n  // If 90 degree circular arc, use a constant\n  // as derived from http://spencermortensen.com/articles/bezier-circle\n  var a = ang2 === 1.5707963267948966 ? 0.551915024494 : ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n  var x1 = Math.cos(ang1);\n  var y1 = Math.sin(ang1);\n  var x2 = Math.cos(ang1 + ang2);\n  var y2 = Math.sin(ang1 + ang2);\n\n  return [{\n    x: x1 - y1 * a,\n    y: y1 + x1 * a\n  }, {\n    x: x2 + y2 * a,\n    y: y2 - x2 * a\n  }, {\n    x: x2,\n    y: y2\n  }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n  var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n\n  var dot = ux * vx + uy * vy;\n\n  if (dot > 1) {\n    dot = 1;\n  }\n\n  if (dot < -1) {\n    dot = -1;\n  }\n\n  return sign * Math.acos(dot);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n  var rxsq = Math.pow(rx, 2);\n  var rysq = Math.pow(ry, 2);\n  var pxpsq = Math.pow(pxp, 2);\n  var pypsq = Math.pow(pyp, 2);\n\n  var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n  if (radicant < 0) {\n    radicant = 0;\n  }\n\n  radicant /= rxsq * pypsq + rysq * pxpsq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n  var centerxp = radicant * rx / ry * pyp;\n  var centeryp = radicant * -ry / rx * pxp;\n\n  var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n  var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n  var vx1 = (pxp - centerxp) / rx;\n  var vy1 = (pyp - centeryp) / ry;\n  var vx2 = (-pxp - centerxp) / rx;\n  var vy2 = (-pyp - centeryp) / ry;\n\n  var ang1 = vectorAngle(1, 0, vx1, vy1);\n  var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n\n  return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n  var px = _ref2.px,\n      py = _ref2.py,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      rx = _ref2.rx,\n      ry = _ref2.ry,\n      _ref2$xAxisRotation = _ref2.xAxisRotation,\n      xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n      _ref2$largeArcFlag = _ref2.largeArcFlag,\n      largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n      _ref2$sweepFlag = _ref2.sweepFlag,\n      sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n  var curves = [];\n\n  if (rx === 0 || ry === 0) {\n    return [];\n  }\n\n  var sinphi = Math.sin(xAxisRotation * TAU / 360);\n  var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n  var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n  var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n  if (pxp === 0 && pyp === 0) {\n    return [];\n  }\n\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n  var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n      _getArcCenter2 = _slicedToArray(_getArcCenter, 4),\n      centerx = _getArcCenter2[0],\n      centery = _getArcCenter2[1],\n      ang1 = _getArcCenter2[2],\n      ang2 = _getArcCenter2[3];\n\n  // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n  // 1.0000000001. This causes `segments` to be greater than one, which is an\n  // unecessary split, and adds extra points to the bezier curve. To alleviate\n  // this issue, we round to 1.0 when the ratio is close to 1.0.\n\n\n  var ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1.0 - ratio) < 0.0000001) {\n    ratio = 1.0;\n  }\n\n  var segments = Math.max(Math.ceil(ratio), 1);\n\n  ang2 /= segments;\n\n  for (var i = 0; i < segments; i++) {\n    curves.push(approxUnitArc(ang1, ang2));\n    ang1 += ang2;\n  }\n\n  return curves.map(function (curve) {\n    var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n        x1 = _mapToEllipse.x,\n        y1 = _mapToEllipse.y;\n\n    var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n        x2 = _mapToEllipse2.x,\n        y2 = _mapToEllipse2.y;\n\n    var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n        x = _mapToEllipse3.x,\n        y = _mapToEllipse3.y;\n\n    return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n  });\n};\n\nexport default arcToBezier;","/** @ignore */ /** */\r\nimport { BlendMode } from \"./Renderer\";\r\nimport { Color } from \"../../util/Color\";\r\nimport { Matrix } from \"../../util/Matrix\";\r\nimport { Percent, percent } from \"../../util/Percent\";\r\n//import { Throttler } from \"../../util/Throttler\";\r\nimport { ArrayDisposer, Disposer, DisposerClass, CounterDisposer, MultiDisposer } from \"../../util/Disposer\";\r\nimport { TextFormatter } from \"../../util/TextFormatter\";\r\nimport * as $utils from \"../../util/Utils\";\r\nimport * as $array from \"../../util/Array\";\r\nimport * as $object from \"../../util/Object\";\r\nimport * as $type from \"../../util/Type\";\r\nimport * as $math from \"../../util/Math\";\r\nimport arcToBezier from 'svg-arc-to-cubic-bezier';\r\n/**\r\n * @ignore\r\n */\r\nfunction checkArgs(name, actual, expected) {\r\n    if (actual !== expected) {\r\n        throw new Error(\"Required \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkMinArgs(name, actual, expected) {\r\n    if (actual < expected) {\r\n        throw new Error(\"Required at least \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkEvenArgs(name, actual, expected) {\r\n    checkMinArgs(name, actual, expected);\r\n    if ((actual % expected) !== 0) {\r\n        throw new Error(\"Arguments for \" + name + \" must be in pairs of \" + expected);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n * This splits the flag so that way 0017 will be processed as 0 0 17\r\n *\r\n * This is important for weird paths like `M17 5A1 1 0 0017 30 1 1 0 0017 5`\r\n */\r\nfunction splitArcFlags(args) {\r\n    for (let i = 0; i < args.length; i += 7) {\r\n        let index = i + 3;\r\n        let flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])([01])(.*)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args.splice(index, 0, a[2]);\r\n                ++index;\r\n                if (a[3].length > 0) {\r\n                    args[index] = a[3];\r\n                }\r\n                else {\r\n                    args.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        ++index;\r\n        flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])(.+)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args[index] = a[2];\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction assertBinary(value) {\r\n    if (value === 0 || value === 1) {\r\n        return value;\r\n    }\r\n    else {\r\n        throw new Error(\"Flag must be 0 or 1\");\r\n    }\r\n}\r\n//  1 -> 0xffffff * (2 / 2)\r\n//  2 -> 0xffffff * (1 / 2)\r\n//\r\n//  3 -> 0xffffff * (3 / 4)\r\n//  4 -> 0xffffff * (1 / 4)\r\n//\r\n//  5 -> 0xffffff * (7 / 8)\r\n//  6 -> 0xffffff * (5 / 8)\r\n//  7 -> 0xffffff * (3 / 8)\r\n//  8 -> 0xffffff * (1 / 8)\r\n//\r\n//  9 -> 0xffffff * (15 / 16)\r\n// 10 -> 0xffffff * (13 / 16)\r\n// 11 -> 0xffffff * (11 / 16)\r\n// 12 -> 0xffffff *  (9 / 16)\r\n// 13 -> 0xffffff *  (7 / 16)\r\n// 14 -> 0xffffff *  (5 / 16)\r\n// 15 -> 0xffffff *  (3 / 16)\r\n// 16 -> 0xffffff *  (1 / 16)\r\n// @todo remove this old color distribution algo if the new one pans out\r\n/*function distributeId(id: number): number {\r\n    if (id === 1) {\r\n        return 0x000001;\r\n\r\n    } else {\r\n        // Finds the closest power of 2\r\n        const base = Math.pow(2, Math.ceil(Math.log(id) / Math.log(2)));\r\n\r\n        // Translates the id into an odd fraction index\r\n        const index = ((base - id) * 2) + 1;\r\n\r\n        // TODO is Math.round correct ?\r\n        return Math.round(0xffffff * (index / base));\r\n    }\r\n}*/\r\n/**\r\n * Function by smeans:\r\n * https://lowcode.life/generating-unique-contrasting-colors-in-javascript/\r\n * @ignore\r\n */\r\nfunction distributeId(id) {\r\n    const rgb = [0, 0, 0];\r\n    for (let i = 0; i < 24; i++) {\r\n        rgb[i % 3] <<= 1;\r\n        rgb[i % 3] |= id & 0x01;\r\n        id >>= 1;\r\n    }\r\n    return (rgb[0] | 0) + (rgb[1] << 8) + (rgb[2] << 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction eachTargets(hitTarget, f) {\r\n    for (;;) {\r\n        if (hitTarget.interactive) {\r\n            if (!f(hitTarget)) {\r\n                break;\r\n            }\r\n        }\r\n        if (hitTarget._parent) {\r\n            hitTarget = hitTarget._parent;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n}\r\n// TODO feature detection for mouse/touch/pointer\r\n/**\r\n * @ignore\r\n */\r\nfunction onPointerEvent(element, name, f) {\r\n    return $utils.addEventListener(element, $utils.getRendererEvent(name), (event) => {\r\n        const target = $utils.getEventTarget(event);\r\n        let touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length == 0) {\r\n                touches = event.changedTouches;\r\n            }\r\n            f($array.copy(touches), target);\r\n        }\r\n        else {\r\n            f([event], target);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction isTainted(image) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    const context = canvas.getContext(\"2d\", { willReadFrequently: true });\r\n    context.drawImage(image, 0, 0, 1, 1);\r\n    try {\r\n        context.getImageData(0, 0, 1, 1);\r\n        return false;\r\n    }\r\n    catch (err) {\r\n        console.warn(\"Image \\\"\" + image.src + \"\\\" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors\");\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * This is needed to workaround a bug in iOS which causes it to not GC canvas elements.\r\n *\r\n * @ignore\r\n */\r\nfunction clearCanvas(view) {\r\n    view.width = 0;\r\n    view.height = 0;\r\n    view.style.width = \"0px\";\r\n    view.style.height = \"0px\";\r\n}\r\n/**\r\n * Aligns the coordinate to the pixel, so it renders crisp\r\n *\r\n * @ignore\r\n */\r\nfunction crisp(x) {\r\n    return Math.floor(x);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasPivot {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    set x(value) {\r\n        this._x = value;\r\n    }\r\n    set y(value) {\r\n        this._y = value;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasDisplayObject extends DisposerClass {\r\n    constructor(renderer) {\r\n        super();\r\n        Object.defineProperty(this, \"_layer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"mask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"interactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"inactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"wheelable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"cancelTouch\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"isMeasured\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"buttonMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"alpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"compoundAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"angle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"crisp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"pivot\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new CanvasPivot()\r\n        });\r\n        Object.defineProperty(this, \"filter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"cursorOverStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_replacedCursorStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_matrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        // TODO can this be replaced with _localMatrix ?\r\n        Object.defineProperty(this, \"_uMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_bounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._renderer = renderer;\r\n    }\r\n    _dispose() {\r\n        this._renderer._removeObject(this);\r\n        this.getLayer().dirty = true;\r\n    }\r\n    getCanvas() {\r\n        return this.getLayer().view;\r\n    }\r\n    getLayer() {\r\n        let self = this;\r\n        for (;;) {\r\n            if (self._layer) {\r\n                return self._layer;\r\n            }\r\n            else if (self._parent) {\r\n                self = self._parent;\r\n            }\r\n            else {\r\n                return this._renderer.defaultLayer;\r\n            }\r\n        }\r\n    }\r\n    setLayer(order, margin) {\r\n        if (order == null) {\r\n            this._layer = undefined;\r\n        }\r\n        else {\r\n            const visible = true;\r\n            this._layer = this._renderer.getLayer(order, visible);\r\n            this._layer.visible = visible;\r\n            this._layer.margin = margin;\r\n            if (margin) {\r\n                $utils.setInteractive(this._layer.view, false);\r\n            }\r\n            this._renderer._ghostLayer.setMargin(this._renderer.layers);\r\n            if (this._parent) {\r\n                this._parent.registerChildLayer(this._layer);\r\n            }\r\n            this._layer.dirty = true;\r\n            this._renderer.resizeLayer(this._layer);\r\n            this._renderer.resizeGhost();\r\n        }\r\n    }\r\n    markDirtyLayer() {\r\n        this.getLayer().dirty = true;\r\n    }\r\n    clear() {\r\n        this.invalidateBounds();\r\n    }\r\n    invalidateBounds() {\r\n        this._localBounds = undefined;\r\n    }\r\n    _addBounds(_bounds) { }\r\n    _getColorId() {\r\n        if (this._colorId === undefined) {\r\n            this._colorId = this._renderer.paintId(this);\r\n        }\r\n        return this._colorId;\r\n    }\r\n    _isInteractive() {\r\n        return this.inactive == false && (this.interactive || this._renderer._forceInteractive > 0);\r\n    }\r\n    _isInteractiveMask() {\r\n        return this._isInteractive();\r\n    }\r\n    contains(child) {\r\n        for (;;) {\r\n            if (child === this) {\r\n                return true;\r\n            }\r\n            else if (child._parent) {\r\n                child = child._parent;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    toGlobal(point) {\r\n        return this._matrix.apply(point);\r\n    }\r\n    toLocal(point) {\r\n        return this._matrix.applyInverse(point);\r\n    }\r\n    getLocalMatrix() {\r\n        this._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);\r\n        return this._uMatrix;\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            const bn = 10000000;\r\n            this._localBounds = {\r\n                left: bn,\r\n                top: bn,\r\n                right: -bn,\r\n                bottom: -bn\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    getAdjustedBounds(bounds) {\r\n        this._setMatrix();\r\n        const matrix = this.getLocalMatrix();\r\n        const p0 = matrix.apply({ x: bounds.left, y: bounds.top });\r\n        const p1 = matrix.apply({ x: bounds.right, y: bounds.top });\r\n        const p2 = matrix.apply({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = matrix.apply({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    on(key, callback, context) {\r\n        if (this.interactive) {\r\n            return this._renderer._addEvent(this, key, callback, context);\r\n        }\r\n        else {\r\n            return new Disposer(() => { });\r\n        }\r\n    }\r\n    _setMatrix() {\r\n        // TODO only calculate this if it has actually changed\r\n        this._localMatrix.setTransform(this.x, this.y, this.pivot.x, this.pivot.y, \r\n        // Converts degrees to radians\r\n        this.angle * Math.PI / 180, this.scale);\r\n        this._matrix.copyFrom(this._localMatrix);\r\n        if (this._parent) {\r\n            // TODO only calculate this if it has actually changed\r\n            this._matrix.prepend(this._parent._matrix);\r\n        }\r\n    }\r\n    _transform(context, resolution) {\r\n        const m = this._matrix;\r\n        let tx = m.tx * resolution;\r\n        let ty = m.ty * resolution;\r\n        if (this.crisp) {\r\n            tx = crisp(tx);\r\n            ty = crisp(ty);\r\n        }\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, tx, ty);\r\n    }\r\n    _transformMargin(context, resolution, margin) {\r\n        const m = this._matrix;\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, (m.tx + margin.left) * resolution, (m.ty + margin.top) * resolution);\r\n    }\r\n    _transformLayer(context, resolution, layer) {\r\n        if (layer.margin) {\r\n            this._transformMargin(context, layer.scale || resolution, layer.margin);\r\n        }\r\n        else {\r\n            this._transform(context, layer.scale || resolution);\r\n        }\r\n    }\r\n    render(parentLayer) {\r\n        if (this.visible && (this.exportable !== false || !this._renderer._omitTainted)) {\r\n            this._setMatrix();\r\n            const resolution = this._renderer.resolution;\r\n            const layers = this._renderer.layers;\r\n            const ghostLayer = this._renderer._ghostLayer;\r\n            const ghostContext = ghostLayer.context;\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n            }\r\n            // TODO improve this\r\n            $array.each(layers, (layer) => {\r\n                if (layer) {\r\n                    const context = layer.context;\r\n                    context.save();\r\n                    // We must apply the mask before we transform the element\r\n                    if (mask) {\r\n                        mask._transformLayer(context, resolution, layer);\r\n                        mask._runPath(context);\r\n                        context.clip();\r\n                    }\r\n                    context.globalAlpha = this.compoundAlpha * this.alpha;\r\n                    this._transformLayer(context, resolution, layer);\r\n                    if (this.filter) {\r\n                        context.filter = this.filter;\r\n                    }\r\n                }\r\n            });\r\n            ghostContext.save();\r\n            // We must apply the mask before we transform the element\r\n            if (mask && this._isInteractiveMask()) {\r\n                mask._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n                mask._runPath(ghostContext);\r\n                ghostContext.clip();\r\n            }\r\n            this._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n            this._render(parentLayer);\r\n            ghostContext.restore();\r\n            $array.each(layers, (layer) => {\r\n                if (layer) {\r\n                    layer.context.restore();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _render(parentLayer) {\r\n        if (this.exportable === false) {\r\n            const layer = this._layer || parentLayer;\r\n            layer.tainted = true;\r\n        }\r\n    }\r\n    hovering() {\r\n        return this._renderer._hovering.has(this);\r\n    }\r\n    dragging() {\r\n        return this._renderer._dragging.some((x) => x.value === this);\r\n    }\r\n    shouldCancelTouch() {\r\n        const renderer = this._renderer;\r\n        if (renderer.tapToActivate && !renderer._touchActive) {\r\n            return false;\r\n        }\r\n        if (this.cancelTouch) {\r\n            return true;\r\n        }\r\n        else if (this._parent) {\r\n            return this._parent.shouldCancelTouch();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasContainer extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"interactiveChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_childLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _isInteractiveMask() {\r\n        return this.interactiveChildren || super._isInteractiveMask();\r\n    }\r\n    addChild(child) {\r\n        child._parent = this;\r\n        this._children.push(child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    addChildAt(child, index) {\r\n        child._parent = this;\r\n        this._children.splice(index, 0, child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    removeChild(child) {\r\n        child._parent = undefined;\r\n        $array.removeFirst(this._children, child);\r\n    }\r\n    _render(parentLayer) {\r\n        super._render(parentLayer);\r\n        const renderer = this._renderer;\r\n        if (this.interactive && this.interactiveChildren) {\r\n            ++renderer._forceInteractive;\r\n        }\r\n        const layer = this._layer || parentLayer;\r\n        $array.each(this._children, (child) => {\r\n            child.compoundAlpha = this.compoundAlpha * this.alpha;\r\n            child.render(layer);\r\n        });\r\n        if (this.interactive && this.interactiveChildren) {\r\n            --renderer._forceInteractive;\r\n        }\r\n    }\r\n    registerChildLayer(layer) {\r\n        if (!this._childLayers) {\r\n            this._childLayers = [];\r\n        }\r\n        $array.pushOne(this._childLayers, layer);\r\n        if (this._parent) {\r\n            this._parent.registerChildLayer(layer);\r\n        }\r\n    }\r\n    markDirtyLayer(deep = false) {\r\n        super.markDirtyLayer();\r\n        if (deep && this._childLayers) {\r\n            $array.each(this._childLayers, (layer) => layer.dirty = true);\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._childLayers) {\r\n            $array.each(this._childLayers, (layer) => {\r\n                layer.dirty = true;\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction setPoint(bounds, point) {\r\n    bounds.left = Math.min(bounds.left, point.x);\r\n    bounds.top = Math.min(bounds.top, point.y);\r\n    bounds.right = Math.max(bounds.right, point.x);\r\n    bounds.bottom = Math.max(bounds.bottom, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Op {\r\n    colorize(_context, _forceColor) { }\r\n    path(_context) { }\r\n    addBounds(_bounds) { }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginPath extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.beginPath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginFill extends Op {\r\n    constructor(color) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.fillStyle = forceColor;\r\n        }\r\n        else {\r\n            context.fillStyle = this.color;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndFill extends Op {\r\n    constructor(clearShadow) {\r\n        super();\r\n        Object.defineProperty(this, \"clearShadow\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: clearShadow\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.fill();\r\n        if (this.clearShadow) {\r\n            context.shadowColor = \"\";\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndStroke extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.stroke();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineStyle extends Op {\r\n    constructor(width, color, lineJoin) {\r\n        super();\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"lineJoin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: lineJoin\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.strokeStyle = forceColor;\r\n        }\r\n        else {\r\n            context.strokeStyle = this.color;\r\n        }\r\n        context.lineWidth = this.width;\r\n        if (this.lineJoin) {\r\n            context.lineJoin = this.lineJoin;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDash extends Op {\r\n    constructor(dash) {\r\n        super();\r\n        Object.defineProperty(this, \"dash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dash\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.setLineDash(this.dash);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDashOffset extends Op {\r\n    constructor(dashOffset) {\r\n        super();\r\n        Object.defineProperty(this, \"dashOffset\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dashOffset\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.lineDashOffset = this.dashOffset;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawRect extends Op {\r\n    constructor(x, y, width, height) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n    }\r\n    path(context) {\r\n        context.rect(this.x, this.y, this.width, this.height);\r\n    }\r\n    addBounds(bounds) {\r\n        const l = this.x;\r\n        const t = this.y;\r\n        const r = l + this.width;\r\n        const b = t + this.height;\r\n        setPoint(bounds, { x: l, y: t });\r\n        setPoint(bounds, { x: r, y: t });\r\n        setPoint(bounds, { x: l, y: b });\r\n        setPoint(bounds, { x: r, y: b });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawCircle extends Op {\r\n    constructor(x, y, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x + this.radius, this.y);\r\n        context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radius, y: this.y - this.radius });\r\n        setPoint(bounds, { x: this.x + this.radius, y: this.y + this.radius });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawEllipse extends Op {\r\n    constructor(x, y, radiusX, radiusY) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radiusX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusX\r\n        });\r\n        Object.defineProperty(this, \"radiusY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, Math.PI * 2);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radiusX, y: this.y - this.radiusY });\r\n        setPoint(bounds, { x: this.x + this.radiusX, y: this.y + this.radiusY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Arc extends Op {\r\n    constructor(cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n        super();\r\n        Object.defineProperty(this, \"cx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cx\r\n        });\r\n        Object.defineProperty(this, \"cy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cy\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: startAngle\r\n        });\r\n        Object.defineProperty(this, \"endAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: endAngle\r\n        });\r\n        Object.defineProperty(this, \"anticlockwise\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: anticlockwise\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\r\n        }\r\n    }\r\n    addBounds(bounds) {\r\n        let arcBounds = $math.getArcBounds(this.cx, this.cy, this.startAngle * $math.DEGREES, this.endAngle * $math.DEGREES, this.radius);\r\n        setPoint(bounds, { x: arcBounds.left, y: arcBounds.top });\r\n        setPoint(bounds, { x: arcBounds.right, y: arcBounds.bottom });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ArcTo extends Op {\r\n    constructor(x1, y1, x2, y2, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x1\r\n        });\r\n        Object.defineProperty(this, \"y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y1\r\n        });\r\n        Object.defineProperty(this, \"x2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x2\r\n        });\r\n        Object.defineProperty(this, \"y2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y2\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\r\n        }\r\n    }\r\n    // TODO: add points\r\n    addBounds(_bounds) {\r\n        /*\r\n        // not finished\r\n        https://math.stackexchange.com/questions/1781438/finding-the-center-of-a-circle-given-two-points-and-a-radius-algebraically\r\n\r\n        if (prevPoint) {\r\n            let x1 = prevPoint.x;\r\n            let y1 = prevPoint.y;\r\n            let x2 = this.x2;\r\n            let y2 = this.y2;\r\n            let r = this.radius;\r\n\r\n            let xa = (x2 - x1) / 2;\r\n            let ya = (y2 - y1) / 2;\r\n\r\n            let x0 = x1 + xa;\r\n            let y0 = y1 + ya;\r\n\r\n            let a = Math.hypot(xa, ya);\r\n            let b = Math.sqrt(r * r - a * a);\r\n\r\n            let cx = x0 + b * ya / a;\r\n            let cy = y0 - b * xa / a;\r\n\r\n            console.log(cx, cy);\r\n        }*/\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.lineTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass MoveTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ClosePath extends Op {\r\n    path(context) {\r\n        context.closePath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BezierCurveTo extends Op {\r\n    constructor(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"cpX2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX2\r\n        });\r\n        Object.defineProperty(this, \"cpY2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY2\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.cpX2, y: this.cpY2 });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass QuadraticCurveTo extends Op {\r\n    constructor(cpX, cpY, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Shadow extends Op {\r\n    constructor(color, blur, offsetX, offsetY, opacity) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"blur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: blur\r\n        });\r\n        Object.defineProperty(this, \"offsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetX\r\n        });\r\n        Object.defineProperty(this, \"offsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetY\r\n        });\r\n        Object.defineProperty(this, \"opacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: opacity\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        if (this.opacity) {\r\n            context.fillStyle = this.color;\r\n        }\r\n        context.shadowColor = this.color;\r\n        context.shadowBlur = this.blur;\r\n        context.shadowOffsetX = this.offsetX;\r\n        context.shadowOffsetY = this.offsetY;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass GraphicsImage extends Op {\r\n    constructor(image, width, height, x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: image\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.drawImage(this.image, this.x, this.y, this.width, this.height);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n        setPoint(bounds, { x: this.width, y: this.height });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasGraphics extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_operations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"blendMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: BlendMode.NORMAL\r\n        });\r\n        Object.defineProperty(this, \"_hasShadows\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_fillAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this._operations.length = 0;\r\n    }\r\n    _pushOp(op) {\r\n        this._operations.push(op);\r\n    }\r\n    beginFill(color, alpha = 1) {\r\n        this._fillAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof Color) {\r\n                this._pushOp(new BeginFill(color.toCSS(alpha)));\r\n            }\r\n            else {\r\n                this.isMeasured = true;\r\n                this._pushOp(new BeginFill(color));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new BeginFill(\"rgba(0, 0, 0, \" + alpha + \")\"));\r\n        }\r\n    }\r\n    endFill() {\r\n        this._pushOp(new EndFill(this._hasShadows));\r\n    }\r\n    endStroke() {\r\n        this._pushOp(new EndStroke());\r\n    }\r\n    beginPath() {\r\n        this._pushOp(new BeginPath());\r\n    }\r\n    lineStyle(width = 0, color, alpha = 1, lineJoin) {\r\n        this._strokeAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof Color) {\r\n                this._pushOp(new LineStyle(width, color.toCSS(alpha), lineJoin));\r\n            }\r\n            else {\r\n                this._pushOp(new LineStyle(width, color, lineJoin));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new LineStyle(width, \"rgba(0, 0, 0, \" + alpha + \")\", lineJoin));\r\n        }\r\n    }\r\n    setLineDash(dash) {\r\n        this._pushOp(new LineDash(dash ? dash : []));\r\n    }\r\n    setLineDashOffset(dashOffset = 0) {\r\n        this._pushOp(new LineDashOffset(dashOffset));\r\n    }\r\n    drawRect(x, y, width, height) {\r\n        this._pushOp(new DrawRect(x, y, width, height));\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pushOp(new DrawCircle(x, y, radius));\r\n    }\r\n    drawEllipse(x, y, radiusX, radiusY) {\r\n        this._pushOp(new DrawEllipse(x, y, radiusX, radiusY));\r\n    }\r\n    arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {\r\n        this._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pushOp(new ArcTo(x1, y1, x2, y2, radius));\r\n    }\r\n    lineTo(x, y) {\r\n        this._pushOp(new LineTo(x, y));\r\n    }\r\n    moveTo(x, y) {\r\n        this._pushOp(new MoveTo(x, y));\r\n    }\r\n    bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        this._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));\r\n    }\r\n    quadraticCurveTo(cpX, cpY, toX, toY) {\r\n        this._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));\r\n    }\r\n    closePath() {\r\n        this._pushOp(new ClosePath());\r\n    }\r\n    shadow(color, blur = 0, offsetX = 0, offsetY = 0, opacity) {\r\n        this._hasShadows = true;\r\n        this._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));\r\n    }\r\n    image(image, width, height, x, y) {\r\n        this._pushOp(new GraphicsImage(image, width, height, x, y));\r\n    }\r\n    // https://svgwg.org/svg2-draft/paths.html#DProperty\r\n    // TODO better error checking\r\n    svgPath(path) {\r\n        let x = 0;\r\n        let y = 0;\r\n        let cpx = null;\r\n        let cpy = null;\r\n        let qcpx = null;\r\n        let qcpy = null;\r\n        const SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;\r\n        const ARGS_REGEXP = /[\\u0009\\u0020\\u000A\\u000C\\u000D]*([\\+\\-]?[0-9]*\\.?[0-9]+(?:[eE][\\+\\-]?[0-9]+)?)[\\u0009\\u0020\\u000A\\u000C\\u000D]*,?/g;\r\n        let match;\r\n        while ((match = SEGMENTS_REGEXP.exec(path)) !== null) {\r\n            const name = match[1];\r\n            const rest = match[2];\r\n            const args = [];\r\n            while ((match = ARGS_REGEXP.exec(rest)) !== null) {\r\n                args.push(match[1]);\r\n            }\r\n            // Reset control point\r\n            if (name !== \"S\" && name !== \"s\" && name !== \"C\" && name !== \"c\") {\r\n                cpx = null;\r\n                cpy = null;\r\n            }\r\n            // Reset control point\r\n            if (name !== \"Q\" && name !== \"q\" && name !== \"T\" && name !== \"t\") {\r\n                qcpx = null;\r\n                qcpy = null;\r\n            }\r\n            switch (name) {\r\n                case \"M\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x = +args[0];\r\n                    y = +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"m\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x += +args[0];\r\n                    y += +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"L\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"l\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"H\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"V\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"v\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"C\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i];\r\n                        const y1 = +args[i + 1];\r\n                        cpx = +args[i + 2];\r\n                        cpy = +args[i + 3];\r\n                        x = +args[i + 4];\r\n                        y = +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"c\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i] + x;\r\n                        const y1 = +args[i + 1] + y;\r\n                        cpx = +args[i + 2] + x;\r\n                        cpy = +args[i + 3] + y;\r\n                        x += +args[i + 4];\r\n                        y += +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"S\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i];\r\n                        cpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"s\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i] + x;\r\n                        cpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"Q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i];\r\n                        qcpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i] + x;\r\n                        qcpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"T\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"t\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"A\":\r\n                case \"a\":\r\n                    const relative = (name === \"a\");\r\n                    splitArcFlags(args);\r\n                    checkEvenArgs(name, args.length, 7);\r\n                    for (let i = 0; i < args.length; i += 7) {\r\n                        let cx = +args[i + 5];\r\n                        let cy = +args[i + 6];\r\n                        if (relative) {\r\n                            cx += x;\r\n                            cy += y;\r\n                        }\r\n                        const bs = arcToBezier({\r\n                            px: x,\r\n                            py: y,\r\n                            rx: +args[i],\r\n                            ry: +args[i + 1],\r\n                            xAxisRotation: +args[i + 2],\r\n                            largeArcFlag: assertBinary(+args[i + 3]),\r\n                            sweepFlag: assertBinary(+args[i + 4]),\r\n                            cx,\r\n                            cy,\r\n                        });\r\n                        $array.each(bs, (b) => {\r\n                            this.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);\r\n                            x = b.x;\r\n                            y = b.y;\r\n                        });\r\n                    }\r\n                    break;\r\n                case \"Z\":\r\n                case \"z\":\r\n                    checkArgs(name, args.length, 0);\r\n                    this.closePath();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    _runPath(context) {\r\n        context.beginPath();\r\n        $array.each(this._operations, (op) => {\r\n            op.path(context);\r\n        });\r\n    }\r\n    _render(parentLayer) {\r\n        super._render(parentLayer);\r\n        const layer = this._layer || parentLayer;\r\n        const layerDirty = layer.dirty;\r\n        const interactive = this._isInteractive();\r\n        if (layerDirty || interactive) {\r\n            const context = layer.context;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            if (layerDirty) {\r\n                context.globalCompositeOperation = this.blendMode;\r\n                context.beginPath();\r\n            }\r\n            let color;\r\n            if (interactive) {\r\n                ghostContext.beginPath();\r\n                color = this._getColorId();\r\n            }\r\n            $array.each(this._operations, (op) => {\r\n                if (layerDirty) {\r\n                    op.path(context);\r\n                    op.colorize(context, undefined);\r\n                }\r\n                if (interactive) {\r\n                    op.path(ghostContext);\r\n                    op.colorize(ghostContext, color);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    renderDetached(context) {\r\n        if (this.visible) {\r\n            this._setMatrix();\r\n            context.save();\r\n            // We must apply the mask before we transform the element\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n                mask._transform(context, 1);\r\n                mask._runPath(context);\r\n                context.clip();\r\n            }\r\n            // TODO handle compoundAlpha somehow ?\r\n            context.globalAlpha = this.compoundAlpha * this.alpha;\r\n            this._transform(context, 1);\r\n            if (this.filter) {\r\n                context.filter = this.filter;\r\n            }\r\n            context.globalCompositeOperation = this.blendMode;\r\n            context.beginPath();\r\n            $array.each(this._operations, (op) => {\r\n                op.path(context);\r\n                op.colorize(context, undefined);\r\n            });\r\n            context.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            $array.each(this._operations, (op) => {\r\n                op.addBounds(bounds);\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasText extends CanvasDisplayObject {\r\n    constructor(renderer, text, style) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"style\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"textVisible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_textInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        this.text = text;\r\n        this.style = style;\r\n    }\r\n    invalidateBounds() {\r\n        super.invalidateBounds();\r\n        this._textInfo = undefined;\r\n    }\r\n    _shared(context) {\r\n        if (this.style.textAlign) {\r\n            context.textAlign = this.style.textAlign;\r\n        }\r\n        if (this.style.direction) {\r\n            context.direction = this.style.direction;\r\n        }\r\n        if (this.style.textBaseline) {\r\n            context.textBaseline = this.style.textBaseline;\r\n        }\r\n    }\r\n    _prerender(layer, ignoreGhost = false, ignoreFontWeight = false) {\r\n        super._render(layer);\r\n        const context = layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        // Font style\r\n        const style = this.style;\r\n        let fontStyle = this._getFontStyle(undefined, ignoreFontWeight);\r\n        context.font = fontStyle;\r\n        if (this._isInteractive() && !ignoreGhost) {\r\n            ghostContext.font = fontStyle;\r\n        }\r\n        // Other parameters\r\n        if (style.fill) {\r\n            if (style.fill instanceof Color) {\r\n                context.fillStyle = style.fill.toCSS(style.fillOpacity != undefined ? style.fillOpacity : 1);\r\n            }\r\n            else {\r\n                context.fillStyle = style.fill;\r\n            }\r\n        }\r\n        if (style.shadowColor) {\r\n            layer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);\r\n        }\r\n        if (style.shadowBlur) {\r\n            layer.context.shadowBlur = style.shadowBlur;\r\n        }\r\n        if (style.shadowOffsetX) {\r\n            layer.context.shadowOffsetX = style.shadowOffsetX;\r\n        }\r\n        if (style.shadowOffsetY) {\r\n            layer.context.shadowOffsetY = style.shadowOffsetY;\r\n        }\r\n        this._shared(context);\r\n        if (this._isInteractive() && !ignoreGhost) {\r\n            ghostContext.fillStyle = this._getColorId();\r\n            this._shared(ghostContext);\r\n        }\r\n    }\r\n    _getFontStyle(style2, ignoreFontWeight = false) {\r\n        // Process defaults\r\n        const style = this.style;\r\n        let fontStyle = [];\r\n        if (style2 && style2.fontVariant) {\r\n            fontStyle.push(style2.fontVariant);\r\n        }\r\n        else if (style.fontVariant) {\r\n            fontStyle.push(style.fontVariant);\r\n        }\r\n        if (!ignoreFontWeight) {\r\n            if (style2 && style2.fontWeight) {\r\n                fontStyle.push(style2.fontWeight);\r\n            }\r\n            else if (style.fontWeight) {\r\n                fontStyle.push(style.fontWeight);\r\n            }\r\n        }\r\n        if (style2 && style2.fontStyle) {\r\n            fontStyle.push(style2.fontStyle);\r\n        }\r\n        else if (style.fontStyle) {\r\n            fontStyle.push(style.fontStyle);\r\n        }\r\n        if (style2 && style2.fontSize) {\r\n            if ($type.isNumber(style2.fontSize)) {\r\n                style2.fontSize = style2.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style2.fontSize);\r\n        }\r\n        else if (style.fontSize) {\r\n            if ($type.isNumber(style.fontSize)) {\r\n                style.fontSize = style.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style.fontSize);\r\n        }\r\n        if (style2 && style2.fontFamily) {\r\n            fontStyle.push(style2.fontFamily);\r\n        }\r\n        else if (style.fontFamily) {\r\n            fontStyle.push(style.fontFamily);\r\n        }\r\n        else if (fontStyle.length) {\r\n            fontStyle.push(\"Arial\");\r\n        }\r\n        return fontStyle.join(\" \");\r\n    }\r\n    _render(parentLayer) {\r\n        const layer = this._layer || parentLayer;\r\n        // We need measurements in order to properly position text for alignment\r\n        if (!this._textInfo) {\r\n            this._measure(layer);\r\n        }\r\n        if (this.textVisible) {\r\n            const interactive = this._isInteractive();\r\n            const context = layer.context;\r\n            const layerDirty = layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(layer);\r\n            // const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            // const x = this._localBounds && (this._localBounds.left < 0) ? Math.abs(this._localBounds.left) : 0;\r\n            // Process text info produced by _measure()\r\n            $array.each(this._textInfo, (line, _index) => {\r\n                $array.each(line.textChunks, (chunk, _index) => {\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (this._isInteractive()) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Draw text\r\n                    if (layerDirty) {\r\n                        context.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    // Draw underline\r\n                    if (chunk.textDecoration == \"underline\" || chunk.textDecoration == \"line-through\") {\r\n                        let thickness = 1;\r\n                        let offset = 1;\r\n                        let fontSize = chunk.height;\r\n                        let offsetX = chunk.offsetX;\r\n                        switch (this.style.textAlign) {\r\n                            case \"right\":\r\n                            case \"end\":\r\n                                offsetX -= chunk.width;\r\n                                break;\r\n                            case \"center\":\r\n                                offsetX -= chunk.width / 2;\r\n                                break;\r\n                        }\r\n                        if (chunk.style) {\r\n                            const format = TextFormatter.getTextStyle(chunk.style);\r\n                            switch (format.fontWeight) {\r\n                                case \"bolder\":\r\n                                case \"bold\":\r\n                                case \"700\":\r\n                                case \"800\":\r\n                                case \"900\":\r\n                                    thickness = 2;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        if (fontSize) {\r\n                            offset = fontSize / 20;\r\n                        }\r\n                        let y;\r\n                        if (chunk.textDecoration == \"line-through\") {\r\n                            y = thickness + line.offsetY + chunk.offsetY - chunk.height / 2;\r\n                        }\r\n                        else {\r\n                            y = thickness + offset * 1.5 + line.offsetY + chunk.offsetY;\r\n                        }\r\n                        context.save();\r\n                        context.beginPath();\r\n                        if (chunk.fill) {\r\n                            context.strokeStyle = chunk.fill.toCSS();\r\n                        }\r\n                        else if (this.style.fill && this.style.fill instanceof Color) {\r\n                            context.strokeStyle = this.style.fill.toCSS();\r\n                        }\r\n                        context.lineWidth = thickness * offset;\r\n                        context.moveTo(offsetX, y);\r\n                        context.lineTo(offsetX + chunk.width, y);\r\n                        context.stroke();\r\n                        context.restore();\r\n                    }\r\n                    if (interactive && this.interactive) {\r\n                        // Draw text in ghost canvas ONLY if it is set as interactive\r\n                        // explicitly. This way we avoid hit test anomalies caused by anti\r\n                        // aliasing of text.\r\n                        ghostContext.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                });\r\n            });\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            //if (this._textVisible) {\r\n            const x = this._measure(this.getLayer());\r\n            setPoint(bounds, { x: x.left, y: x.top });\r\n            setPoint(bounds, { x: x.right, y: x.bottom });\r\n            //}\r\n        }\r\n    }\r\n    _ignoreFontWeight() {\r\n        return /apple/i.test(navigator.vendor);\r\n    }\r\n    _measure(layer) {\r\n        const context = layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        // Reset text info\r\n        this._textInfo = [];\r\n        // Init\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(layer, true, this._ignoreFontWeight());\r\n        // Get default font metrix\r\n        const refText = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let minX = 0;\r\n        let maxX = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        let currentStyle;\r\n        $array.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks;\r\n            if (line == \"\") {\r\n                chunks = [{\r\n                        type: \"value\",\r\n                        text: \"\"\r\n                    }];\r\n            }\r\n            else {\r\n                chunks = TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            }\r\n            while (chunks.length > 0) {\r\n                // Init line object\r\n                let lineInfo = {\r\n                    offsetY: offsetY,\r\n                    ascent: 0,\r\n                    width: 0,\r\n                    height: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    textChunks: []\r\n                };\r\n                // Measure reference text\r\n                const metrics = this._measureText(refText, context);\r\n                const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                lineInfo.height = height;\r\n                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                let currentFormat;\r\n                let currentDecoration = this.style.textDecoration;\r\n                let currentFill;\r\n                let currentChunkWidth;\r\n                let skipFurtherText = false;\r\n                let firstTextChunk = true;\r\n                let leftoverChunks = [];\r\n                let currentVerticalAlign;\r\n                //let offsetX = 0;\r\n                //let chunk;\r\n                //while(chunk = chunks.shift()) {\r\n                $array.eachContinue(chunks, (chunk, index) => {\r\n                    // Format chunk\r\n                    if (chunk.type == \"format\") {\r\n                        if (chunk.text == \"[/]\") {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                                styleRestored = true;\r\n                            }\r\n                            currentFill = undefined;\r\n                            currentStyle = undefined;\r\n                            currentChunkWidth = undefined;\r\n                            currentDecoration = this.style.textDecoration;\r\n                            currentVerticalAlign = undefined;\r\n                            currentFormat = chunk.text;\r\n                        }\r\n                        else {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                            }\r\n                            let format = TextFormatter.getTextStyle(chunk.text);\r\n                            const fontStyle = this._getFontStyle(format);\r\n                            context.save();\r\n                            ghostContext.save();\r\n                            context.font = fontStyle;\r\n                            currentStyle = fontStyle;\r\n                            currentFormat = chunk.text;\r\n                            if (format.textDecoration) {\r\n                                currentDecoration = format.textDecoration;\r\n                            }\r\n                            if (format.fill) {\r\n                                currentFill = format.fill;\r\n                            }\r\n                            if (format.width) {\r\n                                currentChunkWidth = $type.toNumber(format.width);\r\n                            }\r\n                            if (format.verticalAlign) {\r\n                                currentVerticalAlign = format.verticalAlign;\r\n                            }\r\n                            styleRestored = false;\r\n                            // Measure reference text after change of format\r\n                            const metrics = this._measureText(refText, context);\r\n                            const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                            if (height > lineInfo.height) {\r\n                                lineInfo.height = height;\r\n                            }\r\n                            if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                            }\r\n                        }\r\n                    }\r\n                    // Text chunk\r\n                    else if (chunk.type == \"value\" && !skipFurtherText) {\r\n                        // Measure\r\n                        const metrics = this._measureText(chunk.text, context);\r\n                        let chunkWidth = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n                        // Check for fit\r\n                        if (truncate) {\r\n                            // Break words?\r\n                            let breakWords = firstTextChunk || this.style.breakWords || false;\r\n                            // Measure ellipsis and check if it fits\r\n                            const ellipsis = this.style.ellipsis || \"\";\r\n                            const ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width - ellipsisWidth;\r\n                                chunk.text = this._truncateText(context, chunk.text, excessWidth, breakWords);\r\n                                chunk.text += ellipsis;\r\n                                skipFurtherText = true;\r\n                            }\r\n                        }\r\n                        else if (wrap) {\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width;\r\n                                const tmpText = this._truncateText(context, chunk.text, excessWidth, false, (firstTextChunk && this.style.oversizedBehavior != \"wrap-no-break\"));\r\n                                if (tmpText == \"\") {\r\n                                    // Unable to fit a single letter - hide the whole label\r\n                                    this.textVisible = true;\r\n                                    return false;\r\n                                }\r\n                                //skipFurtherText = true;\r\n                                //Add remaining chunks for the next line\r\n                                leftoverChunks = chunks.slice(index + 1);\r\n                                //Add remaining text of current chunk if it was forced-cut\r\n                                if ($utils.trim(tmpText) != $utils.trim(chunk.text)) {\r\n                                    leftoverChunks.unshift({\r\n                                        type: \"value\",\r\n                                        text: chunk.text.substr(tmpText.length)\r\n                                    });\r\n                                    if (currentFormat) {\r\n                                        leftoverChunks.unshift({\r\n                                            type: \"format\",\r\n                                            text: currentFormat\r\n                                        });\r\n                                    }\r\n                                }\r\n                                // Set current chunk (truncated)\r\n                                chunk.text = $utils.trim(tmpText);\r\n                                chunks = [];\r\n                                skipFurtherText = true;\r\n                            }\r\n                        }\r\n                        // Chunk width?\r\n                        let leftBoundMod = 1;\r\n                        let rightBoundMod = 1;\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            // increase horizontal bounding boxes accordingly\r\n                            const boundsMod = chunkWidth / currentChunkWidth;\r\n                            switch (this.style.textAlign) {\r\n                                case \"right\":\r\n                                case \"end\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    break;\r\n                                case \"center\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    rightBoundMod = boundsMod;\r\n                                    break;\r\n                                default:\r\n                                    rightBoundMod = boundsMod;\r\n                            }\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft / leftBoundMod;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight / rightBoundMod;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: chunk.text,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: 0,\r\n                            textDecoration: currentDecoration,\r\n                            verticalAlign: currentVerticalAlign\r\n                        });\r\n                        //offsetX += chunkWidth;\r\n                        firstTextChunk = false;\r\n                    }\r\n                    if (leftoverChunks) {\r\n                        //return false;\r\n                    }\r\n                    return true;\r\n                    //}\r\n                });\r\n                if (this.style.lineHeight instanceof Percent) {\r\n                    lineInfo.height *= this.style.lineHeight.value;\r\n                    lineInfo.ascent *= this.style.lineHeight.value;\r\n                }\r\n                else {\r\n                    lineInfo.height *= this.style.lineHeight || 1.2;\r\n                    lineInfo.ascent *= this.style.lineHeight || 1.2;\r\n                }\r\n                if (minX < lineInfo.left) {\r\n                    minX = lineInfo.left;\r\n                }\r\n                if (maxX < lineInfo.right) {\r\n                    maxX = lineInfo.right;\r\n                }\r\n                this._textInfo.push(lineInfo);\r\n                //lineInfo.offsetY += lineInfo.ascent;\r\n                offsetY += lineInfo.height;\r\n                // Reset chunks so that it can proceed to the next line\r\n                chunks = leftoverChunks || [];\r\n            }\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        // Adjust chunk internal offsets\r\n        $array.each(this._textInfo, (lineInfo, _index) => {\r\n            let currentChunkOffset = 0;\r\n            $array.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;\r\n                chunk.offsetY += lineInfo.height - lineInfo.height * (this.style.baselineRatio || 0.19);\r\n                currentChunkOffset += chunk.width;\r\n                if (chunk.verticalAlign) {\r\n                    switch (chunk.verticalAlign) {\r\n                        case \"super\":\r\n                            chunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;\r\n                            break;\r\n                        case \"sub\":\r\n                            chunk.offsetY += chunk.height / 2;\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        const bounds = {\r\n            left: rtl ? -maxX : -minX,\r\n            top: 0,\r\n            right: rtl ? minX : maxX,\r\n            bottom: offsetY,\r\n        };\r\n        // We need to fit?\r\n        if (oversizedBehavior !== \"none\") {\r\n            const ratio = this._fitRatio(bounds);\r\n            if (ratio < 1) {\r\n                if (oversizedBehavior == \"fit\") {\r\n                    if ($type.isNumber(this.style.minScale) && (ratio < this.style.minScale)) {\r\n                        this.textVisible = false;\r\n                        bounds.left = 0;\r\n                        bounds.top = 0;\r\n                        bounds.right = 0;\r\n                        bounds.bottom = 0;\r\n                    }\r\n                    else {\r\n                        if (!this._originalScale || this._originalScale == 1) {\r\n                            this._originalScale = this.scale;\r\n                        }\r\n                        this.scale = ratio;\r\n                        this.textVisible = true;\r\n                    }\r\n                }\r\n                else if (oversizedBehavior == \"hide\") {\r\n                    this.textVisible = false;\r\n                    bounds.left = 0;\r\n                    bounds.top = 0;\r\n                    bounds.right = 0;\r\n                    bounds.bottom = 0;\r\n                }\r\n                else {\r\n                    switch (this.style.textAlign) {\r\n                        case \"right\":\r\n                        case \"end\":\r\n                            bounds.left = -maxWidth;\r\n                            bounds.right = 0;\r\n                            break;\r\n                        case \"center\":\r\n                            bounds.left = -maxWidth / 2;\r\n                            bounds.right = maxWidth / 2;\r\n                            break;\r\n                        default:\r\n                            bounds.left = 0;\r\n                            bounds.right = maxWidth;\r\n                    }\r\n                    this.scale = this._originalScale || 1;\r\n                    this._originalScale = undefined;\r\n                    this.textVisible = true;\r\n                }\r\n            }\r\n            else {\r\n                this.scale = this._originalScale || 1;\r\n                this._originalScale = undefined;\r\n                this.textVisible = true;\r\n            }\r\n        }\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return bounds;\r\n    }\r\n    _fitRatio(bounds) {\r\n        const maxW = this.style.maxWidth;\r\n        const maxH = this.style.maxHeight;\r\n        if (!$type.isNumber(maxW) && !$type.isNumber(maxH)) {\r\n            return 1;\r\n        }\r\n        const w = bounds.right - bounds.left;\r\n        const h = bounds.bottom - bounds.top;\r\n        return Math.min(maxW / w || 1, maxH / h || 1);\r\n    }\r\n    _truncateText(context, text, maxWidth, breakWords = false, fallbackBreakWords = true) {\r\n        let width;\r\n        do {\r\n            if (breakWords) {\r\n                text = text.slice(0, -1);\r\n            }\r\n            else {\r\n                let tmp = text.replace(/[^,;:!?\\\\\\/\\s​]+[,;:!?\\\\\\/\\s​]*$/g, \"\");\r\n                if ((tmp == \"\" || tmp === text) && fallbackBreakWords) {\r\n                    breakWords = true;\r\n                }\r\n                else if (tmp == \"\") {\r\n                    return text;\r\n                }\r\n                else {\r\n                    text = tmp;\r\n                }\r\n            }\r\n            const metrics = this._measureText(text, context);\r\n            width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n        } while ((width > maxWidth) && text != \"\");\r\n        return text;\r\n    }\r\n    _measureText(text, context) {\r\n        let metrics = context.measureText(text);\r\n        let fakeMetrics = {};\r\n        if (metrics.actualBoundingBoxAscent == null) {\r\n            const div = document.createElement(\"div\");\r\n            div.innerText = text;\r\n            div.style.visibility = \"hidden\";\r\n            div.style.position = \"absolute\";\r\n            div.style.top = \"-1000000px;\";\r\n            div.style.fontFamily = this.style.fontFamily || \"\";\r\n            div.style.fontSize = this.style.fontSize + \"\";\r\n            document.body.appendChild(div);\r\n            const bbox = div.getBoundingClientRect();\r\n            document.body.removeChild(div);\r\n            const h = bbox.height;\r\n            const w = metrics.width;\r\n            let left = 0;\r\n            let right = w;\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: h,\r\n                actualBoundingBoxDescent: 0,\r\n                actualBoundingBoxLeft: left,\r\n                actualBoundingBoxRight: right,\r\n                fontBoundingBoxAscent: h,\r\n                fontBoundingBoxDescent: 0,\r\n                width: w\r\n            };\r\n            //return fake;\r\n        }\r\n        else {\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                actualBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                actualBoundingBoxLeft: metrics.actualBoundingBoxLeft,\r\n                actualBoundingBoxRight: metrics.actualBoundingBoxRight,\r\n                fontBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                fontBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                width: metrics.width\r\n            };\r\n        }\r\n        const w = metrics.width;\r\n        switch (this.style.textAlign) {\r\n            case \"right\":\r\n            case \"end\":\r\n                fakeMetrics.actualBoundingBoxLeft = w;\r\n                fakeMetrics.actualBoundingBoxRight = 0;\r\n                break;\r\n            case \"center\":\r\n                fakeMetrics.actualBoundingBoxLeft = w / 2;\r\n                fakeMetrics.actualBoundingBoxRight = w / 2;\r\n                break;\r\n            default:\r\n                fakeMetrics.actualBoundingBoxLeft = 0;\r\n                fakeMetrics.actualBoundingBoxRight = w;\r\n        }\r\n        return fakeMetrics;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasTextStyle {\r\n    constructor() {\r\n        //public wordWrapWidth: number = 100;\r\n        Object.defineProperty(this, \"fill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fillOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textAlign\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontFamily\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontWeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontVariant\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textDecoration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // leading?: number;\r\n        // letterSpacing?: number;\r\n        Object.defineProperty(this, \"lineHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: percent(120)\r\n        });\r\n        Object.defineProperty(this, \"baselineRatio\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0.19\r\n        });\r\n        // padding?: number;\r\n        // stroke?: number;\r\n        // strokeThickness?: number;\r\n        // trim?: number;\r\n        // wordWrap?: boolean;\r\n        Object.defineProperty(this, \"direction\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textBaseline\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"oversizedBehavior\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"none\"\r\n        });\r\n        Object.defineProperty(this, \"breakWords\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"ellipsis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"…\"\r\n        });\r\n        Object.defineProperty(this, \"maxWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"maxHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"minScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ignoreFormatting\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasRadialText extends CanvasText {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textType\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"circular\"\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"inside\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"orientation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"auto\"\r\n        });\r\n        Object.defineProperty(this, \"kerning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_textReversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _render(parentLayer) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                this._renderCircular(parentLayer);\r\n                break;\r\n            default:\r\n                super._render(parentLayer);\r\n                break;\r\n        }\r\n    }\r\n    _renderCircular(parentLayer) {\r\n        if (this.textVisible) {\r\n            const layer = this._layer || parentLayer;\r\n            this._prerender(layer);\r\n            const interactive = this._isInteractive();\r\n            const context = layer.context;\r\n            const layerDirty = layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            // Savepoint\r\n            context.save();\r\n            if (interactive) {\r\n                ghostContext.save();\r\n            }\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(layer);\r\n            }\r\n            // Init\r\n            let radius = (this.radius || 0);\r\n            let startAngle = (this.startAngle || 0);\r\n            let deltaAngle = 0;\r\n            let orientation = this.orientation;\r\n            let inward = orientation == \"auto\" ? \"auto\" : orientation == \"inward\";\r\n            const inside = this.inside;\r\n            const align = this.style.textAlign || \"left\";\r\n            const kerning = this.kerning || 0;\r\n            let clockwise = align == \"left\" ? 1 : -1;\r\n            const shouldReverse = !this._textReversed;\r\n            // Check if we need to invert the whole stuff\r\n            if (inward == \"auto\") {\r\n                // Calc max angle so we know whether we need to flip it\r\n                let maxAngle = 0;\r\n                let midAngle = 0;\r\n                $array.each(this._textInfo, (line, _index) => {\r\n                    const deltaAngle = startAngle + (line.width / (radius - line.height)) / 2 * -clockwise;\r\n                    if (deltaAngle > maxAngle) {\r\n                        maxAngle = deltaAngle;\r\n                    }\r\n                });\r\n                if (align == \"left\") {\r\n                    midAngle = (maxAngle + deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else if (align == \"right\") {\r\n                    midAngle = (maxAngle - deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else {\r\n                    midAngle = startAngle * $math.DEGREES;\r\n                }\r\n                midAngle = $math.normalizeAngle(midAngle);\r\n                inward = (midAngle >= 270) || (midAngle <= 90);\r\n            }\r\n            if (inward == true && shouldReverse) {\r\n                this._textInfo.reverse();\r\n                this._textReversed = true;\r\n            }\r\n            // if ((inward == false && align == \"left\") || (inward == true && align == \"right\")) {\r\n            // \tclockwise *= -1;\r\n            // }\r\n            // Process text info produced by _measure()\r\n            $array.each(this._textInfo, (line, _index) => {\r\n                const textHeight = line.height;\r\n                // Adjust radius (for `inside = false`)\r\n                // Radius adjustment for `inside = false` is below the line calculation\r\n                if (!inside) {\r\n                    radius += textHeight;\r\n                }\r\n                // Reverse letters if we're painting them counter-clockwise\r\n                if (((clockwise == -1 && inward) || (clockwise == 1 && !inward)) && shouldReverse) {\r\n                    line.textChunks.reverse();\r\n                }\r\n                // Init angles\r\n                let lineStartAngle = startAngle;\r\n                deltaAngle = 0;\r\n                // Adjust for center-align\r\n                if (align == \"center\") {\r\n                    lineStartAngle += (line.width / (radius - textHeight)) / 2 * -clockwise;\r\n                    deltaAngle = lineStartAngle - startAngle;\r\n                }\r\n                // if (inward == \"auto\") {\r\n                // \tlet midAngle;\r\n                // \tif (align == \"left\") {\r\n                // \t\tmidAngle = (lineStartAngle + deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \telse if () {\r\n                // \t\tmidAngle = (lineStartAngle - deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \tinward = (midAngle >= 270) || (midAngle <= 90);\r\n                // }\r\n                // Rotate letters if they are facing outward\r\n                lineStartAngle += (Math.PI * (inward ? 0 : 1)); // Rotate 180 if outward\r\n                // Savepoint\r\n                context.save();\r\n                if (interactive) {\r\n                    ghostContext.save();\r\n                }\r\n                // Assume starting angle\r\n                context.rotate(lineStartAngle);\r\n                if (interactive) {\r\n                    ghostContext.rotate(lineStartAngle);\r\n                }\r\n                let angleShift = 0;\r\n                $array.each(line.textChunks, (chunk, _index) => {\r\n                    // Draw the letter\r\n                    const char = chunk.text;\r\n                    const charWidth = chunk.width;\r\n                    // Rotate half a letter\r\n                    angleShift = (charWidth / 2) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (interactive) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Center letters\r\n                    context.textBaseline = \"middle\";\r\n                    context.textAlign = \"center\";\r\n                    if (interactive) {\r\n                        ghostContext.textBaseline = \"middle\";\r\n                        ghostContext.textAlign = \"center\";\r\n                    }\r\n                    // Plop the letter\r\n                    if (layerDirty) {\r\n                        context.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                    // Rotate half a letter and add spacing\r\n                    angleShift = (charWidth / 2 + kerning) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                });\r\n                // Restore angle\r\n                context.restore();\r\n                if (interactive) {\r\n                    ghostContext.restore();\r\n                }\r\n                // Adjust radius (for `inside = true`)\r\n                if (inside) {\r\n                    radius -= textHeight;\r\n                }\r\n            });\r\n            // Restore\r\n            context.restore();\r\n            if (interactive) {\r\n                ghostContext.restore();\r\n            }\r\n        }\r\n    }\r\n    _measure(layer) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                return this._measureCircular(layer);\r\n            default:\r\n                return super._measure(layer);\r\n        }\r\n    }\r\n    _measureCircular(layer) {\r\n        const context = layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const ellipsis = this.style.ellipsis || \"\";\r\n        let ellipsisMetrics;\r\n        //const wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Reset text info\r\n        this.textVisible = true;\r\n        this._textInfo = [];\r\n        this._textReversed = false;\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(layer, true);\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let totalWidth = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        $array.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks = TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            // Init line object\r\n            let lineInfo = {\r\n                offsetY: offsetY,\r\n                ascent: 0,\r\n                width: 0,\r\n                height: 0,\r\n                left: 0,\r\n                right: 0,\r\n                textChunks: []\r\n            };\r\n            let currentStyle;\r\n            let currentFill;\r\n            let currentChunkWidth;\r\n            //while(chunk = chunks.shift()) {\r\n            $array.each(chunks, (chunk, _index) => {\r\n                // Format chunk\r\n                if (chunk.type == \"format\") {\r\n                    if (chunk.text == \"[/]\") {\r\n                        if (!styleRestored) {\r\n                            context.restore();\r\n                            ghostContext.restore();\r\n                            styleRestored = true;\r\n                        }\r\n                        currentFill = undefined;\r\n                        currentStyle = undefined;\r\n                        currentChunkWidth = undefined;\r\n                    }\r\n                    else {\r\n                        let format = TextFormatter.getTextStyle(chunk.text);\r\n                        const fontStyle = this._getFontStyle(format);\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = fontStyle;\r\n                        currentStyle = fontStyle;\r\n                        if (format.fill) {\r\n                            currentFill = format.fill;\r\n                        }\r\n                        if (format.width) {\r\n                            currentChunkWidth = $type.toNumber(format.width);\r\n                        }\r\n                        styleRestored = false;\r\n                    }\r\n                    if (truncate) {\r\n                        ellipsisMetrics = this._measureText(ellipsis, context);\r\n                    }\r\n                }\r\n                // Text format\r\n                else if (chunk.type == \"value\") {\r\n                    // Measure each letter\r\n                    const chars = chunk.text.match(/./ug) || [];\r\n                    if (rtl) {\r\n                        chars.reverse();\r\n                    }\r\n                    for (let i = 0; i < chars.length; i++) {\r\n                        const char = chars[i];\r\n                        // Measure\r\n                        const metrics = this._measureText(char, context);\r\n                        let chunkWidth = metrics.width;\r\n                        // Chunk width?\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: char,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight + metrics.actualBoundingBoxDescent,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: chunkHeight,\r\n                            textDecoration: undefined\r\n                        });\r\n                        totalWidth += chunkWidth;\r\n                        // Handle oversized behavior\r\n                        if (truncate) {\r\n                            // Measure ellipsis and check if it fits\r\n                            if (!ellipsisMetrics) {\r\n                                ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            }\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            totalWidth += ellipsisWidth;\r\n                            if ((totalWidth + ellipsisWidth) > maxWidth) {\r\n                                if (lineInfo.textChunks.length == 1) {\r\n                                    this.textVisible = false;\r\n                                }\r\n                                else {\r\n                                    lineInfo.width += ellipsisWidth;\r\n                                    lineInfo.left += ellipsisMetrics.actualBoundingBoxLeft;\r\n                                    lineInfo.right += ellipsisMetrics.actualBoundingBoxRight;\r\n                                    lineInfo.textChunks.push({\r\n                                        style: currentStyle,\r\n                                        fill: currentFill,\r\n                                        text: ellipsis,\r\n                                        width: ellipsisWidth,\r\n                                        height: chunkHeight + ellipsisMetrics.actualBoundingBoxDescent,\r\n                                        left: ellipsisMetrics.actualBoundingBoxLeft,\r\n                                        right: ellipsisMetrics.actualBoundingBoxRight,\r\n                                        ascent: ellipsisMetrics.actualBoundingBoxAscent,\r\n                                        offsetX: 0,\r\n                                        offsetY: chunkHeight,\r\n                                        textDecoration: undefined\r\n                                    });\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (rtl) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (this.style.lineHeight instanceof Percent) {\r\n                lineInfo.height *= this.style.lineHeight.value;\r\n            }\r\n            else {\r\n                lineInfo.height *= this.style.lineHeight || 1.2;\r\n            }\r\n            this._textInfo.push(lineInfo);\r\n            //lineInfo.offsetY += lineInfo.ascent;\r\n            offsetY += lineInfo.height;\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        if (oversizedBehavior == \"hide\" && (totalWidth > maxWidth)) {\r\n            this.textVisible = false;\r\n        }\r\n        // Adjust chunk internal offsets\r\n        $array.each(this._textInfo, (lineInfo) => {\r\n            $array.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);\r\n            });\r\n        });\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return {\r\n            left: 0,\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n        };\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasImage extends CanvasDisplayObject {\r\n    constructor(renderer, image) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_imageMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.image = image;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._imageMask) {\r\n            clearCanvas(this._imageMask);\r\n        }\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            let w = 0;\r\n            let h = 0;\r\n            if (this.width) {\r\n                w = this.width;\r\n            }\r\n            if (this.height) {\r\n                h = this.height;\r\n            }\r\n            this._localBounds = {\r\n                left: 0,\r\n                top: 0,\r\n                right: w,\r\n                bottom: h\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    _render(parentLayer) {\r\n        super._render(parentLayer);\r\n        if (this.image) {\r\n            const layer = this._layer || parentLayer;\r\n            if (this.tainted === undefined) {\r\n                this.tainted = isTainted(this.image);\r\n                layer.tainted = true;\r\n            }\r\n            if (this.tainted && this._renderer._omitTainted) {\r\n                return;\r\n            }\r\n            if (layer.dirty) {\r\n                if (this.shadowColor) {\r\n                    layer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);\r\n                }\r\n                if (this.shadowBlur) {\r\n                    layer.context.shadowBlur = this.shadowBlur;\r\n                }\r\n                if (this.shadowOffsetX) {\r\n                    layer.context.shadowOffsetX = this.shadowOffsetX;\r\n                }\r\n                if (this.shadowOffsetY) {\r\n                    layer.context.shadowOffsetY = this.shadowOffsetY;\r\n                }\r\n                // TODO should this round ?\r\n                const width = this.width || this.image.naturalWidth;\r\n                const height = this.height || this.image.naturalHeight;\r\n                layer.context.drawImage(this.image, 0, 0, width, height);\r\n            }\r\n            if (this.interactive && this._isInteractive()) {\r\n                const mask = this._getMask(this.image);\r\n                this._renderer._ghostLayer.context.drawImage(mask, 0, 0);\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this.image = undefined;\r\n        this._imageMask = undefined;\r\n    }\r\n    _getMask(image) {\r\n        if (this._imageMask === undefined) {\r\n            // TODO should this round ?\r\n            const width = this.width || image.naturalWidth;\r\n            const height = this.height || image.naturalHeight;\r\n            // We need to create a second canvas because destination-in clears out the entire canvas\r\n            const canvas = document.createElement(\"canvas\");\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            const context = canvas.getContext(\"2d\");\r\n            context.imageSmoothingEnabled = false;\r\n            context.fillStyle = this._getColorId();\r\n            context.fillRect(0, 0, width, height);\r\n            if (!isTainted(image)) {\r\n                context.globalCompositeOperation = \"destination-in\";\r\n                context.drawImage(image, 0, 0, width, height);\r\n            }\r\n            this._imageMask = canvas;\r\n        }\r\n        return this._imageMask;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasRendererEvent {\r\n    constructor(event, originalPoint, point, bbox) {\r\n        Object.defineProperty(this, \"event\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: event\r\n        });\r\n        Object.defineProperty(this, \"originalPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: originalPoint\r\n        });\r\n        Object.defineProperty(this, \"point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: point\r\n        });\r\n        Object.defineProperty(this, \"bbox\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: bbox\r\n        });\r\n        Object.defineProperty(this, \"id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"simulated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"native\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        if ($utils.supports(\"touchevents\") && event instanceof Touch) {\r\n            this.id = event.identifier;\r\n        }\r\n        else {\r\n            this.id = null;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasRenderer extends ArrayDisposer {\r\n    /*protected _mouseMoveThrottler: Throttler = new Throttler(() => {\r\n        this._dispatchGlobalMousemove(this._lastPointerMoveEvent.event, this._lastPointerMoveEvent.native);\r\n    });\r\n    */\r\n    constructor(resolution) {\r\n        super();\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"_layerDom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"layers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_dirtyLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"defaultLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.getLayer(0)\r\n        });\r\n        Object.defineProperty(this, \"_ghostLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new GhostLayer()\r\n        });\r\n        Object.defineProperty(this, \"_patternCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"canvas\")\r\n        });\r\n        Object.defineProperty(this, \"_patternContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._patternCanvas.getContext(\"2d\")\r\n        });\r\n        Object.defineProperty(this, \"_realWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_realHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_calculatedWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_calculatedHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"interactionsEnabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_colorMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_forceInteractive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_omitTainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO this should store the Id as well\r\n        Object.defineProperty(this, \"_hovering\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Set()\r\n        });\r\n        Object.defineProperty(this, \"_dragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mousedown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_lastPointerMoveEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tapToActivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"tapToActivateTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 3000\r\n        });\r\n        Object.defineProperty(this, \"_touchActive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_touchActiveTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (resolution == null) {\r\n            this.resolution = window.devicePixelRatio;\r\n        }\r\n        else {\r\n            this.resolution = resolution;\r\n        }\r\n        this.view.style.position = \"absolute\";\r\n        this.view.setAttribute(\"aria-hidden\", \"true\");\r\n        this.view.appendChild(this._layerDom);\r\n        this._disposers.push(new Disposer(() => {\r\n            $object.each(this._events, (_key, events) => {\r\n                events.disposer.dispose();\r\n            });\r\n            $array.each(this.layers, (layer) => {\r\n                clearCanvas(layer.view);\r\n                if (layer.exportableView) {\r\n                    clearCanvas(layer.exportableView);\r\n                }\r\n            });\r\n            clearCanvas(this._ghostLayer.view);\r\n            clearCanvas(this._patternCanvas);\r\n        }));\r\n        /*\r\n        this._disposers.push($utils.addEventListener(this._ghostLayer.view, \"click\", (originalEvent: MouseEvent) => {\r\n            const event = this.getEvent(originalEvent);\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox);\r\n            console.debug(target);\r\n        }));\r\n        */\r\n        // Monitor for possible pixel ratio changes (when page is zoomed)\r\n        this._disposers.push($utils.onZoom(() => {\r\n            if (resolution == null) {\r\n                this.resolution = window.devicePixelRatio;\r\n            }\r\n        }));\r\n        // We need this in order top prevent default touch gestures when dragging\r\n        // draggable elements\r\n        if ($utils.supports(\"touchevents\")) {\r\n            const listener = (ev) => {\r\n                if (this._dragging.length !== 0) {\r\n                    $array.eachContinue(this._dragging, (item) => {\r\n                        if (item.value.shouldCancelTouch()) {\r\n                            ev.preventDefault();\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                // If touch down happends, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            };\r\n            this._disposers.push($utils.addEventListener(window, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push($utils.addEventListener(this.view, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push($utils.addEventListener(this.view, \"touchmove\", () => {\r\n                // If touch is moving, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            }, { passive: true }));\r\n            this._disposers.push($utils.addEventListener(window, \"click\", (_ev) => {\r\n                this._touchActive = false;\r\n            }, { passive: true }));\r\n            this._disposers.push($utils.addEventListener(this.view, \"click\", (_ev) => {\r\n                window.setTimeout(() => {\r\n                    this._touchActive = true;\r\n                    this._delayTouchDeactivate();\r\n                }, 100);\r\n            }, { passive: true }));\r\n        }\r\n        // Prevent scrolling of the window when hovering on \"wheelable\" object\r\n        if ($utils.supports(\"wheelevents\")) {\r\n            this._disposers.push($utils.addEventListener(this.view, \"wheel\", (ev) => {\r\n                let prevent = false;\r\n                this._hovering.forEach((obj) => {\r\n                    if (obj.wheelable) {\r\n                        prevent = true;\r\n                        return false;\r\n                    }\r\n                });\r\n                if (prevent) {\r\n                    ev.preventDefault();\r\n                }\r\n            }, { passive: false }));\r\n        }\r\n    }\r\n    _delayTouchDeactivate() {\r\n        if (this._touchActiveTimeout) {\r\n            clearTimeout(this._touchActiveTimeout);\r\n        }\r\n        if (this.tapToActivateTimeout > 0) {\r\n            this._touchActiveTimeout = window.setTimeout(() => {\r\n                this._touchActive = false;\r\n            }, this.tapToActivateTimeout);\r\n        }\r\n    }\r\n    get debugGhostView() {\r\n        return !!this._ghostLayer.view.parentNode;\r\n    }\r\n    set debugGhostView(value) {\r\n        if (value) {\r\n            if (!this._ghostLayer.view.parentNode) {\r\n                this.view.appendChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n        else {\r\n            if (this._ghostLayer.view.parentNode) {\r\n                this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n    }\r\n    createLinearGradient(x1, y1, x2, y2) {\r\n        return this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);\r\n    }\r\n    createRadialGradient(x1, y1, radius1, x2, y2, radius2) {\r\n        return this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);\r\n    }\r\n    createPattern(graphics, background, repetition, width, height) {\r\n        // const patternCanvas = document.createElement(\"canvas\");\r\n        // const patternContext = patternCanvas.getContext(\"2d\")!;\r\n        // patternCanvas.width = width;\r\n        // patternCanvas.height = height;\r\n        // if (fill) {\r\n        // \tpatternContext.fillStyle = fill.toCSS();\r\n        // \tpatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\r\n        // }\r\n        // const layer = {\r\n        // \tview: patternCanvas,\r\n        // \tcontext: patternContext,\r\n        // \tvisible: true,\r\n        // \torder: 0,\r\n        // \twidth: width,\r\n        // \theight: height,\r\n        // \tdirty: true\r\n        // };\r\n        // // patternContext.arc(0, 0, 50, 0, .5 * Math.PI);\r\n        // // patternContext.stroke();\r\n        // image.targetLayer = layer;\r\n        // image.render(layer);\r\n        //this._layerDom.appendChild(patternCanvas);\r\n        this._patternCanvas.width = width;\r\n        this._patternCanvas.height = height;\r\n        this._patternContext.clearRect(0, 0, width, height);\r\n        // patternCanvas.style.width = width * this.resolution + \"px\";\r\n        // patternCanvas.style.height = height * this.resolution + \"px\";\r\n        background.renderDetached(this._patternContext);\r\n        graphics.renderDetached(this._patternContext);\r\n        return this._patternContext.createPattern(this._patternCanvas, repetition);\r\n    }\r\n    makeContainer() {\r\n        return new CanvasContainer(this);\r\n    }\r\n    makeGraphics() {\r\n        return new CanvasGraphics(this);\r\n    }\r\n    makeText(text, style) {\r\n        return new CanvasText(this, text, style);\r\n    }\r\n    makeTextStyle() {\r\n        return new CanvasTextStyle();\r\n    }\r\n    makeRadialText(text, style) {\r\n        return new CanvasRadialText(this, text, style);\r\n    }\r\n    makePicture(image) {\r\n        return new CanvasImage(this, image);\r\n    }\r\n    resizeLayer(layer) {\r\n        layer.resize(this._calculatedWidth, this._calculatedHeight, this._calculatedWidth, this._calculatedHeight, this.resolution);\r\n    }\r\n    resizeGhost() {\r\n        this._ghostLayer.resize(this._calculatedWidth, this._calculatedHeight, this._calculatedWidth, this._calculatedHeight, this.resolution);\r\n    }\r\n    resize(realWidth, realHeight, calculatedWidth, calculatedHeight) {\r\n        this._realWidth = realWidth;\r\n        this._realHeight = realHeight;\r\n        this._calculatedWidth = calculatedWidth;\r\n        this._calculatedHeight = calculatedHeight;\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                layer.dirty = true;\r\n                this.resizeLayer(layer);\r\n            }\r\n        });\r\n        this.resizeGhost();\r\n        this.view.style.width = calculatedWidth + \"px\";\r\n        this.view.style.height = calculatedHeight + \"px\";\r\n    }\r\n    createDetachedLayer(willReadFrequently = false) {\r\n        const view = document.createElement(\"canvas\");\r\n        const context = view.getContext(\"2d\", { willReadFrequently: willReadFrequently });\r\n        const layer = new CanvasLayer(view, context);\r\n        view.style.position = \"absolute\";\r\n        view.style.top = \"0px\";\r\n        view.style.left = \"0px\";\r\n        return layer;\r\n    }\r\n    getLayerByOrder(order) {\r\n        const layers = this.layers;\r\n        const length = layers.length;\r\n        for (let i = 0; i < length; i++) {\r\n            const layer = layers[i];\r\n            if (layer.order == order) {\r\n                return layer;\r\n            }\r\n        }\r\n    }\r\n    getLayer(order, visible = true) {\r\n        let existingLayer = this.getLayerByOrder(order);\r\n        if (existingLayer) {\r\n            return existingLayer;\r\n        }\r\n        const layer = this.createDetachedLayer(order == 99);\r\n        layer.order = order;\r\n        layer.visible = visible;\r\n        if (layer.visible) {\r\n            this.resizeLayer(layer);\r\n        }\r\n        const layers = this.layers;\r\n        layers.push(layer);\r\n        layers.sort((a, b) => {\r\n            if (a.order > b.order) {\r\n                return 1;\r\n            }\r\n            else if (a.order < b.order) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        const length = layers.length;\r\n        const layerIndex = $array.indexOf(layers, layer);\r\n        let next;\r\n        for (let i = layerIndex + 1; i < length; i++) {\r\n            if (layers[i].visible) {\r\n                next = layers[i];\r\n                break;\r\n            }\r\n        }\r\n        if (layer.visible) {\r\n            if (next === undefined) {\r\n                this._layerDom.appendChild(layer.view);\r\n            }\r\n            else {\r\n                this._layerDom.insertBefore(layer.view, next.view);\r\n            }\r\n        }\r\n        return layer;\r\n    }\r\n    render(root) {\r\n        this._dirtyLayers.length = 0;\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                if (layer.dirty && layer.visible) {\r\n                    this._dirtyLayers.push(layer);\r\n                    layer.clear();\r\n                }\r\n            }\r\n        });\r\n        this._ghostLayer.clear();\r\n        root.render(this.defaultLayer);\r\n        this._ghostLayer.context.restore();\r\n        //setTimeout(() => {\r\n        // Remove this after the Chrome bug is fixed:\r\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1279394\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                const context = layer.context;\r\n                context.beginPath();\r\n                context.moveTo(0, 0);\r\n                context.stroke();\r\n            }\r\n        });\r\n        $array.each(this._dirtyLayers, (layer) => {\r\n            layer.context.restore();\r\n            layer.dirty = false;\r\n        });\r\n        //}, 100)\r\n        if (this._hovering.size && this._lastPointerMoveEvent) {\r\n            const { events, target, native } = this._lastPointerMoveEvent;\r\n            //this._mouseMoveThrottler.run();\r\n            $array.each(events, (event) => {\r\n                this._dispatchGlobalMousemove(event, target, native);\r\n            });\r\n        }\r\n    }\r\n    paintId(obj) {\r\n        const id = distributeId(++this._colorId);\r\n        const color = Color.fromHex(id).toCSS();\r\n        this._colorMap[color] = obj;\r\n        return color;\r\n    }\r\n    _removeObject(obj) {\r\n        if (obj._colorId !== undefined) {\r\n            delete this._colorMap[obj._colorId];\r\n        }\r\n    }\r\n    // protected _identifyObjectByColor(colorId: number): CanvasDisplayObject | undefined {\r\n    // \treturn this._colorMap[colorId];\r\n    // }\r\n    _adjustBoundingBox(bbox) {\r\n        const margin = this._ghostLayer.margin;\r\n        return new DOMRect(-margin.left, -margin.top, bbox.width + margin.left + margin.right, bbox.height + margin.top + margin.bottom);\r\n    }\r\n    getEvent(originalEvent, adjustPoint = true) {\r\n        const bbox = this.view.getBoundingClientRect();\r\n        const x = originalEvent.clientX || 0;\r\n        const y = originalEvent.clientY || 0;\r\n        const widthScale = this._calculatedWidth / this._realWidth;\r\n        const heightScale = this._calculatedHeight / this._realHeight;\r\n        const originalPoint = {\r\n            x: x - bbox.left,\r\n            y: y - bbox.top,\r\n        };\r\n        const point = {\r\n            x: (x - (adjustPoint ? bbox.left : 0)) * widthScale,\r\n            y: (y - (adjustPoint ? bbox.top : 0)) * heightScale,\r\n        };\r\n        return new CanvasRendererEvent(originalEvent, originalPoint, point, this._adjustBoundingBox(bbox));\r\n    }\r\n    _getHitTarget(point, bbox, target) {\r\n        if (bbox.width === 0 || bbox.height === 0 || point.x < bbox.left || point.x > bbox.right || point.y < bbox.top || point.y > bbox.bottom) {\r\n            return;\r\n        }\r\n        if (!target || !this._layerDom.contains(target)) {\r\n            return;\r\n        }\r\n        const pixel = this._ghostLayer.getImageData(point, bbox);\r\n        if (pixel.data[0] === 0 && pixel.data[1] === 0 && pixel.data[2] === 0) {\r\n            return false;\r\n        }\r\n        const colorId = Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();\r\n        const hit = this._colorMap[colorId];\r\n        return hit;\r\n    }\r\n    _withEvents(key, f) {\r\n        const events = this._events[key];\r\n        if (events !== undefined) {\r\n            events.dispatching = true;\r\n            try {\r\n                f(events);\r\n            }\r\n            finally {\r\n                events.dispatching = false;\r\n                if (events.cleanup) {\r\n                    events.cleanup = false;\r\n                    $array.keepIf(events.callbacks, (callback) => {\r\n                        return !callback.disposed;\r\n                    });\r\n                    if (events.callbacks.length === 0) {\r\n                        events.disposer.dispose();\r\n                        delete this._events[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _dispatchEventAll(key, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return;\r\n        }\r\n        this._withEvents(key, (events) => {\r\n            $array.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed) {\r\n                    callback.callback.call(callback.context, event);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    _dispatchEvent(key, target, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return false;\r\n        }\r\n        let dispatched = false;\r\n        this._withEvents(key, (events) => {\r\n            $array.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed && callback.object === target) {\r\n                    callback.callback.call(callback.context, event);\r\n                    dispatched = true;\r\n                }\r\n            });\r\n        });\r\n        return dispatched;\r\n    }\r\n    _dispatchMousedown(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        if (button != 0 && button != 2 && button != 1 && button !== undefined) {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            const id = event.id;\r\n            let dragged = false;\r\n            eachTargets(target, (obj) => {\r\n                const info = { id: id, value: obj };\r\n                this._mousedown.push(info);\r\n                if (!dragged && this._dispatchEvent(\"pointerdown\", obj, event)) {\r\n                    // Only dispatch the first element which matches\r\n                    dragged = true;\r\n                    const has = this._dragging.some((x) => {\r\n                        return x.value === obj && x.id === id;\r\n                    });\r\n                    if (!has) {\r\n                        this._dragging.push(info);\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n    }\r\n    _dispatchGlobalMousemove(originalEvent, originalTarget, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        event.native = native;\r\n        if (target) {\r\n            this._hovering.forEach((obj) => {\r\n                if (!obj.contains(target)) {\r\n                    this._hovering.delete(obj);\r\n                    if (obj.cursorOverStyle) {\r\n                        $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                    }\r\n                    this._dispatchEvent(\"pointerout\", obj, event);\r\n                }\r\n            });\r\n            if (event.native) {\r\n                eachTargets(target, (obj) => {\r\n                    if (!this._hovering.has(obj)) {\r\n                        this._hovering.add(obj);\r\n                        if (obj.cursorOverStyle) {\r\n                            obj._replacedCursorStyle = $utils.getStyle(document.body, \"cursor\");\r\n                            $utils.setStyle(document.body, \"cursor\", obj.cursorOverStyle);\r\n                        }\r\n                        this._dispatchEvent(\"pointerover\", obj, event);\r\n                    }\r\n                    return true;\r\n                });\r\n            }\r\n            //} else if (target === false) {\r\n        }\r\n        else {\r\n            this._hovering.forEach((obj) => {\r\n                if (obj.cursorOverStyle) {\r\n                    $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                }\r\n                this._dispatchEvent(\"pointerout\", obj, event);\r\n            });\r\n            this._hovering.clear();\r\n        }\r\n        this._dispatchEventAll(\"globalpointermove\", event);\r\n    }\r\n    removeHovering(graphics) {\r\n        this._hovering.delete(graphics);\r\n        if (graphics.cursorOverStyle) {\r\n            $utils.setStyle(document.body, \"cursor\", graphics._replacedCursorStyle);\r\n        }\r\n    }\r\n    _dispatchGlobalMouseup(originalEvent, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        event.native = native;\r\n        //const target = this._getHitTarget(event.originalPoint);\r\n        this._dispatchEventAll(\"globalpointerup\", event);\r\n    }\r\n    _dispatchDragMove(originalEvent) {\r\n        if (this._dragging.length !== 0) {\r\n            const event = this.getEvent(originalEvent);\r\n            const id = event.id;\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointermove\", obj.value, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchDragEnd(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        let clickevent;\r\n        if (button == 0 || button === undefined) {\r\n            clickevent = \"click\";\r\n        }\r\n        else if (button == 2) {\r\n            clickevent = \"rightclick\";\r\n        }\r\n        else if (button == 1) {\r\n            clickevent = \"middleclick\";\r\n        }\r\n        else {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const id = event.id;\r\n        if (this._mousedown.length !== 0) {\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n            if (target) {\r\n                this._mousedown.forEach((obj) => {\r\n                    if (obj.id === id && obj.value.contains(target)) {\r\n                        this._dispatchEvent(clickevent, obj.value, event);\r\n                    }\r\n                });\r\n            }\r\n            this._mousedown.length = 0;\r\n        }\r\n        if (this._dragging.length !== 0) {\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointerup\", obj.value, event);\r\n                }\r\n            });\r\n            this._dragging.length = 0;\r\n        }\r\n    }\r\n    _dispatchDoubleClick(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"dblclick\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchWheel(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"wheel\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _makeSharedEvent(key, f) {\r\n        if (this._listeners[key] === undefined) {\r\n            const listener = f();\r\n            this._listeners[key] = new CounterDisposer(() => {\r\n                delete this._listeners[key];\r\n                listener.dispose();\r\n            });\r\n        }\r\n        return this._listeners[key].increment();\r\n    }\r\n    _onPointerEvent(name, f) {\r\n        let native = false;\r\n        let timer = null;\r\n        function clear() {\r\n            timer = null;\r\n            native = false;\r\n        }\r\n        return new MultiDisposer([\r\n            new Disposer(() => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                clear();\r\n            }),\r\n            $utils.addEventListener(this.view, $utils.getRendererEvent(name), (_) => {\r\n                native = true;\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                timer = window.setTimeout(clear, 0);\r\n            }),\r\n            onPointerEvent(window, name, (ev, target) => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                    timer = null;\r\n                }\r\n                f(ev, target, native);\r\n                native = false;\r\n            }),\r\n        ]);\r\n    }\r\n    // This ensures that only a single DOM event is added (e.g. only a single mousemove event listener)\r\n    _initEvent(key) {\r\n        switch (key) {\r\n            case \"globalpointermove\":\r\n            case \"pointerover\":\r\n            case \"pointerout\":\r\n                return this._makeSharedEvent(\"pointermove\", () => {\r\n                    const listener = (events, target, native) => {\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                        $array.each(events, (event) => {\r\n                            this._dispatchGlobalMousemove(event, target, native);\r\n                        });\r\n                    };\r\n                    return new MultiDisposer([\r\n                        this._onPointerEvent(\"pointerdown\", listener),\r\n                        this._onPointerEvent(\"pointermove\", listener),\r\n                    ]);\r\n                });\r\n            case \"globalpointerup\":\r\n                return this._makeSharedEvent(\"pointerup\", () => {\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (events, target, native) => {\r\n                        $array.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (events, target, native) => {\r\n                        $array.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    return new Disposer(() => {\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"click\":\r\n            case \"rightclick\":\r\n            case \"middleclick\":\r\n            case \"pointerdown\":\r\n            /*\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    return this._onPointerEvent(\"pointerdown\", (event, target, native) => {\r\n                        this._lastPointerMoveEvent = { event, target, native };\r\n                        this._dispatchMousedown(event)\r\n                    });\r\n                });\r\n            */\r\n            case \"pointermove\":\r\n            case \"pointerup\":\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    //const throttler = new Throttler();\r\n                    const mousedown = this._onPointerEvent(\"pointerdown\", (events, target) => {\r\n                        $array.each(events, (ev) => {\r\n                            this._dispatchMousedown(ev, target);\r\n                        });\r\n                    });\r\n                    // TODO handle throttling properly for multitouch\r\n                    const mousemove = this._onPointerEvent(\"pointermove\", (ev) => {\r\n                        //throttler.throttle(() => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDragMove(ev);\r\n                        });\r\n                        //});\r\n                    });\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (ev, target) => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (ev, target) => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    return new Disposer(() => {\r\n                        mousedown.dispose();\r\n                        mousemove.dispose();\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"dblclick\":\r\n                return this._makeSharedEvent(\"dblclick\", () => {\r\n                    return this._onPointerEvent(\"dblclick\", (ev, target) => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDoubleClick(ev, target);\r\n                        });\r\n                    });\r\n                });\r\n            case \"wheel\":\r\n                return this._makeSharedEvent(\"wheel\", () => {\r\n                    return $utils.addEventListener(window, $utils.getRendererEvent(\"wheel\"), (event) => {\r\n                        this._dispatchWheel(event, $utils.getEventTarget(event));\r\n                    }, { passive: false });\r\n                });\r\n        }\r\n    }\r\n    _addEvent(object, key, callback, context) {\r\n        let events = this._events[key];\r\n        if (events === undefined) {\r\n            events = this._events[key] = {\r\n                disposer: this._initEvent(key),\r\n                callbacks: [],\r\n                dispatching: false,\r\n                cleanup: false,\r\n            };\r\n        }\r\n        const listener = { object, context, callback, disposed: false };\r\n        events.callbacks.push(listener);\r\n        return new Disposer(() => {\r\n            listener.disposed = true;\r\n            if (events.dispatching) {\r\n                events.cleanup = true;\r\n            }\r\n            else {\r\n                $array.removeFirst(events.callbacks, listener);\r\n                if (events.callbacks.length === 0) {\r\n                    events.disposer.dispose();\r\n                    delete this._events[key];\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getCanvas(root, options) {\r\n        // Make sure everything is rendered\r\n        this.render(root);\r\n        if (!options) {\r\n            options = {};\r\n        }\r\n        let scale = this.resolution;\r\n        let canvasWidth = Math.floor(this._calculatedWidth * this.resolution);\r\n        let canvasHeight = Math.floor(this._calculatedHeight * this.resolution);\r\n        // Check if we need to scale\r\n        if (options.minWidth && (options.minWidth > canvasWidth)) {\r\n            let minScale = options.minWidth / canvasWidth;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.minHeight && (options.minHeight > canvasHeight)) {\r\n            let minScale = options.minHeight / canvasHeight;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxWidth && (options.maxWidth < canvasWidth)) {\r\n            let maxScale = options.maxWidth / canvasWidth;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxHeight && (options.maxHeight > canvasHeight)) {\r\n            let maxScale = options.maxHeight / canvasHeight;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        // Check if we need to compensate for pixel ratio\r\n        if (options.maintainPixelRatio) {\r\n            scale /= this.resolution;\r\n        }\r\n        // Init list canvases to remove from DOM after export\r\n        const canvases = [];\r\n        // Set up new canvas for export\r\n        let forceRender = false;\r\n        const canvas = document.createElement(\"canvas\");\r\n        if (scale != this.resolution) {\r\n            forceRender = true;\r\n            canvasWidth = canvasWidth * scale / this.resolution;\r\n            canvasHeight = canvasHeight * scale / this.resolution;\r\n        }\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n        // Add to DOM so it inherits CSS\r\n        canvas.style.position = \"fixed\";\r\n        canvas.style.top = \"-10000px\";\r\n        this.view.appendChild(canvas);\r\n        canvases.push(canvas);\r\n        // Context\r\n        const context = canvas.getContext(\"2d\");\r\n        let width = 0;\r\n        let height = 0;\r\n        let needRerender = false;\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                if (layer.tainted || forceRender) {\r\n                    needRerender = true;\r\n                    layer.exportableView = layer.view;\r\n                    layer.exportableContext = layer.context;\r\n                    layer.view = document.createElement(\"canvas\");\r\n                    // Add to DOM so it inherits CSS\r\n                    layer.view.style.position = \"fixed\";\r\n                    layer.view.style.top = \"-10000px\";\r\n                    this.view.appendChild(layer.view);\r\n                    canvases.push(layer.view);\r\n                    let extraX = 0;\r\n                    let extraY = 0;\r\n                    if (layer.margin) {\r\n                        extraX += layer.margin.left || 0 + layer.margin.right || 0;\r\n                        extraY += layer.margin.top || 0 + layer.margin.bottom || 0;\r\n                    }\r\n                    layer.view.width = canvasWidth + extraX;\r\n                    layer.view.height = canvasHeight + extraY;\r\n                    layer.context = layer.view.getContext(\"2d\");\r\n                    layer.dirty = true;\r\n                    layer.scale = scale;\r\n                }\r\n            }\r\n        });\r\n        if (needRerender) {\r\n            this._omitTainted = true;\r\n            this.render(root);\r\n            this._omitTainted = false;\r\n        }\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                // Layer is fine. Just plop it into our target canvas\r\n                let x = 0;\r\n                let y = 0;\r\n                if (layer.margin) {\r\n                    x = -(layer.margin.left || 0) * this.resolution;\r\n                    y = -(layer.margin.top || 0) * this.resolution;\r\n                }\r\n                context.drawImage(layer.view, x, y);\r\n                // Restore layer original canvas\r\n                if (layer.exportableView) {\r\n                    layer.view = layer.exportableView;\r\n                    layer.exportableView = undefined;\r\n                }\r\n                if (layer.exportableContext) {\r\n                    layer.context = layer.exportableContext;\r\n                    layer.exportableContext = undefined;\r\n                }\r\n                if (width < layer.view.clientWidth) {\r\n                    width = layer.view.clientWidth;\r\n                }\r\n                if (height < layer.view.clientHeight) {\r\n                    height = layer.view.clientHeight;\r\n                }\r\n                layer.scale = undefined;\r\n            }\r\n        });\r\n        canvas.style.width = width + \"px\";\r\n        canvas.style.height = height + \"px\";\r\n        $array.each(canvases, (canvas) => {\r\n            canvas.style.position = \"\";\r\n            canvas.style.top = \"\";\r\n            this.view.removeChild(canvas);\r\n        });\r\n        return canvas;\r\n    }\r\n}\r\nclass GhostLayer {\r\n    constructor() {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            }\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this.view = document.createElement(\"canvas\");\r\n        this.context = this.view.getContext(\"2d\", { alpha: false, willReadFrequently: true });\r\n        this.context.imageSmoothingEnabled = false;\r\n        this.view.style.position = \"absolute\";\r\n        this.view.style.top = \"0px\";\r\n        this.view.style.left = \"0px\";\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        canvasWidth += (this.margin.left + this.margin.right);\r\n        canvasHeight += (this.margin.top + this.margin.bottom);\r\n        // TODO this should take into account calculateSize\r\n        domWidth += (this.margin.left + this.margin.right);\r\n        domHeight += (this.margin.top + this.margin.bottom);\r\n        this.view.style.left = -this.margin.left + \"px\";\r\n        this.view.style.top = -this.margin.top + \"px\";\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    getImageData(point, bbox) {\r\n        return this.context.getImageData(\r\n        // TODO should this round ?\r\n        Math.round(((point.x - bbox.left) / bbox.width) * this._width), Math.round(((point.y - bbox.top) / bbox.height) * this._height), 1, 1);\r\n    }\r\n    setMargin(layers) {\r\n        this.margin.left = 0;\r\n        this.margin.right = 0;\r\n        this.margin.top = 0;\r\n        this.margin.bottom = 0;\r\n        $array.each(layers, (layer) => {\r\n            if (layer.margin) {\r\n                this.margin.left = Math.max(this.margin.left, layer.margin.left);\r\n                this.margin.right = Math.max(this.margin.right, layer.margin.right);\r\n                this.margin.top = Math.max(this.margin.top, layer.margin.top);\r\n                this.margin.bottom = Math.max(this.margin.bottom, layer.margin.bottom);\r\n            }\r\n        });\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.fillStyle = '#000';\r\n        this.context.fillRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasLayer {\r\n    constructor(view, context) {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"order\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportableView\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"exportableContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this.view = view;\r\n        this.context = context;\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.width != null) {\r\n            canvasWidth = this.width;\r\n            domWidth = this.width;\r\n        }\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.height != null) {\r\n            canvasHeight = this.height;\r\n            domHeight = this.height;\r\n        }\r\n        if (this.margin) {\r\n            canvasWidth += (this.margin.left + this.margin.right);\r\n            canvasHeight += (this.margin.top + this.margin.bottom);\r\n            // TODO this should take into account calculateSize\r\n            domWidth += (this.margin.left + this.margin.right);\r\n            domHeight += (this.margin.top + this.margin.bottom);\r\n            this.view.style.left = -this.margin.left + \"px\";\r\n            this.view.style.top = -this.margin.top + \"px\";\r\n        }\r\n        else {\r\n            this.view.style.left = \"0px\";\r\n            this.view.style.top = \"0px\";\r\n        }\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.clearRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n//# sourceMappingURL=CanvasRenderer.js.map","import { Container } from \"./render/Container\";\r\nimport { Text } from \"./render/Text\";\r\nimport { HorizontalLayout } from \"./render/HorizontalLayout\";\r\nimport { VerticalLayout } from \"./render/VerticalLayout\";\r\nimport { GridLayout } from \"./render/GridLayout\";\r\nimport { Disposer } from \"./util/Disposer\";\r\nimport { ResizeSensor } from \"./util/ResizeSensor\";\r\nimport { InterfaceColors } from \"./util/InterfaceColors\";\r\nimport { Graphics } from \"./render/Graphics\";\r\nimport { Rectangle } from \"./render/Rectangle\";\r\nimport { Tooltip } from \"./render/Tooltip\";\r\nimport { NumberFormatter } from \"./util/NumberFormatter\";\r\nimport { DateFormatter } from \"./util/DateFormatter\";\r\nimport { DurationFormatter } from \"./util/DurationFormatter\";\r\nimport { Language } from \"./util/Language\";\r\nimport { EventDispatcher } from \"./util/EventDispatcher\";\r\nimport { DefaultTheme } from \"../themes/DefaultTheme\";\r\nimport { CanvasRenderer } from \"./render/backend/CanvasRenderer\";\r\nimport { p100, percent } from \"./util/Percent\";\r\nimport { color } from \"./util/Color\";\r\nimport { populateString } from \"./util/PopulateString\";\r\nimport { registry } from \"./Registry\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\nimport * as $object from \"./util/Object\";\r\nimport * as $utils from \"./util/Utils\";\r\nimport * as $type from \"./util/Type\";\r\nimport en from \"../../locales/en\";\r\nfunction rAF(fps, callback) {\r\n    if (fps == null) {\r\n        requestAnimationFrame(callback);\r\n    }\r\n    else {\r\n        setTimeout(() => {\r\n            requestAnimationFrame(callback);\r\n        }, 1000 / fps);\r\n    }\r\n}\r\n// TODO implement Disposer\r\n/**\r\n * Root element of the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\r\n */\r\nexport class Root {\r\n    constructor(id, settings = {}, isReal) {\r\n        /**\r\n         * A reference to original chart container (div element).\r\n         */\r\n        Object.defineProperty(this, \"dom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_inner\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPositions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_ticker\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_tickers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_updateTick\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        /**\r\n         * Root's event dispatcher.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n         */\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        /**\r\n         * @ignore\r\n         * @todo needs description\r\n         */\r\n        Object.defineProperty(this, \"animationTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_animations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rootContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Main content container.\r\n         */\r\n        Object.defineProperty(this, \"container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[Container]] used to display tooltips in.\r\n         */\r\n        Object.defineProperty(this, \"tooltipContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipContainerSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Locale-related\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"language\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Language.new(this, {})\r\n        });\r\n        /**\r\n         * Locale used by the chart.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\r\n         */\r\n        Object.defineProperty(this, \"locale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: en\r\n        });\r\n        // Date-time related\r\n        /**\r\n         * Use UTC when formatting date/time.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#utc-and-time-zones} for more info\r\n         */\r\n        Object.defineProperty(this, \"utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * If set, will format date/time in specific time zone.\r\n         *\r\n         * The value should be named time zone, e.g.:\r\n         * `\"America/Vancouver\"`, `\"Australia/Sydney\"`, `\"UTC\"`.\r\n         *\r\n         * NOTE: Using time zone feature may noticeable affect performance of the\r\n         * chart, especially with large data sets, since every single date will need\r\n         * to be recalculated.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#time-zone} for more info\r\n         * @since 5.1.0\r\n         */\r\n        Object.defineProperty(this, \"timezone\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * The maximum FPS that the Root will run at.\r\n         *\r\n         * If `undefined` it will run at the highest FPS.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Performance} for more info\r\n         */\r\n        Object.defineProperty(this, \"fps\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Number formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n         */\r\n        Object.defineProperty(this, \"numberFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: NumberFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Date/time formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"dateFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DateFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Duration formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"durationFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DurationFormatter.new(this, {})\r\n        });\r\n        // Accessibility\r\n        /**\r\n         * Global tab index for using for the whole chart\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n         */\r\n        Object.defineProperty(this, \"tabindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        //@todo maybe make this better\r\n        Object.defineProperty(this, \"_tabindexes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_a11yD\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusedSprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isShift\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_keyboardDragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_readerAlertElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_logo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDiv\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Used for dynamically-created CSS and JavaScript with strict source policies.\r\n         */\r\n        Object.defineProperty(this, \"nonce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Special color set to be used for various controls.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\r\n         */\r\n        Object.defineProperty(this, \"interfaceColors\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * An instance of vertical layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"verticalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: VerticalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of horizontal layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default HorizontalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"horizontalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: HorizontalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of grid layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"gridLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: GridLayout.new(this, {})\r\n        });\r\n        Object.defineProperty(this, \"_paused\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates whether chart should resized automatically when parent container\r\n         * width and/or height changes.\r\n         *\r\n         * If disabled (`autoResize = false`) you can make the chart resize manually\r\n         * by calling root element's `resize()` method.\r\n         */\r\n        Object.defineProperty(this, \"autoResize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_fontHash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"_isDisposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_resizeSensorDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltips\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_htmlElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlEnabledContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n        if (settings.accessible == false) {\r\n            this._a11yD = true;\r\n        }\r\n        if (settings.useSafeResolution == null) {\r\n            settings.useSafeResolution = true;\r\n        }\r\n        let resolution;\r\n        if (settings.useSafeResolution) {\r\n            resolution = $utils.getSafeResolution();\r\n        }\r\n        this._renderer = new CanvasRenderer(resolution);\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        $array.each(registry.rootElements, (root) => {\r\n            if (root.dom === dom) {\r\n                throw new Error(\"You cannot have multiple Roots on the same DOM node\");\r\n            }\r\n        });\r\n        this.interfaceColors = InterfaceColors.new(this, {});\r\n        if (dom === null) {\r\n            throw new Error(\"Could not find HTML element with id `\" + id + \"`\");\r\n        }\r\n        this.dom = dom;\r\n        let inner = document.createElement(\"div\");\r\n        inner.style.position = \"relative\";\r\n        inner.style.width = \"100%\";\r\n        inner.style.height = \"100%\";\r\n        dom.appendChild(inner);\r\n        const tooltipContainerBounds = settings.tooltipContainerBounds;\r\n        if (tooltipContainerBounds) {\r\n            this._tooltipContainerSettings = tooltipContainerBounds;\r\n        }\r\n        this._inner = inner;\r\n        this._updateComputedStyles();\r\n        registry.rootElements.push(this);\r\n    }\r\n    static new(id, settings) {\r\n        const root = new Root(id, settings, true);\r\n        root._init();\r\n        return root;\r\n    }\r\n    moveDOM(id) {\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        if (dom) {\r\n            while (this.dom.childNodes.length > 0) {\r\n                dom.appendChild(this.dom.childNodes[0]);\r\n            }\r\n            this.dom = dom;\r\n            this._initResizeSensor();\r\n            this.resize();\r\n        }\r\n    }\r\n    _handleLogo() {\r\n        if (this._logo) {\r\n            const w = this.dom.offsetWidth;\r\n            const h = this.dom.offsetHeight;\r\n            if ((w <= 150) || (h <= 60)) {\r\n                this._logo.hide();\r\n            }\r\n            else {\r\n                this._logo.show();\r\n            }\r\n        }\r\n    }\r\n    _showBranding() {\r\n        if (!this._logo) {\r\n            const logo = this.tooltipContainer.children.push(Container.new(this, {\r\n                interactive: true,\r\n                interactiveChildren: false,\r\n                position: \"absolute\",\r\n                setStateOnChildren: true,\r\n                paddingTop: 9,\r\n                paddingRight: 9,\r\n                paddingBottom: 9,\r\n                paddingLeft: 9,\r\n                scale: .6,\r\n                y: percent(100),\r\n                centerY: p100,\r\n                tooltipText: \"Created using amCharts 5\",\r\n                tooltipX: p100,\r\n                cursorOverStyle: \"pointer\",\r\n                background: Rectangle.new(this, {\r\n                    fill: color(0x474758),\r\n                    fillOpacity: 0,\r\n                    tooltipY: 5\r\n                })\r\n            }));\r\n            const tooltip = Tooltip.new(this, {\r\n                pointerOrientation: \"horizontal\",\r\n                paddingTop: 4,\r\n                paddingRight: 7,\r\n                paddingBottom: 4,\r\n                paddingLeft: 7\r\n            });\r\n            tooltip.label.setAll({\r\n                fontSize: 12\r\n            });\r\n            tooltip.get(\"background\").setAll({\r\n                fill: this.interfaceColors.get(\"background\"),\r\n                stroke: this.interfaceColors.get(\"grid\"),\r\n                strokeOpacity: 0.3\r\n            });\r\n            logo.set(\"tooltip\", tooltip);\r\n            logo.events.on(\"click\", () => {\r\n                window.open(\"https://www.amcharts.com/\", \"_blank\");\r\n            });\r\n            logo.states.create(\"hover\", {});\r\n            const m = logo.children.push(Graphics.new(this, {\r\n                stroke: color(0xcccccc),\r\n                strokeWidth: 3,\r\n                svgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\r\n            }));\r\n            m.states.create(\"hover\", { stroke: color(0x3CABFF) });\r\n            const a = logo.children.push(Graphics.new(this, {\r\n                stroke: color(0x888888),\r\n                strokeWidth: 3,\r\n                svgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\r\n            }));\r\n            a.states.create(\"hover\", { stroke: color(0x474758) });\r\n            //logo.set(\"tooltip\", this._tooltip);\r\n            //logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\r\n            this._logo = logo;\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _getRealSize() {\r\n        return this.dom.getBoundingClientRect();\r\n    }\r\n    _getCalculatedSize(rect) {\r\n        if (this._settings.calculateSize) {\r\n            return this._settings.calculateSize(rect);\r\n        }\r\n        else {\r\n            return {\r\n                width: rect.width,\r\n                height: rect.height,\r\n            };\r\n        }\r\n    }\r\n    _init() {\r\n        const settings = this._settings;\r\n        if (settings.accessible !== false) {\r\n            if (settings.focusable) {\r\n                this._inner.setAttribute(\"focusable\", \"true\");\r\n                this._inner.setAttribute(\"tabindex\", this.tabindex + \"\");\r\n            }\r\n            if (settings.ariaLabel) {\r\n                this._inner.setAttribute(\"aria-label\", settings.ariaLabel);\r\n            }\r\n        }\r\n        const renderer = this._renderer;\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const width = Math.floor(size.width);\r\n        const height = Math.floor(size.height);\r\n        const realWidth = Math.floor(rect.width);\r\n        const realHeight = Math.floor(rect.height);\r\n        const rootContainer = Container.new(this, {\r\n            visible: true,\r\n            width: width,\r\n            height: height,\r\n        });\r\n        this._rootContainer = rootContainer;\r\n        this._rootContainer._defaultThemes.push(DefaultTheme.new(this));\r\n        const container = rootContainer.children.push(Container.new(this, { visible: true, width: p100, height: p100 }));\r\n        this.container = container;\r\n        renderer.resize(realWidth, realHeight, width, height);\r\n        //@todo: better appendChild - refer\r\n        this._inner.appendChild(renderer.view);\r\n        // TODO: TMP TMP TMP for testing only, remove\r\n        //renderer.debugGhostView = true;\r\n        this._initResizeSensor();\r\n        // HTML content holder\r\n        const htmlElementContainer = document.createElement(\"div\");\r\n        this._htmlElementContainer = htmlElementContainer;\r\n        htmlElementContainer.className = \"am5-html-container\";\r\n        htmlElementContainer.style.position = \"absolute\";\r\n        htmlElementContainer.style.pointerEvents = \"none\";\r\n        if (!this._tooltipContainerSettings) {\r\n            htmlElementContainer.style.overflow = \"hidden\";\r\n        }\r\n        this._inner.appendChild(htmlElementContainer);\r\n        if (this._a11yD !== true) {\r\n            // Create element which is used to make announcements to screen reader\r\n            const readerAlertElement = document.createElement(\"div\");\r\n            readerAlertElement.className = \"am5-reader-container\";\r\n            readerAlertElement.setAttribute(\"role\", \"alert\");\r\n            // readerAlertElement.style.zIndex = \"-100000\";\r\n            // readerAlertElement.style.opacity = \"0\";\r\n            // readerAlertElement.style.top = \"0\";\r\n            readerAlertElement.style.position = \"absolute\";\r\n            readerAlertElement.style.width = \"1px\";\r\n            readerAlertElement.style.height = \"1px\";\r\n            readerAlertElement.style.overflow = \"hidden\";\r\n            readerAlertElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n            this._readerAlertElement = readerAlertElement;\r\n            this._inner.appendChild(this._readerAlertElement);\r\n            const focusElementContainer = document.createElement(\"div\");\r\n            focusElementContainer.className = \"am5-focus-container\";\r\n            focusElementContainer.style.position = \"absolute\";\r\n            focusElementContainer.style.pointerEvents = \"none\";\r\n            focusElementContainer.style.top = \"0px\";\r\n            focusElementContainer.style.left = \"0px\";\r\n            focusElementContainer.style.overflow = \"hidden\";\r\n            focusElementContainer.style.width = width + \"px\";\r\n            focusElementContainer.style.height = height + \"px\";\r\n            focusElementContainer.setAttribute(\"role\", \"graphics-document\");\r\n            $utils.setInteractive(focusElementContainer, false);\r\n            this._focusElementContainer = focusElementContainer;\r\n            this._inner.appendChild(this._focusElementContainer);\r\n            const tooltipElementContainer = document.createElement(\"div\");\r\n            this._tooltipElementContainer = tooltipElementContainer;\r\n            tooltipElementContainer.className = \"am5-tooltip-container\";\r\n            this._inner.appendChild(tooltipElementContainer);\r\n            // Add keyboard events for accessibility, e.g. simulating drag with arrow\r\n            // keys and click with ENTER\r\n            if ($utils.supports(\"keyboardevents\")) {\r\n                this._disposers.push($utils.addEventListener(window, \"keydown\", (ev) => {\r\n                    if (ev.keyCode == 16) {\r\n                        this._isShift = true;\r\n                    }\r\n                    else if (ev.keyCode == 9) {\r\n                        this._isShift = ev.shiftKey;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(window, \"keyup\", (ev) => {\r\n                    if (ev.keyCode == 16) {\r\n                        this._isShift = false;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"click\", () => {\r\n                    // Some screen readers convert ENTER (and some SPACE) press whil on\r\n                    // focused element to a \"click\" event, preventing actual \"keydown\"\r\n                    // event from firing. We're using this \"click\" event to still\r\n                    // generate internal click events.\r\n                    const focusedSprite = this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        const downEvent = renderer.getEvent(new MouseEvent(\"click\"));\r\n                        focusedSprite.events.dispatch(\"click\", {\r\n                            type: \"click\",\r\n                            originalEvent: downEvent.event,\r\n                            point: downEvent.point,\r\n                            simulated: true,\r\n                            target: focusedSprite\r\n                        });\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keydown\", (ev) => {\r\n                    const focusedSprite = this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        if (ev.keyCode == 27) {\r\n                            // ESC pressed - lose current focus\r\n                            $utils.blur();\r\n                            this._focusedSprite = undefined;\r\n                        }\r\n                        let dragOffsetX = 0;\r\n                        let dragOffsetY = 0;\r\n                        // TODO: figure out if using bogus MouseEvent is fine, or it will\r\n                        // fail on some platforms\r\n                        switch (ev.keyCode) {\r\n                            case 13:\r\n                                ev.preventDefault();\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"click\"));\r\n                                focusedSprite.events.dispatch(\"click\", {\r\n                                    type: \"click\",\r\n                                    originalEvent: downEvent.event,\r\n                                    point: downEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                                return;\r\n                            case 37:\r\n                                dragOffsetX = -6;\r\n                                break;\r\n                            case 39:\r\n                                dragOffsetX = 6;\r\n                                break;\r\n                            case 38:\r\n                                dragOffsetY = -6;\r\n                                break;\r\n                            case 40:\r\n                                dragOffsetY = 6;\r\n                                break;\r\n                            default:\r\n                                return;\r\n                        }\r\n                        if (dragOffsetX != 0 || dragOffsetY != 0) {\r\n                            ev.preventDefault();\r\n                            if (!focusedSprite.isDragging()) {\r\n                                // Start dragging\r\n                                this._keyboardDragPoint = {\r\n                                    x: 0,\r\n                                    y: 0\r\n                                };\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\r\n                                    clientX: 0,\r\n                                    clientY: 0\r\n                                }));\r\n                                if (focusedSprite.events.isEnabled(\"pointerdown\")) {\r\n                                    focusedSprite.events.dispatch(\"pointerdown\", {\r\n                                        type: \"pointerdown\",\r\n                                        originalEvent: downEvent.event,\r\n                                        point: downEvent.point,\r\n                                        simulated: true,\r\n                                        target: focusedSprite\r\n                                    });\r\n                                }\r\n                            }\r\n                            else {\r\n                                // Move focus marker\r\n                                //this._positionFocusElement(focusedSprite);\r\n                            }\r\n                            // Move incrementally\r\n                            const dragPoint = this._keyboardDragPoint;\r\n                            dragPoint.x += dragOffsetX;\r\n                            dragPoint.y += dragOffsetY;\r\n                            const moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\r\n                                clientX: dragPoint.x,\r\n                                clientY: dragPoint.y\r\n                            }), false);\r\n                            if (focusedSprite.events.isEnabled(\"globalpointermove\")) {\r\n                                focusedSprite.events.dispatch(\"globalpointermove\", {\r\n                                    type: \"globalpointermove\",\r\n                                    originalEvent: moveEvent.event,\r\n                                    point: moveEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keyup\", (ev) => {\r\n                    if (this._focusedSprite) {\r\n                        const focusedSprite = this._focusedSprite;\r\n                        const keyCode = ev.keyCode;\r\n                        switch (keyCode) {\r\n                            case 37:\r\n                            case 39:\r\n                            case 38:\r\n                            case 40:\r\n                                if (focusedSprite.isDragging()) {\r\n                                    // Simulate drag stop\r\n                                    const dragPoint = this._keyboardDragPoint;\r\n                                    const upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\r\n                                        clientX: dragPoint.x,\r\n                                        clientY: dragPoint.y\r\n                                    }));\r\n                                    if (focusedSprite.events.isEnabled(\"globalpointerup\")) {\r\n                                        focusedSprite.events.dispatch(\"globalpointerup\", {\r\n                                            type: \"globalpointerup\",\r\n                                            originalEvent: upEvent.event,\r\n                                            point: upEvent.point,\r\n                                            simulated: true,\r\n                                            target: focusedSprite\r\n                                        });\r\n                                    }\r\n                                    //this._positionFocusElement(focusedSprite);\r\n                                    this._keyboardDragPoint = undefined;\r\n                                    // @todo dispatch mouseup event instead of calling dragStop?\r\n                                    // this._dispatchEvent(\"globalpointerup\", target, upEvent);\r\n                                    return;\r\n                                }\r\n                                else if (focusedSprite.get(\"focusableGroup\")) {\r\n                                    // Find next item in focusable group\r\n                                    const group = focusedSprite.get(\"focusableGroup\");\r\n                                    const items = this._tabindexes.filter((item) => {\r\n                                        return item.get(\"focusableGroup\") == group && item.getPrivate(\"focusable\") !== false ? true : false;\r\n                                    });\r\n                                    let index = items.indexOf(focusedSprite);\r\n                                    const lastIndex = items.length - 1;\r\n                                    index += (keyCode == 39 || keyCode == 40) ? 1 : -1;\r\n                                    if (index < 0) {\r\n                                        index = lastIndex;\r\n                                    }\r\n                                    else if (index > lastIndex) {\r\n                                        index = 0;\r\n                                    }\r\n                                    $utils.focus(items[index].getPrivate(\"focusElement\").dom);\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        this._startTicker();\r\n        this.setThemes([]);\r\n        this._addTooltip();\r\n        if (!this._hasLicense()) {\r\n            this._showBranding();\r\n        }\r\n    }\r\n    _initResizeSensor() {\r\n        if (this._resizeSensorDisposer) {\r\n            this._resizeSensorDisposer.dispose();\r\n        }\r\n        this._resizeSensorDisposer = new ResizeSensor(this.dom, () => {\r\n            if (this.autoResize) {\r\n                this.resize();\r\n            }\r\n        });\r\n        this._disposers.push(this._resizeSensorDisposer);\r\n    }\r\n    /**\r\n     * If automatic resizing of char is disabled (`root.autoResize = false`), it\r\n     * can be resized manually by calling this method.\r\n     */\r\n    resize() {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const w = Math.floor(size.width);\r\n        const h = Math.floor(size.height);\r\n        if (w > 0 && h > 0) {\r\n            const realWidth = Math.floor(rect.width);\r\n            const realHeight = Math.floor(rect.height);\r\n            const htmlElementContainer = this._htmlElementContainer;\r\n            htmlElementContainer.style.width = w + \"px\";\r\n            htmlElementContainer.style.height = h + \"px\";\r\n            if (this._a11yD !== true) {\r\n                const focusElementContainer = this._focusElementContainer;\r\n                focusElementContainer.style.width = w + \"px\";\r\n                focusElementContainer.style.height = h + \"px\";\r\n            }\r\n            this._renderer.resize(realWidth, realHeight, w, h);\r\n            const rootContainer = this._rootContainer;\r\n            rootContainer.setPrivate(\"width\", w);\r\n            rootContainer.setPrivate(\"height\", h);\r\n            this._render();\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _render() {\r\n        this._renderer.render(this._rootContainer._display);\r\n        if (this._focusElementDirty) {\r\n            this._updateCurrentFocus();\r\n            this._focusElementDirty = false;\r\n        }\r\n    }\r\n    _runTickers(currentTime) {\r\n        $array.each(this._tickers, (f) => {\r\n            f(currentTime);\r\n        });\r\n    }\r\n    _runAnimations(currentTime) {\r\n        $array.keepIf(this._animations, (animation) => {\r\n            return animation._runAnimation(currentTime);\r\n        });\r\n    }\r\n    _runDirties() {\r\n        //console.log(\"tick **************************************************************\");\r\n        let allParents = {};\r\n        while (this._isDirtyParents) {\r\n            // This must be before calling _prepareChildren\r\n            this._isDirtyParents = false;\r\n            $object.keys(this._dirtyParents).forEach((key) => {\r\n                const parent = this._dirtyParents[key];\r\n                delete this._dirtyParents[key];\r\n                if (!parent.isDisposed()) {\r\n                    allParents[parent.uid] = parent;\r\n                    parent._prepareChildren();\r\n                }\r\n            });\r\n        }\r\n        $object.keys(allParents).forEach((key) => {\r\n            allParents[key]._updateChildren();\r\n        });\r\n        const objects = [];\r\n        //\t\tconsole.log(\"_beforeChanged\")\r\n        $object.keys(this._dirty).forEach((key) => {\r\n            const entity = this._dirty[key];\r\n            if (entity.isDisposed()) {\r\n                delete this._dirty[entity.uid];\r\n            }\r\n            else {\r\n                objects.push(entity);\r\n                entity._beforeChanged();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_changed\")\r\n        objects.forEach((entity) => {\r\n            entity._changed();\r\n            delete this._dirty[entity.uid];\r\n            entity._clearDirty();\r\n        });\r\n        this._isDirty = false;\r\n        const depths = {};\r\n        const bounds = [];\r\n        $object.keys(this._dirtyBounds).forEach((key) => {\r\n            const entity = this._dirtyBounds[key];\r\n            delete this._dirtyBounds[key];\r\n            if (!entity.isDisposed()) {\r\n                depths[entity.uid] = entity.depth();\r\n                bounds.push(entity);\r\n            }\r\n        });\r\n        this._positionHTMLElements();\r\n        // High depth -> low depth\r\n        bounds.sort((x, y) => {\r\n            return $order.compare(depths[y.uid], depths[x.uid]);\r\n        });\r\n        //\t\tconsole.log(\"_updateBounds\")\r\n        bounds.forEach((entity) => {\r\n            entity._updateBounds();\r\n        });\r\n        //\t\tconsole.log(\"_updatePosition\")\r\n        const dirtyPositions = this._dirtyPositions;\r\n        $object.keys(dirtyPositions).forEach((key) => {\r\n            const sprite = dirtyPositions[key];\r\n            delete dirtyPositions[key];\r\n            if (!sprite.isDisposed()) {\r\n                sprite._updatePosition();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_afterChanged\")\r\n        objects.forEach((entity) => {\r\n            entity._afterChanged();\r\n        });\r\n    }\r\n    _renderFrame(currentTime) {\r\n        if (this._updateTick) {\r\n            if (this.events.isEnabled(\"framestarted\")) {\r\n                this.events.dispatch(\"framestarted\", {\r\n                    type: \"framestarted\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            this._checkComputedStyles();\r\n            this._runTickers(currentTime);\r\n            this._runAnimations(currentTime);\r\n            this._runDirties();\r\n            this._render();\r\n            this._positionHTMLElements();\r\n            if (this.events.isEnabled(\"frameended\")) {\r\n                this.events.dispatch(\"frameended\", {\r\n                    type: \"frameended\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            return this._tickers.length === 0 &&\r\n                this._animations.length === 0 &&\r\n                !this._isDirty;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _runTicker(currentTime, now) {\r\n        if (!this.isDisposed()) {\r\n            this.animationTime = currentTime;\r\n            const done = this._renderFrame(currentTime);\r\n            // No more work to do\r\n            if (done) {\r\n                this._ticker = null;\r\n                this.animationTime = null;\r\n            }\r\n            else {\r\n                if (!this._paused) {\r\n                    if (now) {\r\n                        this._ticker;\r\n                    }\r\n                    else {\r\n                        rAF(this.fps, this._ticker);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _runTickerNow(timeout = 10000) {\r\n        if (!this.isDisposed()) {\r\n            const endTime = performance.now() + timeout;\r\n            for (;;) {\r\n                const currentTime = performance.now();\r\n                if (currentTime >= endTime) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n                this.animationTime = currentTime;\r\n                const done = this._renderFrame(currentTime);\r\n                if (done) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _startTicker() {\r\n        if (this._ticker === null) {\r\n            this.animationTime = null;\r\n            this._ticker = (currentTime) => {\r\n                this._runTicker(currentTime);\r\n            };\r\n            rAF(this.fps, this._ticker);\r\n        }\r\n    }\r\n    /**\r\n     * Returns whether the root is updating or not.\r\n     */\r\n    get updateTick() {\r\n        return this._updateTick;\r\n    }\r\n    /**\r\n     * Enables or disables the root updating.\r\n     */\r\n    set updateTick(value) {\r\n        this._updateTick = value;\r\n        if (value) {\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyEntity(entity) {\r\n        if (this._dirty[entity.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._dirty[entity.uid] = entity;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyParent(parent) {\r\n        if (this._dirtyParents[parent.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._isDirtyParents = true;\r\n            this._dirtyParents[parent.uid] = parent;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyBounds(entity) {\r\n        if (this._dirtyBounds[entity.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._dirtyBounds[entity.uid] = entity;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyPosition(sprite) {\r\n        if (this._dirtyPositions[sprite.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._dirtyPositions[sprite.uid] = sprite;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addAnimation(animation) {\r\n        // TODO use numeric id instead\r\n        if (this._animations.indexOf(animation) === -1) {\r\n            this._animations.push(animation);\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _markDirty() {\r\n        this._isDirty = true;\r\n    }\r\n    _markDirtyRedraw() {\r\n        this.events.once(\"frameended\", () => {\r\n            this._isDirty = true;\r\n            this._startTicker();\r\n        });\r\n    }\r\n    eachFrame(f) {\r\n        this._tickers.push(f);\r\n        this._startTicker();\r\n        return new Disposer(() => {\r\n            $array.removeFirst(this._tickers, f);\r\n        });\r\n    }\r\n    markDirtyGlobal(container) {\r\n        if (!container) {\r\n            container = this.container;\r\n        }\r\n        container.walkChildren((child) => {\r\n            if (child instanceof Container) {\r\n                this.markDirtyGlobal(child);\r\n            }\r\n            child.markDirty();\r\n            child.markDirtyBounds();\r\n        });\r\n    }\r\n    /**\r\n     * Returns width of the target container, in pixels.\r\n     *\r\n     * @return Width\r\n     */\r\n    width() {\r\n        // TODO make this more efficient, maybe just return the renderer's width ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).width);\r\n    }\r\n    /**\r\n     * Returns height of the target container, in pixels.\r\n     *\r\n     * @return Height\r\n     */\r\n    height() {\r\n        // TODO make this more efficient, maybe just return the renderer's height ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).height);\r\n    }\r\n    /**\r\n     * Disposes root and all the content in it.\r\n     */\r\n    dispose() {\r\n        if (!this._isDisposed) {\r\n            this._isDisposed = true;\r\n            this._rootContainer.dispose();\r\n            this._renderer.dispose();\r\n            this.horizontalLayout.dispose();\r\n            this.verticalLayout.dispose();\r\n            this.interfaceColors.dispose();\r\n            $array.each(this._disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n            if (this._inner) {\r\n                $utils.removeElement(this._inner);\r\n            }\r\n            $array.remove(registry.rootElements, this);\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if root element is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    /**\r\n     * Triggers screen reader read out a message.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n     * @param  text  Alert text\r\n     */\r\n    readerAlert(text) {\r\n        if (this._a11yD !== true) {\r\n            this._readerAlertElement.innerHTML = $utils.stripTags(text);\r\n        }\r\n    }\r\n    /**\r\n     * Sets themes to be used for the chart.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n     * @param  themes  A list of themes\r\n     */\r\n    setThemes(themes) {\r\n        this._rootContainer.set(\"themes\", themes);\r\n        // otherwise new themes are not applied\r\n        const tooltipContainer = this.tooltipContainer;\r\n        if (tooltipContainer) {\r\n            tooltipContainer._applyThemes();\r\n        }\r\n        // @todo review this\r\n        const interfaceColors = this.interfaceColors;\r\n        if (interfaceColors) {\r\n            interfaceColors._applyThemes();\r\n        }\r\n    }\r\n    _addTooltip() {\r\n        if (!this.tooltipContainer) {\r\n            const tooltipContainerSettings = this._tooltipContainerSettings;\r\n            const tooltipContainer = this._rootContainer.children.push(Container.new(this, {\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: p100,\r\n                height: p100,\r\n                layer: tooltipContainerSettings ? 35 : 30,\r\n                layerMargin: tooltipContainerSettings ? tooltipContainerSettings : undefined\r\n            }));\r\n            this.tooltipContainer = tooltipContainer;\r\n            const tooltip = Tooltip.new(this, {});\r\n            this.container.set(\"tooltip\", tooltip);\r\n            tooltip.hide(0);\r\n            this._tooltip = tooltip;\r\n        }\r\n    }\r\n    /**\r\n     * Accesibility\r\n     */\r\n    _registerTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (target.get(\"focusable\")) {\r\n            $array.pushOne(this._tabindexes, target);\r\n        }\r\n        else {\r\n            $array.remove(this._tabindexes, target);\r\n        }\r\n        this._invalidateTabindexes();\r\n    }\r\n    _unregisterTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        $array.remove(this._tabindexes, target);\r\n        this._invalidateTabindexes();\r\n    }\r\n    _invalidateTabindexes() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._tabindexes.sort((a, b) => {\r\n            const aindex = a.get(\"tabindexOrder\", 0);\r\n            const bindex = b.get(\"tabindexOrder\", 0);\r\n            if (aindex == bindex) {\r\n                return 0;\r\n            }\r\n            else if (aindex > bindex) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        });\r\n        const groups = [];\r\n        $array.each(this._tabindexes, (item, index) => {\r\n            if (!item.getPrivate(\"focusElement\")) {\r\n                this._makeFocusElement(index, item);\r\n            }\r\n            else {\r\n                this._moveFocusElement(index, item);\r\n            }\r\n            const group = item.get(\"focusableGroup\");\r\n            if (group && item.getPrivate(\"focusable\") !== false) {\r\n                if (groups.indexOf(group) !== -1) {\r\n                    // Non-first element in the group, make it not directly focusable\r\n                    item.getPrivate(\"focusElement\").dom.setAttribute(\"tabindex\", \"-1\");\r\n                }\r\n                else {\r\n                    groups.push(group);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _updateCurrentFocus() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (this._focusedSprite) {\r\n            this._decorateFocusElement(this._focusedSprite);\r\n            this._positionFocusElement(this._focusedSprite);\r\n        }\r\n    }\r\n    _decorateFocusElement(target, focusElement) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Decorate with proper accessibility attributes\r\n        if (!focusElement) {\r\n            focusElement = target.getPrivate(\"focusElement\").dom;\r\n        }\r\n        if (!focusElement) {\r\n            return;\r\n        }\r\n        const role = target.get(\"role\");\r\n        if (role) {\r\n            focusElement.setAttribute(\"role\", role);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"role\");\r\n        }\r\n        const ariaLabel = target.get(\"ariaLabel\");\r\n        if (ariaLabel) {\r\n            const label = populateString(target, ariaLabel);\r\n            focusElement.setAttribute(\"aria-label\", label);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-label\");\r\n        }\r\n        const ariaLive = target.get(\"ariaLive\");\r\n        if (ariaLive) {\r\n            focusElement.setAttribute(\"aria-live\", ariaLive);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-live\");\r\n        }\r\n        const ariaChecked = target.get(\"ariaChecked\");\r\n        if (ariaChecked != null) {\r\n            focusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-checked\");\r\n        }\r\n        if (target.get(\"ariaHidden\")) {\r\n            focusElement.setAttribute(\"aria-hidden\", \"true\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-hidden\");\r\n        }\r\n        const ariaOrientation = target.get(\"ariaOrientation\");\r\n        if (ariaOrientation) {\r\n            focusElement.setAttribute(\"aria-orientation\", ariaOrientation);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-orientation\");\r\n        }\r\n        const ariaValueNow = target.get(\"ariaValueNow\");\r\n        if (ariaValueNow) {\r\n            focusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuenow\");\r\n        }\r\n        const ariaValueMin = target.get(\"ariaValueMin\");\r\n        if (ariaValueMin) {\r\n            focusElement.setAttribute(\"aria-valuemin\", ariaValueMin);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemin\");\r\n        }\r\n        const ariaValueMax = target.get(\"ariaValueMax\");\r\n        if (ariaValueMax) {\r\n            focusElement.setAttribute(\"aria-valuemax\", ariaValueMax);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemax\");\r\n        }\r\n        const ariaValueText = target.get(\"ariaValueText\");\r\n        if (ariaValueText) {\r\n            focusElement.setAttribute(\"aria-valuetext\", ariaValueText);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuetext\");\r\n        }\r\n        const ariaControls = target.get(\"ariaControls\");\r\n        if (ariaControls) {\r\n            focusElement.setAttribute(\"aria-controls\", ariaControls);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-controls\");\r\n        }\r\n        if (target.get(\"visible\") && target.get(\"opacity\") !== 0 && target.get(\"role\") != \"tooltip\" && !target.isHidden() && target.getPrivate(\"focusable\") !== false) {\r\n            if (focusElement.getAttribute(\"tabindex\") != \"-1\") {\r\n                focusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\r\n            }\r\n            focusElement.removeAttribute(\"aria-hidden\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"tabindex\");\r\n            focusElement.setAttribute(\"aria-hidden\", \"true\");\r\n        }\r\n    }\r\n    _makeFocusElement(index, target) {\r\n        if (target.getPrivate(\"focusElement\") || this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Init\r\n        const focusElement = document.createElement(\"div\");\r\n        if (target.get(\"role\") != \"tooltip\") {\r\n            focusElement.tabIndex = this.tabindex;\r\n        }\r\n        focusElement.style.position = \"absolute\";\r\n        $utils.setInteractive(focusElement, false);\r\n        const disposers = [];\r\n        target.setPrivate(\"focusElement\", {\r\n            dom: focusElement,\r\n            disposers,\r\n        });\r\n        this._decorateFocusElement(target);\r\n        disposers.push($utils.addEventListener(focusElement, \"focus\", (ev) => {\r\n            this._handleFocus(ev, index);\r\n        }));\r\n        disposers.push($utils.addEventListener(focusElement, \"blur\", (ev) => {\r\n            this._handleBlur(ev, index);\r\n        }));\r\n        this._moveFocusElement(index, target);\r\n    }\r\n    _removeFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        $array.remove(this._tabindexes, target);\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (focusElement) {\r\n            const container = this._focusElementContainer;\r\n            container.removeChild(focusElement.dom);\r\n            $array.each(focusElement.disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n    }\r\n    _hideFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        focusElement.dom.style.display = \"none\";\r\n    }\r\n    _moveFocusElement(index, target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get container\r\n        const container = this._focusElementContainer;\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        if (focusElement === this._focusElementContainer.children[index]) {\r\n            // Nothing to do\r\n            return;\r\n        }\r\n        const next = this._focusElementContainer.children[index + 1];\r\n        if (next) {\r\n            container.insertBefore(focusElement, next);\r\n        }\r\n        else {\r\n            container.append(focusElement);\r\n        }\r\n    }\r\n    _positionFocusElement(target) {\r\n        if (this._a11yD == true || target == undefined) {\r\n            return;\r\n        }\r\n        const bounds = target.globalBounds();\r\n        let width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\r\n        let height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\r\n        let x = bounds.left - 2;\r\n        let y = bounds.top - 2;\r\n        if (width < 0) {\r\n            x += width;\r\n            width = Math.abs(width);\r\n        }\r\n        if (height < 0) {\r\n            y += height;\r\n            height = Math.abs(height);\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        focusElement.style.top = y + \"px\";\r\n        focusElement.style.left = x + \"px\";\r\n        focusElement.style.width = (width + 4) + \"px\";\r\n        focusElement.style.height = (height + 4) + \"px\";\r\n    }\r\n    _handleFocus(ev, index) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get element\r\n        const focused = this._tabindexes[index];\r\n        // Jump over hidden elements\r\n        if (!focused.isVisibleDeep()) {\r\n            this._focusNext(ev.target, this._isShift ? -1 : 1);\r\n            return;\r\n        }\r\n        // Size and position\r\n        this._positionFocusElement(focused);\r\n        //this._decorateFocusElement(focused);\r\n        this._focusedSprite = focused;\r\n        if (focused.events.isEnabled(\"focus\")) {\r\n            focused.events.dispatch(\"focus\", {\r\n                type: \"focus\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n    }\r\n    _focusNext(el, direction) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusableElements = Array.from(document.querySelectorAll([\r\n            'a[href]',\r\n            'area[href]',\r\n            'button:not([disabled])',\r\n            'details',\r\n            'input:not([disabled])',\r\n            'iframe:not([disabled])',\r\n            'select:not([disabled])',\r\n            'textarea:not([disabled])',\r\n            '[contentEditable=\"\"]',\r\n            '[contentEditable=\"true\"]',\r\n            '[contentEditable=\"TRUE\"]',\r\n            '[tabindex]:not([tabindex^=\"-\"])',\r\n            //':not([disabled])'\r\n        ].join(',')));\r\n        let index = focusableElements.indexOf(el) + direction;\r\n        if (index < 0) {\r\n            index = focusableElements.length - 1;\r\n        }\r\n        else if (index >= focusableElements.length) {\r\n            index = 0;\r\n        }\r\n        focusableElements[index].focus();\r\n    }\r\n    _handleBlur(ev, _index) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focused = this._focusedSprite;\r\n        if (focused && focused.events.isEnabled(\"blur\")) {\r\n            focused.events.dispatch(\"blur\", {\r\n                type: \"blur\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n        this._focusedSprite = undefined;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltip(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const text = $utils.stripTags(target._getText());\r\n        let tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (target.get(\"role\") == \"tooltip\" && text != \"\") {\r\n            if (!tooltipElement) {\r\n                tooltipElement = this._makeTooltipElement(target);\r\n            }\r\n            if (tooltipElement.innerHTML != text) {\r\n                tooltipElement.innerHTML = text;\r\n            }\r\n        }\r\n        else if (tooltipElement) {\r\n            tooltipElement.remove();\r\n            target.removePrivate(\"tooltipElement\");\r\n        }\r\n    }\r\n    _makeTooltipElement(target) {\r\n        const container = this._tooltipElementContainer;\r\n        const tooltipElement = document.createElement(\"div\");\r\n        tooltipElement.style.position = \"absolute\";\r\n        tooltipElement.style.width = \"1px\";\r\n        tooltipElement.style.height = \"1px\";\r\n        tooltipElement.style.overflow = \"hidden\";\r\n        tooltipElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n        $utils.setInteractive(tooltipElement, false);\r\n        this._decorateFocusElement(target, tooltipElement);\r\n        container.append(tooltipElement);\r\n        target.setPrivate(\"tooltipElement\", tooltipElement);\r\n        return tooltipElement;\r\n    }\r\n    _removeTooltipElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (tooltipElement) {\r\n            const parent = tooltipElement.parentElement;\r\n            if (parent) {\r\n                parent.removeChild(tooltipElement);\r\n            }\r\n        }\r\n    }\r\n    _invalidateAccessibility(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._focusElementDirty = true;\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (target.get(\"focusable\")) {\r\n            if (focusElement) {\r\n                this._decorateFocusElement(target);\r\n                this._positionFocusElement(target);\r\n            }\r\n            // else {\r\n            // \tthis._renderer._makeFocusElement(0, this);\r\n            // }\r\n        }\r\n        else if (focusElement) {\r\n            this._removeFocusElement(target);\r\n        }\r\n        //this.updateCurrentFocus();\r\n    }\r\n    /**\r\n     * Returns `true` if `target` is currently focused.\r\n     *\r\n     * @param   target  Target\r\n     * @return          Focused?\r\n     */\r\n    focused(target) {\r\n        return this._focusedSprite === target;\r\n    }\r\n    /**\r\n     * Converts document coordinates to coordinates withing root element.\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    documentPointToRoot(point) {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const scaleWidth = size.width / rect.width;\r\n        const scaleHeight = size.height / rect.height;\r\n        return {\r\n            x: (point.x - rect.left) * scaleWidth,\r\n            y: (point.y - rect.top) * scaleHeight,\r\n        };\r\n    }\r\n    /**\r\n     * Converts root coordinates to document\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    rootPointToDocument(point) {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const scaleWidth = size.width / rect.width;\r\n        const scaleHeight = size.height / rect.height;\r\n        return {\r\n            x: (point.x / scaleWidth) + rect.left,\r\n            y: (point.y / scaleHeight) + rect.top\r\n        };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _updateComputedStyles() {\r\n        const styles = window.getComputedStyle(this.dom);\r\n        let fontHash = \"\";\r\n        $object.each(styles, (key, val) => {\r\n            if ($type.isString(key) && key.match(/^font/)) {\r\n                fontHash += val;\r\n            }\r\n        });\r\n        const changed = fontHash != this._fontHash;\r\n        if (changed) {\r\n            this._fontHash = fontHash;\r\n        }\r\n        return changed;\r\n    }\r\n    _checkComputedStyles() {\r\n        if (this._updateComputedStyles()) {\r\n            this._invalidateLabelBounds(this.container);\r\n        }\r\n    }\r\n    _invalidateLabelBounds(target) {\r\n        if (target instanceof Container) {\r\n            target.children.each((child) => {\r\n                this._invalidateLabelBounds(child);\r\n            });\r\n        }\r\n        else if (target instanceof Text) {\r\n            target.markDirtyBounds();\r\n        }\r\n    }\r\n    /**\r\n     * To all the clever heads out there. Yes, we did not make any attempts to\r\n     * scramble this.\r\n     *\r\n     * This is a part of a tool meant for our users to manage their commercial\r\n     * licenses for removal of amCharts branding from charts.\r\n     *\r\n     * The only legit way to do so is to purchase a commercial license for amCharts:\r\n     * https://www.amcharts.com/online-store/\r\n     *\r\n     * Removing or altering this code, or disabling amCharts branding in any other\r\n     * way is against the license and thus illegal.\r\n     */\r\n    _hasLicense() {\r\n        for (let i = 0; i < registry.licenses.length; i++) {\r\n            if (registry.licenses[i].match(/^AM5C.{5,}/i)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    _licenseApplied() {\r\n        if (this._logo) {\r\n            this._logo.set(\"forceHidden\", true);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get debugGhostView() {\r\n        return this._renderer.debugGhostView;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    set debugGhostView(value) {\r\n        this._renderer.debugGhostView = value;\r\n    }\r\n    /**\r\n     * Set this to `true` if you need chart to require first a tap onto it before\r\n     * touch gesture related functionality like zoom/pan is turned on.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default false\r\n     * @since 5.2.9\r\n     * @param  value  Needs a tap to activate touch functions\r\n     */\r\n    set tapToActivate(value) {\r\n        this._renderer.tapToActivate = value;\r\n    }\r\n    /**\r\n     * @return Needs a tap to activate touch functions\r\n     */\r\n    get tapToActivate() {\r\n        return this._renderer.tapToActivate;\r\n    }\r\n    /**\r\n     * If `tapToActivate` is set to `true`, this setting will determine number\r\n     * of milliseconds the chart will stay \"active\", before releasing the\r\n     * controls back to the page.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default 3000\r\n     * @since 5.2.9\r\n     * @param  value  Timeout\r\n     */\r\n    set tapToActivateTimeout(value) {\r\n        this._renderer.tapToActivateTimeout = value;\r\n    }\r\n    /**\r\n     * @return Timeout\r\n     */\r\n    get tapToActivateTimeout() {\r\n        return this._renderer.tapToActivateTimeout;\r\n    }\r\n    _makeHTMLElement(target) {\r\n        // Get container\r\n        const container = this._htmlElementContainer;\r\n        // Init\r\n        const htmlElement = document.createElement(\"div\");\r\n        target.setPrivate(\"htmlElement\", htmlElement);\r\n        //htmlElement.tabIndex = this.tabindex;\r\n        htmlElement.style.position = \"absolute\";\r\n        htmlElement.style.overflow = \"auto\";\r\n        htmlElement.style.boxSizing = \"border-box\";\r\n        $utils.setInteractive(htmlElement, target.get(\"interactive\", false));\r\n        // Translate events\r\n        if (target.events.isEnabled(\"click\")) {\r\n            $utils.setInteractive(htmlElement, true);\r\n            this._disposers.push($utils.addEventListener(htmlElement, \"click\", (ev) => {\r\n                const downEvent = this._renderer.getEvent(ev);\r\n                target.events.dispatch(\"click\", {\r\n                    type: \"click\",\r\n                    originalEvent: downEvent.event,\r\n                    point: downEvent.point,\r\n                    simulated: false,\r\n                    target: target\r\n                });\r\n            }));\r\n        }\r\n        this._positionHTMLElement(target);\r\n        container.append(htmlElement);\r\n        $array.pushOne(this._htmlEnabledContainers, target);\r\n        return htmlElement;\r\n    }\r\n    _positionHTMLElements() {\r\n        $array.each(this._htmlEnabledContainers, (target) => {\r\n            this._positionHTMLElement(target);\r\n        });\r\n    }\r\n    _positionHTMLElement(target) {\r\n        const htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElement) {\r\n            // Translate settings\r\n            const visualSettings = [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\", \"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\r\n            $array.each(visualSettings, (setting) => {\r\n                const value = target.get(setting);\r\n                if (value) {\r\n                    htmlElement.style[setting] = value + \"px\";\r\n                }\r\n                else {\r\n                    htmlElement.style[setting] = \"\";\r\n                }\r\n            });\r\n            // Deal with opacity\r\n            const opacity = target.compositeOpacity();\r\n            setTimeout(() => {\r\n                htmlElement.style.opacity = opacity + \"\";\r\n            }, 10);\r\n            const visible = target.isVisibleDeep();\r\n            if (visible) {\r\n                htmlElement.style.display = \"block\";\r\n            }\r\n            // Deal with position\r\n            const bounds = target.globalBounds();\r\n            htmlElement.style.top = (bounds.top) + \"px\";\r\n            htmlElement.style.left = (bounds.left) + \"px\";\r\n            // Use width/height if those are set\r\n            const width = target.get(\"width\");\r\n            const height = target.get(\"height\");\r\n            let w = 0;\r\n            let h = 0;\r\n            if (width) {\r\n                w = target.width();\r\n            }\r\n            if (height) {\r\n                h = target.height();\r\n            }\r\n            if (!width || !height) {\r\n                htmlElement.style.position = \"fixed\";\r\n                htmlElement.style.width = \"\";\r\n                htmlElement.style.height = \"\";\r\n                const bbox = htmlElement.getBoundingClientRect();\r\n                htmlElement.style.position = \"absolute\";\r\n                w = bbox.width;\r\n                h = bbox.height;\r\n                target._adjustedLocalBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n                target.setPrivate(\"minWidth\", w);\r\n                target.setPrivate(\"minHeight\", h);\r\n            }\r\n            else {\r\n                target.removePrivate(\"minWidth\");\r\n                target.removePrivate(\"minHeight\");\r\n            }\r\n            if (w > 0) {\r\n                htmlElement.style.minWidth = (w) + \"px\";\r\n            }\r\n            if (h > 0) {\r\n                htmlElement.style.minHeight = (h) + \"px\";\r\n            }\r\n            // Hide or show\r\n            if (!visible || opacity == 0) {\r\n                htmlElement.style.display = \"none\";\r\n            }\r\n        }\r\n    }\r\n    _setHTMLContent(target, html) {\r\n        let htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (!htmlElement) {\r\n            htmlElement = this._makeHTMLElement(target);\r\n        }\r\n        if (htmlElement.innerHTML != html) {\r\n            htmlElement.innerHTML = html;\r\n        }\r\n    }\r\n    _removeHTMLContent(target) {\r\n        let htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElement) {\r\n            this._htmlElementContainer.removeChild(htmlElement);\r\n        }\r\n        $array.remove(this._htmlEnabledContainers, target);\r\n    }\r\n}\r\n//# sourceMappingURL=Root.js.map","import { List } from \"./List\";\r\n/**\r\n * A [[List]] that holds components data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n */\r\nexport class ListData extends List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * An optional processor for data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n         */\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    incrementRef() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    decrementRef() { }\r\n    _onPush(newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n            //console.log(newValue)\r\n        }\r\n        super._onPush(newValue);\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onInsertIndex(index, newValue);\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n}\r\n/**\r\n * @deprecated\r\n * @todo remove\r\n */\r\nexport class JsonData {\r\n    constructor(value) {\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = value;\r\n    }\r\n    incrementRef() { }\r\n    decrementRef() { }\r\n}\r\n//# sourceMappingURL=Data.js.map","import { __awaiter } from \"tslib\";\r\nimport { Settings } from \"../util/Entity\";\r\nimport { Container } from \"./Container\";\r\nimport { ListData } from \"../util/Data\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $object from \"../util/Object\";\r\n/**\r\n * A base element that holds data bit (data item) for any [[Component]].\r\n */\r\nexport class DataItem extends Settings {\r\n    constructor(component, dataContext, settings) {\r\n        super(settings);\r\n        /**\r\n         * A data item's owener [[Component]].\r\n         */\r\n        Object.defineProperty(this, \"component\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A reference to actual item in source data this item is based on.\r\n         */\r\n        Object.defineProperty(this, \"dataContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * @todo requires description\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"open\" values.\r\n         */\r\n        Object.defineProperty(this, \"open\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"close\" values.\r\n         */\r\n        Object.defineProperty(this, \"close\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.dataContext = dataContext;\r\n        this.component = component;\r\n        this._settings.visible = true;\r\n        this._checkDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this.component.markDirtyValues(this);\r\n    }\r\n    _startAnimation() {\r\n        this.component._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this.component._root.animationTime;\r\n    }\r\n    _dispose() {\r\n        if (this.component) {\r\n            this.component.disposeDataItem(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    /**\r\n     * Shows a data item that's currently hidden.\r\n     */\r\n    show(duration) {\r\n        this.setRaw(\"visible\", true);\r\n        if (this.component) {\r\n            this.component.showDataItem(this, duration);\r\n        }\r\n    }\r\n    /**\r\n     * Hides a data item that's currently visible.\r\n     */\r\n    hide(duration) {\r\n        this.setRaw(\"visible\", false);\r\n        if (this.component) {\r\n            this.component.hideDataItem(this, duration);\r\n        }\r\n    }\r\n    isHidden() {\r\n        return !this.get(\"visible\");\r\n    }\r\n}\r\n/**\r\n * A base class for elements that make use of data.\r\n */\r\nexport class Component extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_data\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListData()\r\n        });\r\n        Object.defineProperty(this, \"_dataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mainDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._dataItems\r\n        });\r\n        Object.defineProperty(this, \"valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\"id\"]\r\n        });\r\n        Object.defineProperty(this, \"_valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueFieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataChanged\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates if the component has already been initialized.\r\n         */\r\n        Object.defineProperty(this, \"inited\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    /**\r\n     * Component's data.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n     */\r\n    set data(data) {\r\n        data.incrementRef();\r\n        this._data.decrementRef();\r\n        this._data = data;\r\n    }\r\n    /**\r\n     * @return  Data\r\n     */\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._data.decrementRef();\r\n    }\r\n    _onDataClear() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._data.incrementRef();\r\n        this._updateFields();\r\n        this._disposers.push(this.data.events.onAll((change) => {\r\n            const dataItems = this._mainDataItems;\r\n            this.markDirtyValues();\r\n            this._markDirtyGroup();\r\n            this._dataChanged = true;\r\n            if (change.type === \"clear\") {\r\n                $array.each(dataItems, (dataItem) => {\r\n                    dataItem.dispose();\r\n                });\r\n                dataItems.length = 0;\r\n                this._onDataClear();\r\n            }\r\n            else if (change.type === \"push\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.push(dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                const properties = this._makeDataItem(change.newValue);\r\n                if (dataItem.bullets && dataItem.bullets.length == 0) {\r\n                    dataItem.bullets = undefined;\r\n                }\r\n                $object.keys(properties).forEach((key) => {\r\n                    dataItem.animate({\r\n                        key: key,\r\n                        to: properties[key],\r\n                        duration: this.get(\"interpolationDuration\", 0),\r\n                        easing: this.get(\"interpolationEasing\"),\r\n                    });\r\n                });\r\n                dataItem.dataContext = change.newValue;\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.splice(change.index, 0, dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                dataItem.dispose();\r\n                dataItems.splice(change.index, 1);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                const dataItem = dataItems[change.oldIndex];\r\n                dataItems.splice(change.oldIndex, 1);\r\n                dataItems.splice(change.newIndex, 0, dataItem);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n            this._afterDataChange();\r\n        }));\r\n    }\r\n    _updateFields() {\r\n        if (this.valueFields) {\r\n            this._valueFields = [];\r\n            this._valueFieldsF = {};\r\n            $array.each(this.valueFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueFields.push(key);\r\n                    this._valueFieldsF[key] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\r\n                }\r\n            });\r\n        }\r\n        if (this.fields) {\r\n            this._fields = [];\r\n            this._fieldsF = {};\r\n            $array.each(this.fields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._fields.push(key);\r\n                    this._fieldsF[key] = key + \"Field\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * A list of component's data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get dataItems() {\r\n        return this._dataItems;\r\n    }\r\n    processDataItem(_dataItem) { }\r\n    _makeDataItem(data) {\r\n        //const output: this[\"_dataItemSettings\"] = {};\r\n        const output = {}; // temporary to solve error\r\n        if (this._valueFields) {\r\n            $array.each(this._valueFields, (key) => {\r\n                const field = this.get((this._valueFieldsF[key].fieldKey));\r\n                output[key] = data[field];\r\n                output[this._valueFieldsF[key].workingKey] = output[key];\r\n            });\r\n        }\r\n        if (this._fields) {\r\n            $array.each(this._fields, (key) => {\r\n                const field = this.get((this._fieldsF[key]));\r\n                output[key] = data[field];\r\n            });\r\n        }\r\n        return output;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeDataItem(data) {\r\n        let dataItem = new DataItem(this, undefined, data);\r\n        this.processDataItem(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    pushDataItem(data) {\r\n        const dataItem = this.makeDataItem(data);\r\n        this._mainDataItems.push(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(_dataItem) {\r\n    }\r\n    /**\r\n     * Shows component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    showDataItem(dataItem, _duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", true);\r\n        });\r\n    }\r\n    /**\r\n     * Hides component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    hideDataItem(dataItem, _duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", false);\r\n        });\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._valuesDirty = false;\r\n    }\r\n    _afterDataChange() {\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._dataChanged) {\r\n            const type = \"datavalidated\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n            this._dataChanged = false;\r\n        }\r\n        this.inited = true;\r\n    }\r\n    /**\r\n     * Forces a repaint of the element which relies on data.\r\n     *\r\n     * @since 5.0.21\r\n     */\r\n    markDirtyValues(_dataItem) {\r\n        this.markDirty();\r\n        this._valuesDirty = true;\r\n    }\r\n    _markDirtyGroup() {\r\n        this._dataGrouped = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n}\r\nObject.defineProperty(Component, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Component\"\r\n});\r\nObject.defineProperty(Component, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Component.className])\r\n});\r\n//# sourceMappingURL=Component.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * Returns a `Promise` which can be used to execute code after number of\r\n * milliseconds.\r\n *\r\n * @param   ms  Sleep duration in ms\r\n * @return      Promise\r\n */\r\nexport function sleep(ms) {\r\n    return new Promise((resolve, _reject) => {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport let timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 365.242 / 12 * 86400000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nexport function getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nexport function getDuration(unit, count) {\r\n    if (count == null) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getIntervalDuration(interval) {\r\n    if (interval) {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    return 0;\r\n}\r\nexport function getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {\r\n    const unit = interval.timeUnit;\r\n    const count = interval.count;\r\n    if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    else {\r\n        const firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        let lastTime = firstTime + count * getDuration(unit) * 1.05;\r\n        lastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        return lastTime - firstTime;\r\n    }\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nexport function now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nexport function getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nexport function copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @param timeOne  timestamp\r\n * @param timeTwo  timestamp\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nexport function checkChange(timeOne, timeTwo, unit, utc, timezone) {\r\n    // quick\r\n    if ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\r\n        return true;\r\n    }\r\n    let dateOne = new Date(timeOne);\r\n    let dateTwo = new Date(timeTwo);\r\n    if (timezone) {\r\n        dateOne = timezone.convertLocal(dateOne);\r\n        dateTwo = timezone.convertLocal(dateTwo);\r\n    }\r\n    let timeZoneOffset1 = 0;\r\n    let timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    let changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return changed;\r\n    }\r\n    let nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        return checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nexport function add(date, unit, count, utc, timezone) {\r\n    let timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        if (timezone) {\r\n            timeZoneOffset -= timezone.offsetUTC(date);\r\n        }\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            let day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            let seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            let milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            let hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            let minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            let year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            let month = date.getUTCMonth();\r\n            date.setUTCMonth(month + count);\r\n            break;\r\n        case \"week\":\r\n            let wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            let newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (timezone) {\r\n                newTimeZoneOffset += timezone.offsetUTC(date);\r\n            }\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                let diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if new time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @param utc              Use UTC timezone\r\n * @param firstDate        First date to round to\r\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\r\n * @param timezone         Use specific named timezone when rounding\r\n * @return New date\r\n */\r\nexport function round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {\r\n    if (!timezone || utc) {\r\n        let timeZoneOffset = 0;\r\n        if (!utc && unit != \"millisecond\") {\r\n            timeZoneOffset = date.getTimezoneOffset();\r\n            date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n        }\r\n        switch (unit) {\r\n            case \"day\":\r\n                let day = date.getUTCDate();\r\n                if (count > 1) {\r\n                    //\tday = Math.floor(day / count) * count;\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"day\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                        let duration = getDuration(\"day\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                else {\r\n                    date.setUTCDate(day);\r\n                }\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"second\":\r\n                let seconds = date.getUTCSeconds();\r\n                if (count > 1) {\r\n                    seconds = Math.floor(seconds / count) * count;\r\n                }\r\n                date.setUTCSeconds(seconds, 0);\r\n                break;\r\n            case \"millisecond\":\r\n                if (count == 1) {\r\n                    return date; // much better for perf!\r\n                }\r\n                let milliseconds = date.getUTCMilliseconds();\r\n                milliseconds = Math.floor(milliseconds / count) * count;\r\n                date.setUTCMilliseconds(milliseconds);\r\n                break;\r\n            case \"hour\":\r\n                let hours = date.getUTCHours();\r\n                if (count > 1) {\r\n                    hours = Math.floor(hours / count) * count;\r\n                }\r\n                date.setUTCHours(hours, 0, 0, 0);\r\n                break;\r\n            case \"minute\":\r\n                let minutes = date.getUTCMinutes();\r\n                if (count > 1) {\r\n                    minutes = Math.floor(minutes / count) * count;\r\n                }\r\n                date.setUTCMinutes(minutes, 0, 0);\r\n                break;\r\n            case \"month\":\r\n                let month = date.getUTCMonth();\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                date.setUTCMonth(month, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"year\":\r\n                let year = date.getUTCFullYear();\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                date.setUTCFullYear(year, 0, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"week\":\r\n                let wday = date.getUTCDate();\r\n                let weekDay = date.getUTCDay();\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekDay >= firstDateOfWeek) {\r\n                    wday = wday - weekDay + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n                }\r\n                date.setUTCDate(wday);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (!utc && unit != \"millisecond\") {\r\n            date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n            if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n                let newTimeZoneOffset = date.getTimezoneOffset();\r\n                if (newTimeZoneOffset != timeZoneOffset) {\r\n                    let diff = newTimeZoneOffset - timeZoneOffset;\r\n                    date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                }\r\n            }\r\n        }\r\n        return date;\r\n    }\r\n    else {\r\n        if (isNaN(date.getTime())) {\r\n            return date;\r\n        }\r\n        let tzoffset = timezone.offsetUTC(date);\r\n        let timeZoneOffset = date.getTimezoneOffset();\r\n        let parsedDate = timezone.parseDate(date);\r\n        //console.log(parsedDate)\r\n        let year = parsedDate.year;\r\n        let month = parsedDate.month;\r\n        let day = parsedDate.day;\r\n        let hour = parsedDate.hour;\r\n        let minute = parsedDate.minute;\r\n        let second = parsedDate.second;\r\n        let millisecond = parsedDate.millisecond;\r\n        let weekday = parsedDate.weekday;\r\n        switch (unit) {\r\n            case \"day\":\r\n                if (count > 1 && firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\r\n                    let difference = date.getTime() - firstDate.getTime();\r\n                    let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    let duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration);\r\n                    parsedDate = timezone.parseDate(date);\r\n                    year = parsedDate.year;\r\n                    month = parsedDate.month;\r\n                    day = parsedDate.day;\r\n                }\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"second\":\r\n                minute += tzoffset - timeZoneOffset;\r\n                if (count > 1) {\r\n                    second = Math.floor(second / count) * count;\r\n                }\r\n                millisecond = 0;\r\n                break;\r\n            case \"millisecond\":\r\n                minute += tzoffset - timeZoneOffset;\r\n                if (count > 1) {\r\n                    millisecond = Math.floor(millisecond / count) * count;\r\n                }\r\n                break;\r\n            case \"hour\":\r\n                if (count > 1) {\r\n                    hour = Math.floor(hour / count) * count;\r\n                }\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"minute\":\r\n                if (count > 1) {\r\n                    minute = Math.floor(minute / count) * count;\r\n                }\r\n                minute += tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"month\":\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                day = 1;\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"year\":\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                month = 0;\r\n                day = 1;\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"week\":\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekday >= firstDateOfWeek) {\r\n                    day = day - weekday + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    day = day - (7 + weekday) + firstDateOfWeek;\r\n                }\r\n                hour = 0;\r\n                minute = tzoffset - timeZoneOffset;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n        }\r\n        date = new Date(year, month, day, hour, minute, second, millisecond);\r\n        let newOffset = date.getTimezoneOffset();\r\n        if (newOffset != timeZoneOffset) {\r\n            date.setTime(date.getTime() + (timeZoneOffset - newOffset) * 60000);\r\n        }\r\n        return date;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function chooseInterval(index, duration, gridCount, intervals) {\r\n    let gridInterval = intervals[index];\r\n    let intervalDuration = getIntervalDuration(gridInterval);\r\n    let lastIndex = intervals.length - 1;\r\n    if (index >= lastIndex) {\r\n        return Object.assign({}, intervals[lastIndex]);\r\n    }\r\n    let count = Math.ceil(duration / intervalDuration);\r\n    if (duration < intervalDuration && index > 0) {\r\n        return Object.assign({}, intervals[index - 1]);\r\n    }\r\n    if (count <= gridCount) {\r\n        return Object.assign({}, intervals[index]);\r\n    }\r\n    else {\r\n        if (index + 1 < intervals.length) {\r\n            return chooseInterval(index + 1, duration, gridCount, intervals);\r\n        }\r\n        else {\r\n            return Object.assign({}, intervals[index]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getUnitValue(date, unit) {\r\n    switch (unit) {\r\n        case \"day\":\r\n            return date.getDate();\r\n        case \"second\":\r\n            return date.getSeconds();\r\n        case \"millisecond\":\r\n            return date.getMilliseconds();\r\n        case \"hour\":\r\n            return date.getHours();\r\n        case \"minute\":\r\n            return date.getMinutes();\r\n        case \"month\":\r\n            return date.getMonth();\r\n        case \"year\":\r\n            return date.getFullYear();\r\n        case \"week\":\r\n            return $utils.getWeek(date);\r\n    }\r\n}\r\n//# sourceMappingURL=Time.js.map","import { __awaiter } from \"tslib\";\r\nimport { Component } from \"../../core/render/Component\";\r\nimport { List } from \"../../core/util/List\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { percentInterpolate } from \"../../core/util/Animation\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $time from \"../../core/util/Time\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\n/**\r\n * A base class for all series.\r\n */\r\nexport class Series extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_aggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionAggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_psi\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_pei\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A chart series belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * List of bullets to use for the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        /**\r\n         * A [[Container]] series' bullets are stored in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, position: \"absolute\" })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.valueFields.push(\"value\");\r\n        super._afterNew();\r\n        this.setPrivate(\"customData\", {});\r\n        this._disposers.push(this.bullets.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _dispose() {\r\n        this.bulletsContainer.dispose(); // can be in a different parent\r\n        super._dispose();\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"startIndex\", 0), len);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"endIndex\", len), len);\r\n    }\r\n    _handleBullets(dataItems) {\r\n        $array.each(dataItems, (dataItem) => {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    bullet.dispose();\r\n                });\r\n                dataItem.bullets = undefined;\r\n            }\r\n        });\r\n        this.markDirtyValues();\r\n    }\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    getDataItemById(id) {\r\n        return $array.find(this.dataItems, (dataItem) => {\r\n            return dataItem.get(\"id\") == id;\r\n        });\r\n    }\r\n    _makeBullets(dataItem) {\r\n        if (this._shouldMakeBullet(dataItem)) {\r\n            dataItem.bullets = [];\r\n            this.bullets.each((bulletFunction) => {\r\n                this._makeBullet(dataItem, bulletFunction);\r\n            });\r\n        }\r\n    }\r\n    _shouldMakeBullet(_dataItem) {\r\n        return true;\r\n    }\r\n    _makeBullet(dataItem, bulletFunction, index) {\r\n        const bullet = bulletFunction(this._root, this, dataItem);\r\n        if (bullet) {\r\n            let sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite._setDataItem(dataItem);\r\n                sprite.setRaw(\"position\", \"absolute\");\r\n                this.bulletsContainer.children.push(sprite);\r\n            }\r\n            bullet._index = index;\r\n            bullet.series = this;\r\n            dataItem.bullets.push(bullet);\r\n        }\r\n        return bullet;\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._aggregatesCalculated = false;\r\n        this._selectionAggregatesCalculated = false;\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        let startIndex = this.startIndex();\r\n        let endIndex = this.endIndex();\r\n        if (this.isDirty(\"heatRules\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isPrivateDirty(\"baseValueSeries\")) {\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            if (baseValueSeries) {\r\n                this._disposers.push(baseValueSeries.onPrivate(\"startIndex\", () => {\r\n                    this.markDirtyValues();\r\n                }));\r\n            }\r\n        }\r\n        const calculateAggregates = this.get(\"calculateAggregates\");\r\n        if (calculateAggregates) {\r\n            if (this._valuesDirty && !this._dataProcessed) {\r\n                if (!this._aggregatesCalculated) {\r\n                    this._calculateAggregates(0, this.dataItems.length);\r\n                    this._aggregatesCalculated = true;\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex) && !this._selectionAggregatesCalculated) {\r\n                if (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this._calculateAggregates(startIndex, endIndex);\r\n                }\r\n                this._selectionAggregatesCalculated = true;\r\n            }\r\n        }\r\n        if (this.isDirty(\"tooltip\")) {\r\n            let tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.hide(0);\r\n                tooltip.set(\"tooltipTarget\", this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\r\n            let markerRectangle;\r\n            const legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    if (this.isVisible()) {\r\n                        if (this.isDirty(\"stroke\")) {\r\n                            let stroke = this.get(\"stroke\");\r\n                            markerRectangle.set(\"stroke\", stroke);\r\n                        }\r\n                        if (this.isDirty(\"fill\")) {\r\n                            let fill = this.get(\"fill\");\r\n                            markerRectangle.set(\"fill\", fill);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.updateLegendMarker(undefined);\r\n        }\r\n        if (this.bullets.length > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < this.dataItems.length) {\r\n                endIndex++;\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                if (!dataItem.bullets) {\r\n                    this._makeBullets(dataItem);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _calculateAggregates(startIndex, endIndex) {\r\n        let fields = this._valueFields;\r\n        if (!fields) {\r\n            throw new Error(\"No value fields are set for the series.\");\r\n        }\r\n        const sum = {};\r\n        const absSum = {};\r\n        const count = {};\r\n        const low = {};\r\n        const high = {};\r\n        const open = {};\r\n        const close = {};\r\n        const average = {};\r\n        const previous = {};\r\n        $array.each(fields, (key) => {\r\n            sum[key] = 0;\r\n            absSum[key] = 0;\r\n            count[key] = 0;\r\n        });\r\n        $array.each(fields, (key) => {\r\n            let change = key + \"Change\";\r\n            let changePercent = key + \"ChangePercent\";\r\n            let changePrevious = key + \"ChangePrevious\";\r\n            let changePreviousPercent = key + \"ChangePreviousPercent\";\r\n            let changeSelection = key + \"ChangeSelection\";\r\n            let changeSelectionPercent = key + \"ChangeSelectionPercent\";\r\n            let openKey = \"valueY\";\r\n            if (key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\") {\r\n                openKey = \"valueX\";\r\n            }\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                let value = dataItem.get(key);\r\n                if (value != null) {\r\n                    count[key]++;\r\n                    sum[key] += value;\r\n                    absSum[key] += Math.abs(value);\r\n                    average[key] = sum[key] / count[key];\r\n                    if (low[key] > value || low[key] == null) {\r\n                        low[key] = value;\r\n                    }\r\n                    if (high[key] < value || high[key] == null) {\r\n                        high[key] = value;\r\n                    }\r\n                    close[key] = value;\r\n                    if (open[key] == null) {\r\n                        open[key] = value;\r\n                        previous[key] = value;\r\n                        if (baseValueSeries) {\r\n                            open[openKey] = baseValueSeries._getBase(openKey);\r\n                        }\r\n                    }\r\n                    if (startIndex === 0) {\r\n                        dataItem.setRaw((change), value - open[openKey]);\r\n                        dataItem.setRaw((changePercent), (value - open[openKey]) / open[openKey] * 100);\r\n                    }\r\n                    dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                    dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                    dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                    dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                    previous[key] = value;\r\n                }\r\n            }\r\n        });\r\n        $array.each(fields, (key) => {\r\n            this.setPrivate((key + \"AverageSelection\"), average[key]);\r\n            this.setPrivate((key + \"CountSelection\"), count[key]);\r\n            this.setPrivate((key + \"SumSelection\"), sum[key]);\r\n            this.setPrivate((key + \"AbsoluteSumSelection\"), absSum[key]);\r\n            this.setPrivate((key + \"LowSelection\"), low[key]);\r\n            this.setPrivate((key + \"HighSelection\"), high[key]);\r\n            this.setPrivate((key + \"OpenSelection\"), open[key]);\r\n            this.setPrivate((key + \"CloseSelection\"), close[key]);\r\n        });\r\n        if (startIndex === 0 && endIndex === this.dataItems.length) {\r\n            $array.each(fields, (key) => {\r\n                this.setPrivate((key + \"Average\"), average[key]);\r\n                this.setPrivate((key + \"Count\"), count[key]);\r\n                this.setPrivate((key + \"Sum\"), sum[key]);\r\n                this.setPrivate((key + \"AbsoluteSum\"), absSum[key]);\r\n                this.setPrivate((key + \"Low\"), low[key]);\r\n                this.setPrivate((key + \"High\"), high[key]);\r\n                this.setPrivate((key + \"Open\"), open[key]);\r\n                this.setPrivate((key + \"Close\"), close[key]);\r\n            });\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        this._psi = this.startIndex();\r\n        this._pei = this.endIndex();\r\n        if (this.isDirty(\"visible\")) {\r\n            this.bulletsContainer.set(\"visible\", this.get(\"visible\"));\r\n        }\r\n        // Apply heat rules\r\n        const rules = this.get(\"heatRules\");\r\n        if (this._valuesDirty && rules && rules.length > 0) {\r\n            $array.each(rules, (rule) => {\r\n                const minValue = rule.minValue || this.getPrivate((rule.dataField + \"Low\")) || 0;\r\n                const maxValue = rule.maxValue || this.getPrivate((rule.dataField + \"High\")) || 0;\r\n                $array.each(rule.target._entities, (target) => {\r\n                    const value = target.dataItem.get(rule.dataField);\r\n                    if (!$type.isNumber(value)) {\r\n                        if (rule.neutral) {\r\n                            target.set(rule.key, rule.neutral);\r\n                        }\r\n                        return;\r\n                    }\r\n                    if (rule.customFunction) {\r\n                        rule.customFunction.call(this, target, minValue, maxValue, value);\r\n                    }\r\n                    else {\r\n                        let percent;\r\n                        if (rule.logarithmic) {\r\n                            percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                        }\r\n                        else {\r\n                            percent = (value - minValue) / (maxValue - minValue);\r\n                        }\r\n                        if ($type.isNumber(value) && (!$type.isNumber(percent) || Math.abs(percent) == Infinity)) {\r\n                            percent = 0.5;\r\n                        }\r\n                        // fixes problems if all values are the same\r\n                        let propertyValue;\r\n                        if ($type.isNumber(rule.min)) {\r\n                            propertyValue = rule.min + (rule.max - rule.min) * percent;\r\n                        }\r\n                        else if (rule.min instanceof Color) {\r\n                            propertyValue = Color.interpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        else if (rule.min instanceof Percent) {\r\n                            propertyValue = percentInterpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        target.set(rule.key, propertyValue);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        if (this.get(\"visible\")) {\r\n            if (this.bullets.length > 0) {\r\n                let count = this.dataItems.length;\r\n                let startIndex = this.startIndex();\r\n                let endIndex = this.endIndex();\r\n                if (endIndex < count) {\r\n                    endIndex++;\r\n                }\r\n                if (startIndex > 0) {\r\n                    startIndex--;\r\n                }\r\n                for (let i = 0; i < startIndex; i++) {\r\n                    this._hideBullets(this.dataItems[i]);\r\n                }\r\n                for (let i = startIndex; i < endIndex; i++) {\r\n                    this._positionBullets(this.dataItems[i]);\r\n                }\r\n                for (let i = endIndex; i < count; i++) {\r\n                    this._hideBullets(this.dataItems[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _positionBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            $array.each(dataItem.bullets, (bullet) => {\r\n                this._positionBullet(bullet);\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (bullet.get(\"dynamic\")) {\r\n                    if (sprite) {\r\n                        sprite._markDirtyKey(\"fill\");\r\n                        sprite.markDirtySize();\r\n                    }\r\n                    if (sprite instanceof Container) {\r\n                        sprite.walkChildren((child) => {\r\n                            child._markDirtyKey(\"fill\");\r\n                            child.markDirtySize();\r\n                            if (child instanceof Label) {\r\n                                child.text.markDirtyText();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                if (sprite instanceof Label && sprite.get(\"populateText\")) {\r\n                    sprite.text.markDirtyText();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _hideBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            $array.each(dataItem.bullets, (bullet) => {\r\n                let sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _positionBullet(_bullet) {\r\n    }\r\n    _placeBulletsContainer(chart) {\r\n        chart.bulletsContainer.children.moveValue(this.bulletsContainer);\r\n    }\r\n    _removeBulletsContainer() {\r\n        const bulletsContainer = this.bulletsContainer;\r\n        if (bulletsContainer.parent) {\r\n            bulletsContainer.parent.children.removeValue(bulletsContainer);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        //super.disposeDataItem(dataItem); // does nothing\r\n        const bullets = dataItem.bullets;\r\n        if (bullets) {\r\n            $array.each(bullets, (bullet) => {\r\n                bullet.dispose();\r\n            });\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        return \"\";\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.show(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.hide(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _sequencedShowHide(show, duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.get(\"sequencedInterpolation\")) {\r\n                if (!$type.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (duration > 0) {\r\n                    const startIndex = this.startIndex();\r\n                    const endIndex = this.endIndex();\r\n                    yield Promise.all($array.map(this.dataItems, (dataItem, i) => __awaiter(this, void 0, void 0, function* () {\r\n                        let realDuration = duration || 0;\r\n                        if (i < startIndex - 10 || i > endIndex + 10) {\r\n                            realDuration = 0;\r\n                        }\r\n                        //let delay = this.get(\"sequencedDelay\", 0) * i + realDuration * (i - startIndex) / (endIndex - startIndex);\r\n                        let delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex - startIndex);\r\n                        yield $time.sleep(delay * (i - startIndex));\r\n                        if (show) {\r\n                            yield this.showDataItem(dataItem, realDuration);\r\n                        }\r\n                        else {\r\n                            yield this.hideDataItem(dataItem, realDuration);\r\n                        }\r\n                    })));\r\n                }\r\n                else {\r\n                    yield Promise.all($array.map(this.dataItems, (dataItem) => {\r\n                        if (show) {\r\n                            return this.showDataItem(dataItem, 0);\r\n                        }\r\n                        else {\r\n                            return this.hideDataItem(dataItem, 0);\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        if (dataItem) {\r\n            const legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                const valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    const text = valueLabel.text;\r\n                    let txt = \"\";\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\r\n                    valueLabel.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n                const label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    const text = label.text;\r\n                    let txt = \"\";\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\r\n                    label.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(_dataItem) {\r\n    }\r\n    _onHide() {\r\n        super._onHide();\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    unhoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _getBase(key) {\r\n        const dataItem = this.dataItems[this.startIndex()];\r\n        if (dataItem) {\r\n            return dataItem.get(key);\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nObject.defineProperty(Series, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Series\"\r\n});\r\nObject.defineProperty(Series, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Component.classNames.concat([Series.className])\r\n});\r\n//# sourceMappingURL=Series.js.map","import * as $type from \"../util/Type\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $utils from \"../util/Utils\";\r\nimport { Rectangle } from \"./Rectangle\";\r\n/**\r\n * Draws a rectangle with rounded corners.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class RoundedRectangle extends Rectangle {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _draw() {\r\n        let width = this.width();\r\n        let height = this.height();\r\n        let w = width;\r\n        let h = height;\r\n        let wSign = w / Math.abs(width);\r\n        let hSign = h / Math.abs(height);\r\n        if ($type.isNumber(w) && $type.isNumber(h)) {\r\n            let minSide = Math.min(w, h) / 2;\r\n            let crtl = $utils.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\r\n            let crtr = $utils.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\r\n            let crbr = $utils.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\r\n            let crbl = $utils.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\r\n            let maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\r\n            crtl = $math.fitToRange(crtl, 0, maxcr);\r\n            crtr = $math.fitToRange(crtr, 0, maxcr);\r\n            crbr = $math.fitToRange(crbr, 0, maxcr);\r\n            crbl = $math.fitToRange(crbl, 0, maxcr);\r\n            const display = this._display;\r\n            display.moveTo(crtl * wSign, 0);\r\n            display.lineTo(w - crtr * wSign, 0);\r\n            if (crtr > 0) {\r\n                display.arcTo(w, 0, w, crtr * hSign, crtr);\r\n            }\r\n            display.lineTo(w, h - crbr * hSign);\r\n            if (crbr > 0) {\r\n                display.arcTo(w, h, w - crbr * wSign, h, crbr);\r\n            }\r\n            display.lineTo(crbl * wSign, h);\r\n            if (crbl > 0) {\r\n                display.arcTo(0, h, 0, h - crbl * hSign, crbl);\r\n            }\r\n            display.lineTo(0, crtl * hSign);\r\n            if (crtl > 0) {\r\n                display.arcTo(0, 0, crtl * wSign, 0, crtl);\r\n            }\r\n            display.closePath();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(RoundedRectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"RoundedRectangle\"\r\n});\r\nObject.defineProperty(RoundedRectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Rectangle.classNames.concat([RoundedRectangle.className])\r\n});\r\n//# sourceMappingURL=RoundedRectangle.js.map","import { Series } from \"./Series\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\nimport { RoundedRectangle } from \"../../core/render/RoundedRectangle\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * A universal legend control.\r\n *\r\n * @important\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/legend/} for more info\r\n */\r\nexport class Legend extends Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * List of all [[Container]] elements for legend items.\r\n         *\r\n         * @default new ListTemplate<Container>\r\n         */\r\n        Object.defineProperty(this, \"itemContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Container._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\"]),\r\n                themeTagsSelf: $utils.mergeTags(this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"]),\r\n                background: RoundedRectangle.new(this._root, {\r\n                    themeTags: $utils.mergeTags(this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\", \"background\"]),\r\n                    themeTagsSelf: $utils.mergeTags(this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"])\r\n                })\r\n            }, [this.itemContainers.template]))\r\n        });\r\n        /**\r\n         * List of legend marker elements.\r\n         *\r\n         * @default new ListTemplate<Container>\r\n         */\r\n        Object.defineProperty(this, \"markers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Container._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.markers.template.get(\"themeTags\", []), [\"legend\", \"marker\"])\r\n            }, [this.markers.template]))\r\n        });\r\n        /**\r\n         * List of legend label elements.\r\n         *\r\n         * @default new ListTemplate<Label>\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Label._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [\"legend\", \"label\"])\r\n            }, [this.labels.template]))\r\n        });\r\n        /**\r\n         * List of legend value label elements.\r\n         *\r\n         * @default new ListTemplate<label>\r\n         */\r\n        Object.defineProperty(this, \"valueLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Label._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.valueLabels.template.get(\"themeTags\", []), [\"legend\", \"label\", \"value\"])\r\n            }, [this.valueLabels.template]))\r\n        });\r\n        /**\r\n         * List of rectangle elements used for default legend markers.\r\n         *\r\n         * @default new ListTemplate<RoundedRectangle>\r\n         */\r\n        Object.defineProperty(this, \"markerRectangles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => RoundedRectangle._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.markerRectangles.template.get(\"themeTags\", []), [\"legend\", \"marker\", \"rectangle\"])\r\n            }, [this.markerRectangles.template]))\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"legend\"]);\r\n        this.fields.push(\"name\", \"stroke\", \"fill\");\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeItemContainer(dataItem) {\r\n        const itemContainer = this.children.push(this.itemContainers.make());\r\n        itemContainer._setDataItem(dataItem);\r\n        this.itemContainers.push(itemContainer);\r\n        itemContainer.states.create(\"disabled\", {});\r\n        return itemContainer;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeMarker() {\r\n        const marker = this.markers.make();\r\n        this.markers.push(marker);\r\n        marker.states.create(\"disabled\", {});\r\n        return marker;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLabel() {\r\n        const label = this.labels.make();\r\n        label.states.create(\"disabled\", {});\r\n        return label;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeValueLabel() {\r\n        const valueLabel = this.valueLabels.make();\r\n        valueLabel.states.create(\"disabled\", {});\r\n        return valueLabel;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeMarkerRectangle() {\r\n        const markerRectangle = this.markerRectangles.make();\r\n        markerRectangle.states.create(\"disabled\", {});\r\n        return markerRectangle;\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        const itemContainer = this.makeItemContainer(dataItem);\r\n        const nameField = this.get(\"nameField\");\r\n        const fillField = this.get(\"fillField\");\r\n        const strokeField = this.get(\"strokeField\");\r\n        if (itemContainer) {\r\n            const clickTarget = this.get(\"clickTarget\", \"itemContainer\");\r\n            const item = dataItem.dataContext;\r\n            if (item && item.set) {\r\n                item.set(\"legendDataItem\", dataItem);\r\n            }\r\n            itemContainer._setDataItem(dataItem);\r\n            dataItem.set(\"itemContainer\", itemContainer);\r\n            const marker = this.makeMarker();\r\n            if (marker) {\r\n                itemContainer.children.push(marker);\r\n                marker._setDataItem(dataItem);\r\n                dataItem.set(\"marker\", marker);\r\n                const useDefaultMarker = this.get(\"useDefaultMarker\");\r\n                const markerRectangle = marker.children.push(this.makeMarkerRectangle());\r\n                let fill = dataItem.get(\"fill\");\r\n                let stroke = dataItem.get(\"stroke\");\r\n                dataItem.set(\"markerRectangle\", markerRectangle);\r\n                if (item && item.get) {\r\n                    fill = item.get(fillField, fill);\r\n                    stroke = item.get(strokeField, stroke);\r\n                }\r\n                if (!stroke) {\r\n                    stroke = fill;\r\n                }\r\n                if (!useDefaultMarker) {\r\n                    if (item && item.createLegendMarker) {\r\n                        item.createLegendMarker();\r\n                    }\r\n                }\r\n                else {\r\n                    if (item.on) {\r\n                        item.on(fillField, () => {\r\n                            markerRectangle.set(\"fill\", item.get(fillField));\r\n                        });\r\n                        item.on(strokeField, () => {\r\n                            markerRectangle.set(\"stroke\", item.get(strokeField));\r\n                        });\r\n                    }\r\n                }\r\n                markerRectangle.setAll({ fill, stroke });\r\n                // this solves if template field is set on slice\r\n                const component = item.component;\r\n                if (component && component.updateLegendMarker) {\r\n                    component.updateLegendMarker(item);\r\n                }\r\n            }\r\n            const label = this.makeLabel();\r\n            if (label) {\r\n                itemContainer.children.push(label);\r\n                label._setDataItem(dataItem);\r\n                dataItem.set(\"label\", label);\r\n                label.text.on(\"text\", () => {\r\n                    itemContainer.setRaw(\"ariaLabel\", label.text._getText() + (this.get(\"clickTarget\") !== \"none\" ? \"; \" + this._t(\"Press ENTER to toggle\") : \"\"));\r\n                    itemContainer.markDirtyAccessibility();\r\n                });\r\n                if (item && item.get) {\r\n                    dataItem.set(\"name\", item.get(nameField));\r\n                }\r\n                let name = dataItem.get(\"name\");\r\n                if (name) {\r\n                    label.set(\"text\", name);\r\n                }\r\n            }\r\n            const valueLabel = this.makeValueLabel();\r\n            if (valueLabel) {\r\n                itemContainer.children.push(valueLabel);\r\n                valueLabel._setDataItem(dataItem);\r\n                dataItem.set(\"valueLabel\", valueLabel);\r\n            }\r\n            if (item && item.show) {\r\n                item.on(\"visible\", (visible) => {\r\n                    itemContainer.set(\"disabled\", !visible);\r\n                });\r\n                if (!item.get(\"visible\")) {\r\n                    itemContainer.set(\"disabled\", true);\r\n                }\r\n                if (clickTarget != \"none\") {\r\n                    let clickContainer = itemContainer;\r\n                    if (clickTarget == \"marker\") {\r\n                        clickContainer = marker;\r\n                    }\r\n                    this._addClickEvents(clickContainer, item, dataItem);\r\n                }\r\n            }\r\n            // Sort children\r\n            this.children.values.sort((a, b) => {\r\n                const targetA = a.dataItem.dataContext;\r\n                const targetB = b.dataItem.dataContext;\r\n                if (targetA && targetB) {\r\n                    const indexA = this.data.indexOf(targetA);\r\n                    const indexB = this.data.indexOf(targetB);\r\n                    if (indexA > indexB) {\r\n                        return 1;\r\n                    }\r\n                    else if (indexA < indexB) {\r\n                        return -1;\r\n                    }\r\n                }\r\n                return 0;\r\n            });\r\n            if (item && item.updateLegendValue) {\r\n                item.updateLegendValue();\r\n            }\r\n        }\r\n    }\r\n    _addClickEvents(container, item, dataItem) {\r\n        container.set(\"cursorOverStyle\", \"pointer\");\r\n        container.events.on(\"pointerover\", () => {\r\n            const component = item.component;\r\n            if (component && component.hoverDataItem) {\r\n                component.hoverDataItem(item);\r\n            }\r\n        });\r\n        container.events.on(\"pointerout\", () => {\r\n            const component = item.component;\r\n            if (component && component.hoverDataItem) {\r\n                component.unhoverDataItem(item);\r\n            }\r\n        });\r\n        container.events.on(\"click\", () => {\r\n            const labelText = dataItem.get(\"label\").text._getText();\r\n            if (item.show && item.isHidden && (item.isHidden() || item.get(\"visible\") === false)) {\r\n                item.show();\r\n                container.set(\"disabled\", false);\r\n                this._root.readerAlert(this._t(\"%1 shown\", this._root.locale, labelText));\r\n            }\r\n            else if (item.hide) {\r\n                item.hide();\r\n                container.set(\"disabled\", true);\r\n                this._root.readerAlert(this._t(\"%1 hidden\", this._root.locale, labelText));\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const dataContext = dataItem.dataContext;\r\n        if (dataContext && dataContext.get) {\r\n            const di = dataContext.get(\"legendDataItem\");\r\n            if (di == dataItem) {\r\n                dataContext.set(\"legendDataItem\", undefined);\r\n            }\r\n        }\r\n        let itemContainer = dataItem.get(\"itemContainer\");\r\n        if (itemContainer) {\r\n            this.itemContainers.removeValue(itemContainer);\r\n            itemContainer.dispose();\r\n        }\r\n        let marker = dataItem.get(\"marker\");\r\n        if (marker) {\r\n            this.markers.removeValue(marker);\r\n            marker.dispose();\r\n        }\r\n        let markerRectangle = dataItem.get(\"markerRectangle\");\r\n        if (markerRectangle) {\r\n            this.markerRectangles.removeValue(markerRectangle);\r\n            markerRectangle.dispose();\r\n        }\r\n        let label = dataItem.get(\"label\");\r\n        if (label) {\r\n            this.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        let valueLabel = dataItem.get(\"valueLabel\");\r\n        if (valueLabel) {\r\n            this.valueLabels.removeValue(valueLabel);\r\n            valueLabel.dispose();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Legend, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Legend\"\r\n});\r\nObject.defineProperty(Legend, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Series.classNames.concat([Legend.className])\r\n});\r\n//# sourceMappingURL=Legend.js.map","import { Entity } from \"./Entity\";\r\nimport { Color } from \"./Color\";\r\nimport * as $type from \"./Type\";\r\nimport * as $object from \"./Object\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A tool that can process the data before it is being used in charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n * @important\r\n */\r\nexport class DataProcessor extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_checkDates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_checkNumbers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_checkColors\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_checkEmpty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_checkDeep\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._checkFeatures();\r\n        this.on(\"dateFields\", () => this._checkFeatures());\r\n        this.on(\"dateFormat\", () => this._checkFeatures());\r\n        this.on(\"numericFields\", () => this._checkFeatures());\r\n        this.on(\"colorFields\", () => this._checkFeatures());\r\n        this.on(\"emptyAs\", () => this._checkFeatures());\r\n    }\r\n    _checkFeatures() {\r\n        if (this.isDirty(\"dateFields\") || this.isDirty(\"dateFormat\")) {\r\n            this._checkDates = this.get(\"dateFields\") && (this.get(\"dateFields\").length > 0);\r\n        }\r\n        if (this.isDirty(\"numericFields\")) {\r\n            this._checkNumbers = this.get(\"numericFields\") && (this.get(\"numericFields\").length > 0);\r\n        }\r\n        if (this.isDirty(\"colorFields\")) {\r\n            this._checkColors = this.get(\"colorFields\") && (this.get(\"colorFields\").length > 0);\r\n        }\r\n        if (this.isDirty(\"emptyAs\")) {\r\n            this._checkEmpty = this.get(\"emptyAs\") != null;\r\n        }\r\n        this._checkDeepFeatures();\r\n    }\r\n    _checkDeepFeatures() {\r\n        const deepFields = [];\r\n        $array.each([\"dateFields\", \"numericFields\", \"colorFields\"], (where) => {\r\n            $array.each(this.get(where, []), (field) => {\r\n                const steps = field.split(\".\");\r\n                steps.pop();\r\n                while (steps.length > 0) {\r\n                    deepFields.push(steps.join(\".\"));\r\n                    steps.pop();\r\n                }\r\n            });\r\n        });\r\n        this._checkDeep = deepFields.length > 0;\r\n        this.setPrivate(\"deepFields\", deepFields);\r\n    }\r\n    /**\r\n     * Processess entire array of data.\r\n     *\r\n     * NOTE: calling this will modify original array!\r\n     */\r\n    processMany(data) {\r\n        if ($type.isArray(data) && (this._checkDates || this._checkNumbers || this._checkColors || this._checkEmpty)) {\r\n            $array.each(data, (row) => {\r\n                this.processRow(row);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Processes a row (object) of data.\r\n     *\r\n     * NOTE: calling this will modify values of the original object!\r\n     */\r\n    processRow(row, prefix = \"\") {\r\n        $object.each(row, (key, _value) => {\r\n            const lookupKey = prefix + key;\r\n            if (this._checkEmpty) {\r\n                row[key] = this._maybeToEmpty(row[key]);\r\n            }\r\n            if (this._checkNumbers) {\r\n                row[key] = this._maybeToNumber(lookupKey, row[key]);\r\n            }\r\n            if (this._checkDates) {\r\n                row[key] = this._maybeToDate(lookupKey, row[key]);\r\n            }\r\n            if (this._checkColors) {\r\n                row[key] = this._maybeToColor(lookupKey, row[key]);\r\n            }\r\n            if (this._checkDeep && this.getPrivate(\"deepFields\", []).indexOf(lookupKey) !== -1 && $type.isObject(row[key])) {\r\n                this.processRow(row[key], lookupKey + \".\");\r\n            }\r\n        });\r\n    }\r\n    _maybeToNumber(field, value) {\r\n        if (this.get(\"numericFields\").indexOf(field) !== -1) {\r\n            return $type.toNumber(value);\r\n        }\r\n        return value;\r\n    }\r\n    _maybeToDate(field, value) {\r\n        if (this.get(\"dateFields\").indexOf(field) !== -1) {\r\n            return this._root.dateFormatter.parse(value, this.get(\"dateFormat\", \"\")).getTime();\r\n        }\r\n        return value;\r\n    }\r\n    _maybeToEmpty(value) {\r\n        if ((value == null || value == \"\") && this.get(\"emptyAs\") != null) {\r\n            return this.get(\"emptyAs\");\r\n        }\r\n        return value;\r\n    }\r\n    _maybeToColor(field, value) {\r\n        if (this.get(\"colorFields\").indexOf(field) !== -1) {\r\n            return Color.fromAny(value);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n//# sourceMappingURL=DataProcessor.js.map","import { RoundedRectangle } from \"../render/RoundedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Draws an interactive button.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\r\n * @important\r\n */\r\nexport class Button extends Container {\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"button\"]);\r\n        super._afterNew();\r\n        if (!this._settings.background) {\r\n            this.set(\"background\", RoundedRectangle.new(this._root, {\r\n                themeTags: $utils.mergeTags(this._settings.themeTags, [\"background\"])\r\n            }));\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"icon\")) {\r\n            const previous = this._prevSettings.icon;\r\n            const icon = this.get(\"icon\");\r\n            if (icon !== previous) {\r\n                this._disposeProperty(\"icon\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (icon) {\r\n                    this.children.push(icon);\r\n                }\r\n                this._prevSettings.icon = icon;\r\n            }\r\n        }\r\n        if (this.isDirty(\"label\")) {\r\n            const previous = this._prevSettings.label;\r\n            const label = this.get(\"label\");\r\n            if (label !== previous) {\r\n                this._disposeProperty(\"label\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (label) {\r\n                    this.children.push(label);\r\n                }\r\n                this._prevSettings.label = label;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Button, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Button\"\r\n});\r\nObject.defineProperty(Button, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Button.className])\r\n});\r\n//# sourceMappingURL=Button.js.map","import { RoundedRectangle } from \"../render/RoundedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport { Button } from \"./Button\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * A control that allows zooming chart's axes, or other uses requiring range\r\n * selection.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\r\n */\r\nexport class Scrollbar extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A thumb elment - a draggable square between the grips, used for panning\r\n         * the selection.\r\n         */\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._makeThumb()\r\n        });\r\n        /**\r\n         * Start grip button.\r\n         */\r\n        Object.defineProperty(this, \"startGrip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._makeButton()\r\n        });\r\n        /**\r\n         * End grip button.\r\n         */\r\n        Object.defineProperty(this, \"endGrip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._makeButton()\r\n        });\r\n        Object.defineProperty(this, \"_thumbBusy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_startDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_endDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_thumbDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_gripDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _addOrientationClass() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", this._settings.orientation]);\r\n        if (!this._settings.background) {\r\n            this._settings.background = RoundedRectangle.new(this._root, {\r\n                themeTags: $utils.mergeTags(this._settings.themeTags, [\"main\", \"background\"])\r\n            });\r\n        }\r\n    }\r\n    _makeButton() {\r\n        return this.children.push(Button.new(this._root, {\r\n            themeTags: [\"resize\", \"button\", this.get(\"orientation\")], icon: Graphics.new(this._root, {\r\n                themeTags: [\"icon\"]\r\n            })\r\n        }));\r\n    }\r\n    _makeThumb() {\r\n        return this.children.push(RoundedRectangle.new(this._root, {\r\n            themeTags: [\"thumb\", this.get(\"orientation\")]\r\n        }));\r\n    }\r\n    _handleAnimation(animation) {\r\n        if (animation) {\r\n            this._disposers.push(animation.events.on(\"stopped\", () => {\r\n                this.setPrivateRaw(\"isBusy\", false);\r\n                this._thumbBusy = false;\r\n            }));\r\n        }\r\n    }\r\n    _afterNew() {\r\n        this._addOrientationClass();\r\n        super._afterNew();\r\n        const startGrip = this.startGrip;\r\n        const endGrip = this.endGrip;\r\n        const thumb = this.thumb;\r\n        const background = this.get(\"background\");\r\n        if (background) {\r\n            this._disposers.push(background.events.on(\"click\", (event) => {\r\n                this.setPrivateRaw(\"isBusy\", true);\r\n                const point = this._display.toLocal(event.point);\r\n                const w = this.width();\r\n                const h = this.height();\r\n                const orientation = this.get(\"orientation\");\r\n                let newMiddle;\r\n                if (orientation == \"vertical\") {\r\n                    newMiddle = (point.y - thumb.height() / 2) / h;\r\n                }\r\n                else {\r\n                    newMiddle = (point.x - thumb.width() / 2) / w;\r\n                }\r\n                let newCoordinate;\r\n                let key;\r\n                if (orientation == \"vertical\") {\r\n                    newCoordinate = newMiddle * h;\r\n                    key = \"y\";\r\n                }\r\n                else {\r\n                    newCoordinate = newMiddle * w;\r\n                    key = \"x\";\r\n                }\r\n                const duration = this.get(\"animationDuration\", 0);\r\n                if (duration > 0) {\r\n                    this._thumbBusy = true;\r\n                    this._handleAnimation(this.thumb.animate({ key: key, to: newCoordinate, duration: duration, easing: this.get(\"animationEasing\") }));\r\n                }\r\n                else {\r\n                    this.thumb.set(key, newCoordinate);\r\n                    this._root.events.once(\"frameended\", () => {\r\n                        this.setPrivateRaw(\"isBusy\", false);\r\n                    });\r\n                }\r\n            }));\r\n        }\r\n        this._disposers.push(thumb.events.on(\"dblclick\", (event) => {\r\n            if (!$utils.isLocalEvent(event.originalEvent, this)) {\r\n                return;\r\n            }\r\n            const duration = this.get(\"animationDuration\", 0);\r\n            const easing = this.get(\"animationEasing\");\r\n            this.animate({ key: \"start\", to: 0, duration: duration, easing: easing });\r\n            this.animate({ key: \"end\", to: 1, duration: duration, easing: easing });\r\n        }));\r\n        this._disposers.push(startGrip.events.on(\"pointerdown\", () => {\r\n            this.setPrivateRaw(\"isBusy\", true);\r\n            this._startDown = true;\r\n            this._gripDown = \"start\";\r\n        }));\r\n        this._disposers.push(endGrip.events.on(\"pointerdown\", () => {\r\n            this.setPrivateRaw(\"isBusy\", true);\r\n            this._endDown = true;\r\n            this._gripDown = \"end\";\r\n        }));\r\n        this._disposers.push(thumb.events.on(\"pointerdown\", () => {\r\n            this.setPrivateRaw(\"isBusy\", true);\r\n            this._thumbDown = true;\r\n            this._gripDown = undefined;\r\n        }));\r\n        this._disposers.push(startGrip.events.on(\"globalpointerup\", () => {\r\n            if (this._startDown) {\r\n                this.setPrivateRaw(\"isBusy\", false);\r\n            }\r\n            this._startDown = false;\r\n        }));\r\n        this._disposers.push(endGrip.events.on(\"globalpointerup\", () => {\r\n            if (this._endDown) {\r\n                this.setPrivateRaw(\"isBusy\", false);\r\n            }\r\n            this._endDown = false;\r\n        }));\r\n        this._disposers.push(thumb.events.on(\"globalpointerup\", () => {\r\n            if (this._thumbDown) {\r\n                this.setPrivateRaw(\"isBusy\", false);\r\n            }\r\n            this._thumbDown = false;\r\n        }));\r\n        this._disposers.push(startGrip.on(\"x\", () => {\r\n            this._updateThumb();\r\n        }));\r\n        this._disposers.push(endGrip.on(\"x\", () => {\r\n            this._updateThumb();\r\n        }));\r\n        this._disposers.push(startGrip.on(\"y\", () => {\r\n            this._updateThumb();\r\n        }));\r\n        this._disposers.push(endGrip.on(\"y\", () => {\r\n            this._updateThumb();\r\n        }));\r\n        this._disposers.push(thumb.events.on(\"positionchanged\", () => {\r\n            this._updateGripsByThumb();\r\n        }));\r\n        if (this.get(\"orientation\") == \"vertical\") {\r\n            startGrip.set(\"x\", 0);\r\n            endGrip.set(\"x\", 0);\r\n            this._disposers.push(thumb.adapters.add(\"y\", (value) => {\r\n                return Math.max(Math.min(Number(value), this.height() - thumb.height()), 0);\r\n            }));\r\n            this._disposers.push(thumb.adapters.add(\"x\", (_value) => {\r\n                return this.width() / 2;\r\n            }));\r\n            this._disposers.push(startGrip.adapters.add(\"x\", (_value) => {\r\n                return this.width() / 2;\r\n            }));\r\n            this._disposers.push(endGrip.adapters.add(\"x\", (_value) => {\r\n                return this.width() / 2;\r\n            }));\r\n            this._disposers.push(startGrip.adapters.add(\"y\", (value) => {\r\n                return Math.max(Math.min(Number(value), this.height()), 0);\r\n            }));\r\n            this._disposers.push(endGrip.adapters.add(\"y\", (value) => {\r\n                return Math.max(Math.min(Number(value), this.height()), 0);\r\n            }));\r\n        }\r\n        else {\r\n            startGrip.set(\"y\", 0);\r\n            endGrip.set(\"y\", 0);\r\n            this._disposers.push(thumb.adapters.add(\"x\", (value) => {\r\n                return Math.max(Math.min(Number(value), this.width() - thumb.width()), 0);\r\n            }));\r\n            this._disposers.push(thumb.adapters.add(\"y\", (_value) => {\r\n                return this.height() / 2;\r\n            }));\r\n            this._disposers.push(startGrip.adapters.add(\"y\", (_value) => {\r\n                return this.height() / 2;\r\n            }));\r\n            this._disposers.push(endGrip.adapters.add(\"y\", (_value) => {\r\n                return this.height() / 2;\r\n            }));\r\n            this._disposers.push(startGrip.adapters.add(\"x\", (value) => {\r\n                return Math.max(Math.min(Number(value), this.width()), 0);\r\n            }));\r\n            this._disposers.push(endGrip.adapters.add(\"x\", (value) => {\r\n                return Math.max(Math.min(Number(value), this.width()), 0);\r\n            }));\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this.isDirty(\"end\") || this.isDirty(\"start\") || this._sizeDirty) {\r\n            this.updateGrips();\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\r\n            const eventType = \"rangechanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this, start: this.get(\"start\", 0), end: this.get(\"end\", 1), grip: this._gripDown });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateGrips() {\r\n        const startGrip = this.startGrip;\r\n        const endGrip = this.endGrip;\r\n        const orientation = this.get(\"orientation\");\r\n        const height = this.height();\r\n        const width = this.width();\r\n        if (orientation == \"vertical\") {\r\n            startGrip.set(\"y\", height * this.get(\"start\", 0));\r\n            endGrip.set(\"y\", height * this.get(\"end\", 1));\r\n        }\r\n        else {\r\n            startGrip.set(\"x\", width * this.get(\"start\", 0));\r\n            endGrip.set(\"x\", width * this.get(\"end\", 1));\r\n        }\r\n        const valueFunction = this.getPrivate(\"positionTextFunction\");\r\n        const from = Math.round(this.get(\"start\", 0) * 100);\r\n        const to = Math.round(this.get(\"end\", 0) * 100);\r\n        let fromValue;\r\n        let toValue;\r\n        if (valueFunction) {\r\n            fromValue = valueFunction.call(this, this.get(\"start\", 0));\r\n            toValue = valueFunction.call(this, this.get(\"end\", 0));\r\n        }\r\n        else {\r\n            fromValue = from + \"%\";\r\n            toValue = to + \"%\";\r\n        }\r\n        startGrip.set(\"ariaLabel\", this._t(\"From %1\", undefined, fromValue));\r\n        startGrip.set(\"ariaValueNow\", \"\" + from);\r\n        startGrip.set(\"ariaValueText\", from + \"%\");\r\n        startGrip.set(\"ariaValueMin\", \"0\");\r\n        startGrip.set(\"ariaValueMax\", \"100\");\r\n        endGrip.set(\"ariaLabel\", this._t(\"To %1\", undefined, toValue));\r\n        endGrip.set(\"ariaValueNow\", \"\" + to);\r\n        endGrip.set(\"ariaValueText\", to + \"%\");\r\n        endGrip.set(\"ariaValueMin\", \"0\");\r\n        endGrip.set(\"ariaValueMax\", \"100\");\r\n    }\r\n    _updateThumb() {\r\n        const thumb = this.thumb;\r\n        const startGrip = this.startGrip;\r\n        const endGrip = this.endGrip;\r\n        const height = this.height();\r\n        const width = this.width();\r\n        let x0 = startGrip.x();\r\n        let x1 = endGrip.x();\r\n        let y0 = startGrip.y();\r\n        let y1 = endGrip.y();\r\n        let start = 0;\r\n        let end = 1;\r\n        if (this.get(\"orientation\") == \"vertical\") {\r\n            if ($type.isNumber(y0) && $type.isNumber(y1)) {\r\n                if (!this._thumbBusy && !thumb.isDragging()) {\r\n                    thumb.set(\"height\", y1 - y0);\r\n                    thumb.set(\"y\", y0);\r\n                }\r\n                start = y0 / height;\r\n                end = y1 / height;\r\n            }\r\n        }\r\n        else {\r\n            if ($type.isNumber(x0) && $type.isNumber(x1)) {\r\n                if (!this._thumbBusy && !thumb.isDragging()) {\r\n                    thumb.set(\"width\", x1 - x0);\r\n                    thumb.set(\"x\", x0);\r\n                }\r\n                start = x0 / width;\r\n                end = x1 / width;\r\n            }\r\n        }\r\n        if (this.getPrivate(\"isBusy\") && (this.get(\"start\") != start || this.get(\"end\") != end)) {\r\n            this.set(\"start\", start);\r\n            this.set(\"end\", end);\r\n        }\r\n        const valueFunction = this.getPrivate(\"positionTextFunction\");\r\n        const from = Math.round(this.get(\"start\", 0) * 100);\r\n        const to = Math.round(this.get(\"end\", 0) * 100);\r\n        let fromValue;\r\n        let toValue;\r\n        if (valueFunction) {\r\n            fromValue = valueFunction.call(this, this.get(\"start\", 0));\r\n            toValue = valueFunction.call(this, this.get(\"end\", 0));\r\n        }\r\n        else {\r\n            fromValue = from + \"%\";\r\n            toValue = to + \"%\";\r\n        }\r\n        thumb.set(\"ariaLabel\", this._t(\"From %1 to %2\", undefined, fromValue, toValue));\r\n        thumb.set(\"ariaValueNow\", \"\" + from);\r\n        thumb.set(\"ariaValueText\", from + \"%\");\r\n    }\r\n    _updateGripsByThumb() {\r\n        const thumb = this.thumb;\r\n        const startGrip = this.startGrip;\r\n        const endGrip = this.endGrip;\r\n        if (this.get(\"orientation\") == \"vertical\") {\r\n            const thumbSize = thumb.height();\r\n            startGrip.set(\"y\", thumb.y());\r\n            endGrip.set(\"y\", thumb.y() + thumbSize);\r\n        }\r\n        else {\r\n            const thumbSize = thumb.width();\r\n            startGrip.set(\"x\", thumb.x());\r\n            endGrip.set(\"x\", thumb.x() + thumbSize);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Scrollbar, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Scrollbar\"\r\n});\r\nObject.defineProperty(Scrollbar, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Scrollbar.className])\r\n});\r\n//# sourceMappingURL=Scrollbar.js.map","import { Entity } from \"./Entity\";\r\nimport { Color } from \"./Color\";\r\n/**\r\n * An object which holds list of colors and can generate new ones.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Color_sets} for more info\r\n */\r\nexport class ColorSet extends Entity {\r\n    //protected _currentPass: number = 0;\r\n    _afterNew() {\r\n        // Applying themes because color set will not have parent\r\n        super._afterNewApplyThemes();\r\n        this._dirty[\"colors\"] = false;\r\n    }\r\n    _beforeChanged() {\r\n        if (this.isDirty(\"colors\")) {\r\n            this.reset();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    generateColors() {\r\n        this.setPrivate(\"currentPass\", this.getPrivate(\"currentPass\", 0) + 1);\r\n        const pass = this.getPrivate(\"currentPass\");\r\n        const colors = this.get(\"colors\", [this.get(\"baseColor\", Color.fromHex(0xff0000))]);\r\n        if (!this.getPrivate(\"numColors\")) {\r\n            this.setPrivate(\"numColors\", colors.length);\r\n        }\r\n        //const len = colors.length;\r\n        const len = this.getPrivate(\"numColors\");\r\n        //const start = len - this.getPrivate(\"numColors\")!;\r\n        const start = 0;\r\n        const passOptions = this.get(\"passOptions\");\r\n        const reuse = this.get(\"reuse\");\r\n        for (let i = start; i < len; i++) {\r\n            if (reuse) {\r\n                colors.push(colors[i]);\r\n            }\r\n            else {\r\n                const hsl = colors[i].toHSL();\r\n                let h = hsl.h + (passOptions.hue || 0) * pass;\r\n                while (h > 1)\r\n                    h -= 1;\r\n                let s = hsl.s + (passOptions.saturation || 0) * pass;\r\n                //if (s > 1) s -= Math.floor(s);\r\n                if (s > 1)\r\n                    s = 1;\r\n                if (s < 0)\r\n                    s = 0;\r\n                let l = hsl.l + (passOptions.lightness || 0) * pass;\r\n                //if (l > 1) l -= Math.floor(l);\r\n                while (l > 1)\r\n                    l -= 1;\r\n                colors.push(Color.fromHSL(h, s, l));\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Returns a [[Color]] at specific index.\r\n     *\r\n     * If there's no color at this index, a new color is generated.\r\n     *\r\n     * @param   index  Index\r\n     * @return         Color\r\n     */\r\n    getIndex(index) {\r\n        const colors = this.get(\"colors\", []);\r\n        const saturation = this.get(\"saturation\");\r\n        if (index >= colors.length) {\r\n            this.generateColors();\r\n            return this.getIndex(index);\r\n        }\r\n        return saturation != null ? Color.saturate(colors[index], saturation) : colors[index];\r\n    }\r\n    /**\r\n     * Returns next [[Color]] in the list.\r\n     *\r\n     * If the list is out of colors, new ones are generated dynamically.\r\n     */\r\n    next() {\r\n        let currentStep = this.getPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n        this.setPrivate(\"currentStep\", currentStep + this.get(\"step\", 1));\r\n        return this.getIndex(currentStep);\r\n    }\r\n    /**\r\n     * Resets counter to the start of the list, so the next call for `next()` will\r\n     * return the first color.\r\n     */\r\n    reset() {\r\n        this.setPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n        this.setPrivate(\"currentPass\", 0);\r\n    }\r\n}\r\nObject.defineProperty(ColorSet, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ColorSet\"\r\n});\r\nObject.defineProperty(ColorSet, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([ColorSet.className])\r\n});\r\n//# sourceMappingURL=ColorSet.js.map","import { Theme } from \"../../core/Theme\";\r\nimport { percent, p100, p50 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\nimport * as $ease from \"../../core/util/Ease\";\r\n/**\r\n * @ignore\r\n */\r\nexport class HierarchyDefaultTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const ic = this._root.interfaceColors;\r\n        const gridLayout = this._root.gridLayout;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * charts/hierarchy\r\n         * ========================================================================\r\n         */\r\n        r(\"Hierarchy\").setAll({\r\n            legendLabelText: \"{category}\",\r\n            legendValueText: \"{sum.formatNumber('#.#')}\",\r\n            width: p100,\r\n            height: p100,\r\n            colors: ColorSet.new(this._root, { step: 2 }),\r\n            downDepth: 1,\r\n            initialDepth: 5,\r\n            singleBranchOnly: true,\r\n            maskContent: true,\r\n            animationEasing: $ease.out($ease.cubic)\r\n        });\r\n        r(\"HierarchyNode\").setAll({\r\n            toggleKey: \"disabled\",\r\n            setStateOnChildren: true,\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            cursorOverStyle: \"pointer\",\r\n            tooltipText: \"{category}: {sum}\"\r\n        });\r\n        r(\"HierarchyNode\", [\"last\"]).setAll({\r\n            cursorOverStyle: \"default\"\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"hierarchy\", \"node\"]);\r\n            rule.setAll({\r\n                centerX: p50,\r\n                centerY: p50,\r\n                position: \"absolute\",\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingRight: 4,\r\n                paddingLeft: 4,\r\n                text: \"{category}\",\r\n                populateText: true,\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.3\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        {\r\n            const rule = r(\"HierarchyLink\");\r\n            rule.setAll({\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                strength: 0.9,\r\n                distance: 1.1\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\"]).setAll({\r\n            position: \"absolute\",\r\n            fillOpacity: 1,\r\n            strokeOpacity: 0,\r\n            radius: 15,\r\n            tooltipY: 0\r\n        });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).setAll({\r\n            position: \"absolute\",\r\n            opacity: 1,\r\n            fillOpacity: 0,\r\n            strokeDasharray: 0,\r\n            strokeOpacity: 1,\r\n            radius: 15,\r\n            scale: 1.1,\r\n            interactive: false\r\n        });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"disabled\", { opacity: 1, scale: 1.1, strokeDasharray: 2 });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hoverDisabled\", { scale: 1.2, opacity: 1, strokeDasharray: 2 });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hover\", { scale: 1.05, strokeDasharray: 0 });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hidden\", { opacity: 0, strokeDasharray: 0 });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: BreadcrumbBar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"BreadcrumbBar\").setAll({\r\n            paddingLeft: 8,\r\n            layout: gridLayout\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\"]);\r\n            rule.setAll({\r\n                paddingRight: 4,\r\n                paddingLeft: 4,\r\n                cursorOverStyle: \"pointer\",\r\n                populateText: true,\r\n                text: \"{category}:\",\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\", \"last\"]);\r\n            rule.setAll({\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                fontWeight: \"bold\",\r\n                cursorOverStyle: \"default\"\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"breadcrumb\", \"label\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Partition\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Partition\").setAll({\r\n            downDepth: 1,\r\n            upDepth: 0,\r\n            initialDepth: 5\r\n        });\r\n        r(\"HierarchyNode\", [\"partition\"]).setAll({\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"HierarchyNode\", [\"partition\"]).states.create(\"hidden\", {\r\n            opacity: 1,\r\n            visible: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"partition\", \"node\"]);\r\n            rule.setAll({\r\n                x: p50,\r\n                y: p50,\r\n                centerY: p50,\r\n                centerX: p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                rotation: 90,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        r(\"Label\", [\"horizontal\", \"partition\", \"node\"]).setAll({\r\n            rotation: 0\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"partition\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"partition\", \"node\", \"shape\", \"last\"]).setAll({\r\n            fillOpacity: 0.75\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Sunburst\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Sunburst\").setAll({\r\n            singleBranchOnly: true\r\n        });\r\n        r(\"HierarchyNode\", [\"sunburst\"]).setAll({\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"HierarchyNode\", [\"sunburst\"]).states.create(\"hidden\", {\r\n            opacity: 0,\r\n            visible: false\r\n        });\r\n        {\r\n            const rule = r(\"Slice\", [\"sunburst\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                cornerRadius: 0\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        r(\"Slice\", [\"sunburst\", \"node\", \"shape\", \"last\"]).setAll({\r\n            fillOpacity: 0.75\r\n        });\r\n        {\r\n            const rule = r(\"RadialLabel\", [\"sunburst\", \"node\"]);\r\n            rule.setAll({\r\n                x: 0,\r\n                y: 0,\r\n                textType: \"radial\",\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                centerX: p50,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4,\r\n                baseRadius: p50,\r\n                rotation: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: ForceDirected\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"ForceDirected\").setAll({\r\n            minRadius: percent(1),\r\n            maxRadius: percent(8),\r\n            initialFrames: 500,\r\n            centerStrength: 0.8,\r\n            manyBodyStrength: -14,\r\n            velocityDecay: 0.5,\r\n            linkWithStrength: 0.5,\r\n            showOnFrame: 10,\r\n            singleBranchOnly: false,\r\n            upDepth: Infinity,\r\n            downDepth: 1,\r\n            initialDepth: 5,\r\n            topDepth: 0\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Tree\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Tree\").setAll({\r\n            orientation: \"vertical\",\r\n            paddingLeft: 20,\r\n            paddingRight: 20,\r\n            paddingTop: 20,\r\n            paddingBottom: 20,\r\n            singleBranchOnly: false,\r\n            upDepth: Infinity,\r\n            downDepth: 1,\r\n            initialDepth: 5,\r\n            topDepth: 0\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Pack\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Pack\").setAll({\r\n            paddingLeft: 20,\r\n            paddingTop: 20,\r\n            paddingBottom: 20,\r\n            paddingRight: 20,\r\n            nodePadding: 0\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"pack\", \"node\"]);\r\n            rule.setAll({\r\n                centerY: p50,\r\n                centerX: p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        {\r\n            const rule = r(\"Circle\", [\"pack\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                fillOpacity: 0.8,\r\n                strokeWidth: 1,\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        r(\"LinkedHierarchyNode\").setAll({\r\n            draggable: true\r\n        });\r\n        r(\"LinkedHierarchyNode\").states.create(\"hidden\", { scale: 0, opacity: 0, visible: false });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Treemap\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Treemap\").setAll({\r\n            upDepth: 0,\r\n            layoutAlgorithm: \"squarify\"\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"treemap\", \"node\"]);\r\n            rule.setAll({\r\n                x: p50,\r\n                y: p50,\r\n                centerY: p50,\r\n                centerX: p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        r(\"HierarchyNode\", [\"treemap\", \"node\"]).setAll({\r\n            tooltipY: percent(40),\r\n            isMeasured: false,\r\n            position: \"absolute\"\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"treemap\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0,\r\n                fillOpacity: 1\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Voronoi Treemap\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        {\r\n            r(\"VoronoiTreemap\").setAll({\r\n                type: \"polygon\",\r\n                minWeightRatio: 0.005,\r\n                convergenceRatio: 0.005,\r\n                maxIterationCount: 100,\r\n                singleBranchOnly: true\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"voronoitreemap\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                fillOpacity: 1\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        {\r\n            r(\"Polygon\", [\"hierarchy\", \"node\", \"shape\", \"depth1\"]).setAll({\r\n                strokeWidth: 3\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"voronoitreemap\"]);\r\n            rule.setAll({\r\n                centerY: p50,\r\n                centerX: p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4,\r\n                layer: 30\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=HierarchyDefaultTheme.js.map","import { Container } from \"../../core/render/Container\";\r\n/**\r\n * Base class for hierarchy nodes.\r\n */\r\nexport class HierarchyNode extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Related series.\r\n         */\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_clickDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.states.create(\"disabled\", {});\r\n        this.states.create(\"hover\", {});\r\n        this.states.create(\"hoverDisabled\", {});\r\n        this.on(\"disabled\", () => {\r\n            const dataItem = this.dataItem;\r\n            if (!dataItem.get(\"children\")) {\r\n                this.set(\"disabled\", true);\r\n                return;\r\n            }\r\n            const disabled = this.get(\"disabled\");\r\n            const series = this.series;\r\n            if (dataItem && series) {\r\n                if (dataItem.get(\"disabled\") != disabled) {\r\n                    if (disabled) {\r\n                        series.disableDataItem(dataItem);\r\n                    }\r\n                    else {\r\n                        series.enableDataItem(dataItem, series.get(\"downDepth\", 1), 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"toggleKey\")) {\r\n            const toggleKey = this.get(\"toggleKey\");\r\n            if (toggleKey == \"disabled\") {\r\n                this._clickDisposer = this.events.on(\"click\", () => {\r\n                    if (!this._isDragging) {\r\n                        let series = this.series;\r\n                        if (series) {\r\n                            series.selectDataItem(this.dataItem);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._clickDisposer) {\r\n                    this._clickDisposer.dispose();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(HierarchyNode, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HierarchyNode\"\r\n});\r\nObject.defineProperty(HierarchyNode, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([HierarchyNode.className])\r\n});\r\n//# sourceMappingURL=HierarchyNode.js.map","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","import { __awaiter } from \"tslib\";\r\nimport { HierarchyDefaultTheme } from \"./HierarchyDefaultTheme\";\r\nimport { Series } from \"../../core/render/Series\";\r\nimport { DataItem } from \"../../core/render/Component\";\r\nimport { HierarchyNode } from \"./HierarchyNode\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as d3hierarchy from \"d3-hierarchy\";\r\n;\r\n/**\r\n * A base class for all hierarchy charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/} for more info\r\n */\r\nexport class Hierarchy extends Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] that nodes are placed in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"nodesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"_rootNode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_treeData\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_index\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_tag\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"hierarchy\"\r\n        });\r\n        /**\r\n         * A list of nodes in a [[Hierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<HierarchyNode>\r\n         */\r\n        Object.defineProperty(this, \"nodes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => HierarchyNode.new(this._root, {\r\n                themeTags: $utils.mergeTags(this.nodes.template.get(\"themeTags\", []), [this._tag, \"hierarchy\", \"node\"])\r\n            }, this.nodes.template))\r\n        });\r\n        /**\r\n         * A list of label elements in a [[Hierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<Label>\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Label.new(this._root, {\r\n                themeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [this._tag])\r\n            }, this.labels.template))\r\n        });\r\n        Object.defineProperty(this, \"_currentDownDepth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeNode(dataItem) {\r\n        const childData = dataItem.get(\"childData\");\r\n        const node = this.nodes.make();\r\n        node.series = this;\r\n        node._setDataItem(dataItem);\r\n        this.nodes.push(node);\r\n        dataItem.setRaw(\"node\", node);\r\n        const label = this.labels.make();\r\n        label._setDataItem(dataItem);\r\n        dataItem.setRaw(\"label\", label);\r\n        this.labels.push(label);\r\n        if (!childData || childData.length == 0) {\r\n            node.addTag(\"last\");\r\n        }\r\n        const depth = dataItem.get(\"depth\");\r\n        node.addTag(\"depth\" + depth);\r\n        this.nodesContainer.children.push(node);\r\n        node.children.push(label);\r\n        return node;\r\n    }\r\n    _afterNew() {\r\n        this._defaultThemes.push(HierarchyDefaultTheme.new(this._root));\r\n        this.fields.push(\"category\", \"childData\", \"disabled\", \"fill\");\r\n        this.children.push(this.bulletsContainer);\r\n        super._afterNew();\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this._valuesDirty) {\r\n            this._treeData = {};\r\n            const first = this.dataItems[0];\r\n            if (first) {\r\n                this._makeHierarchyData(this._treeData, first);\r\n                this._index = 0;\r\n                this._rootNode = d3hierarchy.hierarchy(this._treeData);\r\n                if (this._rootNode) {\r\n                    this._rootNode.sum((d) => {\r\n                        return d.value;\r\n                    });\r\n                    const sort = this.get(\"sort\");\r\n                    if (sort == \"descending\") {\r\n                        this._rootNode.sort((a, b) => b.value - a.value);\r\n                    }\r\n                    else if (sort == \"ascending\") {\r\n                        this._rootNode.sort((a, b) => a.value - b.value);\r\n                    }\r\n                    this.setPrivateRaw(\"valueLow\", Infinity);\r\n                    this.setPrivateRaw(\"valueHigh\", -Infinity);\r\n                    this.setPrivateRaw(\"maxDepth\", 0);\r\n                    this._updateValues(this._rootNode);\r\n                }\r\n            }\r\n        }\r\n        if (this._valuesDirty || this._sizeDirty) {\r\n            this._updateVisuals();\r\n        }\r\n        if (this._sizeDirty) {\r\n            const dataItem = this.get(\"selectedDataItem\");\r\n            if (dataItem) {\r\n                this._zoom(dataItem);\r\n            }\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"selectedDataItem\")) {\r\n            this._selectDataItem(this.get(\"selectedDataItem\"));\r\n        }\r\n    }\r\n    _updateVisuals() {\r\n        if (this._rootNode) {\r\n            this._updateNodes(this._rootNode);\r\n        }\r\n    }\r\n    _updateNodes(hierarchyNode) {\r\n        const dataItem = hierarchyNode.data.dataItem;\r\n        if (dataItem) {\r\n            this._updateNode(dataItem);\r\n            if (this.bullets.length > 0 && !dataItem.bullets) {\r\n                this._makeBullets(dataItem);\r\n            }\r\n            const hierarchyChildren = hierarchyNode.children;\r\n            if (hierarchyChildren) {\r\n                $array.each(hierarchyChildren, (hierarchyChild) => {\r\n                    this._updateNodes(hierarchyChild);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    _updateNode(_dataItem) {\r\n    }\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    getDataItemById(id) {\r\n        return this._getDataItemById(this.dataItems, id);\r\n    }\r\n    _getDataItemById(dataItems, id) {\r\n        let di;\r\n        $array.each(dataItems, (dataItem) => {\r\n            if (dataItem.get(\"id\") == id) {\r\n                di = dataItem;\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                let childDataItem = this._getDataItemById(children, id);\r\n                if (childDataItem) {\r\n                    di = childDataItem;\r\n                }\r\n            }\r\n        });\r\n        return di;\r\n    }\r\n    _handleBullets(dataItems) {\r\n        $array.each(dataItems, (dataItem) => {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    bullet.dispose();\r\n                });\r\n                dataItem.bullets = undefined;\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                this._handleBullets(children);\r\n            }\r\n        });\r\n        this._updateVisuals();\r\n    }\r\n    _onDataClear() {\r\n        super._onDataClear();\r\n        const colors = this.get(\"colors\");\r\n        if (colors) {\r\n            colors.reset();\r\n        }\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        const childData = dataItem.get(\"childData\");\r\n        const colors = this.get(\"colors\");\r\n        const topDepth = this.get(\"topDepth\", 0);\r\n        if (!dataItem.get(\"parent\")) {\r\n            dataItem.setRaw(\"depth\", 0);\r\n            if (colors && topDepth == 0 && dataItem.get(\"fill\") == null) {\r\n                dataItem.setRaw(\"fill\", colors.next());\r\n            }\r\n        }\r\n        let depth = dataItem.get(\"depth\");\r\n        const initialDepth = this.get(\"initialDepth\", 1);\r\n        this.makeNode(dataItem);\r\n        this._processDataItem(dataItem);\r\n        if (childData) {\r\n            const children = [];\r\n            dataItem.setRaw(\"children\", children);\r\n            $array.each(childData, (child) => {\r\n                const childDataItem = new DataItem(this, child, this._makeDataItem(child));\r\n                children.push(childDataItem);\r\n                childDataItem.setRaw(\"parent\", dataItem);\r\n                childDataItem.setRaw(\"depth\", depth + 1);\r\n                if (this.dataItems.length == 1 && depth == 0) {\r\n                    if (colors && childDataItem.get(\"fill\") == null) {\r\n                        childDataItem.setRaw(\"fill\", colors.next());\r\n                    }\r\n                }\r\n                else {\r\n                    if (childDataItem.get(\"fill\") == null) {\r\n                        childDataItem.setRaw(\"fill\", dataItem.get(\"fill\"));\r\n                    }\r\n                }\r\n                this.processDataItem(childDataItem);\r\n            });\r\n        }\r\n        const children = dataItem.get(\"children\");\r\n        if (!children || children.length == 0) {\r\n            const node = dataItem.get(\"node\");\r\n            node.setAll({ toggleKey: undefined });\r\n        }\r\n        if (dataItem.get(\"disabled\") == null) {\r\n            if (depth >= topDepth + initialDepth) {\r\n                this.disableDataItem(dataItem, 0);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Adds children data to the target data item.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/hierarchy-api/#Dynamically_adding_child_nodes} for more info\r\n     * @since 5.4.5\r\n     */\r\n    addChildData(dataItem, data) {\r\n        const dataContext = dataItem.dataContext;\r\n        const childDataField = this.get(\"childDataField\");\r\n        let childData = dataContext[childDataField];\r\n        if (!childData) {\r\n            childData = data;\r\n            dataContext[childDataField] = childData;\r\n        }\r\n        else {\r\n            childData.push(...data);\r\n        }\r\n        let children = dataItem.get(\"children\");\r\n        if (!children) {\r\n            children = [];\r\n            dataItem.set(\"children\", children);\r\n        }\r\n        let depth = dataItem.get(\"depth\");\r\n        $array.each(childData, (child) => {\r\n            const childDataItem = new DataItem(this, child, this._makeDataItem(child));\r\n            children.push(childDataItem);\r\n            childDataItem.setRaw(\"parent\", dataItem);\r\n            childDataItem.setRaw(\"depth\", depth + 1);\r\n            if (childDataItem.get(\"fill\") == null) {\r\n                childDataItem.setRaw(\"fill\", dataItem.get(\"fill\"));\r\n            }\r\n            this.processDataItem(childDataItem);\r\n        });\r\n    }\r\n    _processDataItem(_dataItem) {\r\n    }\r\n    _updateValues(d3HierarchyNode) {\r\n        const dataItem = d3HierarchyNode.data.dataItem;\r\n        if (d3HierarchyNode.depth > this.getPrivate(\"maxDepth\")) {\r\n            this.setPrivateRaw(\"maxDepth\", d3HierarchyNode.depth);\r\n        }\r\n        if (dataItem) {\r\n            dataItem.setRaw(\"d3HierarchyNode\", d3HierarchyNode);\r\n            d3HierarchyNode.index = this._index;\r\n            this._index++;\r\n            dataItem.get(\"node\").set(\"disabled\", dataItem.get(\"disabled\"));\r\n            let dataValue = d3HierarchyNode.data.value;\r\n            let value = d3HierarchyNode.value;\r\n            if (dataValue != null) {\r\n                value = dataValue;\r\n                d3HierarchyNode[\"value\"] = value;\r\n            }\r\n            if ($type.isNumber(value)) {\r\n                dataItem.setRaw(\"sum\", value);\r\n                dataItem.setRaw(\"valuePercentTotal\", value / this.dataItems[0].get(\"sum\") * 100);\r\n                let valuePercent = 100;\r\n                const parent = dataItem.get(\"parent\");\r\n                if (parent) {\r\n                    valuePercent = value / parent.get(\"sum\") * 100;\r\n                }\r\n                dataItem.get(\"label\").text.markDirtyText();\r\n                dataItem.setRaw(\"valuePercent\", valuePercent);\r\n                if (this.getPrivate(\"valueLow\") > value) {\r\n                    this.setPrivateRaw(\"valueLow\", value);\r\n                }\r\n                if (this.getPrivate(\"valueHigh\") < value) {\r\n                    this.setPrivateRaw(\"valueHigh\", value);\r\n                }\r\n            }\r\n            this.updateLegendValue(dataItem);\r\n        }\r\n        const hierarchyChildren = d3HierarchyNode.children;\r\n        if (hierarchyChildren) {\r\n            $array.each(hierarchyChildren, (d3HierarchyChild) => {\r\n                this._updateValues(d3HierarchyChild);\r\n            });\r\n        }\r\n    }\r\n    _makeHierarchyData(data, dataItem) {\r\n        data.dataItem = dataItem;\r\n        const children = dataItem.get(\"children\");\r\n        if (children) {\r\n            const childrenDataArray = [];\r\n            data.children = childrenDataArray;\r\n            $array.each(children, (childDataItem) => {\r\n                const childData = {};\r\n                childrenDataArray.push(childData);\r\n                this._makeHierarchyData(childData, childDataItem);\r\n            });\r\n            const value = dataItem.get(\"valueWorking\");\r\n            if ($type.isNumber(value)) {\r\n                data.value = value;\r\n            }\r\n        }\r\n        else {\r\n            const value = dataItem.get(\"valueWorking\");\r\n            if ($type.isNumber(value)) {\r\n                data.value = value;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const node = dataItem.get(\"node\");\r\n        if (node) {\r\n            this.nodes.removeValue(node);\r\n            node.dispose();\r\n        }\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            this.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        const children = dataItem.get(\"children\");\r\n        if (children) {\r\n            $array.each(children, (child) => {\r\n                this.disposeDataItem(child);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Hides hierarchy's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const hiddenState = this.states.create(\"hidden\", {});\r\n            if (!$type.isNumber(duration)) {\r\n                const stateAnimationDuration = \"stateAnimationDuration\";\r\n                duration = hiddenState.get(stateAnimationDuration, this.get(stateAnimationDuration, 0));\r\n            }\r\n            const stateAnimationEasing = \"stateAnimationEasing\";\r\n            const easing = hiddenState.get(stateAnimationEasing, this.get(stateAnimationEasing));\r\n            const children = dataItem.get(\"children\");\r\n            if ((!children || children.length == 0) && $type.isNumber(dataItem.get(\"value\"))) {\r\n                promises.push(dataItem.animate({ key: \"valueWorking\", to: 0, duration: duration, easing: easing }).waitForStop());\r\n            }\r\n            const node = dataItem.get(\"node\");\r\n            node.hide();\r\n            node.hideTooltip();\r\n            if (children) {\r\n                $array.each(children, (childDataItem) => {\r\n                    promises.push(this.hideDataItem(childDataItem));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Shows hierarchy's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            if (!$type.isNumber(duration)) {\r\n                duration = this.get(\"stateAnimationDuration\", 0);\r\n            }\r\n            const easing = this.get(\"stateAnimationEasing\");\r\n            const children = dataItem.get(\"children\");\r\n            if ((!children || children.length == 0) && $type.isNumber(dataItem.get(\"value\"))) {\r\n                promises.push(dataItem.animate({ key: \"valueWorking\", to: dataItem.get(\"value\"), duration: duration, easing: easing }).waitForStop());\r\n            }\r\n            const node = dataItem.get(\"node\");\r\n            node.show();\r\n            if (children) {\r\n                $array.each(children, (childDataItem) => {\r\n                    promises.push(this.showDataItem(childDataItem));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Enables a disabled data item.\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  duration  Animation duration in milliseconds\r\n     */\r\n    enableDataItem(dataItem, maxDepth, depth, duration) {\r\n        if (depth == null) {\r\n            depth = 0;\r\n        }\r\n        if (maxDepth == null) {\r\n            maxDepth = 1;\r\n        }\r\n        dataItem.set(\"disabled\", false);\r\n        dataItem.get(\"node\").set(\"disabled\", false);\r\n        if (!dataItem.isHidden()) {\r\n            dataItem.get(\"node\").show(duration);\r\n        }\r\n        const topDepth = this.get(\"topDepth\", 0);\r\n        if (dataItem.get(\"depth\") < topDepth) {\r\n            dataItem.get(\"node\").hide(0);\r\n        }\r\n        if (depth == 0) {\r\n            const upDepth = this.get(\"upDepth\", Infinity);\r\n            let parent = dataItem;\r\n            let count = 0;\r\n            while (parent !== undefined) {\r\n                if (count > upDepth) {\r\n                    parent.get(\"node\").hide();\r\n                }\r\n                parent = parent.get(\"parent\");\r\n                count++;\r\n            }\r\n        }\r\n        let children = dataItem.get(\"children\");\r\n        if (children) {\r\n            if (depth < maxDepth - 1) {\r\n                $array.each(children, (child) => {\r\n                    const disabledField = this.get(\"disabledField\");\r\n                    if (disabledField) {\r\n                        const dataContext = child.dataContext;\r\n                        if (dataContext[disabledField] != true) {\r\n                            this.enableDataItem(child, maxDepth, depth + 1, duration);\r\n                        }\r\n                        else {\r\n                            this.disableDataItem(child);\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.enableDataItem(child, maxDepth, depth + 1, duration);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                $array.each(children, (child) => {\r\n                    if (!child.isHidden()) {\r\n                        child.get(\"node\").show(duration);\r\n                        child.get(\"node\").states.applyAnimate(\"disabled\");\r\n                        child.set(\"disabled\", true);\r\n                        this.disableDataItem(child);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Disables a data item.\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  duration  Animation duration in milliseconds\r\n     */\r\n    disableDataItem(dataItem, duration) {\r\n        dataItem.set(\"disabled\", true);\r\n        let children = dataItem.get(\"children\");\r\n        if (children) {\r\n            $array.each(children, (child) => {\r\n                this.disableDataItem(child, duration);\r\n                child.get(\"node\").hide(duration);\r\n            });\r\n        }\r\n    }\r\n    _selectDataItem(dataItem, downDepth, skipDisptach) {\r\n        if (dataItem) {\r\n            if (!skipDisptach) {\r\n                const type = \"dataitemselected\";\r\n                this.events.dispatch(type, { type: type, target: this, dataItem: dataItem });\r\n            }\r\n            let maxDepth = this.getPrivate(\"maxDepth\", 1);\r\n            const topDepth = this.get(\"topDepth\", 0);\r\n            if (downDepth == null) {\r\n                downDepth = Math.min(this.get(\"downDepth\", 1), maxDepth - dataItem.get(\"depth\"));\r\n            }\r\n            if (!this.inited) {\r\n                downDepth = Math.min(this.get(\"initialDepth\", 1), maxDepth - topDepth);\r\n            }\r\n            this._currentDownDepth = downDepth;\r\n            const hierarchyNode = dataItem.get(\"d3HierarchyNode\");\r\n            let currentDepth = hierarchyNode.depth;\r\n            if (currentDepth + downDepth > maxDepth) {\r\n                downDepth = maxDepth - currentDepth;\r\n            }\r\n            if (currentDepth < topDepth) {\r\n                downDepth += topDepth - currentDepth;\r\n                currentDepth = topDepth;\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children && children.length > 0) {\r\n                if (downDepth > 0) {\r\n                    this.enableDataItem(dataItem, downDepth);\r\n                }\r\n                else {\r\n                    dataItem.get(\"node\").show();\r\n                    $array.each(children, (child) => {\r\n                        child.get(\"node\").hide();\r\n                    });\r\n                }\r\n                if (hierarchyNode.depth < topDepth) {\r\n                    dataItem.get(\"node\").hide(0);\r\n                }\r\n                if (this.get(\"singleBranchOnly\")) {\r\n                    this._handleSingle(dataItem);\r\n                }\r\n            }\r\n            else {\r\n                this.enableDataItem(this.dataItems[0], downDepth, 0);\r\n            }\r\n            this._zoom(dataItem);\r\n        }\r\n    }\r\n    _zoom(_dataItem) {\r\n    }\r\n    _handleSingle(dataItem) {\r\n        const parent = dataItem.get(\"parent\");\r\n        if (parent) {\r\n            const children = parent.get(\"children\");\r\n            if (children) {\r\n                $array.each(children, (child) => {\r\n                    if (child != dataItem) {\r\n                        this.disableDataItem(child);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Selects specific data item.\r\n     *\r\n     * @param  dataItem  Target data item\r\n     */\r\n    selectDataItem(dataItem) {\r\n        const parent = dataItem.get(\"parent\");\r\n        const maxDepth = this.getPrivate(\"maxDepth\", 1);\r\n        if (this.get(\"selectedDataItem\") == dataItem) {\r\n            if (parent) {\r\n                this.set(\"selectedDataItem\", parent);\r\n            }\r\n            else {\r\n                let depth = Math.min(this.get(\"downDepth\", 1), maxDepth - dataItem.get(\"depth\"));\r\n                if (this._currentDownDepth == depth) {\r\n                    depth = Math.min(this.get(\"initialDepth\", 1), maxDepth - this.get(\"topDepth\", 0));\r\n                }\r\n                this._selectDataItem(dataItem, depth);\r\n            }\r\n        }\r\n        else {\r\n            this.set(\"selectedDataItem\", dataItem);\r\n        }\r\n    }\r\n    _makeBullet(dataItem, bulletFunction, index) {\r\n        const bullet = super._makeBullet(dataItem, bulletFunction, index);\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            const node = dataItem.get(\"node\");\r\n            if (sprite) {\r\n                node.children.push(sprite);\r\n                node.on(\"width\", () => {\r\n                    this._positionBullet(bullet);\r\n                });\r\n                node.on(\"height\", () => {\r\n                    this._positionBullet(bullet);\r\n                });\r\n            }\r\n        }\r\n        return bullet;\r\n    }\r\n    _positionBullet(bullet) {\r\n        const sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            const dataItem = sprite.dataItem;\r\n            const locationX = bullet.get(\"locationX\", 0.5);\r\n            const locationY = bullet.get(\"locationY\", 0.5);\r\n            const node = dataItem.get(\"node\");\r\n            sprite.set(\"x\", node.width() * locationX);\r\n            sprite.set(\"y\", node.height() * locationY);\r\n        }\r\n    }\r\n    /**\r\n     * Triggers hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    hoverDataItem(dataItem) {\r\n        const node = dataItem.get(\"node\");\r\n        if (node && !node.isHidden()) {\r\n            node.hover();\r\n        }\r\n    }\r\n    /**\r\n     * Triggers un-hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    unhoverDataItem(dataItem) {\r\n        const node = dataItem.get(\"node\");\r\n        if (node) {\r\n            node.unhover();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Hierarchy, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Hierarchy\"\r\n});\r\nObject.defineProperty(Hierarchy, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Series.classNames.concat([Hierarchy.className])\r\n});\r\n//# sourceMappingURL=Hierarchy.js.map","import { HierarchyNode } from \"./HierarchyNode\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * A node class for [[LinkedHierarchy]].\r\n */\r\nexport class LinkedHierarchyNode extends HierarchyNode {\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.states.create(\"disabled\", {});\r\n        this.states.create(\"hover\", {});\r\n        this.states.create(\"hoverDisabled\", {});\r\n    }\r\n    _updateLinks(duration) {\r\n        const dataItem = this.dataItem;\r\n        if (dataItem) {\r\n            let links = dataItem.get(\"links\");\r\n            $array.each(links, (link) => {\r\n                let source = link.get(\"source\");\r\n                let target = link.get(\"target\");\r\n                if (source && target) {\r\n                    if (source.get(\"node\").isHidden() || target.get(\"node\").isHidden()) {\r\n                        link.hide(duration);\r\n                    }\r\n                    else {\r\n                        link.show(duration);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"disabled\")) {\r\n            this._updateLinks();\r\n        }\r\n    }\r\n    _onHide(duration) {\r\n        super._onHide(duration);\r\n        this._updateLinks(duration);\r\n    }\r\n    _onShow(duration) {\r\n        super._onShow(duration);\r\n        this._updateLinks(duration);\r\n    }\r\n}\r\nObject.defineProperty(LinkedHierarchyNode, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"LinkedHierarchyNode\"\r\n});\r\nObject.defineProperty(LinkedHierarchyNode, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: HierarchyNode.classNames.concat([LinkedHierarchyNode.className])\r\n});\r\n//# sourceMappingURL=LinkedHierarchyNode.js.map","import { Graphics } from \"../../core/render/Graphics\";\r\n/**\r\n * Draws a link between nodes in a hierarchy series.\r\n */\r\nexport class HierarchyLink extends Graphics {\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            let source = this.get(\"source\");\r\n            let target = this.get(\"target\");\r\n            if (source && target) {\r\n                const sourceNode = source.get(\"node\");\r\n                const targetNode = target.get(\"node\");\r\n                this._display.moveTo(sourceNode.x(), sourceNode.y());\r\n                this._display.lineTo(targetNode.x(), targetNode.y());\r\n            }\r\n        }\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"source\")) {\r\n            const source = this.get(\"source\");\r\n            if (source) {\r\n                const sourceNode = source.get(\"node\");\r\n                sourceNode.events.on(\"positionchanged\", () => {\r\n                    this._markDirtyKey(\"stroke\");\r\n                });\r\n            }\r\n        }\r\n        if (this.isDirty(\"target\")) {\r\n            const target = this.get(\"target\");\r\n            if (target) {\r\n                const targetNode = target.get(\"node\");\r\n                targetNode.events.on(\"positionchanged\", () => {\r\n                    this._markDirtyKey(\"stroke\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(HierarchyLink, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HierarchyLink\"\r\n});\r\nObject.defineProperty(HierarchyLink, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([HierarchyLink.className])\r\n});\r\n//# sourceMappingURL=HierarchyLink.js.map","import { Graphics } from \"./Graphics\";\r\n/**\r\n * Draws a circle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Circle extends Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_trustBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.isMeasured = true;\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"radius\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this._display.drawCircle(0, 0, this.get(\"radius\", 10));\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Circle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Circle\"\r\n});\r\nObject.defineProperty(Circle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Circle.className])\r\n});\r\n//# sourceMappingURL=Circle.js.map","import { Hierarchy } from \"./Hierarchy\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { LinkedHierarchyNode } from \"./LinkedHierarchyNode\";\r\nimport { HierarchyLink } from \"./HierarchyLink\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { Circle } from \"../../core/render/Circle\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n;\r\n/**\r\n * A base class for linked hierarchy series.\r\n */\r\nexport class LinkedHierarchy extends Hierarchy {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A list of nodes in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<LinkedHierarchyNode>\r\n         */\r\n        Object.defineProperty(this, \"nodes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => LinkedHierarchyNode._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.nodes.template.get(\"themeTags\", []), [this._tag, \"linkedhierarchy\", \"hierarchy\", \"node\"]),\r\n                x: this.width() / 2,\r\n                y: this.height() / 2\r\n            }, [this.nodes.template]))\r\n        });\r\n        /**\r\n         * A list of node circle elements in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<Circle>\r\n         */\r\n        Object.defineProperty(this, \"circles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Circle._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.circles.template.get(\"themeTags\", []), [this._tag, \"shape\"])\r\n            }, [this.circles.template]))\r\n        });\r\n        /**\r\n         * A list of node outer circle elements in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<Circle>\r\n         */\r\n        Object.defineProperty(this, \"outerCircles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Circle._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.outerCircles.template.get(\"themeTags\", []), [this._tag, \"outer\", \"shape\"])\r\n            }, [this.outerCircles.template]))\r\n        });\r\n        /**\r\n         * A list of link elements in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<HierarchyLink>\r\n         */\r\n        Object.defineProperty(this, \"links\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => HierarchyLink._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.links.template.get(\"themeTags\", []), [this._tag, \"linkedhierarchy\", \"hierarchy\", \"link\"])\r\n            }, [this.links.template]))\r\n        });\r\n        /**\r\n         * A [[Container]] that link elements are placed in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"linksContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.moveValue(Container.new(this._root, {}), 0)\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.fields.push(\"linkWith\", \"x\", \"y\");\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeNode(dataItem) {\r\n        const node = super.makeNode(dataItem);\r\n        const circle = node.children.moveValue(this.circles.make(), 0);\r\n        this.circles.push(circle);\r\n        node.setPrivate(\"tooltipTarget\", circle);\r\n        dataItem.setRaw(\"circle\", circle);\r\n        const outerCircle = node.children.moveValue(this.outerCircles.make(), 0);\r\n        this.outerCircles.push(outerCircle);\r\n        dataItem.setRaw(\"outerCircle\", outerCircle);\r\n        const label = dataItem.get(\"label\");\r\n        circle.on(\"radius\", () => {\r\n            const d = circle.get(\"radius\", this.width()) * 2;\r\n            label.setAll({ maxWidth: d, maxHeight: d });\r\n            outerCircle.set(\"radius\", d / 2);\r\n            this._handleRadiusChange();\r\n        });\r\n        const d = circle.get(\"radius\", this.width()) * 2;\r\n        label.setAll({ maxWidth: d, maxHeight: d });\r\n        circle._setDataItem(dataItem);\r\n        outerCircle._setDataItem(dataItem);\r\n        return node;\r\n    }\r\n    _handleRadiusChange() {\r\n    }\r\n    processDataItem(dataItem) {\r\n        dataItem.setRaw(\"childLinks\", []);\r\n        dataItem.setRaw(\"links\", []);\r\n        super.processDataItem(dataItem);\r\n    }\r\n    _processDataItem(dataItem) {\r\n        super._processDataItem(dataItem);\r\n        const parentDataItem = dataItem.get(\"parent\");\r\n        if (parentDataItem && parentDataItem.get(\"depth\") >= this.get(\"topDepth\")) {\r\n            const link = this.linkDataItems(parentDataItem, dataItem);\r\n            dataItem.setRaw(\"parentLink\", link);\r\n        }\r\n        const node = dataItem.get(\"node\");\r\n        this.updateLinkWith(this.dataItems);\r\n        node._updateLinks(0);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLinkWith(dataItems) {\r\n        $array.each(dataItems, (dataItem) => {\r\n            const linkWith = dataItem.get(\"linkWith\");\r\n            if (linkWith) {\r\n                $array.each(linkWith, (id) => {\r\n                    const linkWithDataItem = this._getDataItemById(this.dataItems, id);\r\n                    if (linkWithDataItem) {\r\n                        this.linkDataItems(dataItem, linkWithDataItem);\r\n                    }\r\n                });\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                this.updateLinkWith(children);\r\n            }\r\n        });\r\n    }\r\n    _getPoint(hierarchyNode) {\r\n        return { x: hierarchyNode.x, y: hierarchyNode.y };\r\n    }\r\n    _animatePositions(dataItem) {\r\n        const node = dataItem.get(\"node\");\r\n        const hierarchyNode = dataItem.get(\"d3HierarchyNode\");\r\n        const point = this._getPoint(hierarchyNode);\r\n        const duration = this.get(\"animationDuration\", 0);\r\n        const easing = this.get(\"animationEasing\");\r\n        node.animate({ key: \"x\", to: point.x, duration: duration, easing: easing });\r\n        node.animate({ key: \"y\", to: point.y, duration: duration, easing: easing });\r\n    }\r\n    _updateNode(dataItem) {\r\n        super._updateNode(dataItem);\r\n        this._animatePositions(dataItem);\r\n        const hierarchyNode = dataItem.get(\"d3HierarchyNode\");\r\n        const hierarchyChildren = hierarchyNode.children;\r\n        if (hierarchyChildren) {\r\n            $array.each(hierarchyChildren, (hierarchyChild) => {\r\n                this._updateNodes(hierarchyChild);\r\n            });\r\n        }\r\n        const fill = dataItem.get(\"fill\");\r\n        const circle = dataItem.get(\"circle\");\r\n        const children = dataItem.get(\"children\");\r\n        if (circle) {\r\n            circle._setDefault(\"fill\", fill);\r\n            circle._setDefault(\"stroke\", fill);\r\n        }\r\n        const outerCircle = dataItem.get(\"outerCircle\");\r\n        if (outerCircle) {\r\n            outerCircle._setDefault(\"fill\", fill);\r\n            outerCircle._setDefault(\"stroke\", fill);\r\n            if (!children || children.length == 0) {\r\n                outerCircle.setPrivate(\"visible\", false);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Link two data items with a link element.\r\n     *\r\n     * @param   source    Source node data item\r\n     * @param   target    Target node data item\r\n     * @param   strength  Link strength\r\n     * @return            Link element\r\n     */\r\n    linkDataItems(source, target, strength) {\r\n        let link;\r\n        const sourceLinks = source.get(\"links\");\r\n        if (sourceLinks) {\r\n            $array.each(sourceLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == target) {\r\n                    link = lnk;\r\n                }\r\n            });\r\n        }\r\n        const targetLinks = target.get(\"links\");\r\n        if (targetLinks) {\r\n            $array.each(targetLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == source) {\r\n                    link = lnk;\r\n                }\r\n            });\r\n        }\r\n        if (!link) {\r\n            link = this.links.make();\r\n            this.links.push(link);\r\n            this.linksContainer.children.push(link);\r\n            link.set(\"source\", source);\r\n            link.set(\"target\", target);\r\n            link._setDataItem(source);\r\n            link.set(\"stroke\", source.get(\"fill\"));\r\n            if (strength != null) {\r\n                link.set(\"strength\", strength);\r\n            }\r\n            source.get(\"childLinks\").push(link);\r\n            $array.move(source.get(\"links\"), link);\r\n            $array.move(target.get(\"links\"), link);\r\n            this._processLink(link, source, target);\r\n        }\r\n        return link;\r\n    }\r\n    /**\r\n     * Unlink two linked data items.\r\n     *\r\n     * @param   source  Source node data item\r\n     * @param   target  Target node data item\r\n     */\r\n    unlinkDataItems(source, target) {\r\n        let link;\r\n        const sourceLinks = source.get(\"links\");\r\n        if (sourceLinks) {\r\n            $array.each(sourceLinks, (lnk) => {\r\n                if (lnk && lnk.get(\"target\") == target) {\r\n                    link = lnk;\r\n                    $array.remove(sourceLinks, link);\r\n                }\r\n            });\r\n        }\r\n        const targetLinks = target.get(\"links\");\r\n        if (targetLinks) {\r\n            $array.each(targetLinks, (lnk) => {\r\n                if (lnk && lnk.get(\"target\") == source) {\r\n                    link = lnk;\r\n                    $array.remove(targetLinks, link);\r\n                }\r\n            });\r\n        }\r\n        if (link) {\r\n            this._disposeLink(link);\r\n        }\r\n        this._handleUnlink();\r\n    }\r\n    _handleUnlink() {\r\n    }\r\n    _disposeLink(link) {\r\n        this.links.removeValue(link);\r\n        link.dispose();\r\n    }\r\n    /**\r\n     * Returns `true` if two nodes are linked with each other.\r\n     */\r\n    areLinked(source, target) {\r\n        const sourceLinks = source.get(\"links\");\r\n        let linked = false;\r\n        if (sourceLinks) {\r\n            $array.each(sourceLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == target) {\r\n                    linked = true;\r\n                }\r\n            });\r\n        }\r\n        const targetLinks = target.get(\"links\");\r\n        if (targetLinks) {\r\n            $array.each(targetLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == source) {\r\n                    linked = true;\r\n                }\r\n            });\r\n        }\r\n        return linked;\r\n    }\r\n    _processLink(_link, _source, _target) {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const links = dataItem.get(\"links\");\r\n        if (links) {\r\n            $array.each(links, (link) => {\r\n                this._disposeLink(link);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Select a data item.\r\n     * @param  dataItem  Data item\r\n     */\r\n    selectDataItem(dataItem) {\r\n        const parent = dataItem.get(\"parent\");\r\n        if (!dataItem.get(\"disabled\")) {\r\n            this.set(\"selectedDataItem\", dataItem);\r\n        }\r\n        else {\r\n            if (parent) {\r\n                this.setRaw(\"selectedDataItem\", parent);\r\n                const type = \"dataitemselected\";\r\n                this.events.dispatch(type, { type: type, target: this, dataItem: parent });\r\n                this.disableDataItem(dataItem);\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(LinkedHierarchy, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"LinkedHierarchy\"\r\n});\r\nObject.defineProperty(LinkedHierarchy, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Hierarchy.classNames.concat([LinkedHierarchy.className])\r\n});\r\n//# sourceMappingURL=LinkedHierarchy.js.map","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import { LinkedHierarchy } from \"./LinkedHierarchy\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as d3Force from \"d3-force\";\r\n;\r\n/**\r\n * Creates a force-directed tree.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/} for more info\r\n * @important\r\n */\r\nexport class ForceDirected extends LinkedHierarchy {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tag\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"forcedirected\"\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"d3forceSimulation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: d3Force.forceSimulation()\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"collisionForce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: d3Force.forceCollide(20)\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"linkForce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: d3Force.forceLink()\r\n        });\r\n        Object.defineProperty(this, \"_nodes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_links\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_tick\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_nodesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.d3forceSimulation.on(\"tick\", () => {\r\n            this._tick++;\r\n            this.updateNodePositions();\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"showOnFrame\")) {\r\n            const showOnFrame = this.get(\"showOnFrame\");\r\n            if (showOnFrame > this._tick) {\r\n                this.nodesContainer.setPrivate(\"visible\", false);\r\n                this.linksContainer.setPrivate(\"visible\", false);\r\n            }\r\n        }\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        if (this.isDirty(\"velocityDecay\")) {\r\n            d3forceSimulation.velocityDecay(this.get(\"velocityDecay\", 0));\r\n        }\r\n        if (this.isDirty(\"initialFrames\")) {\r\n            d3forceSimulation.alphaDecay(1 - Math.pow(0.001, 1 / this.get(\"initialFrames\", 500)));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    restartSimulation(alpha) {\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        if (d3forceSimulation.alpha() < .25) {\r\n            d3forceSimulation.alpha(alpha);\r\n            d3forceSimulation.restart();\r\n        }\r\n    }\r\n    _handleRadiusChange() {\r\n        this._updateForces();\r\n    }\r\n    processDataItem(dataItem) {\r\n        const d3ForceNode = { index: this._index, x: this.innerWidth() / 2, y: this.innerHeight() / 2, dataItem: dataItem };\r\n        const index = this._nodes.push(d3ForceNode) - 1;\r\n        d3ForceNode.index = index;\r\n        this.d3forceSimulation.nodes(this._nodes);\r\n        dataItem.set(\"d3ForceNode\", d3ForceNode);\r\n        super.processDataItem(dataItem);\r\n        const node = dataItem.get(\"node\");\r\n        node.set(\"x\", -10000);\r\n        node.on(\"scale\", () => {\r\n            this._updateForces();\r\n        });\r\n        node.events.on(\"dragged\", () => {\r\n            d3ForceNode.fx = node.x();\r\n            d3ForceNode.fy = node.y();\r\n            this._updateForces();\r\n        });\r\n        node.events.on(\"dragstop\", () => {\r\n            if (dataItem.get(\"x\") == null) {\r\n                d3ForceNode.fx = undefined;\r\n            }\r\n            if (dataItem.get(\"y\") == null) {\r\n                d3ForceNode.fy = undefined;\r\n            }\r\n        });\r\n    }\r\n    _updateValues(d3HierarchyNode) {\r\n        super._updateValues(d3HierarchyNode);\r\n        this._nodesDirty = true;\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        d3forceSimulation.force(\"collision\", this.collisionForce);\r\n        d3forceSimulation.nodes(this._nodes);\r\n        this.linkForce = d3Force.forceLink(this._links);\r\n        d3forceSimulation.force(\"link\", this.linkForce);\r\n    }\r\n    _updateVisuals() {\r\n        super._updateVisuals();\r\n        this.restartSimulation(.3);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        if (this._sizeDirty) {\r\n            let w = Math.max(50, this.innerWidth());\r\n            let h = Math.max(50, this.innerHeight());\r\n            let pt = this.get(\"paddingTop\", 0);\r\n            let pl = this.get(\"paddingLeft\", 0);\r\n            let centerStrength = this.get(\"centerStrength\", 1);\r\n            d3forceSimulation.force(\"x\", d3Force.forceX().x(w / 2 + pl).strength(centerStrength * 100 / w));\r\n            d3forceSimulation.force(\"y\", d3Force.forceY().y(h / 2 + pt).strength(centerStrength * 100 / h));\r\n        }\r\n        if (this._nodesDirty) {\r\n            this._updateForces();\r\n        }\r\n    }\r\n    _updateForces() {\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        d3forceSimulation.force(\"manybody\", d3Force.forceManyBody().strength((d3node) => {\r\n            let dataItem = d3node.dataItem;\r\n            let node = dataItem.get(\"node\");\r\n            let circle = dataItem.get(\"circle\");\r\n            let manyBodyStrength = this.get(\"manyBodyStrength\", -15);\r\n            if (circle) {\r\n                return circle.get(\"radius\", 1) * node.get(\"scale\", 1) * manyBodyStrength;\r\n            }\r\n            return 0;\r\n        }));\r\n        this.collisionForce.radius((d3node) => {\r\n            let dataItem = d3node.dataItem;\r\n            let node = dataItem.get(\"node\");\r\n            let circle = dataItem.get(\"circle\");\r\n            let outerCircle = dataItem.get(\"outerCircle\");\r\n            if (circle && outerCircle) {\r\n                let radius = circle.get(\"radius\", 1);\r\n                if (!outerCircle.isHidden()) {\r\n                    radius = radius * outerCircle.get(\"scale\", 1.1);\r\n                }\r\n                radius *= node.get(\"scale\", 1);\r\n                return radius + this.get(\"nodePadding\", 0);\r\n            }\r\n        });\r\n        this.restartSimulation(0.3);\r\n    }\r\n    _animatePositions(_dataItem) {\r\n        // void, do not remove\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._nodesDirty = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateNodePositions() {\r\n        const linkForce = this.linkForce;\r\n        if (linkForce) {\r\n            linkForce.distance((linkDatum) => {\r\n                return this.getDistance(linkDatum);\r\n            });\r\n            linkForce.strength((linkDatum) => {\r\n                return this.getStrength(linkDatum);\r\n            });\r\n        }\r\n        if (this._tick == this.get(\"showOnFrame\")) {\r\n            this.nodesContainer.setPrivate(\"visible\", true);\r\n            this.linksContainer.setPrivate(\"visible\", true);\r\n        }\r\n        let d3Nodes = this.d3forceSimulation.nodes();\r\n        $array.each(d3Nodes, (d3Node) => {\r\n            const dataItem = d3Node.dataItem;\r\n            const node = dataItem.get(\"node\");\r\n            node.set(\"x\", d3Node.x);\r\n            node.set(\"y\", d3Node.y);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLinkWith(dataItems) {\r\n        $array.each(dataItems, (dataItem) => {\r\n            const linkWith = dataItem.get(\"linkWith\");\r\n            if (linkWith) {\r\n                $array.each(linkWith, (id) => {\r\n                    const linkWithDataItem = this._getDataItemById(this.dataItems, id);\r\n                    if (linkWithDataItem) {\r\n                        this.linkDataItems(dataItem, linkWithDataItem, this.get(\"linkWithStrength\"));\r\n                    }\r\n                });\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                this.updateLinkWith(children);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDistance(linkDatum) {\r\n        let sourceDataItem = linkDatum.sourceDataItem;\r\n        let targetDataItem = linkDatum.targetDataItem;\r\n        let distance = 0;\r\n        if (sourceDataItem && targetDataItem) {\r\n            const targetNode = targetDataItem.get(\"node\");\r\n            if (targetNode.isHidden()) {\r\n                return 0;\r\n            }\r\n            let link = linkDatum.link;\r\n            if (link) {\r\n                distance = link.get(\"distance\", 1);\r\n            }\r\n            const sourceNode = sourceDataItem.get(\"node\");\r\n            if (targetNode.isHidden()) {\r\n                distance = 1;\r\n            }\r\n            return (distance * (sourceDataItem.get(\"circle\").get(\"radius\", 1) * sourceNode.get(\"scale\", 1) + targetDataItem.get(\"circle\").get(\"radius\", 1) * targetNode.get(\"scale\", 1)));\r\n        }\r\n        return distance;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo description\r\n     */\r\n    getStrength(linkDatum) {\r\n        let strength = 0;\r\n        let link = linkDatum.link;\r\n        if (link) {\r\n            strength = link.get(\"strength\", 1);\r\n        }\r\n        const targetDataItem = linkDatum.targetDataItem;\r\n        strength *= targetDataItem.get(\"node\").get(\"scale\");\r\n        return strength;\r\n    }\r\n    _updateNode(dataItem) {\r\n        super._updateNode(dataItem);\r\n        this._updateRadius(dataItem);\r\n        const x = dataItem.get(\"x\");\r\n        const y = dataItem.get(\"y\");\r\n        const d3Node = dataItem.get(\"d3ForceNode\");\r\n        if (x != null) {\r\n            d3Node.fx = $utils.relativeToValue(x, this.innerWidth());\r\n        }\r\n        else {\r\n            d3Node.fx = undefined;\r\n        }\r\n        if (y != null) {\r\n            d3Node.fy = $utils.relativeToValue(y, this.innerHeight());\r\n        }\r\n        else {\r\n            d3Node.fx = undefined;\r\n        }\r\n    }\r\n    _updateRadius(dataItem) {\r\n        let size = (this.innerWidth() + this.innerHeight()) / 2;\r\n        let minRadius = $utils.relativeToValue(this.get(\"minRadius\", 1), size);\r\n        let maxRadius = $utils.relativeToValue(this.get(\"maxRadius\", 5), size);\r\n        let valueWorking = dataItem.get(\"sum\");\r\n        let radius = maxRadius;\r\n        const min = this.getPrivate(\"valueLow\", 0);\r\n        const max = this.getPrivate(\"valueHigh\", 0);\r\n        if (max > 0) {\r\n            radius = minRadius + (valueWorking - min) / (max - min) * (maxRadius - minRadius);\r\n        }\r\n        if (!$type.isNumber(radius)) {\r\n            radius = minRadius;\r\n        }\r\n        const duration = this.get(\"animationDuration\", 0);\r\n        const easing = this.get(\"animationEasing\");\r\n        dataItem.get(\"circle\").animate({ key: \"radius\", to: radius, duration: duration, easing: easing });\r\n    }\r\n    _processLink(link, source, target) {\r\n        const d3Link = { link: link, source: source.get(\"d3ForceNode\").index, target: target.get(\"d3ForceNode\").index, sourceDataItem: source, targetDataItem: target };\r\n        this._links.push(d3Link);\r\n        link.setPrivate(\"d3Link\", d3Link);\r\n        this.linkForce = d3Force.forceLink(this._links);\r\n        this.d3forceSimulation.force(\"link\", this.linkForce);\r\n        this.restartSimulation(0.5);\r\n    }\r\n    _disposeLink(link) {\r\n        super._disposeLink(link);\r\n        $array.remove(this._links, link.getPrivate(\"d3Link\"));\r\n    }\r\n    _handleUnlink() {\r\n        this.restartSimulation(0.5);\r\n    }\r\n    _onDataClear() {\r\n        super._onDataClear();\r\n        this._nodes = [];\r\n        this._links = [];\r\n    }\r\n}\r\nObject.defineProperty(ForceDirected, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ForceDirected\"\r\n});\r\nObject.defineProperty(ForceDirected, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: LinkedHierarchy.classNames.concat([ForceDirected.className])\r\n});\r\n//# sourceMappingURL=ForceDirected.js.map","import { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\n/**\r\n * A base class for all charts.\r\n */\r\nexport class Chart extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] chart places its elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"chartContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { width: p100, height: p100, interactiveChildren: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] chart places its bullets in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 })\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(Chart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Chart\"\r\n});\r\nObject.defineProperty(Chart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Chart.className])\r\n});\r\n//# sourceMappingURL=Chart.js.map","import { Chart } from \"./Chart\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * A base class for all series-based charts.\r\n */\r\nexport class SerialChart extends Chart {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] where chart will store all series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"seriesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A list of chart's series.\r\n         */\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._disposers.push(this.series);\r\n        const children = this.seriesContainer.children;\r\n        this._disposers.push(this.series.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (series) => {\r\n                    this._removeSeries(series);\r\n                });\r\n                const colors = this.get(\"colors\");\r\n                if (colors) {\r\n                    colors.reset();\r\n                }\r\n            }\r\n            else if (change.type === \"push\") {\r\n                children.moveValue(change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                children.setIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                children.insertIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeSeries(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                children.moveValue(change.value, change.newIndex);\r\n                this._processSeries(change.value);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _processSeries(series) {\r\n        series.chart = this;\r\n        series._placeBulletsContainer(this);\r\n    }\r\n    _removeSeries(series) {\r\n        if (!series.isDisposed()) {\r\n            this.seriesContainer.children.removeValue(series);\r\n            series._removeBulletsContainer();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SerialChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"SerialChart\"\r\n});\r\nObject.defineProperty(SerialChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Chart.classNames.concat([SerialChart.className])\r\n});\r\n//# sourceMappingURL=SerialChart.js.map","import { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\n/**\r\n * @ignore\r\n */\r\nexport class PercentDefaultTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const ic = this._root.interfaceColors;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * charts/percent\r\n         * ========================================================================\r\n         */\r\n        r(\"PercentSeries\").setAll({\r\n            legendLabelText: \"{category}\",\r\n            legendValueText: \"{valuePercentTotal.formatNumber('0.00p')}\",\r\n            colors: ColorSet.new(this._root, {}),\r\n            width: p100,\r\n            height: p100\r\n        });\r\n        /**\r\n         * ========================================================================\r\n         * charts/pie\r\n         * ========================================================================\r\n         */\r\n        r(\"PieChart\").setAll({\r\n            radius: percent(80),\r\n            startAngle: -90,\r\n            endAngle: 270\r\n        });\r\n        r(\"PieSeries\").setAll({\r\n            alignLabels: true,\r\n            startAngle: -90,\r\n            endAngle: 270\r\n        });\r\n        r(\"PieSeries\").states.create(\"hidden\", { endAngle: -90, opacity: 0 });\r\n        r(\"Slice\", [\"pie\"]).setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            x: 0,\r\n            y: 0,\r\n            toggleKey: \"active\",\r\n            tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            role: \"figure\",\r\n            lineJoin: \"round\"\r\n        });\r\n        r(\"Slice\", [\"pie\"]).states.create(\"active\", { shiftRadius: 20, scale: 1 });\r\n        r(\"Slice\", [\"pie\"]).states.create(\"hoverActive\", { scale: 1.04 });\r\n        r(\"Slice\", [\"pie\"]).states.create(\"hover\", { scale: 1.04 });\r\n        r(\"RadialLabel\", [\"pie\"]).setAll({\r\n            textType: \"aligned\",\r\n            radius: 10,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            paddingTop: 5,\r\n            paddingBottom: 5,\r\n            populateText: true\r\n        });\r\n        r(\"Tick\", [\"pie\"]).setAll({\r\n            location: 1\r\n        });\r\n        /**\r\n         * ========================================================================\r\n         * charts/funnel\r\n         * ========================================================================\r\n         */\r\n        r(\"SlicedChart\").setAll({\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            paddingTop: 10,\r\n            paddingBottom: 10\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/funnel: Funnel\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"FunnelSeries\").setAll({\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            orientation: \"vertical\",\r\n            alignLabels: true,\r\n            sequencedInterpolation: true\r\n        });\r\n        r(\"FunnelSlice\").setAll({\r\n            interactive: true,\r\n            expandDistance: 0,\r\n            //tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\"\r\n        });\r\n        r(\"FunnelSlice\").states.create(\"hover\", { expandDistance: 0.15 });\r\n        r(\"Label\", [\"funnel\"]).setAll({\r\n            populateText: true,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            centerY: p50\r\n        });\r\n        r(\"Label\", [\"funnel\", \"horizontal\"]).setAll({\r\n            centerX: 0,\r\n            centerY: p50,\r\n            rotation: -90\r\n        });\r\n        // Class: Label\r\n        r(\"Label\", [\"funnel\", \"vertical\"]).setAll({\r\n            centerY: p50,\r\n            centerX: 0\r\n        });\r\n        r(\"Tick\", [\"funnel\"]).setAll({\r\n            location: 1\r\n        });\r\n        r(\"FunnelSlice\", [\"funnel\", \"link\"]).setAll({\r\n            fillOpacity: 0.5,\r\n            strokeOpacity: 0,\r\n            expandDistance: -0.1\r\n        });\r\n        r(\"FunnelSlice\", [\"funnel\", \"link\", \"vertical\"]).setAll({\r\n            height: 10,\r\n        });\r\n        r(\"FunnelSlice\", [\"funnel\", \"link\", \"horizontal\"]).setAll({\r\n            width: 10\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/funnel: Pyramid\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"PyramidSeries\").setAll({\r\n            valueIs: \"area\"\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\", \"link\"]).setAll({\r\n            fillOpacity: 0.5\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\", \"link\", \"vertical\"]).setAll({\r\n            height: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\", \"link\", \"horizontal\"]).setAll({\r\n            width: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\"]).setAll({\r\n            interactive: true,\r\n            expandDistance: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\"]).states.create(\"hover\", { expandDistance: 0.15 });\r\n        r(\"Label\", [\"pyramid\"]).setAll({\r\n            populateText: true,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            centerY: p50\r\n        });\r\n        r(\"Label\", [\"pyramid\", \"horizontal\"]).setAll({\r\n            centerX: 0,\r\n            centerY: p50,\r\n            rotation: -90\r\n        });\r\n        r(\"Label\", [\"pyramid\", \"vertical\"]).setAll({\r\n            centerY: p50,\r\n            centerX: 0\r\n        });\r\n        r(\"Tick\", [\"pyramid\"]).setAll({\r\n            location: 1\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/funnel: Pictorial\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        // Class: FunnelSlice\r\n        r(\"FunnelSlice\", [\"pictorial\"]).setAll({\r\n            interactive: true,\r\n            tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\"\r\n        });\r\n        r(\"Label\", [\"pictorial\"]).setAll({\r\n            populateText: true,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            centerY: p50\r\n        });\r\n        r(\"Label\", [\"pictorial\", \"horizontal\"]).setAll({\r\n            centerX: 0,\r\n            centerY: p50,\r\n            rotation: -90\r\n        });\r\n        r(\"Label\", [\"pictorial\", \"vertical\"]).setAll({\r\n            centerY: p50,\r\n            centerX: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pictorial\", \"link\"]).setAll({\r\n            fillOpacity: 0.5,\r\n            width: 0,\r\n            height: 0\r\n        });\r\n        r(\"Tick\", [\"pictorial\"]).setAll({\r\n            location: 0.5\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"pictorial\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.2\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=PercentDefaultTheme.js.map","import { SerialChart } from \"../../core/render/SerialChart\";\r\nimport { PercentDefaultTheme } from \"./PercentDefaultTheme\";\r\n/**\r\n * Base class for [[PieChart]].\r\n *\r\n * Also used for percent-based series, like [[FunnelSeries]], [[PyramidSeries]], etc.\r\n *\r\n * @important\r\n */\r\nexport class PercentChart extends SerialChart {\r\n    _afterNew() {\r\n        this._defaultThemes.push(PercentDefaultTheme.new(this._root));\r\n        super._afterNew();\r\n        this.chartContainer.children.push(this.seriesContainer);\r\n        this.seriesContainer.children.push(this.bulletsContainer);\r\n    }\r\n    _processSeries(series) {\r\n        super._processSeries(series);\r\n        this.seriesContainer.children.moveValue(this.bulletsContainer, this.seriesContainer.children.length - 1);\r\n    }\r\n}\r\nObject.defineProperty(PercentChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PercentChart\"\r\n});\r\nObject.defineProperty(PercentChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: SerialChart.classNames.concat([PercentChart.className])\r\n});\r\n//# sourceMappingURL=PercentChart.js.map","import { Percent } from \"../../core/util/Percent\";\r\nimport { PercentChart } from \"../percent/PercentChart\";\r\nimport { p50 } from \"../../core/util/Percent\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\n/**\r\n * Creates a pie chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/} for more info\r\n * @important\r\n */\r\nexport class PieChart extends PercentChart {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_maxRadius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.seriesContainer.setAll({ x: p50, y: p50 });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const chartContainer = this.chartContainer;\r\n        const w = chartContainer.innerWidth();\r\n        const h = chartContainer.innerHeight();\r\n        const startAngle = this.get(\"startAngle\", 0);\r\n        const endAngle = this.get(\"endAngle\", 0);\r\n        const innerRadius = this.get(\"innerRadius\");\r\n        let bounds = $math.getArcBounds(0, 0, startAngle, endAngle, 1);\r\n        const wr = w / (bounds.right - bounds.left);\r\n        const hr = h / (bounds.bottom - bounds.top);\r\n        let innerBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n        if (innerRadius instanceof Percent) {\r\n            let value = innerRadius.value;\r\n            let mr = Math.min(wr, hr);\r\n            value = Math.max(mr * value, mr - Math.min(h, w)) / mr;\r\n            innerBounds = $math.getArcBounds(0, 0, startAngle, endAngle, value);\r\n            this.setPrivateRaw(\"irModifyer\", value / innerRadius.value);\r\n        }\r\n        bounds = $math.mergeBounds([bounds, innerBounds]);\r\n        const prevRadius = this._maxRadius;\r\n        this._maxRadius = Math.min(wr, hr);\r\n        const radius = $utils.relativeToValue(this.get(\"radius\", 0), this._maxRadius);\r\n        this.seriesContainer.setAll({\r\n            dy: -radius * (bounds.bottom + bounds.top) / 2, dx: -radius * (bounds.right + bounds.left) / 2\r\n        });\r\n        if (this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\") || prevRadius != this._maxRadius) {\r\n            this.series.each((series) => {\r\n                series._markDirtyKey(\"startAngle\");\r\n            });\r\n        }\r\n        if (this.isDirty(\"innerRadius\") || this.isDirty(\"radius\")) {\r\n            this.series.each((series) => {\r\n                series._markDirtyKey(\"innerRadius\");\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns outer radius in pixels.\r\n     *\r\n     * If optional series parameter is passed in, it will return outer radius\r\n     * of that particular series.\r\n     *\r\n     * @param   series  Series\r\n     * @return          Radius in pixels\r\n     */\r\n    radius(series) {\r\n        let radius = $utils.relativeToValue(this.get(\"radius\", 0), this._maxRadius);\r\n        let innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", 0), radius);\r\n        if (series) {\r\n            let index = this.series.indexOf(series);\r\n            let length = this.series.length;\r\n            let seriesRadius = series.get(\"radius\");\r\n            if (seriesRadius != null) {\r\n                return innerRadius + $utils.relativeToValue(seriesRadius, radius - innerRadius);\r\n            }\r\n            else {\r\n                return innerRadius + (radius - innerRadius) / length * (index + 1);\r\n            }\r\n        }\r\n        return radius;\r\n    }\r\n    /**\r\n     * Returns inner radius in pixels.\r\n     *\r\n     * If optional series parameter is passed in, it will return inner radius\r\n     * of that particular series.\r\n     *\r\n     * @param   series  Series\r\n     * @return          Radius in pixels\r\n     */\r\n    innerRadius(series) {\r\n        const radius = this.radius();\r\n        let innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", 0), radius);\r\n        if (innerRadius < 0) {\r\n            innerRadius = radius + innerRadius;\r\n        }\r\n        if (series) {\r\n            let index = this.series.indexOf(series);\r\n            let length = this.series.length;\r\n            let seriesInnerRadius = series.get(\"innerRadius\");\r\n            if (seriesInnerRadius != null) {\r\n                return innerRadius + $utils.relativeToValue(seriesInnerRadius, radius - innerRadius);\r\n            }\r\n            else {\r\n                return innerRadius + (radius - innerRadius) / length * index;\r\n            }\r\n        }\r\n        return innerRadius;\r\n    }\r\n}\r\nObject.defineProperty(PieChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PieChart\"\r\n});\r\nObject.defineProperty(PieChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: PercentChart.classNames.concat([PieChart.className])\r\n});\r\n//# sourceMappingURL=PieChart.js.map","import { __awaiter } from \"tslib\";\r\nimport { Series } from \"../../core/render/Series\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { visualSettings } from \"../../core/render/Graphics\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * A base class for any percent chart series.\r\n */\r\nexport class PercentSeries extends Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"slicesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"ticksContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"_lLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_rLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_hLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slices in series.\r\n         *\r\n         * `slices.template` can also be used to configure slices.\r\n         */\r\n        Object.defineProperty(this, \"slices\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._makeSlices()\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slice labels in series.\r\n         *\r\n         * `labels.template` can also be used to configure slice labels.\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._makeLabels()\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slice ticks in series.\r\n         *\r\n         * `ticks.template` can also be used to configure slice ticks.\r\n         */\r\n        Object.defineProperty(this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._makeTicks()\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeSlice(dataItem) {\r\n        const slice = this.slicesContainer.children.push(this.slices.make());\r\n        slice.on(\"fill\", () => {\r\n            this.updateLegendMarker(dataItem);\r\n        });\r\n        slice.on(\"stroke\", () => {\r\n            this.updateLegendMarker(dataItem);\r\n        });\r\n        slice._setDataItem(dataItem);\r\n        dataItem.set(\"slice\", slice);\r\n        this.slices.push(slice);\r\n        return slice;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLabel(dataItem) {\r\n        const label = this.labelsContainer.children.push(this.labels.make());\r\n        label._setDataItem(dataItem);\r\n        dataItem.set(\"label\", label);\r\n        this.labels.push(label);\r\n        return label;\r\n    }\r\n    _shouldMakeBullet(dataItem) {\r\n        if (dataItem.get(\"value\") != null) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeTick(dataItem) {\r\n        const tick = this.ticksContainer.children.push(this.ticks.make());\r\n        tick._setDataItem(dataItem);\r\n        dataItem.set(\"tick\", tick);\r\n        this.ticks.push(tick);\r\n        return tick;\r\n    }\r\n    _afterNew() {\r\n        this.fields.push(\"category\", \"fill\");\r\n        super._afterNew();\r\n    }\r\n    _onDataClear() {\r\n        const colors = this.get(\"colors\");\r\n        if (colors) {\r\n            colors.reset();\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this._lLabels = [];\r\n        this._rLabels = [];\r\n        this._hLabels = [];\r\n        if (this._valuesDirty) {\r\n            let sum = 0;\r\n            let absSum = 0;\r\n            let valueHigh = 0;\r\n            let valueLow = Infinity;\r\n            let count = 0;\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                let valueWorking = dataItem.get(\"valueWorking\", 0);\r\n                sum += valueWorking;\r\n                absSum += Math.abs(valueWorking);\r\n            });\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                let value = dataItem.get(\"valueWorking\", 0);\r\n                if (value > valueHigh) {\r\n                    valueHigh = value;\r\n                }\r\n                if (value < valueLow) {\r\n                    valueLow = value;\r\n                }\r\n                count++;\r\n                let percentTotal = value / absSum;\r\n                if (absSum == 0) {\r\n                    percentTotal = 0;\r\n                }\r\n                dataItem.setRaw(\"valuePercentTotal\", percentTotal * 100);\r\n            });\r\n            this.setPrivateRaw(\"valueLow\", valueLow);\r\n            this.setPrivateRaw(\"valueHigh\", valueHigh);\r\n            this.setPrivateRaw(\"valueSum\", sum);\r\n            this.setPrivateRaw(\"valueAverage\", sum / count);\r\n            this.setPrivateRaw(\"valueAbsoluteSum\", absSum);\r\n        }\r\n    }\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    show(duration) {\r\n        const _super = Object.create(null, {\r\n            show: { get: () => super.show }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let promises = [];\r\n            promises.push(_super.show.call(this, duration));\r\n            promises.push(this._sequencedShowHide(true, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hide whole series.\r\n     *\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    hide(duration) {\r\n        const _super = Object.create(null, {\r\n            hide: { get: () => super.hide }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let promises = [];\r\n            promises.push(_super.hide.call(this, duration));\r\n            promises.push(this._sequencedShowHide(false, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this._valuesDirty) {\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                dataItem.get(\"label\").text.markDirtyText();\r\n            });\r\n        }\r\n        if (this.isDirty(\"legendLabelText\") || this.isDirty(\"legendValueText\")) {\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                this.updateLegendValue(dataItem);\r\n            });\r\n        }\r\n        this._arrange();\r\n    }\r\n    _arrange() {\r\n        this._arrangeDown(this._lLabels);\r\n        this._arrangeUp(this._lLabels);\r\n        this._arrangeDown(this._rLabels);\r\n        this._arrangeUp(this._rLabels);\r\n        this._arrangeLeft(this._hLabels);\r\n        this._arrangeRight(this._hLabels);\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            this._updateTick(dataItem);\r\n        });\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        this._arrange();\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        if (dataItem.get(\"fill\") == null) {\r\n            let colors = this.get(\"colors\");\r\n            if (colors) {\r\n                dataItem.setRaw(\"fill\", colors.next());\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            if (!$type.isNumber(duration)) {\r\n                duration = this.get(\"stateAnimationDuration\", 0);\r\n            }\r\n            const easing = this.get(\"stateAnimationEasing\");\r\n            let value = dataItem.get(\"value\");\r\n            const animation = dataItem.animate({ key: \"valueWorking\", to: value, duration: duration, easing: easing });\r\n            if (animation) {\r\n                promises.push(animation.waitForStop());\r\n            }\r\n            const tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                promises.push(tick.show(duration));\r\n            }\r\n            const label = dataItem.get(\"label\");\r\n            if (label) {\r\n                promises.push(label.show(duration));\r\n            }\r\n            const slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                promises.push(slice.show(duration));\r\n            }\r\n            if (slice.get(\"active\")) {\r\n                slice.states.applyAnimate(\"active\");\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const hiddenState = this.states.create(\"hidden\", {});\r\n            if (!$type.isNumber(duration)) {\r\n                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n            }\r\n            const easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n            const animation = dataItem.animate({ key: \"valueWorking\", to: 0, duration: duration, easing: easing });\r\n            if (animation) {\r\n                promises.push(animation.waitForStop());\r\n            }\r\n            const tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                promises.push(tick.hide(duration));\r\n            }\r\n            const label = dataItem.get(\"label\");\r\n            if (label) {\r\n                promises.push(label.hide(duration));\r\n            }\r\n            const slice = dataItem.get(\"slice\");\r\n            slice.hideTooltip();\r\n            if (slice) {\r\n                promises.push(slice.hide(duration));\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        let label = dataItem.get(\"label\");\r\n        if (label) {\r\n            this.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        let tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            this.ticks.removeValue(tick);\r\n            tick.dispose();\r\n        }\r\n        let slice = dataItem.get(\"slice\");\r\n        if (slice) {\r\n            this.slices.removeValue(slice);\r\n            slice.dispose();\r\n        }\r\n    }\r\n    /**\r\n     * Triggers hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    hoverDataItem(dataItem) {\r\n        const slice = dataItem.get(\"slice\");\r\n        if (slice && !slice.isHidden()) {\r\n            slice.hover();\r\n        }\r\n    }\r\n    /**\r\n     * Triggers un-hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    unhoverDataItem(dataItem) {\r\n        const slice = dataItem.get(\"slice\");\r\n        if (slice) {\r\n            slice.unhover();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(dataItem) {\r\n        if (dataItem) {\r\n            const slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                const legendDataItem = dataItem.get(\"legendDataItem\");\r\n                if (legendDataItem) {\r\n                    const markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                    $array.each(visualSettings, (setting) => {\r\n                        if (slice.get(setting) != null) {\r\n                            markerRectangle.set(setting, slice.get(setting));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _arrangeDown(labels) {\r\n        if (labels) {\r\n            let next = this._getNextDown();\r\n            labels.sort((a, b) => {\r\n                if (a.y > b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y < b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelTop = bounds.top;\r\n                if (l.y + labelTop < next) {\r\n                    l.y = next - labelTop;\r\n                }\r\n                l.label.set(\"y\", l.y);\r\n                next = l.y + bounds.bottom;\r\n            });\r\n        }\r\n    }\r\n    _getNextUp() {\r\n        return this.labelsContainer.maxHeight();\r\n    }\r\n    _getNextDown() {\r\n        return 0;\r\n    }\r\n    _arrangeUp(labels) {\r\n        if (labels) {\r\n            let next = this._getNextUp();\r\n            labels.sort((a, b) => {\r\n                if (a.y < b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y > b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelBottom = bounds.bottom;\r\n                if (l.y + labelBottom > next) {\r\n                    l.y = next - labelBottom;\r\n                }\r\n                l.label.set(\"y\", l.y);\r\n                next = l.y + bounds.top;\r\n            });\r\n        }\r\n    }\r\n    _arrangeRight(labels) {\r\n        if (labels) {\r\n            let next = 0;\r\n            labels.sort((a, b) => {\r\n                if (a.y > b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y < b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelLeft = bounds.left;\r\n                if (l.y + labelLeft < next) {\r\n                    l.y = next - labelLeft;\r\n                }\r\n                l.label.set(\"x\", l.y);\r\n                next = l.y + bounds.right;\r\n            });\r\n        }\r\n    }\r\n    _arrangeLeft(labels) {\r\n        if (labels) {\r\n            let next = this.labelsContainer.maxWidth();\r\n            labels.sort((a, b) => {\r\n                if (a.y < b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y > b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelRight = bounds.right;\r\n                if (l.y + labelRight > next) {\r\n                    l.y = next - labelRight;\r\n                }\r\n                l.label.set(\"x\", l.y);\r\n                next = l.y + bounds.left;\r\n            });\r\n        }\r\n    }\r\n    _updateSize() {\r\n        super._updateSize();\r\n        this.markDirty();\r\n    }\r\n    _updateTick(_dataItem) {\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart.series.removeValue(this);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PercentSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PercentSeries\"\r\n});\r\nObject.defineProperty(PercentSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Series.classNames.concat([PercentSeries.className])\r\n});\r\n//# sourceMappingURL=PercentSeries.js.map","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it’s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import { Graphics } from \"./Graphics\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { arc } from \"d3-shape\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * Draws a slice shape.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nexport class Slice extends Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"ix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"iy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_generator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: arc()\r\n        });\r\n    }\r\n    _getTooltipPoint() {\r\n        let tooltipX = this.get(\"tooltipX\");\r\n        let tooltipY = this.get(\"tooltipY\");\r\n        let x = 0;\r\n        let y = 0;\r\n        if ($type.isNumber(tooltipX)) {\r\n            x = tooltipX;\r\n        }\r\n        if ($type.isNumber(tooltipY)) {\r\n            y = tooltipY;\r\n        }\r\n        let radius = this.get(\"radius\", 0);\r\n        let innerRadius = this.get(\"innerRadius\", 0);\r\n        let dRadius = this.get(\"dRadius\", 0);\r\n        let dInnerRadius = this.get(\"dInnerRadius\", 0);\r\n        radius += dRadius;\r\n        innerRadius += dInnerRadius;\r\n        if (innerRadius < 0) {\r\n            innerRadius = radius + innerRadius;\r\n        }\r\n        if (tooltipX instanceof Percent) {\r\n            x = this.ix * (innerRadius + (radius - innerRadius) * tooltipX.value);\r\n        }\r\n        if (tooltipY instanceof Percent) {\r\n            y = this.iy * (innerRadius + (radius - innerRadius) * tooltipY.value);\r\n        }\r\n        if (this.get(\"arc\") >= 360 && innerRadius == 0) {\r\n            x = 0;\r\n            y = 0;\r\n        }\r\n        return { x, y };\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"radius\") || this.isDirty(\"arc\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"dRadius\") || this.isDirty(\"dInnerRadius\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"shiftRadius\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            let startAngle = this.get(\"startAngle\", 0);\r\n            let arc = this.get(\"arc\", 0);\r\n            const generator = this._generator;\r\n            if (arc < 0) {\r\n                startAngle = startAngle + arc;\r\n                arc = arc * -1;\r\n            }\r\n            if (arc > 0.1) { // this fixes bug with full circle when arc is very small\r\n                generator.cornerRadius(this.get(\"cornerRadius\", 0));\r\n            }\r\n            generator.context(this._display);\r\n            let radius = this.get(\"radius\", 0);\r\n            let innerRadius = this.get(\"innerRadius\", 0);\r\n            let dRadius = this.get(\"dRadius\", 0);\r\n            let dInnerRadius = this.get(\"dInnerRadius\", 0);\r\n            radius += dRadius;\r\n            innerRadius += dInnerRadius;\r\n            if (innerRadius < 0) {\r\n                innerRadius = radius + innerRadius;\r\n            }\r\n            generator({ innerRadius: innerRadius, outerRadius: radius, startAngle: (startAngle + 90) * $math.RADIANS, endAngle: (startAngle + arc + 90) * $math.RADIANS });\r\n            let middleAngle = startAngle + arc / 2;\r\n            this.ix = $math.cos(middleAngle);\r\n            this.iy = $math.sin(middleAngle);\r\n            const shiftRadius = this.get(\"shiftRadius\", 0);\r\n            this.setRaw(\"dx\", this.ix * shiftRadius);\r\n            this.setRaw(\"dy\", this.iy * shiftRadius);\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Slice, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Slice\"\r\n});\r\nObject.defineProperty(Slice, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Slice.className])\r\n});\r\n//# sourceMappingURL=Slice.js.map","/** @ignore */ /** */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * @ignore\r\n */\r\nexport function segmentedLine(display, segments) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    line(display, groups[g]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function line(display, points) {\r\n    for (let p = 0, len = points.length; p < len; p++) {\r\n        const point = points[p];\r\n        display.lineTo(point.x, point.y);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function moveTo(display, point) {\r\n    display.moveTo(point.x, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function clear(display) {\r\n    display.clear();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedSegmentedline(display, segments, tensionX, tensionY) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    const points = groups[g];\r\n                    if (points.length > 0) {\r\n                        display.lineTo(points[0].x, points[0].y);\r\n                    }\r\n                    smoothedLine(display, points, tensionX, tensionY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedLine(display, points, tensionX, tensionY) {\r\n    for (let i = points.length - 1; i > 0; i--) {\r\n        let p0 = points[i];\r\n        let p1 = points[i - 1];\r\n        if (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\r\n            points.splice(i - 1, 1);\r\n        }\r\n    }\r\n    if (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\r\n        line(display, points);\r\n        return;\r\n    }\r\n    tensionX = 1 - tensionX + 0.00001;\r\n    tensionY = 1 - tensionY + 0.00001;\r\n    let first = points[0];\r\n    let last = points[points.length - 1];\r\n    let closed = false;\r\n    if ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\r\n        closed = true;\r\n    }\r\n    // Can't moveTo here, as it wont be possible to have fill then.\r\n    let path = \"\";\r\n    for (let i = 0, len = points.length - 1; i < len; i++) {\r\n        let p0 = points[i - 1];\r\n        let p1 = points[i];\r\n        let p2 = points[i + 1];\r\n        let p3 = points[i + 2];\r\n        if (i === 0) {\r\n            if (closed) {\r\n                p0 = points[len - 2];\r\n            }\r\n            else {\r\n                p0 = points[0];\r\n            }\r\n        }\r\n        else if (i == len - 1) {\r\n            if (closed) {\r\n                p3 = points[1];\r\n            }\r\n            else {\r\n                p3 = p2;\r\n            }\r\n        }\r\n        let controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\r\n        let controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\r\n        display.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\r\n    }\r\n    return path;\r\n}\r\n//# sourceMappingURL=Draw.js.map","import { Graphics } from \"./Graphics\";\r\nimport * as $draw from \"../util/Draw\";\r\n/**\r\n * Draws a line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Line extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const points = this.get(\"points\");\r\n            const segments = this.get(\"segments\");\r\n            if (points && points.length > 0) {\r\n                let point = points[0];\r\n                this._display.moveTo(point.x, point.y);\r\n                $draw.segmentedLine(this._display, [[points]]);\r\n            }\r\n            else if (segments) {\r\n                $draw.segmentedLine(this._display, segments);\r\n            }\r\n            else if (!this.get(\"draw\")) {\r\n                let w = this.width();\r\n                let h = this.height();\r\n                this._display.moveTo(0, 0);\r\n                this._display.lineTo(w, h);\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Line, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Line\"\r\n});\r\nObject.defineProperty(Line, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Line.className])\r\n});\r\n//# sourceMappingURL=Line.js.map","import { Line } from \"./Line\";\r\n/**\r\n * Draws a tick element (mostly used on axes).\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nexport class Tick extends Line {\r\n}\r\nObject.defineProperty(Tick, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tick\"\r\n});\r\nObject.defineProperty(Tick, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Line.classNames.concat([Tick.className])\r\n});\r\n//# sourceMappingURL=Tick.js.map","import { Text } from \"./Text\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * @ignore\r\n */\r\nexport class RadialText extends Text {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeRadialText(\"\", this.textStyle)\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        this._display.clear();\r\n        if (this.isDirty(\"textType\")) {\r\n            this._display.textType = this.get(\"textType\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"radius\")) {\r\n            this._display.radius = this.get(\"radius\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"startAngle\")) {\r\n            this._display.startAngle = (this.get(\"startAngle\", 0) + 90) * $math.RADIANS;\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"inside\")) {\r\n            this._display.inside = this.get(\"inside\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"orientation\")) {\r\n            this._display.orientation = this.get(\"orientation\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"kerning\")) {\r\n            this._display.kerning = this.get(\"kerning\");\r\n            this.markDirtyBounds();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(RadialText, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"RadialText\"\r\n});\r\nObject.defineProperty(RadialText, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Text.classNames.concat([RadialText.className])\r\n});\r\n//# sourceMappingURL=RadialText.js.map","// import * as $object from \"../util/Object\";\r\nimport { p50, Percent } from \"../util/Percent\";\r\nimport { Label } from \"./Label\";\r\nimport { RadialText } from \"./RadialText\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $utils from \"../util/Utils\";\r\nexport class RadialLabel extends Label {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_flipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._textKeys.push(\"textType\", \"kerning\");\r\n        super._afterNew();\r\n    }\r\n    _makeText() {\r\n        this._text = this.children.push(RadialText.new(this._root, {}));\r\n    }\r\n    /**\r\n     * Returns base radius in pixels.\r\n     *\r\n     * @return Base radius\r\n     */\r\n    baseRadius() {\r\n        const radiusPrivate = this.getPrivate(\"radius\", 0);\r\n        const innerRadiusPrivate = this.getPrivate(\"innerRadius\", 0);\r\n        const baseRadius = this.get(\"baseRadius\", 0);\r\n        return innerRadiusPrivate + $utils.relativeToValue(baseRadius, radiusPrivate - innerRadiusPrivate);\r\n    }\r\n    /**\r\n     * Returns radius adjustment in pixels.\r\n     *\r\n     * @return Radius\r\n     */\r\n    radius() {\r\n        const inside = this.get(\"inside\", false);\r\n        return this.baseRadius() + this.get(\"radius\", 0) * (inside ? -1 : 1);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this.isDirty(\"baseRadius\") || this.isPrivateDirty(\"radius\") || this.isPrivateDirty(\"innerRadius\") || this.isDirty(\"labelAngle\") || this.isDirty(\"radius\") || this.isDirty(\"inside\") || this.isDirty(\"orientation\") || this.isDirty(\"textType\")) {\r\n            const textType = this.get(\"textType\", \"adjusted\");\r\n            const inside = this.get(\"inside\", false);\r\n            const orientation = this.get(\"orientation\");\r\n            let labelAngle = $math.normalizeAngle(this.get(\"labelAngle\", 0));\r\n            this._text.set(\"startAngle\", this.get(\"labelAngle\", 0));\r\n            this._text.set(\"inside\", inside);\r\n            const sin = $math.sin(labelAngle);\r\n            const cos = $math.cos(labelAngle);\r\n            let baseRadius = this.baseRadius();\r\n            let radius = this.radius();\r\n            this._display.angle = 0;\r\n            if (textType == \"circular\") {\r\n                this.setAll({\r\n                    paddingTop: 0,\r\n                    paddingBottom: 0,\r\n                    paddingLeft: 0,\r\n                    paddingRight: 0\r\n                });\r\n                // Circular labels are handled and positioned differently\r\n                this._text.set(\"orientation\", orientation);\r\n                this._text.set(\"radius\", radius);\r\n            }\r\n            else {\r\n                if (baseRadius == 0) {\r\n                    labelAngle = 0;\r\n                    radius = 0;\r\n                }\r\n                // Positioning of radial/regular labels are teh same\r\n                let x = radius * cos;\r\n                let y = radius * sin;\r\n                if (textType == \"radial\") {\r\n                    this.setRaw(\"x\", x);\r\n                    this.setRaw(\"y\", y);\r\n                    if ((labelAngle < 90) || (labelAngle > 270) || orientation != \"auto\") {\r\n                        this._display.angle = labelAngle; // + 90;\r\n                        this._flipped = false;\r\n                    }\r\n                    else {\r\n                        this._display.angle = labelAngle + 180;\r\n                        this._flipped = true;\r\n                    }\r\n                    this._dirty.rotation = false;\r\n                }\r\n                else if (textType == \"adjusted\") {\r\n                    this.setRaw(\"centerX\", p50);\r\n                    this.setRaw(\"centerY\", p50);\r\n                    this.setRaw(\"x\", x);\r\n                    this.setRaw(\"y\", y);\r\n                }\r\n                else if (textType == \"regular\") {\r\n                    this.setRaw(\"x\", x);\r\n                    this.setRaw(\"y\", y);\r\n                }\r\n            }\r\n            this.markDirtyPosition();\r\n            this.markDirtyBounds();\r\n        }\r\n    }\r\n    _updatePosition() {\r\n        const textType = this.get(\"textType\", \"regular\");\r\n        const inside = this.get(\"inside\", false);\r\n        let dx = 0;\r\n        let dy = 0;\r\n        let labelAngle = this.get(\"labelAngle\", 0);\r\n        let bounds = this.localBounds();\r\n        let w = bounds.right - bounds.left;\r\n        let h = bounds.bottom - bounds.top;\r\n        if (textType == \"radial\") {\r\n            if (this._flipped) {\r\n                let centerX = this.get(\"centerX\");\r\n                if (centerX instanceof Percent) {\r\n                    w = w * (1 - centerX.value * 2);\r\n                }\r\n                dx = w * $math.cos(labelAngle);\r\n                dy = w * $math.sin(labelAngle);\r\n            }\r\n        }\r\n        else if (!inside && textType == \"adjusted\") {\r\n            dx = w / 2 * $math.cos(labelAngle);\r\n            dy = h / 2 * $math.sin(labelAngle);\r\n        }\r\n        this.setRaw(\"dx\", dx);\r\n        this.setRaw(\"dy\", dy);\r\n        super._updatePosition();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\nObject.defineProperty(RadialLabel, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"RadialLabel\"\r\n});\r\nObject.defineProperty(RadialLabel, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Label.classNames.concat([RadialLabel.className])\r\n});\r\n//# sourceMappingURL=RadialLabel.js.map","import { PercentSeries } from \"../percent/PercentSeries\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { Slice } from \"../../core/render/Slice\";\r\nimport { Tick } from \"../../core/render/Tick\";\r\nimport { RadialLabel } from \"../../core/render/RadialLabel\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Creates a series for a [[PieChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/} for more info\r\n * @important\r\n */\r\nexport class PieSeries extends PercentSeries {\r\n    _makeSlices() {\r\n        return new ListTemplate(Template.new({}), () => Slice._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.slices.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n        }, [this.slices.template]));\r\n    }\r\n    _makeLabels() {\r\n        return new ListTemplate(Template.new({}), () => RadialLabel._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n        }, [this.labels.template]));\r\n    }\r\n    _makeTicks() {\r\n        return new ListTemplate(Template.new({}), () => Tick._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.ticks.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n        }, [this.ticks.template]));\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        const slice = this.makeSlice(dataItem);\r\n        slice.on(\"scale\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        slice.on(\"shiftRadius\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        slice.events.on(\"positionchanged\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        const label = this.makeLabel(dataItem);\r\n        label.events.on(\"positionchanged\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        this.makeTick(dataItem);\r\n        slice.events.on(\"positionchanged\", () => {\r\n            label.markDirty();\r\n        });\r\n    }\r\n    _getNextUp() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            return chart._maxRadius;\r\n        }\r\n        return this.labelsContainer.maxHeight() / 2;\r\n    }\r\n    _getNextDown() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            return -chart._maxRadius;\r\n        }\r\n        return -this.labelsContainer.maxHeight() / 2;\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            if (this.isDirty(\"alignLabels\")) {\r\n                let labelsTemplate = this.labels.template;\r\n                if (this.get(\"alignLabels\")) {\r\n                    labelsTemplate.set(\"textType\", \"aligned\");\r\n                }\r\n                else {\r\n                    let textType = labelsTemplate.get(\"textType\");\r\n                    if (textType == null || textType == \"aligned\") {\r\n                        labelsTemplate.set(\"textType\", \"adjusted\");\r\n                    }\r\n                }\r\n            }\r\n            if (this._valuesDirty || this.isDirty(\"radius\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\") || this.isDirty(\"alignLabels\")) {\r\n                this.markDirtyBounds();\r\n                const startAngle = this.get(\"startAngle\", chart.get(\"startAngle\", -90));\r\n                const endAngle = this.get(\"endAngle\", chart.get(\"endAngle\", 270));\r\n                const arc = endAngle - startAngle;\r\n                let currentAngle = startAngle;\r\n                const radius = chart.radius(this);\r\n                this.setPrivateRaw(\"radius\", radius);\r\n                let innerRadius = chart.innerRadius(this) * chart.getPrivate(\"irModifyer\", 1);\r\n                if (innerRadius < 0) {\r\n                    innerRadius = radius + innerRadius;\r\n                }\r\n                //if (radius > 0) {\r\n                $array.each(this._dataItems, (dataItem) => {\r\n                    this.updateLegendValue(dataItem);\r\n                    let currentArc = arc * dataItem.get(\"valuePercentTotal\") / 100;\r\n                    const slice = dataItem.get(\"slice\");\r\n                    if (slice) {\r\n                        slice.set(\"radius\", radius);\r\n                        slice.set(\"innerRadius\", innerRadius);\r\n                        slice.set(\"startAngle\", currentAngle);\r\n                        slice.set(\"arc\", currentArc);\r\n                        const color = dataItem.get(\"fill\");\r\n                        slice._setDefault(\"fill\", color);\r\n                        slice._setDefault(\"stroke\", color);\r\n                    }\r\n                    let middleAngle = $math.normalizeAngle(currentAngle + currentArc / 2);\r\n                    const label = dataItem.get(\"label\");\r\n                    if (label) {\r\n                        label.setPrivate(\"radius\", radius);\r\n                        label.setPrivate(\"innerRadius\", innerRadius);\r\n                        label.set(\"labelAngle\", middleAngle);\r\n                        if (label.get(\"textType\") == \"aligned\") {\r\n                            let labelRadius = radius + label.get(\"radius\", 0);\r\n                            let y = radius * $math.sin(middleAngle);\r\n                            if (middleAngle > 90 && middleAngle <= 270) {\r\n                                if (!label.isHidden() && !label.isHiding()) {\r\n                                    this._lLabels.push({ label: label, y: y });\r\n                                }\r\n                                labelRadius *= -1;\r\n                                labelRadius -= this.labelsContainer.get(\"paddingLeft\", 0);\r\n                                label.set(\"centerX\", p100);\r\n                                label.setPrivateRaw(\"left\", true);\r\n                            }\r\n                            else {\r\n                                if (!label.isHidden() && !label.isHiding()) {\r\n                                    this._rLabels.push({ label: label, y: y });\r\n                                }\r\n                                labelRadius += this.labelsContainer.get(\"paddingRight\", 0);\r\n                                label.set(\"centerX\", 0);\r\n                                label.setPrivateRaw(\"left\", false);\r\n                            }\r\n                            label.set(\"x\", labelRadius);\r\n                            label.set(\"y\", radius * $math.sin(middleAngle));\r\n                        }\r\n                    }\r\n                    currentAngle += currentArc;\r\n                    this._updateTick(dataItem);\r\n                });\r\n                //}\r\n            }\r\n        }\r\n    }\r\n    _updateTick(dataItem) {\r\n        const tick = dataItem.get(\"tick\");\r\n        const label = dataItem.get(\"label\");\r\n        const slice = dataItem.get(\"slice\");\r\n        const location = tick.get(\"location\", 1);\r\n        if (tick && label && slice) {\r\n            const radius = (slice.get(\"shiftRadius\", 0) + slice.get(\"radius\", 0)) * slice.get(\"scale\", 1) * location;\r\n            const labelAngle = label.get(\"labelAngle\", 0);\r\n            const cos = $math.cos(labelAngle);\r\n            const sin = $math.sin(labelAngle);\r\n            const labelsContainer = this.labelsContainer;\r\n            const pl = labelsContainer.get(\"paddingLeft\", 0);\r\n            const pr = labelsContainer.get(\"paddingRight\", 0);\r\n            let x = 0;\r\n            let y = 0;\r\n            x = label.x();\r\n            y = label.y();\r\n            if (label.get(\"textType\") == \"circular\") {\r\n                const labelRadius = label.radius() - label.get(\"paddingBottom\", 0);\r\n                const labelAngle = label.get(\"labelAngle\", 0);\r\n                x = labelRadius * $math.cos(labelAngle);\r\n                y = labelRadius * $math.sin(labelAngle);\r\n            }\r\n            let dx = -pr;\r\n            if (label.getPrivate(\"left\")) {\r\n                dx = pl;\r\n            }\r\n            tick.set(\"points\", [{ x: slice.x() + radius * cos, y: slice.y() + radius * sin }, { x: x + dx, y: y }, { x: x, y: y }]);\r\n        }\r\n    }\r\n    _positionBullet(bullet) {\r\n        const sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            const dataItem = sprite.dataItem;\r\n            const slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                const innerRadius = slice.get(\"innerRadius\", 0);\r\n                const radius = slice.get(\"radius\", 0);\r\n                const startAngle = slice.get(\"startAngle\", 0);\r\n                const arc = slice.get(\"arc\", 0);\r\n                const locationX = bullet.get(\"locationX\", 0.5);\r\n                const locationY = bullet.get(\"locationY\", 0.5);\r\n                const angle = startAngle + arc * locationX;\r\n                const r = innerRadius + (radius - innerRadius) * locationY;\r\n                sprite.setAll({ x: $math.cos(angle) * r, y: $math.sin(angle) * r });\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PieSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PieSeries\"\r\n});\r\nObject.defineProperty(PieSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: PercentSeries.classNames.concat([PieSeries.className])\r\n});\r\n//# sourceMappingURL=PieSeries.js.map","import { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\nimport * as $time from \"../../core/util/Time\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * @ignore\r\n */\r\nexport class XYChartDefaultTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const ic = this._root.interfaceColors;\r\n        const language = this._root.language;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * charts/xy\r\n         * ========================================================================\r\n         */\r\n        r(\"XYChart\").setAll({\r\n            colors: ColorSet.new(this._root, {}),\r\n            paddingLeft: 20,\r\n            paddingRight: 20,\r\n            paddingTop: 16,\r\n            paddingBottom: 16,\r\n            panX: false,\r\n            panY: false,\r\n            wheelStep: 0.25,\r\n            arrangeTooltips: true,\r\n            pinchZoomX: false,\r\n            pinchZoomY: false\r\n        });\r\n        r(\"XYSeries\").setAll({\r\n            legendLabelText: \"{name}\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: XYChartScrollbar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYChart\", [\"scrollbar\", \"chart\"]).setAll({\r\n            paddingBottom: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingRight: 0,\r\n            colors: ColorSet.new(this._root, {\r\n                saturation: 0\r\n            })\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"scrollbar\", \"overlay\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.5\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n        }\r\n        // Class: RoundedRectangle\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).setAll({\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusBL: 0,\r\n            fillOpacity: 0,\r\n            focusable: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).states.create(\"hover\", { fillOpacity: 0.4 });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\"]).setAll({\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusBR: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\", \"resize\", \"button\"]).setAll({\r\n            cornerRadiusBL: 40,\r\n            cornerRadiusBR: 40,\r\n            cornerRadiusTL: 40,\r\n            cornerRadiusTR: 40\r\n        });\r\n        r(\"AxisRendererX\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n            strokeOpacity: 0,\r\n            inside: true\r\n        });\r\n        r(\"AxisRendererY\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n            strokeOpacity: 0,\r\n            inside: true,\r\n            minGridDistance: 5\r\n        });\r\n        r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n            opacity: 0.5,\r\n            centerY: p100,\r\n            minPosition: 0.01,\r\n            maxPosition: 0.99,\r\n            fontSize: \"0.8em\"\r\n        });\r\n        r(\"AxisLabel\", [\"category\"]).setAll({\r\n            text: \"{category}\",\r\n            populateText: true\r\n        });\r\n        r(\"AxisLabel\", [\"x\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"inside\"]).setAll({\r\n            centerY: p100\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"inside\", \"opposite\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"opposite\"]).setAll({\r\n            centerY: p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\"]).setAll({\r\n            centerX: p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"inside\"]).setAll({\r\n            centerX: 0\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"inside\", \"opposite\"]).setAll({\r\n            centerX: p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n            centerX: 0\r\n        });\r\n        r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n            visible: false\r\n        });\r\n        // Class: Grid\r\n        r(\"Grid\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n            visible: false\r\n        });\r\n        // Class: Grid\r\n        r(\"Grid\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n            opacity: 0.5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Cursor\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYCursor\").setAll({\r\n            behavior: \"none\",\r\n            layer: 30,\r\n            exportable: false,\r\n            snapToSeriesBy: \"xy\",\r\n            moveThreshold: 1\r\n        });\r\n        {\r\n            const rule = r(\"Grid\", [\"cursor\", \"x\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.8,\r\n                strokeDasharray: [2, 2],\r\n                ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"Grid\", [\"cursor\", \"y\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.8,\r\n                strokeDasharray: [2, 2],\r\n                ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"cursor\", \"selection\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.15,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Axes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Axis\").setAll({\r\n            start: 0,\r\n            end: 1,\r\n            minZoomCount: 1,\r\n            maxZoomCount: Infinity,\r\n            maxZoomFactor: 1000,\r\n            maxDeviation: 0.1,\r\n            snapTooltip: true,\r\n            tooltipLocation: 0.5,\r\n            panX: true,\r\n            panY: true,\r\n            zoomX: true,\r\n            zoomY: true,\r\n            fixAxisSize: true\r\n        });\r\n        r(\"AxisLabel\").setAll({\r\n            location: 0.5,\r\n            multiLocation: 0,\r\n            centerX: p50,\r\n            centerY: p50,\r\n            paddingTop: 3,\r\n            paddingBottom: 3,\r\n            paddingLeft: 5,\r\n            paddingRight: 5\r\n        });\r\n        // The following is deprecated following text measuring updates in 5.0.5\r\n        // r(\"AxisLabel\", [\"y\"]).setAll({\r\n        // \ttextAlign: \"right\"\r\n        // });\r\n        // r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n        // \ttextAlign: \"left\"\r\n        // });\r\n        r(\"Container\", [\"axis\", \"header\"]).setAll({\r\n            layer: 30\r\n        });\r\n        r(\"Rectangle\", [\"axis\", \"header\", \"background\"]).setAll({\r\n            crisp: true\r\n        });\r\n        {\r\n            const rule = r(\"AxisRenderer\");\r\n            rule.setAll({\r\n                crisp: true,\r\n                strokeOpacity: 0\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"AxisRendererX\").setAll({\r\n            minGridDistance: 120,\r\n            opposite: false,\r\n            inversed: false,\r\n            cellStartLocation: 0,\r\n            cellEndLocation: 1,\r\n            width: p100\r\n        });\r\n        r(\"AxisRendererY\").setAll({\r\n            minGridDistance: 40,\r\n            opposite: false,\r\n            inversed: false,\r\n            cellStartLocation: 0,\r\n            cellEndLocation: 1,\r\n            height: p100\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"axis\", \"thumb\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            rule.states.create(\"hover\", { fillOpacity: 0.1 });\r\n        }\r\n        r(\"Rectangle\", [\"axis\", \"thumb\", \"x\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\"\r\n        });\r\n        r(\"Rectangle\", [\"axis\", \"thumb\", \"y\"]).setAll({\r\n            cursorOverStyle: \"ns-resize\"\r\n        });\r\n        {\r\n            const rule = r(\"Grid\");\r\n            rule.setAll({\r\n                location: 0,\r\n                strokeOpacity: 0.15,\r\n                crisp: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Grid\", [\"base\"]).setAll({\r\n            strokeOpacity: 0.3\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"axis\", \"fill\"]);\r\n            rule.setAll({\r\n                visible: false,\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                fillOpacity: 0.05,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Graphics\", [\"axis\", \"fill\", \"range\"]).setAll({\r\n            isMeasured: true\r\n        });\r\n        // hides all elements of series axis range\r\n        r(\"Graphics\", [\"series\", \"fill\", \"range\"]).setAll({\r\n            visible: false,\r\n            isMeasured: true\r\n        });\r\n        r(\"Grid\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        r(\"AxisTick\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        r(\"AxisLabel\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        {\r\n            const rule = r(\"AxisTick\");\r\n            rule.setAll({\r\n                location: 0.5,\r\n                multiLocation: 0,\r\n                strokeOpacity: 1,\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                visible: false\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"CategoryAxis\").setAll({\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            fillRule: (dataItem, index) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    if (!$type.isNumber(index) || index % 2 == 0) {\r\n                        axisFill.setPrivate(\"visible\", true);\r\n                    }\r\n                    else {\r\n                        axisFill.setPrivate(\"visible\", false);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        const gridIntervals = [\r\n            { timeUnit: \"millisecond\", count: 1 },\r\n            { timeUnit: \"millisecond\", count: 5 },\r\n            { timeUnit: \"millisecond\", count: 10 },\r\n            { timeUnit: \"millisecond\", count: 50 },\r\n            { timeUnit: \"millisecond\", count: 100 },\r\n            { timeUnit: \"millisecond\", count: 500 },\r\n            { timeUnit: \"second\", count: 1 },\r\n            { timeUnit: \"second\", count: 5 },\r\n            { timeUnit: \"second\", count: 10 },\r\n            { timeUnit: \"second\", count: 30 },\r\n            { timeUnit: \"minute\", count: 1 },\r\n            { timeUnit: \"minute\", count: 5 },\r\n            { timeUnit: \"minute\", count: 10 },\r\n            { timeUnit: \"minute\", count: 15 },\r\n            { timeUnit: \"minute\", count: 30 },\r\n            { timeUnit: \"hour\", count: 1 },\r\n            { timeUnit: \"hour\", count: 3 },\r\n            { timeUnit: \"hour\", count: 6 },\r\n            { timeUnit: \"hour\", count: 12 },\r\n            { timeUnit: \"day\", count: 1 },\r\n            { timeUnit: \"day\", count: 2 },\r\n            { timeUnit: \"day\", count: 3 },\r\n            { timeUnit: \"day\", count: 4 },\r\n            { timeUnit: \"day\", count: 5 },\r\n            { timeUnit: \"week\", count: 1 },\r\n            { timeUnit: \"month\", count: 1 },\r\n            { timeUnit: \"month\", count: 2 },\r\n            { timeUnit: \"month\", count: 3 },\r\n            { timeUnit: \"month\", count: 6 },\r\n            { timeUnit: \"year\", count: 1 },\r\n            { timeUnit: \"year\", count: 2 },\r\n            { timeUnit: \"year\", count: 5 },\r\n            { timeUnit: \"year\", count: 10 },\r\n            { timeUnit: \"year\", count: 50 },\r\n            { timeUnit: \"year\", count: 100 },\r\n            { timeUnit: \"year\", count: 200 },\r\n            { timeUnit: \"year\", count: 500 },\r\n            { timeUnit: \"year\", count: 1000 },\r\n            { timeUnit: \"year\", count: 2000 },\r\n            { timeUnit: \"year\", count: 5000 },\r\n            { timeUnit: \"year\", count: 10000 },\r\n            { timeUnit: \"year\", count: 100000 }\r\n        ];\r\n        const dateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond\"),\r\n            \"second\": language.translate(\"_date_second\"),\r\n            \"minute\": language.translate(\"_date_minute\"),\r\n            \"hour\": language.translate(\"_date_hour\"),\r\n            \"day\": language.translate(\"_date_day\"),\r\n            \"week\": language.translate(\"_date_day\"),\r\n            \"month\": language.translate(\"_date_month\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        const periodChangeDateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond\"),\r\n            \"second\": language.translate(\"_date_second\"),\r\n            \"minute\": language.translate(\"_date_minute\"),\r\n            \"hour\": language.translate(\"_date_day\"),\r\n            \"day\": language.translate(\"_date_day\"),\r\n            \"week\": language.translate(\"_date_day\"),\r\n            \"month\": language.translate(\"_date_month\") + \" \" + language.translate(\"_date_year\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        const tooltipDateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond_full\"),\r\n            \"second\": language.translate(\"_date_second_full\"),\r\n            \"minute\": language.translate(\"_date_minute_full\"),\r\n            \"hour\": language.translate(\"_date_hour_full\"),\r\n            \"day\": language.translate(\"_date_day_full\"),\r\n            \"week\": language.translate(\"_date_week_full\"),\r\n            \"month\": language.translate(\"_date_month_full\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        r(\"CategoryDateAxis\").setAll({\r\n            markUnitChange: true,\r\n            gridIntervals: $array.copy(gridIntervals),\r\n            dateFormats: $object.copy(dateFormats),\r\n            periodChangeDateFormats: $object.copy(periodChangeDateFormats)\r\n        });\r\n        r(\"DateAxis\").setAll({\r\n            maxZoomFactor: null,\r\n            strictMinMax: true,\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            markUnitChange: true,\r\n            groupData: false,\r\n            groupCount: 500,\r\n            gridIntervals: $array.copy(gridIntervals),\r\n            dateFormats: $object.copy(dateFormats),\r\n            periodChangeDateFormats: $object.copy(periodChangeDateFormats),\r\n            tooltipDateFormats: tooltipDateFormats,\r\n            groupIntervals: [\r\n                { timeUnit: \"millisecond\", count: 1 },\r\n                { timeUnit: \"millisecond\", count: 10 },\r\n                { timeUnit: \"millisecond\", count: 100 },\r\n                { timeUnit: \"second\", count: 1 },\r\n                { timeUnit: \"second\", count: 10 },\r\n                { timeUnit: \"minute\", count: 1 },\r\n                { timeUnit: \"minute\", count: 10 },\r\n                { timeUnit: \"hour\", count: 1 },\r\n                { timeUnit: \"day\", count: 1 },\r\n                { timeUnit: \"week\", count: 1 },\r\n                { timeUnit: \"month\", count: 1 },\r\n                { timeUnit: \"year\", count: 1 }\r\n            ],\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const axis = dataItem.component;\r\n                    const value = dataItem.get(\"value\");\r\n                    const endValue = dataItem.get(\"endValue\");\r\n                    const intervalDuration = axis.intervalDuration();\r\n                    const baseInterval = axis.getPrivate(\"baseInterval\");\r\n                    const gridInterval = axis.getPrivate(\"gridInterval\", baseInterval);\r\n                    let min = axis.getPrivate(\"min\", 0);\r\n                    min = $time.round(new Date(min), gridInterval.timeUnit, gridInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n                    if (value != null && endValue != null) {\r\n                        const val = Math.round(Math.round((value - min) / intervalDuration)) / 2;\r\n                        if (val == Math.round(val)) {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        r(\"GaplessDateAxis\").setAll({\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const index = dataItem.get(\"index\");\r\n                    let visible = false;\r\n                    if (!$type.isNumber(index) || index % 2 == 0) {\r\n                        visible = true;\r\n                    }\r\n                    axisFill.setPrivate(\"visible\", visible);\r\n                }\r\n            }\r\n        });\r\n        r(\"ValueAxis\").setAll({\r\n            baseValue: 0,\r\n            logarithmic: false,\r\n            strictMinMax: false,\r\n            autoZoom: true,\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const axis = dataItem.component;\r\n                    const value = dataItem.get(\"value\");\r\n                    const step = axis.getPrivate(\"step\");\r\n                    if ($type.isNumber(value) && $type.isNumber(step)) {\r\n                        if ($math.round(value / step / 2, 5) == Math.round(value / step / 2)) {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        r(\"DurationAxis\").setAll({\r\n            baseUnit: \"second\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Series\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYSeries\").setAll({\r\n            maskBullets: true,\r\n            stackToNegative: true,\r\n            locationX: 0.5,\r\n            locationY: 0.5,\r\n            snapTooltip: false,\r\n            openValueXGrouped: \"open\",\r\n            openValueYGrouped: \"open\",\r\n            valueXGrouped: \"close\",\r\n            valueYGrouped: \"close\",\r\n            seriesTooltipTarget: \"series\"\r\n        });\r\n        r(\"BaseColumnSeries\").setAll({\r\n            adjustBulletPosition: true\r\n        });\r\n        r(\"ColumnSeries\").setAll({\r\n            clustered: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"series\", \"column\"]).setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            width: percent(70),\r\n            height: percent(70),\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTR: 0,\r\n            fillOpacity: 1,\r\n            role: \"figure\"\r\n        });\r\n        r(\"LineSeries\").setAll({\r\n            connect: true,\r\n            autoGapCount: 1.1,\r\n            stackToNegative: false\r\n        });\r\n        r(\"Graphics\", [\"series\", \"stroke\"]).setAll({\r\n            position: \"absolute\",\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            isMeasured: false\r\n        });\r\n        r(\"Graphics\", [\"series\", \"fill\"]).setAll({\r\n            visible: false,\r\n            fillOpacity: 0,\r\n            position: \"absolute\",\r\n            strokeWidth: 0,\r\n            strokeOpacity: 0,\r\n            isMeasured: false\r\n        });\r\n        r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).setAll({\r\n            draw: (display, sprite) => {\r\n                const parent = sprite.parent;\r\n                if (parent) {\r\n                    const h = parent.height();\r\n                    const w = parent.width();\r\n                    display.moveTo(0, h / 2);\r\n                    display.lineTo(w, h / 2);\r\n                }\r\n            }\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).setAll({\r\n            draw: (display, sprite) => {\r\n                const parent = sprite.parent;\r\n                if (parent) {\r\n                    const h = parent.height();\r\n                    const w = parent.width();\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(w, 0);\r\n                    display.lineTo(w, h);\r\n                    display.lineTo(0, h);\r\n                    display.lineTo(0, 0);\r\n                }\r\n            }\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"SmoothedXYLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"SmoothedXLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"SmoothedYLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"Candlestick\").setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            width: percent(50),\r\n            height: percent(50),\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTR: 0,\r\n            fillOpacity: 1,\r\n            role: \"figure\"\r\n        });\r\n        r(\"OHLC\").setAll({\r\n            width: percent(80),\r\n            height: percent(80)\r\n        });\r\n        r(\"CandlestickSeries\").setAll({\r\n            lowValueXGrouped: \"low\",\r\n            lowValueYGrouped: \"low\",\r\n            highValueXGrouped: \"high\",\r\n            highValueYGrouped: \"high\",\r\n            openValueXGrouped: \"open\",\r\n            openValueYGrouped: \"open\",\r\n            valueXGrouped: \"close\",\r\n            valueYGrouped: \"close\"\r\n        });\r\n        // These rules can be used for regular columns, too\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"riseFromOpen\", {});\r\n            setColor(rule, \"fill\", ic, \"positive\");\r\n            setColor(rule, \"stroke\", ic, \"positive\");\r\n        }\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"dropFromOpen\", {});\r\n            setColor(rule, \"fill\", ic, \"negative\");\r\n            setColor(rule, \"stroke\", ic, \"negative\");\r\n        }\r\n        // Hollow\r\n        r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromOpen\", { fillOpacity: 0 });\r\n        r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromOpen\", { fillOpacity: 1 });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromPrevious\", {});\r\n            setColor(rule, \"fill\", ic, \"positive\");\r\n            setColor(rule, \"stroke\", ic, \"positive\");\r\n        }\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromPrevious\", {});\r\n            setColor(rule, \"fill\", ic, \"negative\");\r\n            setColor(rule, \"stroke\", ic, \"negative\");\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=XYChartDefaultTheme.js.map",";\r\nimport { XYChartDefaultTheme } from \"./XYChartDefaultTheme\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Rectangle } from \"../../core/render/Rectangle\";\r\nimport { SerialChart } from \"../../core/render/SerialChart\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { Button } from \"../../core/render/Button\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $order from \"../../core/util/Order\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Creates an XY chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/} for more info\r\n * @important\r\n */\r\nexport class XYChart extends SerialChart {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A list of horizontal axes.\r\n         */\r\n        Object.defineProperty(this, \"xAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A list of vertical axes.\r\n         */\r\n        Object.defineProperty(this, \"yAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A [[Container]] located on top of the chart, used to store top horizontal\r\n         * axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(Container.new(this._root, { width: p100, layout: this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle the chart, used to store vertical axes\r\n         * and plot area container.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"yAxesAndPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(Container.new(this._root, { width: p100, height: p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on bottom of the chart, used to store bottom\r\n         * horizontal axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bottomAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(Container.new(this._root, { width: p100, layout: this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on left of the chart, used to store left-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"leftAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(Container.new(this._root, { height: p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store plotContainer and topPlotContainer\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"plotsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(Container.new(this._root, { width: p100, height: p100, maskContent: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store actual\r\n         * plots (series).\r\n         *\r\n         * NOTE: `plotContainer` will automatically have its `background` preset. If\r\n         * you need to modify background or outline for chart's plot area, you can\r\n         * use `plotContainer.get(\"background\")` for that.*\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"plotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotsContainer.children.push(Container.new(this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] used for any elements that need to be displayed over\r\n         * regular `plotContainer`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotsContainer.children.push(Container.new(this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotContainer.children.push(Container.new(this._root, { width: p100, height: p100, isMeasured: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis background grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A [[Container]] located on right of the chart, used to store right-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"rightAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(Container.new(this._root, { height: p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis headers are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"axisHeadersContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotContainer.children.push(Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A button that is shown when chart is not fully zoomed out.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Zoom_out_button} for more info\r\n         * @default Button.new()\r\n         */\r\n        Object.defineProperty(this, \"zoomOutButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.topPlotContainer.children.push(Button.new(this._root, {\r\n                themeTags: [\"zoom\"],\r\n                icon: Graphics.new(this._root, {\r\n                    themeTags: [\"button\", \"icon\"]\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_wheelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_otherCharts\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_movePoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_downStartX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEndX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downStartY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEndY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._defaultThemes.push(XYChartDefaultTheme.new(this._root));\r\n        super._afterNew();\r\n        this._disposers.push(this.xAxes);\r\n        this._disposers.push(this.yAxes);\r\n        const root = this._root;\r\n        let verticalLayout = this._root.verticalLayout;\r\n        const zoomOutButton = this.zoomOutButton;\r\n        zoomOutButton.events.on(\"click\", () => {\r\n            this.zoomOut();\r\n        });\r\n        zoomOutButton.hide(0);\r\n        zoomOutButton.states.lookup(\"default\").set(\"opacity\", 1);\r\n        this.chartContainer.set(\"layout\", verticalLayout);\r\n        const plotContainer = this.plotContainer;\r\n        plotContainer.children.push(this.seriesContainer);\r\n        this._disposers.push(this._processAxis(this.xAxes, this.bottomAxesContainer));\r\n        this._disposers.push(this._processAxis(this.yAxes, this.leftAxesContainer));\r\n        plotContainer.children.push(this.topGridContainer);\r\n        plotContainer.children.push(this.bulletsContainer);\r\n        // Setting trasnparent background so that full body of the plot container\r\n        // is interactive\r\n        plotContainer.set(\"interactive\", true);\r\n        plotContainer.set(\"interactiveChildren\", false);\r\n        plotContainer.set(\"background\", Rectangle.new(root, {\r\n            themeTags: [\"xy\", \"background\"],\r\n            fill: Color.fromHex(0x000000),\r\n            fillOpacity: 0\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"pointerdown\", (event) => {\r\n            this._handlePlotDown(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointerup\", (event) => {\r\n            this._handlePlotUp(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointermove\", (event) => {\r\n            this._handlePlotMove(event);\r\n        }));\r\n        this._maskGrid();\r\n        this._setUpTouch();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"pinchZoomX\") || this.isDirty(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) {\r\n            this._setUpTouch();\r\n        }\r\n    }\r\n    _setUpTouch() {\r\n        if (!this.plotContainer._display.cancelTouch) {\r\n            this.plotContainer._display.cancelTouch = (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) ? true : false;\r\n        }\r\n    }\r\n    _maskGrid() {\r\n        this.gridContainer.set(\"maskContent\", true);\r\n        this.topGridContainer.set(\"maskContent\", true);\r\n    }\r\n    _removeSeries(series) {\r\n        series._unstack();\r\n        if (series._posXDp) {\r\n            series._posXDp.dispose();\r\n        }\r\n        if (series._posYDp) {\r\n            series._posYDp.dispose();\r\n        }\r\n        series.set(\"baseAxis\", undefined);\r\n        const xAxis = series.get(\"xAxis\");\r\n        if (xAxis) {\r\n            $array.remove(xAxis.series, series);\r\n            xAxis.markDirtyExtremes();\r\n        }\r\n        const yAxis = series.get(\"yAxis\");\r\n        if (yAxis) {\r\n            $array.remove(yAxis.series, series);\r\n            yAxis.markDirtyExtremes();\r\n        }\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            const snapToSeries = cursor.get(\"snapToSeries\");\r\n            if (snapToSeries) {\r\n                $array.remove(snapToSeries, series);\r\n            }\r\n        }\r\n        super._removeSeries(series);\r\n    }\r\n    /**\r\n     * This method is invoked when mouse wheel is used over chart's plot\r\n     * container, and handles zooming/pan.\r\n     *\r\n     * You can invoke this method manually, if you need to mimic chart's wheel\r\n     * behavior over other elements of the chart.\r\n     */\r\n    handleWheel(event) {\r\n        const wheelX = this.get(\"wheelX\");\r\n        const wheelY = this.get(\"wheelY\");\r\n        const plotContainer = this.plotContainer;\r\n        const wheelEvent = event.originalEvent;\r\n        // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n        // some page element is over the chart.\r\n        if ($utils.isLocalEvent(wheelEvent, this)) {\r\n            wheelEvent.preventDefault();\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        const plotPoint = plotContainer.toLocal(event.point);\r\n        const wheelStep = this.get(\"wheelStep\", 0.2);\r\n        const shiftY = wheelEvent.deltaY / 100;\r\n        const shiftX = wheelEvent.deltaX / 100;\r\n        const wheelZoomPositionX = this.get(\"wheelZoomPositionX\");\r\n        const wheelZoomPositionY = this.get(\"wheelZoomPositionY\");\r\n        if ((wheelX === \"zoomX\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"zoomX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                    if (wheelZoomPositionX != null) {\r\n                        position = wheelZoomPositionX;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"zoomX\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"zoomX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                    if (wheelZoomPositionX != null) {\r\n                        position = wheelZoomPositionX;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"zoomY\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"zoomY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                    if (wheelZoomPositionY != null) {\r\n                        position = wheelZoomPositionY;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"zoomY\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"zoomY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                    if (wheelZoomPositionY != null) {\r\n                        position = wheelZoomPositionY;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"panX\" || wheelX === \"panXY\") && shiftX != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"panX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"panX\" || wheelY === \"panXY\") && shiftY != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"panX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"panY\" || wheelX === \"panXY\") && shiftX != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"panY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"panY\" || wheelY === \"panXY\") && shiftY != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"panY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                    let newStart = start - delta;\r\n                    let newEnd = end - delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _handleSetWheel() {\r\n        const wheelX = this.get(\"wheelX\");\r\n        const wheelY = this.get(\"wheelY\");\r\n        const plotContainer = this.plotContainer;\r\n        if (wheelX !== \"none\" || wheelY !== \"none\") {\r\n            this._wheelDp = plotContainer.events.on(\"wheel\", (event) => {\r\n                const wheelEvent = event.originalEvent;\r\n                if ((wheelX !== \"none\" && Math.abs(wheelEvent.deltaX) != 0) || (wheelY !== \"none\" && Math.abs(wheelEvent.deltaY) != 0)) {\r\n                    this.handleWheel(event);\r\n                }\r\n            });\r\n            this._disposers.push(this._wheelDp);\r\n        }\r\n        else {\r\n            if (this._wheelDp) {\r\n                this._wheelDp.dispose();\r\n            }\r\n        }\r\n    }\r\n    _getWheelSign(axis) {\r\n        let sign = 1;\r\n        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n            sign = -1;\r\n        }\r\n        return sign;\r\n    }\r\n    _fixWheel(start, end) {\r\n        const diff = end - start;\r\n        if (start < 0) {\r\n            start = 0;\r\n            end = start + diff;\r\n        }\r\n        if (end > 1) {\r\n            end = 1;\r\n            start = end - diff;\r\n        }\r\n        return [start, end];\r\n    }\r\n    _handlePlotDown(event) {\r\n        const originalEvent = event.originalEvent;\r\n        if (originalEvent.button == 2) {\r\n            return;\r\n        }\r\n        const plotContainer = this.plotContainer;\r\n        let local = plotContainer.toLocal(event.point);\r\n        if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n            const pointerId = originalEvent.pointerId;\r\n            if (pointerId) {\r\n                if ($object.keys(plotContainer._downPoints).length > 0) {\r\n                    const xAxis = this.xAxes.getIndex(0);\r\n                    const yAxis = this.yAxes.getIndex(0);\r\n                    if (xAxis) {\r\n                        this._downStartX = xAxis.get(\"start\", 0);\r\n                        this._downEndX = xAxis.get(\"end\", 1);\r\n                    }\r\n                    if (yAxis) {\r\n                        this._downStartY = yAxis.get(\"start\", 0);\r\n                        this._downEndY = yAxis.get(\"end\", 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.get(\"panX\") || this.get(\"panY\")) {\r\n            if (local.x >= 0 && local.y >= 0 && local.x <= plotContainer.width() && local.y <= this.height()) {\r\n                //this._downPoint = local;\r\n                this._downPoint = { x: originalEvent.clientX, y: originalEvent.clientY };\r\n                const panX = this.get(\"panX\");\r\n                const panY = this.get(\"panY\");\r\n                if (panX) {\r\n                    this.xAxes.each((axis) => {\r\n                        axis._panStart = axis.get(\"start\");\r\n                        axis._panEnd = axis.get(\"end\");\r\n                    });\r\n                }\r\n                if (panY) {\r\n                    this.yAxes.each((axis) => {\r\n                        axis._panStart = axis.get(\"start\");\r\n                        axis._panEnd = axis.get(\"end\");\r\n                    });\r\n                }\r\n                const eventType = \"panstarted\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleWheelAnimation(animation) {\r\n        if (animation) {\r\n            animation.events.on(\"stopped\", () => {\r\n                this._dispatchWheelAnimation();\r\n            });\r\n        }\r\n        else {\r\n            this._dispatchWheelAnimation();\r\n        }\r\n    }\r\n    _dispatchWheelAnimation() {\r\n        const eventType = \"wheelended\";\r\n        if (this.events.isEnabled(eventType)) {\r\n            this.events.dispatch(eventType, { type: eventType, target: this });\r\n        }\r\n    }\r\n    _handlePlotUp(event) {\r\n        const downPoint = this._downPoint;\r\n        if (downPoint) {\r\n            if (this.get(\"panX\") || this.get(\"panY\")) {\r\n                let local = this.plotContainer.toLocal(event.point);\r\n                if (local.x == downPoint.x && local.y == downPoint.y) {\r\n                    const eventType = \"pancancelled\";\r\n                    if (this.events.isEnabled(eventType)) {\r\n                        this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                    }\r\n                }\r\n                const eventType = \"panended\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n        }\r\n        // TODO: handle multitouch\r\n        this._downPoint = undefined;\r\n        this.xAxes.each((xAxis) => {\r\n            xAxis._isPanning = false;\r\n        });\r\n        this.yAxes.each((yAxis) => {\r\n            yAxis._isPanning = false;\r\n        });\r\n    }\r\n    _handlePlotMove(event) {\r\n        const plotContainer = this.plotContainer;\r\n        if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n            const touchEvent = event.originalEvent;\r\n            const pointerId = touchEvent.pointerId;\r\n            if (pointerId) {\r\n                this._movePoints[pointerId] = event.point;\r\n                if ($object.keys(plotContainer._downPoints).length > 1) {\r\n                    this._handlePinch();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        let downPoint = this._downPoint;\r\n        if (downPoint) {\r\n            downPoint = plotContainer.toLocal(this._root.documentPointToRoot(downPoint));\r\n            let local = plotContainer.toLocal(event.point);\r\n            const panX = this.get(\"panX\");\r\n            const panY = this.get(\"panY\");\r\n            if (panX) {\r\n                let scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX) {\r\n                    scrollbarX.events.disableType(\"rangechanged\");\r\n                }\r\n                this.xAxes.each((axis) => {\r\n                    if (axis.get(\"panX\")) {\r\n                        axis._isPanning = true;\r\n                        //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                        let panStart = axis._panStart;\r\n                        let panEnd = axis._panEnd;\r\n                        let difference = (panEnd - panStart);\r\n                        let deltaX = difference * (downPoint.x - local.x) / plotContainer.width();\r\n                        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                            deltaX *= -1;\r\n                        }\r\n                        let start = panStart + deltaX;\r\n                        let end = panEnd + deltaX;\r\n                        if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                            axis.set(\"start\", start);\r\n                            axis.set(\"end\", end);\r\n                        }\r\n                    }\r\n                });\r\n                if (scrollbarX) {\r\n                    scrollbarX.events.enableType(\"rangechanged\");\r\n                }\r\n            }\r\n            if (panY) {\r\n                let scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY) {\r\n                    scrollbarY.events.disableType(\"rangechanged\");\r\n                }\r\n                this.yAxes.each((axis) => {\r\n                    if (axis.get(\"panY\")) {\r\n                        axis._isPanning = true;\r\n                        //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                        let panStart = axis._panStart;\r\n                        let panEnd = axis._panEnd;\r\n                        let difference = (panEnd - panStart);\r\n                        let deltaY = difference * (downPoint.y - local.y) / plotContainer.height();\r\n                        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                            deltaY *= -1;\r\n                        }\r\n                        let start = panStart - deltaY;\r\n                        let end = panEnd - deltaY;\r\n                        if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                            axis.set(\"start\", start);\r\n                            axis.set(\"end\", end);\r\n                        }\r\n                    }\r\n                });\r\n                if (scrollbarY) {\r\n                    scrollbarY.events.enableType(\"rangechanged\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handlePinch() {\r\n        const plotContainer = this.plotContainer;\r\n        let i = 0;\r\n        let downPoints = [];\r\n        let movePoints = [];\r\n        $object.each(plotContainer._downPoints, (k, point) => {\r\n            downPoints[i] = point;\r\n            let movePoint = this._movePoints[k];\r\n            if (movePoint) {\r\n                movePoints[i] = movePoint;\r\n            }\r\n            i++;\r\n        });\r\n        if (downPoints.length > 1 && movePoints.length > 1) {\r\n            const w = plotContainer.width();\r\n            const h = plotContainer.height();\r\n            let downPoint0 = downPoints[0];\r\n            let downPoint1 = downPoints[1];\r\n            let movePoint0 = movePoints[0];\r\n            let movePoint1 = movePoints[1];\r\n            if (downPoint0 && downPoint1 && movePoint0 && movePoint1) {\r\n                movePoint0 = plotContainer.toLocal(movePoint0);\r\n                movePoint1 = plotContainer.toLocal(movePoint1);\r\n                downPoint0 = plotContainer.toLocal(downPoint0);\r\n                downPoint1 = plotContainer.toLocal(downPoint1);\r\n                if (this.get(\"pinchZoomX\")) {\r\n                    const downStartX = this._downStartX;\r\n                    const downEndX = this._downEndX;\r\n                    if (downStartX != null && downEndX != null) {\r\n                        if (downPoint0.x > downPoint1.x) {\r\n                            [downPoint0, downPoint1] = [downPoint1, downPoint0];\r\n                            [movePoint0, movePoint1] = [movePoint1, movePoint0];\r\n                        }\r\n                        let downPos0 = downStartX + (downPoint0.x / w) * (downEndX - downStartX);\r\n                        let downPos1 = downStartX + (downPoint1.x / w) * (downEndX - downStartX);\r\n                        let movePos0 = downStartX + (movePoint0.x / w) * (downEndX - downStartX);\r\n                        let movePos1 = downStartX + (movePoint1.x / w) * (downEndX - downStartX);\r\n                        let initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                        let currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                        let d = initialDistance / currentDistance;\r\n                        let s = downStartX * d + downPos0 - movePos0 * d;\r\n                        let e = downEndX * d + downPos1 - movePos1 * d;\r\n                        this.xAxes.each((xAxis) => {\r\n                            let sa = xAxis.fixPosition(s);\r\n                            let ea = xAxis.fixPosition(e);\r\n                            xAxis.zoom(sa, ea, 0);\r\n                        });\r\n                    }\r\n                }\r\n                if (this.get(\"pinchZoomY\")) {\r\n                    const downStartY = this._downStartY;\r\n                    const downEndY = this._downEndY;\r\n                    if (downStartY != null && downEndY != null) {\r\n                        if (downPoint0.y < downPoint1.y) {\r\n                            [downPoint0, downPoint1] = [downPoint1, downPoint0];\r\n                            [movePoint0, movePoint1] = [movePoint1, movePoint0];\r\n                        }\r\n                        let downPos0 = downStartY + (1 - downPoint0.y / h) * (downEndY - downStartY);\r\n                        let downPos1 = downStartY + (1 - downPoint1.y / h) * (downEndY - downStartY);\r\n                        let movePos0 = downStartY + (1 - movePoint0.y / h) * (downEndY - downStartY);\r\n                        let movePos1 = downStartY + (1 - movePoint1.y / h) * (downEndY - downStartY);\r\n                        let initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                        let currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                        let d = initialDistance / currentDistance;\r\n                        let s = downStartY * d + downPos0 - movePos0 * d;\r\n                        let e = downEndY * d + downPos1 - movePos1 * d;\r\n                        this.yAxes.each((yAxis) => {\r\n                            let sa = yAxis.fixPosition(s);\r\n                            let ea = yAxis.fixPosition(e);\r\n                            yAxis.zoom(sa, ea, 0);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleCursorPosition() {\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            const cursorPoint = cursor.getPrivate(\"point\");\r\n            let snapToSeries = cursor.get(\"snapToSeries\");\r\n            if (cursor._downPoint) {\r\n                snapToSeries = undefined;\r\n            }\r\n            if (snapToSeries && cursorPoint) {\r\n                const snapToSeriesBy = cursor.get(\"snapToSeriesBy\");\r\n                const dataItems = [];\r\n                $array.each(snapToSeries, (series) => {\r\n                    if (!series.isHidden() && !series.isHiding()) {\r\n                        if (snapToSeriesBy != \"x!\" && snapToSeriesBy != \"y!\") {\r\n                            const startIndex = series.startIndex();\r\n                            const endIndex = series.endIndex();\r\n                            for (let i = startIndex; i < endIndex; i++) {\r\n                                const dataItem = series.dataItems[i];\r\n                                if (dataItem && !dataItem.isHidden()) {\r\n                                    dataItems.push(dataItem);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            const tooltipDataItem = series.get(\"tooltipDataItem\");\r\n                            if (tooltipDataItem) {\r\n                                dataItems.push(tooltipDataItem);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                let minDistance = Infinity;\r\n                let closestItem;\r\n                $array.each(dataItems, (dataItem) => {\r\n                    const point = dataItem.get(\"point\");\r\n                    if (point) {\r\n                        let distance = 0;\r\n                        if (snapToSeriesBy == \"x\" || snapToSeriesBy == \"x!\") {\r\n                            distance = Math.abs(cursorPoint.x - point.x);\r\n                        }\r\n                        else if (snapToSeriesBy == \"y\" || snapToSeriesBy == \"y!\") {\r\n                            distance = Math.abs(cursorPoint.y - point.y);\r\n                        }\r\n                        else {\r\n                            distance = Math.hypot(cursorPoint.x - point.x, cursorPoint.y - point.y);\r\n                        }\r\n                        if (distance < minDistance) {\r\n                            minDistance = distance;\r\n                            closestItem = dataItem;\r\n                        }\r\n                    }\r\n                });\r\n                $array.each(snapToSeries, (series) => {\r\n                    const tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        tooltip._setDataItem(undefined);\r\n                    }\r\n                });\r\n                if (closestItem) {\r\n                    let series = closestItem.component;\r\n                    series.showDataItemTooltip(closestItem);\r\n                    const point = closestItem.get(\"point\");\r\n                    if (point) {\r\n                        // removing x and y to solve #72225\r\n                        cursor.handleMove(series.toGlobal({ x: point.x - series.x(), y: point.y - series.y() }), true);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateCursor() {\r\n        let cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            cursor.updateCursor();\r\n        }\r\n    }\r\n    _addCursor(cursor) {\r\n        this.plotContainer.children.push(cursor);\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this.series.each((series) => {\r\n            this._colorize(series);\r\n        });\r\n        if (this.isDirty(\"wheelX\") || this.isDirty(\"wheelY\")) {\r\n            this._handleSetWheel();\r\n        }\r\n        if (this.isDirty(\"cursor\")) {\r\n            const previous = this._prevSettings.cursor;\r\n            const cursor = this.get(\"cursor\");\r\n            if (cursor !== previous) {\r\n                this._disposeProperty(\"cursor\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (cursor) {\r\n                    cursor._setChart(this);\r\n                    this._addCursor(cursor);\r\n                    this._pushPropertyDisposer(\"cursor\", cursor.events.on(\"selectended\", () => {\r\n                        this._handleCursorSelectEnd();\r\n                    }));\r\n                }\r\n                //this.setRaw(\"cursor\", cursor) // to reset previous value\r\n                this._prevSettings.cursor = cursor;\r\n            }\r\n        }\r\n        if (this.isDirty(\"scrollbarX\")) {\r\n            const previous = this._prevSettings.scrollbarX;\r\n            const scrollbarX = this.get(\"scrollbarX\");\r\n            if (scrollbarX !== previous) {\r\n                this._disposeProperty(\"scrollbarX\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (scrollbarX) {\r\n                    if (!scrollbarX.parent) {\r\n                        this.topAxesContainer.children.push(scrollbarX);\r\n                    }\r\n                    this._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"rangechanged\", (e) => {\r\n                        this._handleScrollbar(this.xAxes, e.start, e.end, e.grip);\r\n                    }));\r\n                    // Used to populate `ariaLabel` with meaningful values\r\n                    scrollbarX.setPrivate(\"positionTextFunction\", (position) => {\r\n                        const axis = this.xAxes.getIndex(0);\r\n                        return axis ? axis.getTooltipText(position, false) || \"\" : \"\";\r\n                    });\r\n                }\r\n                this._prevSettings.scrollbarX = scrollbarX;\r\n            }\r\n        }\r\n        if (this.isDirty(\"scrollbarY\")) {\r\n            const previous = this._prevSettings.scrollbarY;\r\n            const scrollbarY = this.get(\"scrollbarY\");\r\n            if (scrollbarY !== previous) {\r\n                this._disposeProperty(\"scrollbarY\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (scrollbarY) {\r\n                    if (!scrollbarY.parent) {\r\n                        this.rightAxesContainer.children.push(scrollbarY);\r\n                    }\r\n                    this._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"rangechanged\", (e) => {\r\n                        this._handleScrollbar(this.yAxes, e.start, e.end, e.grip);\r\n                    }));\r\n                    // Used to populate `ariaLabel` with meaningful values\r\n                    scrollbarY.setPrivate(\"positionTextFunction\", (position) => {\r\n                        const axis = this.yAxes.getIndex(0);\r\n                        return axis ? axis.getTooltipText(position, false) || \"\" : \"\";\r\n                    });\r\n                }\r\n                this._prevSettings.scrollbarY = scrollbarY;\r\n            }\r\n        }\r\n        this._handleZoomOut();\r\n    }\r\n    _processSeries(series) {\r\n        super._processSeries(series);\r\n        const xAxis = series.get(\"xAxis\");\r\n        const yAxis = series.get(\"yAxis\");\r\n        $array.move(xAxis.series, series);\r\n        $array.move(yAxis.series, series);\r\n        series._posXDp = series.addDisposer(xAxis.events.on(\"positionchanged\", () => {\r\n            series._fixPosition();\r\n        }));\r\n        series._posXDp = series.addDisposer(yAxis.events.on(\"positionchanged\", () => {\r\n            series._fixPosition();\r\n        }));\r\n        if (!series.get(\"baseAxis\")) {\r\n            if (yAxis.isType(\"CategoryAxis\") || yAxis.isType(\"DateAxis\")) {\r\n                series.set(\"baseAxis\", yAxis);\r\n            }\r\n            else {\r\n                series.set(\"baseAxis\", xAxis);\r\n            }\r\n        }\r\n        if (series.get(\"stacked\")) {\r\n            series._markDirtyKey(\"stacked\");\r\n            $array.each(series.dataItems, (dataItem) => {\r\n                dataItem.set(\"stackToItemY\", undefined);\r\n                dataItem.set(\"stackToItemX\", undefined);\r\n            });\r\n        }\r\n        series._markDirtyAxes();\r\n        yAxis.markDirtyExtremes();\r\n        xAxis.markDirtyExtremes();\r\n        this._colorize(series);\r\n    }\r\n    _colorize(series) {\r\n        const colorSet = this.get(\"colors\");\r\n        if (colorSet) {\r\n            if (series.get(\"fill\") == null) {\r\n                const color = colorSet.next();\r\n                series._setSoft(\"stroke\", color);\r\n                series._setSoft(\"fill\", color);\r\n            }\r\n        }\r\n    }\r\n    _handleCursorSelectEnd() {\r\n        const cursor = this.get(\"cursor\");\r\n        const behavior = cursor.get(\"behavior\");\r\n        const downPositionX = cursor.getPrivate(\"downPositionX\", 0);\r\n        const downPositionY = cursor.getPrivate(\"downPositionY\", 0);\r\n        const positionX = Math.min(1, Math.max(0, cursor.getPrivate(\"positionX\", 0.5)));\r\n        const positionY = Math.min(1, Math.max(0, cursor.getPrivate(\"positionY\", 0.5)));\r\n        this.xAxes.each((axis) => {\r\n            if (behavior === \"zoomX\" || behavior === \"zoomXY\") {\r\n                let position0 = axis.toAxisPosition(downPositionX);\r\n                let position1 = axis.toAxisPosition(positionX);\r\n                axis.zoom(position0, position1);\r\n            }\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n        });\r\n        this.yAxes.each((axis) => {\r\n            if (behavior === \"zoomY\" || behavior === \"zoomXY\") {\r\n                let position0 = axis.toAxisPosition(downPositionY);\r\n                let position1 = axis.toAxisPosition(positionY);\r\n                axis.zoom(position0, position1);\r\n            }\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n        });\r\n    }\r\n    _handleScrollbar(axes, start, end, priority) {\r\n        axes.each((axis) => {\r\n            let axisStart = axis.fixPosition(start);\r\n            let axisEnd = axis.fixPosition(end);\r\n            let zoomAnimation = axis.zoom(axisStart, axisEnd, undefined, priority);\r\n            const updateScrollbar = \"updateScrollbar\";\r\n            axis.setPrivateRaw(updateScrollbar, false);\r\n            if (zoomAnimation) {\r\n                zoomAnimation.events.on(\"stopped\", () => {\r\n                    axis.setPrivateRaw(updateScrollbar, true);\r\n                });\r\n            }\r\n            else {\r\n                axis.setPrivateRaw(updateScrollbar, true);\r\n            }\r\n        });\r\n    }\r\n    _processAxis(axes, container) {\r\n        return axes.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (axis) => {\r\n                    this._removeAxis(axis);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                container.children.push(change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                container.children.setIndex(change.index, change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                container.children.insertIndex(change.index, change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeAxis(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                container.children.moveValue(change.value, change.newIndex);\r\n                change.value.processChart(this);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n    }\r\n    _removeAxis(axis) {\r\n        if (!axis.isDisposed()) {\r\n            const axisParent = axis.parent;\r\n            if (axisParent) {\r\n                axisParent.children.removeValue(axis);\r\n            }\r\n            const gridContainer = axis.gridContainer;\r\n            const gridParent = gridContainer.parent;\r\n            if (gridParent) {\r\n                gridParent.children.removeValue(gridContainer);\r\n            }\r\n            const topGridContainer = axis.topGridContainer;\r\n            const topGridParent = topGridContainer.parent;\r\n            if (topGridParent) {\r\n                topGridParent.children.removeValue(topGridContainer);\r\n            }\r\n        }\r\n    }\r\n    _updateChartLayout() {\r\n        const left = this.leftAxesContainer.width();\r\n        const right = this.rightAxesContainer.width();\r\n        const bottomAxesContainer = this.bottomAxesContainer;\r\n        bottomAxesContainer.set(\"paddingLeft\", left);\r\n        bottomAxesContainer.set(\"paddingRight\", right);\r\n        const topAxesContainer = this.topAxesContainer;\r\n        topAxesContainer.set(\"paddingLeft\", left);\r\n        topAxesContainer.set(\"paddingRight\", right);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis(axis) {\r\n        var cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            this.addDisposer(axis.on(\"start\", () => {\r\n                this._updateCursor();\r\n            }));\r\n            this.addDisposer(axis.on(\"end\", () => {\r\n                this._updateCursor();\r\n            }));\r\n        }\r\n    }\r\n    _handleAxisSelection(axis, force) {\r\n        let start = axis.fixPosition(axis.get(\"start\", 0));\r\n        let end = axis.fixPosition(axis.get(\"end\", 1));\r\n        if (start > end) {\r\n            [start, end] = [end, start];\r\n        }\r\n        if (this.xAxes.indexOf(axis) != -1) {\r\n            if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                let scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX && (!scrollbarX.getPrivate(\"isBusy\") || force)) {\r\n                    scrollbarX.setRaw(\"start\", start);\r\n                    scrollbarX.setRaw(\"end\", end);\r\n                    scrollbarX.updateGrips();\r\n                }\r\n            }\r\n        }\r\n        else if (this.yAxes.indexOf(axis) != -1) {\r\n            if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                let scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY && (!scrollbarY.getPrivate(\"isBusy\") || force)) {\r\n                    scrollbarY.setRaw(\"start\", start);\r\n                    scrollbarY.setRaw(\"end\", end);\r\n                    scrollbarY.updateGrips();\r\n                }\r\n            }\r\n        }\r\n        this._handleZoomOut();\r\n    }\r\n    _handleZoomOut() {\r\n        let zoomOutButton = this.zoomOutButton;\r\n        if (zoomOutButton && zoomOutButton.parent) {\r\n            let visible = false;\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                    visible = true;\r\n                }\r\n            });\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                    visible = true;\r\n                }\r\n            });\r\n            if (visible) {\r\n                if (zoomOutButton.isHidden()) {\r\n                    zoomOutButton.show();\r\n                }\r\n            }\r\n            else {\r\n                zoomOutButton.hide();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if point is within plot area.\r\n     *\r\n     * @param   point  Reference point\r\n     * @return         Is within plot area?\r\n     */\r\n    inPlot(point) {\r\n        const plotContainer = this.plotContainer;\r\n        const otherCharts = this.getPrivate(\"otherCharts\", this._otherCharts);\r\n        const global = plotContainer.toGlobal(point);\r\n        if (point.x >= -0.5 && point.y >= -0.5 && point.x <= plotContainer.width() + 0.5 && point.y <= plotContainer.height() + 0.5) {\r\n            return true;\r\n        }\r\n        if (otherCharts) {\r\n            for (let i = otherCharts.length - 1; i >= 0; i--) {\r\n                const chart = otherCharts[i];\r\n                if (chart != this) {\r\n                    const chartPlotContainer = chart.plotContainer;\r\n                    const documentPoint = this._root.rootPointToDocument(global);\r\n                    const chartRoot = chart._root.documentPointToRoot(documentPoint);\r\n                    const local = chartPlotContainer.toLocal(chartRoot);\r\n                    if (local.x >= -0.1 && local.y >= -0.1 && local.x <= chartPlotContainer.width() + 0.1 && local.y <= chartPlotContainer.height() + 0.1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    arrangeTooltips() {\r\n        const plotContainer = this.plotContainer;\r\n        const w = plotContainer.width();\r\n        const h = plotContainer.height();\r\n        const hh = this.height();\r\n        let plotT = plotContainer._display.toGlobal({ x: 0, y: 0 });\r\n        let plotB = plotContainer._display.toGlobal({ x: w, y: h });\r\n        const tooltips = [];\r\n        let sum = 0;\r\n        let minDistance = Infinity;\r\n        let movePoint = this._movePoint;\r\n        let maxTooltipDistance = this.get(\"maxTooltipDistance\");\r\n        let maxTooltipDistanceBy = this.get(\"maxTooltipDistanceBy\", \"xy\");\r\n        let closest;\r\n        let closestPoint;\r\n        if ($type.isNumber(maxTooltipDistance)) {\r\n            this.series.each((series) => {\r\n                if (!series.isHidden()) {\r\n                    const tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        let point = tooltip.get(\"pointTo\");\r\n                        if (point) {\r\n                            let distance = Math.hypot(movePoint.x - point.x, movePoint.y - point.y);\r\n                            if (maxTooltipDistanceBy == \"x\") {\r\n                                distance = Math.abs(movePoint.x - point.x);\r\n                            }\r\n                            else if (maxTooltipDistanceBy == \"y\") {\r\n                                distance = Math.abs(movePoint.y - point.y);\r\n                            }\r\n                            if (distance < minDistance) {\r\n                                minDistance = distance;\r\n                                closest = series;\r\n                                closestPoint = point;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        const tooltipSeries = [];\r\n        this.series.each((series) => {\r\n            const tooltip = series.get(\"tooltip\");\r\n            if (tooltip) {\r\n                let hidden = false;\r\n                let point = tooltip.get(\"pointTo\");\r\n                if (point) {\r\n                    if (maxTooltipDistance >= 0) {\r\n                        let point = tooltip.get(\"pointTo\");\r\n                        if (point) {\r\n                            if (series != closest) {\r\n                                let distance = Math.hypot(closestPoint.x - point.x, closestPoint.y - point.y);\r\n                                if (maxTooltipDistanceBy == \"x\") {\r\n                                    distance = Math.abs(closestPoint.x - point.x);\r\n                                }\r\n                                else if (maxTooltipDistanceBy == \"y\") {\r\n                                    distance = Math.abs(closestPoint.y - point.y);\r\n                                }\r\n                                if (distance > maxTooltipDistance) {\r\n                                    hidden = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (maxTooltipDistance == -1) {\r\n                        if (series != closest) {\r\n                            hidden = true;\r\n                        }\r\n                    }\r\n                    if (!this.inPlot(this._tooltipToLocal(point)) || !tooltip.dataItem) {\r\n                        hidden = true;\r\n                    }\r\n                    else {\r\n                        if (!hidden) {\r\n                            sum += point.y;\r\n                        }\r\n                    }\r\n                    if (hidden || series.isHidden() || series.isHiding()) {\r\n                        tooltip.hide(0);\r\n                    }\r\n                    else {\r\n                        tooltip.show();\r\n                        tooltips.push(tooltip);\r\n                        tooltipSeries.push(series);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.setPrivate(\"tooltipSeries\", tooltipSeries);\r\n        if (this.get(\"arrangeTooltips\")) {\r\n            const tooltipContainer = this._root.tooltipContainer;\r\n            const count = tooltips.length;\r\n            const average = sum / count;\r\n            if (average > h / 2 + plotT.y) {\r\n                tooltips.sort((a, b) => $order.compareNumber(b.get(\"pointTo\").y, a.get(\"pointTo\").y));\r\n                let prevY = plotB.y;\r\n                $array.each(tooltips, (tooltip) => {\r\n                    let height = tooltip.height();\r\n                    let centerY = tooltip.get(\"centerY\");\r\n                    if (centerY instanceof Percent) {\r\n                        height *= centerY.value;\r\n                    }\r\n                    height += tooltip.get(\"marginBottom\", 0);\r\n                    tooltip.set(\"bounds\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY });\r\n                    tooltip.setPrivate(\"customData\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY });\r\n                    prevY = Math.min(prevY - height, tooltip._fy - height);\r\n                    if (tooltip.parent == tooltipContainer) {\r\n                        tooltipContainer.children.moveValue(tooltip, 0);\r\n                    }\r\n                });\r\n                if (prevY < 0) {\r\n                    tooltips.reverse();\r\n                    let prevBottom = prevY;\r\n                    $array.each(tooltips, (tooltip) => {\r\n                        let bounds = tooltip.get(\"bounds\");\r\n                        if (bounds) {\r\n                            let top = bounds.top - prevY;\r\n                            let bottom = bounds.bottom - prevY;\r\n                            if (top < prevBottom) {\r\n                                top = prevBottom;\r\n                                bottom = top + tooltip.height();\r\n                            }\r\n                            tooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom });\r\n                            prevBottom = bounds.bottom - prevY + tooltip.get(\"marginBottom\", 0);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                tooltips.reverse();\r\n                tooltips.sort((a, b) => $order.compareNumber(a.get(\"pointTo\").y, b.get(\"pointTo\").y));\r\n                let prevY = 0;\r\n                $array.each(tooltips, (tooltip) => {\r\n                    let height = tooltip.height();\r\n                    let centerY = tooltip.get(\"centerY\");\r\n                    if (centerY instanceof Percent) {\r\n                        height *= centerY.value;\r\n                    }\r\n                    height += tooltip.get(\"marginBottom\", 0);\r\n                    tooltip.set(\"bounds\", { left: plotT.x, top: prevY, right: plotB.x, bottom: Math.max(plotT.y + hh, prevY + height) });\r\n                    if (tooltip.parent == tooltipContainer) {\r\n                        tooltipContainer.children.moveValue(tooltip, 0);\r\n                    }\r\n                    prevY = Math.max(prevY + height, tooltip._fy + height);\r\n                });\r\n                if (prevY > hh) {\r\n                    tooltips.reverse();\r\n                    let prevBottom = hh;\r\n                    $array.each(tooltips, (tooltip) => {\r\n                        let bounds = tooltip.get(\"bounds\");\r\n                        if (bounds) {\r\n                            let top = bounds.top - (hh - prevY);\r\n                            let bottom = bounds.bottom - (hh - prevY);\r\n                            if (bottom > prevBottom) {\r\n                                bottom = prevBottom;\r\n                                top = bottom - tooltip.height();\r\n                            }\r\n                            tooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom });\r\n                            prevBottom = bottom - tooltip.height() - tooltip.get(\"marginBottom\", 0);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _tooltipToLocal(point) {\r\n        return this.plotContainer.toLocal(point);\r\n    }\r\n    /**\r\n     * Fully zooms out the chart.\r\n     */\r\n    zoomOut() {\r\n        this.xAxes.each((axis) => {\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n            axis.zoom(0, 1);\r\n        });\r\n        this.yAxes.each((axis) => {\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n            axis.zoom(0, 1);\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(XYChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYChart\"\r\n});\r\nObject.defineProperty(XYChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: SerialChart.classNames.concat([XYChart.className])\r\n});\r\n//# sourceMappingURL=XYChart.js.map","import { DataItem } from \"../../../core/render/Component\";\r\nimport { Component } from \"../../../core/render/Component\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * A base class for all axes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Adding_axes} for more info\r\n */\r\nexport class Axis extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_isPanning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis label elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis grid and fill elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds axis grid elements which goes above the series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis bullet elements.\r\n         *\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { isMeasured: false, width: p100, height: p100, position: \"absolute\" }))\r\n        });\r\n        /**\r\n         * A referenece to the the chart the axis belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rangesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_panStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_panEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_sAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_eAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_skipSync\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A list of axis ranges.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         * @default new List()\r\n         */\r\n        Object.defineProperty(this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(this, \"_seriesAxisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A control label that is invisible but is used to keep width the width of\r\n         * the axis constant.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Ghost_label} for more info\r\n         */\r\n        Object.defineProperty(this, \"ghostLabel\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_cursorPosition\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: -1\r\n        });\r\n        Object.defineProperty(this, \"_snapToSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_seriesValuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A container above the axis that can be used to add additional stuff into\r\n         * it. For example a legend, label, or an icon.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(this, \"axisHeader\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, {\r\n                themeTags: [\"axis\", \"header\"],\r\n                position: \"absolute\",\r\n                background: Rectangle.new(this._root, {\r\n                    themeTags: [\"header\", \"background\"],\r\n                    fill: this._root.interfaceColors.get(\"background\")\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    _dispose() {\r\n        // these could be in other parents, so disposing just in case\r\n        this.gridContainer.dispose();\r\n        this.topGridContainer.dispose();\r\n        this.bulletsContainer.dispose();\r\n        this.labelsContainer.dispose();\r\n        this.axisHeader.dispose();\r\n        super._dispose();\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.setPrivate(\"updateScrollbar\", true);\r\n        this._disposers.push(this.axisRanges.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (dataItem) => {\r\n                    this.disposeDataItem(dataItem);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this.disposeDataItem(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._processAxisRange(change.value, [\"range\"]);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n        }));\r\n        const renderer = this.get(\"renderer\");\r\n        if (renderer) {\r\n            renderer.axis = this;\r\n            renderer.processAxis();\r\n        }\r\n        this.children.push(renderer);\r\n        this.ghostLabel = renderer.makeLabel(new DataItem(this, undefined, {}), []);\r\n        this.ghostLabel.adapters.disable(\"text\");\r\n        this.ghostLabel.setAll({ opacity: 0, tooltipText: undefined, tooltipHTML: undefined, interactive: false });\r\n        this.ghostLabel.events.disable();\r\n    }\r\n    _updateFinals(_start, _end) {\r\n    }\r\n    /**\r\n     * Zooms the axis to relative locations.\r\n     *\r\n     * Both `start` and `end` are relative: 0 means start of the axis, 1 - end.\r\n     *\r\n     * @param   start     Relative start\r\n     * @param   end       Relative end\r\n     * @param   duration  Duration of the zoom animation in milliseconds\r\n     * @return            Zoom animation\r\n     */\r\n    zoom(start, end, duration, priority) {\r\n        this._updateFinals(start, end);\r\n        if (this.get(\"start\") !== start || this.get(\"end\") != end) {\r\n            let sAnimation = this._sAnimation;\r\n            let eAnimation = this._eAnimation;\r\n            let maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n            if (start < -maxDeviation) {\r\n                start = -maxDeviation;\r\n            }\r\n            if (end > 1 + maxDeviation) {\r\n                end = 1 + maxDeviation;\r\n            }\r\n            if (start > end) {\r\n                [start, end] = [end, start];\r\n            }\r\n            if (!$type.isNumber(duration)) {\r\n                duration = this.get(\"interpolationDuration\", 0);\r\n            }\r\n            if (!priority) {\r\n                priority = \"end\";\r\n            }\r\n            let maxZoomFactor = this.getPrivate(\"maxZoomFactor\", this.get(\"maxZoomFactor\", 100));\r\n            let maxZoomFactorReal = maxZoomFactor;\r\n            if (end === 1 && start !== 0) {\r\n                if (start < this.get(\"start\")) {\r\n                    priority = \"start\";\r\n                }\r\n                else {\r\n                    priority = \"end\";\r\n                }\r\n            }\r\n            if (start === 0 && end !== 1) {\r\n                if (end > this.get(\"end\")) {\r\n                    priority = \"end\";\r\n                }\r\n                else {\r\n                    priority = \"start\";\r\n                }\r\n            }\r\n            let minZoomCount = this.get(\"minZoomCount\");\r\n            let maxZoomCount = this.get(\"maxZoomCount\");\r\n            if ($type.isNumber(minZoomCount)) {\r\n                maxZoomFactor = maxZoomFactorReal / minZoomCount;\r\n            }\r\n            let minZoomFactor = 1;\r\n            if ($type.isNumber(maxZoomCount)) {\r\n                minZoomFactor = maxZoomFactorReal / maxZoomCount;\r\n            }\r\n            // most likely we are dragging left scrollbar grip here, so we tend to modify end\r\n            if (priority === \"start\") {\r\n                if (maxZoomCount > 0) {\r\n                    // add to the end\r\n                    if (1 / (end - start) < minZoomFactor) {\r\n                        end = start + 1 / minZoomFactor;\r\n                    }\r\n                }\r\n                // add to the end\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n                //unless end is > 0\r\n                if (end > 1 && end - start < 1 / maxZoomFactor) {\r\n                    //end = 1;\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n            }\r\n            // most likely we are dragging right, so we modify left\r\n            else {\r\n                if (maxZoomCount > 0) {\r\n                    // add to the end\r\n                    if (1 / (end - start) < minZoomFactor) {\r\n                        start = end - 1 / minZoomFactor;\r\n                    }\r\n                }\r\n                // remove from start\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n                if (start < 0 && end - start < 1 / maxZoomFactor) {\r\n                    //start = 0;\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n            }\r\n            if (1 / (end - start) > maxZoomFactor) {\r\n                end = start + 1 / maxZoomFactor;\r\n            }\r\n            if (1 / (end - start) > maxZoomFactor) {\r\n                start = end - 1 / maxZoomFactor;\r\n            }\r\n            if (maxZoomCount != null && minZoomCount != null && (start == this.get(\"start\") && end == this.get(\"end\"))) {\r\n                const chart = this.chart;\r\n                if (chart) {\r\n                    chart._handleAxisSelection(this, true);\r\n                }\r\n            }\r\n            if (((sAnimation && sAnimation.playing && sAnimation.to == start) || this.get(\"start\") == start) && ((eAnimation && eAnimation.playing && eAnimation.to == end) || this.get(\"end\") == end)) {\r\n                return;\r\n            }\r\n            if (duration > 0) {\r\n                let easing = this.get(\"interpolationEasing\");\r\n                let sAnimation, eAnimation;\r\n                if (this.get(\"start\") != start) {\r\n                    sAnimation = this.animate({ key: \"start\", to: start, duration: duration, easing: easing });\r\n                }\r\n                if (this.get(\"end\") != end) {\r\n                    eAnimation = this.animate({ key: \"end\", to: end, duration: duration, easing: easing });\r\n                }\r\n                this._sAnimation = sAnimation;\r\n                this._eAnimation = eAnimation;\r\n                if (sAnimation) {\r\n                    return sAnimation;\r\n                }\r\n                else if (eAnimation) {\r\n                    return eAnimation;\r\n                }\r\n            }\r\n            else {\r\n                this.set(\"start\", start);\r\n                this.set(\"end\", end);\r\n                // otherwise bullets and line out of sync, as series is not redrawn\r\n                this._root.events.once(\"frameended\", () => {\r\n                    this._markDirtyKey(\"start\");\r\n                    this._root._markDirty();\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (this._sAnimation) {\r\n                this._sAnimation.stop();\r\n            }\r\n            if (this._eAnimation) {\r\n                this._eAnimation.stop();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * A list of series using this axis.\r\n     *\r\n     * @return Series\r\n     */\r\n    get series() {\r\n        return this._series;\r\n    }\r\n    _processAxisRange(dataItem, themeTags) {\r\n        dataItem.setRaw(\"isRange\", true);\r\n        this._createAssets(dataItem, themeTags);\r\n        this._rangesDirty = true;\r\n        this._prepareDataItem(dataItem);\r\n        const above = dataItem.get(\"above\");\r\n        const container = this.topGridContainer;\r\n        const grid = dataItem.get(\"grid\");\r\n        if (above && grid) {\r\n            container.children.moveValue(grid);\r\n        }\r\n        const fill = dataItem.get(\"axisFill\");\r\n        if (above && fill) {\r\n            container.children.moveValue(fill);\r\n        }\r\n    }\r\n    _prepareDataItem(_dataItem, _index) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyExtremes() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySelectionExtremes() {\r\n    }\r\n    _calculateTotals() {\r\n    }\r\n    _updateAxisRanges() {\r\n        this._bullets = {};\r\n        this.axisRanges.each((axisRange) => {\r\n            this._prepareDataItem(axisRange);\r\n        });\r\n        $array.each(this._seriesAxisRanges, (axisRange) => {\r\n            this._prepareDataItem(axisRange);\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.get(\"fixAxisSize\")) {\r\n            this.ghostLabel.set(\"visible\", true);\r\n        }\r\n        else {\r\n            this.ghostLabel.set(\"visible\", false);\r\n        }\r\n        if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\r\n            this.chart._updateCursor();\r\n            let start = this.get(\"start\", 0);\r\n            let end = this.get(\"end\", 1);\r\n            let maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n            if (start < -maxDeviation) {\r\n                let delta = start + maxDeviation;\r\n                start = -maxDeviation;\r\n                this.setRaw(\"start\", start);\r\n                if (this.isDirty(\"end\")) {\r\n                    this.setRaw(\"end\", end - delta);\r\n                }\r\n            }\r\n            if (end > 1 + maxDeviation) {\r\n                let delta = end - 1 - maxDeviation;\r\n                end = 1 + maxDeviation;\r\n                this.setRaw(\"end\", end);\r\n                if (this.isDirty(\"start\")) {\r\n                    this.setRaw(\"start\", start - delta);\r\n                }\r\n            }\r\n        }\r\n        const renderer = this.get(\"renderer\");\r\n        renderer._start = this.get(\"start\");\r\n        renderer._end = this.get(\"end\");\r\n        renderer._inversed = renderer.get(\"inversed\", false);\r\n        renderer._axisLength = renderer.axisLength() / (renderer._end - renderer._start);\r\n        renderer._updateLC();\r\n        if (this.isDirty(\"tooltip\")) {\r\n            const tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                const rendererTags = renderer.get(\"themeTags\");\r\n                tooltip.addTag(\"axis\");\r\n                tooltip.addTag(this.className.toLowerCase());\r\n                tooltip._applyThemes();\r\n                if (rendererTags) {\r\n                    tooltip.set(\"themeTags\", $utils.mergeTags(tooltip.get(\"themeTags\"), rendererTags));\r\n                    tooltip.label._applyThemes();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipBounds() {\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            this.get(\"renderer\").updateTooltipBounds(tooltip);\r\n        }\r\n    }\r\n    _updateBounds() {\r\n        super._updateBounds();\r\n        this._updateTooltipBounds();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processChart(chart) {\r\n        this.chart = chart;\r\n        const renderer = this.get(\"renderer\");\r\n        renderer.chart = chart;\r\n        chart.gridContainer.children.push(this.gridContainer);\r\n        chart.topGridContainer.children.push(this.topGridContainer);\r\n        chart.axisHeadersContainer.children.push(this.axisHeader);\r\n        this.on(\"start\", () => {\r\n            chart._handleAxisSelection(this);\r\n        });\r\n        this.on(\"end\", () => {\r\n            chart._handleAxisSelection(this);\r\n        });\r\n        chart.plotContainer.onPrivate(\"width\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        chart.plotContainer.onPrivate(\"height\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        chart.processAxis(this);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hideDataItem(dataItem) {\r\n        this._toggleDataItem(dataItem, false);\r\n        return super.hideDataItem(dataItem);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    showDataItem(dataItem) {\r\n        this._toggleDataItem(dataItem, true);\r\n        return super.showDataItem(dataItem);\r\n    }\r\n    _toggleDataItem(dataItem, visible) {\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            label.setPrivate(\"visible\", visible);\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            grid.setPrivate(\"visible\", visible);\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            tick.setPrivate(\"visible\", visible);\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            axisFill.setPrivate(\"visible\", visible);\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite.setPrivate(\"visible\", visible);\r\n            }\r\n        }\r\n    }\r\n    _createAssets(dataItem, tags) {\r\n        const renderer = this.get(\"renderer\");\r\n        if (!dataItem.get(\"label\")) {\r\n            renderer.makeLabel(dataItem, tags);\r\n        }\r\n        if (!dataItem.get(\"grid\")) {\r\n            renderer.makeGrid(dataItem, tags);\r\n        }\r\n        if (!dataItem.get(\"tick\")) {\r\n            renderer.makeTick(dataItem, tags);\r\n        }\r\n        if (!dataItem.get(\"axisFill\")) {\r\n            renderer.makeAxisFill(dataItem, tags);\r\n        }\r\n        this._processBullet(dataItem);\r\n    }\r\n    _processBullet(dataItem) {\r\n        let bullet = dataItem.get(\"bullet\");\r\n        let axisBullet = this.get(\"bullet\");\r\n        if (!bullet && axisBullet && !dataItem.get(\"isRange\")) {\r\n            bullet = axisBullet(this._root, this, dataItem);\r\n        }\r\n        if (bullet) {\r\n            bullet.axis = this;\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite._setDataItem(dataItem);\r\n                dataItem.setRaw(\"bullet\", bullet);\r\n                if (!sprite.parent) {\r\n                    this.bulletsContainer.children.push(sprite);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart._updateChartLayout();\r\n            chart.axisHeadersContainer.markDirtySize();\r\n        }\r\n        this.get(\"renderer\")._updatePositions();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const renderer = this.get(\"renderer\");\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            renderer.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            renderer.ticks.removeValue(tick);\r\n            tick.dispose();\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            renderer.grid.removeValue(grid);\r\n            grid.dispose();\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            renderer.axisFills.removeValue(axisFill);\r\n            axisFill.dispose();\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            bullet.dispose();\r\n        }\r\n    }\r\n    _updateGhost() {\r\n        this.setPrivate(\"cellWidth\", this.getCellWidthPosition() * this.get(\"renderer\").axisLength());\r\n        const ghostLabel = this.ghostLabel;\r\n        if (!ghostLabel.isHidden()) {\r\n            const bounds = ghostLabel.localBounds();\r\n            const gWidth = bounds.right - bounds.left;\r\n            let text = ghostLabel.get(\"text\");\r\n            $array.each(this.dataItems, (dataItem) => {\r\n                const label = dataItem.get(\"label\");\r\n                if (label && !label.isHidden()) {\r\n                    const bounds = label.localBounds();\r\n                    const w = bounds.right - bounds.left;\r\n                    if (w > gWidth) {\r\n                        text = label.text._getText();\r\n                    }\r\n                }\r\n            });\r\n            ghostLabel.set(\"text\", text);\r\n        }\r\n        let start = this.get(\"start\", 0);\r\n        let end = this.get(\"end\", 1);\r\n        this.get(\"renderer\").updateLabel(ghostLabel, start + (end - start) * 0.5);\r\n    }\r\n    _handleCursorPosition(position, snapToSeries) {\r\n        const renderer = this.get(\"renderer\");\r\n        position = renderer.toAxisPosition(position);\r\n        this._cursorPosition = position;\r\n        this._snapToSeries = snapToSeries;\r\n        this.updateTooltip();\r\n    }\r\n    /**\r\n     * Can be called when axis zoom changes and you need to update tooltip\r\n     * position.\r\n     */\r\n    updateTooltip() {\r\n        const snapToSeries = this._snapToSeries;\r\n        let position = this._cursorPosition;\r\n        const tooltip = this.get(\"tooltip\");\r\n        const renderer = this.get(\"renderer\");\r\n        if ($type.isNumber(position)) {\r\n            $array.each(this.series, (series) => {\r\n                if (series.get(\"baseAxis\") === this) {\r\n                    const dataItem = this.getSeriesItem(series, position, this.get(\"tooltipLocation\"));\r\n                    series.setRaw(\"tooltipDataItem\", dataItem);\r\n                    if (snapToSeries && snapToSeries.indexOf(series) != -1) {\r\n                        series.updateLegendMarker(dataItem);\r\n                        series.updateLegendValue(dataItem);\r\n                    }\r\n                    else {\r\n                        series.showDataItemTooltip(dataItem);\r\n                    }\r\n                }\r\n            });\r\n            if (tooltip) {\r\n                renderer.updateTooltipBounds(tooltip);\r\n                if (this.get(\"snapTooltip\")) {\r\n                    position = this.roundAxisPosition(position, this.get(\"tooltipLocation\", 0.5));\r\n                }\r\n                if (!$type.isNaN(position)) {\r\n                    this.setPrivateRaw(\"tooltipPosition\", position);\r\n                    this._updateTooltipText(tooltip, position);\r\n                    renderer.positionTooltip(tooltip, position);\r\n                    if (position < this.get(\"start\") || position > this.get(\"end\")) {\r\n                        tooltip.hide(0);\r\n                    }\r\n                    else {\r\n                        tooltip.show(0);\r\n                    }\r\n                }\r\n                else {\r\n                    tooltip.hide(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipText(tooltip, position) {\r\n        tooltip.label.set(\"text\", this.getTooltipText(position));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    roundAxisPosition(position, _location) {\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorShow() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.show();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorHide() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processSeriesDataItem(_dataItem, _fields) {\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._sizeDirty = false;\r\n        this._rangesDirty = false;\r\n    }\r\n    /**\r\n     * Converts pixel coordinate to a relative position on axis.\r\n     *\r\n     * @param   coordinate  Coordinate\r\n     * @return              Relative position\r\n     */\r\n    coordinateToPosition(coordinate) {\r\n        const renderer = this.get(\"renderer\");\r\n        return renderer.toAxisPosition(coordinate / renderer.axisLength());\r\n    }\r\n    /**\r\n     * Converts relative position of the plot area to relative position of the\r\n     * axis with zoom taken into account.\r\n     *\r\n     * @param position Position\r\n     * @return Relative position\r\n     */\r\n    toAxisPosition(position) {\r\n        return this.get(\"renderer\").toAxisPosition(position);\r\n    }\r\n    /**\r\n     * Converts relative position of the axis to a global position taking current\r\n     * zoom into account (opposite to what `toAxisPosition` does).\r\n     *\r\n     * @since 5.4.2\r\n     * @param position Position\r\n     * @return Global position\r\n     */\r\n    toGlobalPosition(position) {\r\n        return this.get(\"renderer\").toGlobalPosition(position);\r\n    }\r\n    /**\r\n     * Adjusts position with inversed taken into account.\r\n     *\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        return this.get(\"renderer\").fixPosition(position);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    shouldGap(_dataItem, _nextItem, _autoGapCount, _fieldName) {\r\n        return false;\r\n    }\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    createAxisRange(axisDataItem) {\r\n        return this.axisRanges.push(axisDataItem);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _groupSeriesData(_series) { }\r\n    /**\r\n     * Returns relative position between two grid lines of the axis.\r\n     *\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        return 0.05;\r\n    }\r\n}\r\nObject.defineProperty(Axis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Axis\"\r\n});\r\nObject.defineProperty(Axis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Component.classNames.concat([Axis.className])\r\n});\r\n//# sourceMappingURL=Axis.js.map","import { Axis } from \"./Axis\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $math from \"../../../core/util/Math\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { populateString } from \"../../../core/util/PopulateString\";\r\n/**\r\n * Creates a category axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/category-axis/} for more info\r\n * @important\r\n */\r\nexport class CategoryAxis extends Axis {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_frequency\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_itemMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n        this.fields.push(\"category\");\r\n        this.setPrivateRaw(\"name\", \"category\");\r\n        this.addTag(\"category\");\r\n        super._afterNew();\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const len = this.dataItems.length;\r\n        let i = 0;\r\n        if (this._valuesDirty) {\r\n            this._itemMap = {};\r\n            $array.each(this.dataItems, (dataItem) => {\r\n                dataItem.setRaw(\"index\", i);\r\n                this._itemMap[dataItem.get(\"category\")] = dataItem;\r\n                i++;\r\n            });\r\n            this.setPrivateRaw(\"maxZoomFactor\", len);\r\n        }\r\n        this.setPrivateRaw(\"startIndex\", Math.max(Math.round(this.get(\"start\", 0) * len), 0));\r\n        this.setPrivateRaw(\"endIndex\", Math.min(Math.round(this.get(\"end\", 1) * len), len));\r\n        if (this._sizeDirty || this._valuesDirty || (this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"endIndex\") || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\"))) {\r\n            if (this.dataItems.length > 0) {\r\n                this._handleRangeChange();\r\n                this._prepareAxisItems();\r\n                this._updateAxisRanges();\r\n            }\r\n        }\r\n    }\r\n    _handleRangeChange() {\r\n        $array.each(this.series, (series) => {\r\n            let startCategory = this.dataItems[this.startIndex()].get(\"category\");\r\n            let endCategory = this.dataItems[this.endIndex() - 1].get(\"category\");\r\n            let baseAxis = series.get(\"baseAxis\");\r\n            let xAxis = series.get(\"xAxis\");\r\n            let yAxis = series.get(\"yAxis\");\r\n            if (xAxis instanceof CategoryAxis && yAxis instanceof CategoryAxis) {\r\n                series._markDirtyAxes();\r\n            }\r\n            else if (baseAxis === this) {\r\n                let key;\r\n                let openKey;\r\n                let otherAxis = yAxis;\r\n                if (xAxis === baseAxis) {\r\n                    if (series.get(\"categoryXField\")) {\r\n                        key = \"categoryX\";\r\n                    }\r\n                    if (series.get(\"openCategoryXField\")) {\r\n                        openKey = \"openCategoryX\";\r\n                    }\r\n                }\r\n                else if (yAxis === baseAxis) {\r\n                    if (series.get(\"categoryYField\")) {\r\n                        key = \"categoryY\";\r\n                    }\r\n                    if (series.get(\"openCategoryYField\")) {\r\n                        openKey = \"openCategoryY\";\r\n                    }\r\n                    otherAxis = xAxis;\r\n                }\r\n                if (otherAxis.className == \"ValueAxis\") {\r\n                    if (key || openKey) {\r\n                        let startDataItem;\r\n                        let endDataItem;\r\n                        for (let i = 0, len = series.dataItems.length; i < len; i++) {\r\n                            let dataItem = series.dataItems[i];\r\n                            if (key) {\r\n                                if (dataItem.get(key) === startCategory) {\r\n                                    startDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (openKey) {\r\n                                if (dataItem.get(openKey) === startCategory) {\r\n                                    startDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        for (let i = series.dataItems.length - 1; i >= 0; i--) {\r\n                            let dataItem = series.dataItems[i];\r\n                            if (key) {\r\n                                if (dataItem.get(key) === endCategory) {\r\n                                    endDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (openKey) {\r\n                                if (dataItem.get(openKey) === endCategory) {\r\n                                    endDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        let startIndex = 0;\r\n                        let endIndex = series.dataItems.length;\r\n                        if (startDataItem) {\r\n                            startIndex = series.dataItems.indexOf(startDataItem);\r\n                        }\r\n                        if (endDataItem) {\r\n                            endIndex = series.dataItems.indexOf(endDataItem) + 1;\r\n                        }\r\n                        series.setPrivate(\"startIndex\", startIndex);\r\n                        series.setPrivate(\"endIndex\", endIndex);\r\n                        let hasValue = false;\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            const dataItem = series.dataItems[i];\r\n                            $array.each(series.__valueXShowFields, (key) => {\r\n                                let value = dataItem.get(key);\r\n                                if (value != null) {\r\n                                    hasValue = true;\r\n                                }\r\n                            });\r\n                            $array.each(series.__valueYShowFields, (key) => {\r\n                                let value = dataItem.get(key);\r\n                                if (value != null) {\r\n                                    hasValue = true;\r\n                                }\r\n                            });\r\n                            if (hasValue) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        series.setPrivate(\"outOfSelection\", !hasValue);\r\n                    }\r\n                }\r\n                series._markDirtyAxes(); // must be outside\r\n            }\r\n        });\r\n    }\r\n    _prepareAxisItems() {\r\n        const renderer = this.get(\"renderer\");\r\n        const len = this.dataItems.length;\r\n        let startIndex = this.startIndex();\r\n        if (startIndex > 0) {\r\n            startIndex--;\r\n        }\r\n        let endIndex = this.endIndex();\r\n        if (endIndex < len) {\r\n            endIndex++;\r\n        }\r\n        let maxCount = renderer.axisLength() / Math.max(renderer.get(\"minGridDistance\"), 1 / Number.MAX_SAFE_INTEGER);\r\n        let frequency = Math.max(1, Math.min(len, Math.ceil((endIndex - startIndex) / maxCount)));\r\n        startIndex = Math.floor(startIndex / frequency) * frequency;\r\n        this._frequency = frequency;\r\n        for (let j = 0; j < len; j++) {\r\n            this.dataItems[j].hide();\r\n        }\r\n        let f = this.dataItems[startIndex].get(\"index\", 0);\r\n        for (let i = startIndex; i < endIndex; i = i + frequency) {\r\n            let dataItem = this.dataItems[i];\r\n            this._createAssets(dataItem, []);\r\n            if (dataItem.isHidden()) {\r\n                dataItem.show();\r\n            }\r\n            this._prepareDataItem(dataItem, f, frequency);\r\n            f++;\r\n        }\r\n        this._updateGhost();\r\n    }\r\n    _prepareDataItem(dataItem, fillIndex, count) {\r\n        let renderer = this.get(\"renderer\");\r\n        let categoryLocation = dataItem.get(\"categoryLocation\", 0);\r\n        let endCategoryLocation = dataItem.get(\"endCategoryLocation\", 1);\r\n        let index = dataItem.get(\"index\");\r\n        if (!$type.isNumber(index)) {\r\n            index = this.categoryToIndex(dataItem.get(\"category\"));\r\n        }\r\n        let position = this.indexToPosition(index, categoryLocation);\r\n        let endCategory = dataItem.get(\"endCategory\");\r\n        let endIndex;\r\n        if (endCategory) {\r\n            endIndex = this.categoryToIndex(endCategory);\r\n            if (!$type.isNumber(endIndex)) {\r\n                endIndex = index;\r\n            }\r\n        }\r\n        else {\r\n            endIndex = index;\r\n        }\r\n        let endPosition = this.indexToPosition(endIndex, endCategoryLocation);\r\n        let fillEndIndex;\r\n        let fillEndPosition;\r\n        if (dataItem.get(\"isRange\")) {\r\n            fillEndIndex = endIndex;\r\n        }\r\n        else {\r\n            fillEndIndex = index + this._frequency - 1;\r\n        }\r\n        fillEndPosition = this.indexToPosition(fillEndIndex, endCategoryLocation);\r\n        renderer.updateLabel(dataItem.get(\"label\"), position, endPosition, count);\r\n        renderer.updateGrid(dataItem.get(\"grid\"), position, endPosition);\r\n        renderer.updateTick(dataItem.get(\"tick\"), position, endPosition, count);\r\n        renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n        this._processBullet(dataItem);\r\n        renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n        const fillRule = this.get(\"fillRule\");\r\n        if (fillRule) {\r\n            fillRule(dataItem, fillIndex);\r\n        }\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(Math.max(this.getPrivate(\"startIndex\", 0), 0), len - 1);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.max(1, Math.min(this.getPrivate(\"endIndex\", len), len));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    baseValue() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    basePosition() {\r\n        return 0;\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         X coordinate\r\n     */\r\n    getX(value) {\r\n        let axisDataItem = this._itemMap[value];\r\n        if (axisDataItem) {\r\n            return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * Returns Y coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         Y coordinate\r\n     */\r\n    getY(value) {\r\n        let axisDataItem = this._itemMap[value];\r\n        if (axisDataItem) {\r\n            return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionX(dataItem, field, cellLocation, _axisLocation) {\r\n        const category = dataItem.get(field);\r\n        const axisDataItem = this._itemMap[category];\r\n        if (axisDataItem) {\r\n            return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateX(dataItem, field, cellLocation, _axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, _axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionY(dataItem, field, cellLocation, _axisLocation) {\r\n        const category = dataItem.get(field);\r\n        const axisDataItem = this._itemMap[category];\r\n        if (axisDataItem) {\r\n            return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateY(dataItem, field, cellLocation, _axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, _axisLocation));\r\n    }\r\n    /**\r\n     * Converts category index to a relative position.\r\n     *\r\n     * `location` indicates relative position within category: 0 - start, 1 - end.\r\n     *\r\n     * If not set, will use middle (0.5) of the category.\r\n     *\r\n     * @param   index     Index\r\n     * @param   location  Location\r\n     * @return            Index\r\n     */\r\n    indexToPosition(index, location) {\r\n        if (!$type.isNumber(location)) {\r\n            location = 0.5;\r\n        }\r\n        let len = this.dataItems.length;\r\n        let startLocation = this.get(\"startLocation\", 0);\r\n        let endLocation = this.get(\"endLocation\", 1);\r\n        len -= startLocation;\r\n        len -= (1 - endLocation);\r\n        let position = (index + location - startLocation) / len;\r\n        let dataItem = this.dataItems[index];\r\n        if (dataItem) {\r\n            position += dataItem.get(\"deltaPosition\", 0);\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * Returns an index of a category.\r\n     *\r\n     * @param   category  Category to look up\r\n     * @return            Index\r\n     */\r\n    categoryToIndex(category) {\r\n        let dataItem = this._itemMap[category];\r\n        if (dataItem) {\r\n            return dataItem.get(\"index\");\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    dataItemToPosition(dataItem) {\r\n        return this.indexToPosition(dataItem.get(\"index\"));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    roundAxisPosition(position, location) {\r\n        position += (0.5 - location) / this.dataItems.length;\r\n        return this.indexToPosition(this.axisPositionToIndex(position), location);\r\n    }\r\n    /**\r\n     * Returns an index of the category that corresponds to specific pixel\r\n     * position within axis.\r\n     *\r\n     * @param position  Position (px)\r\n     * @return Category index\r\n     */\r\n    axisPositionToIndex(position) {\r\n        let len = this.dataItems.length;\r\n        return $math.fitToRange(Math.floor(position * len), 0, len - 1); //$math.fitToRange(Math.floor((end - start) * len * position + len * start), 0, len - 1);\r\n    }\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    getTooltipText(position, _adjustPosition) {\r\n        //@todo number formatter + tag\r\n        const dataItem = this.dataItems[this.axisPositionToIndex(position)];\r\n        if (dataItem) {\r\n            const label = dataItem.get(\"label\");\r\n            if (label) {\r\n                return populateString(label, this.get(\"tooltipText\", \"\"));\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipText(tooltip, position) {\r\n        tooltip._setDataItem(this.dataItems[this.axisPositionToIndex(position)]);\r\n        tooltip.label.text.markDirtyText();\r\n    }\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    getSeriesItem(series, position) {\r\n        if (this.dataItems.length > 0) {\r\n            let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n            let index = this.axisPositionToIndex(position);\r\n            // try simple first\r\n            let seriesDataItem = series.dataItems[index];\r\n            let axisDataItem = this.dataItems[index];\r\n            let category = axisDataItem.get(\"category\");\r\n            if (seriesDataItem && axisDataItem) {\r\n                if (seriesDataItem.get(fieldName) === category) {\r\n                    return seriesDataItem;\r\n                }\r\n            }\r\n            // if not found, try looking\r\n            for (let i = 0, len = series.dataItems.length; i < len; i++) {\r\n                let dataItem = series.dataItems[i];\r\n                if (dataItem.get(fieldName) === category) {\r\n                    return dataItem;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` indexes.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start index\r\n     * @param  end       End index\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    zoomToIndexes(start, end, duration) {\r\n        let len = this.dataItems.length;\r\n        this.zoom(start / len, end / len, duration);\r\n    }\r\n    zoomToCategories(startCategory, endCategory, duration) {\r\n        this.zoomToIndexes(this.categoryToIndex(startCategory), this.categoryToIndex(endCategory) + 1, duration);\r\n    }\r\n    /**\r\n     * Returns position span between start and end of a single cell in axis.\r\n     *\r\n     * @since 5.2.30\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        return this._frequency / this.dataItems.length / (this.get(\"end\", 1) - this.get(\"start\", 0));\r\n    }\r\n}\r\nObject.defineProperty(CategoryAxis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"CategoryAxis\"\r\n});\r\nObject.defineProperty(CategoryAxis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Axis.classNames.concat([CategoryAxis.className])\r\n});\r\n//# sourceMappingURL=CategoryAxis.js.map","import { Tick } from \"../../../core/render/Tick\";\r\n/**\r\n * Draws an axis tick.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Ticks} for more info\r\n * @important\r\n */\r\nexport class AxisTick extends Tick {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(AxisTick, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisTick\"\r\n});\r\nObject.defineProperty(AxisTick, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Tick.classNames.concat([AxisTick.className])\r\n});\r\n//# sourceMappingURL=AxisTick.js.map","import { Graphics } from \"../../../core/render/Graphics\";\r\n/**\r\n * Creates an axis grid line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Grid} for more info\r\n * @important\r\n */\r\nexport class Grid extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Grid, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Grid\"\r\n});\r\nObject.defineProperty(Grid, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Grid.className])\r\n});\r\n//# sourceMappingURL=Grid.js.map","import { Label } from \"../../../core/render/Label\";\r\n/**\r\n * Draws an axis label.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels} for more info\r\n * @important\r\n */\r\nexport class AxisLabel extends Label {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(AxisLabel, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisLabel\"\r\n});\r\nObject.defineProperty(AxisLabel, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Label.classNames.concat([AxisLabel.className])\r\n});\r\n//# sourceMappingURL=AxisLabel.js.map","import { Graphics } from \"../../../core/render/Graphics\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { AxisTick } from \"./AxisTick\";\r\nimport { Grid } from \"./Grid\";\r\nimport { AxisLabel } from \"./AxisLabel\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Base class for an axis renderer.\r\n *\r\n * Should not be used on its own.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n */\r\nexport class AxisRenderer extends Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        // save for quick access\r\n        Object.defineProperty(this, \"_axisLength\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 100\r\n        });\r\n        Object.defineProperty(this, \"_start\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_end\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_inversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_minSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * Chart the renderer is used in.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_lc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_ls\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_thumbDownPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A list of ticks in the axis.\r\n         *\r\n         * `ticks.template` can be used to configure ticks.\r\n         *\r\n         * @default new ListTemplate<AxisTick>\r\n         */\r\n        Object.defineProperty(this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => AxisTick._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.ticks.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.ticks.template]))\r\n        });\r\n        /**\r\n         * A list of grid elements in the axis.\r\n         *\r\n         * `grid.template` can be used to configure grid.\r\n         *\r\n         * @default new ListTemplate<Grid>\r\n         */\r\n        Object.defineProperty(this, \"grid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Grid._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.grid.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.grid.template]))\r\n        });\r\n        /**\r\n         * A list of fills in the axis.\r\n         *\r\n         * `axisFills.template` can be used to configure axis fills.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(this, \"axisFills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => Graphics._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.axisFills.template.get(\"themeTags\", [\"axis\", \"fill\"]), this.get(\"themeTags\", []))\r\n            }, [this.axisFills.template]))\r\n        });\r\n        /**\r\n         * A list of labels in the axis.\r\n         *\r\n         * `labels.template` can be used to configure axis labels.\r\n         *\r\n         * @default new ListTemplate<AxisLabel>\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => AxisLabel._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.labels.template]))\r\n        });\r\n        /**\r\n         * An [[Axis]] renderer is for.\r\n         */\r\n        Object.defineProperty(this, \"axis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeTick(dataItem, themeTags) {\r\n        const tick = this.ticks.make();\r\n        tick._setDataItem(dataItem);\r\n        dataItem.setRaw(\"tick\", tick);\r\n        tick.set(\"themeTags\", $utils.mergeTags(tick.get(\"themeTags\"), themeTags));\r\n        this.axis.labelsContainer.children.push(tick);\r\n        this.ticks.push(tick);\r\n        return tick;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeGrid(dataItem, themeTags) {\r\n        const grid = this.grid.make();\r\n        grid._setDataItem(dataItem);\r\n        dataItem.setRaw(\"grid\", grid);\r\n        grid.set(\"themeTags\", $utils.mergeTags(grid.get(\"themeTags\"), themeTags));\r\n        this.axis.gridContainer.children.push(grid);\r\n        this.grid.push(grid);\r\n        return grid;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeAxisFill(dataItem, themeTags) {\r\n        const axisFill = this.axisFills.make();\r\n        axisFill._setDataItem(dataItem);\r\n        axisFill.set(\"themeTags\", $utils.mergeTags(axisFill.get(\"themeTags\"), themeTags));\r\n        this.axis.gridContainer.children.push(axisFill);\r\n        dataItem.setRaw(\"axisFill\", axisFill);\r\n        this.axisFills.push(axisFill);\r\n        return axisFill;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLabel(dataItem, themeTags) {\r\n        const label = this.labels.make();\r\n        label.set(\"themeTags\", $utils.mergeTags(label.get(\"themeTags\"), themeTags));\r\n        this.axis.labelsContainer.children.moveValue(label, 0);\r\n        label._setDataItem(dataItem);\r\n        dataItem.setRaw(\"label\", label);\r\n        this.labels.push(label);\r\n        return label;\r\n    }\r\n    axisLength() {\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    gridCount() {\r\n        return this.axisLength() / this.get(\"minGridDistance\", 50);\r\n    }\r\n    _updatePositions() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.set(\"isMeasured\", false);\r\n        const thumb = this.thumb;\r\n        if (thumb) {\r\n            this._disposers.push(thumb.events.on(\"pointerdown\", (event) => {\r\n                this._handleThumbDown(event);\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"globalpointerup\", (event) => {\r\n                this._handleThumbUp(event);\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"globalpointermove\", (event) => {\r\n                this._handleThumbMove(event);\r\n            }));\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"pan\")) {\r\n            const thumb = this.thumb;\r\n            if (thumb) {\r\n                const labelsContainer = this.axis.labelsContainer;\r\n                const pan = this.get(\"pan\");\r\n                if (pan == \"zoom\") {\r\n                    labelsContainer.children.push(thumb);\r\n                }\r\n                else if (pan == \"none\") {\r\n                    labelsContainer.children.removeValue(thumb);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleThumbDown(event) {\r\n        this._thumbDownPoint = this.toLocal(event.point);\r\n        const axis = this.axis;\r\n        this._downStart = axis.get(\"start\");\r\n        this._downEnd = axis.get(\"end\");\r\n    }\r\n    _handleThumbUp(_event) {\r\n        this._thumbDownPoint = undefined;\r\n    }\r\n    _handleThumbMove(event) {\r\n        const downPoint = this._thumbDownPoint;\r\n        if (downPoint) {\r\n            const point = this.toLocal(event.point);\r\n            const downStart = this._downStart;\r\n            const downEnd = this._downEnd;\r\n            const extra = this._getPan(point, downPoint) * Math.min(1, (downEnd - downStart)) / 2;\r\n            this.axis.zoom(downStart - extra, downEnd + extra, 0);\r\n        }\r\n    }\r\n    _getPan(_point1, _point2) {\r\n        return 0;\r\n    }\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    positionToCoordinate(position) {\r\n        if (this._inversed) {\r\n            return (this._end - position) * this._axisLength;\r\n        }\r\n        else {\r\n            return (position - this._start) * this._axisLength;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(_tooltip) { }\r\n    _updateSize() {\r\n        this.markDirty();\r\n        this._clear = true;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position = position * (end - start);\r\n        if (!this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (!this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start);\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        if (this.get(\"inversed\")) {\r\n            return 1 - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n    }\r\n    toggleVisibility(sprite, position, minPosition, maxPosition) {\r\n        let axis = this.axis;\r\n        const start = axis.get(\"start\", 0);\r\n        const end = axis.get(\"end\", 1);\r\n        let updatedStart = start + (end - start) * (minPosition - 0.0001);\r\n        let updatedEnd = start + (end - start) * (maxPosition + 0.0001);\r\n        if (position < updatedStart || position > updatedEnd) {\r\n            sprite.setPrivate(\"visible\", false);\r\n        }\r\n        else {\r\n            sprite.setPrivate(\"visible\", true);\r\n        }\r\n    }\r\n    _positionTooltip(tooltip, point) {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            if (chart.inPlot(point)) {\r\n                tooltip.set(\"pointTo\", this._display.toGlobal(point));\r\n            }\r\n            else {\r\n                tooltip.hide();\r\n            }\r\n        }\r\n    }\r\n    processAxis() { }\r\n}\r\nObject.defineProperty(AxisRenderer, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRenderer\"\r\n});\r\nObject.defineProperty(AxisRenderer, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([AxisRenderer.className])\r\n});\r\n//# sourceMappingURL=AxisRenderer.js.map","import { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\n/**\r\n * Used to render vertical axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nexport class AxisRendererY extends AxisRenderer {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_downY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(this._root, { height: p100, isMeasured: false, themeTags: [\"axis\", \"y\", \"thumb\"] })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\r\n        if (this._settings.opposite) {\r\n            this._settings.themeTags.push(\"opposite\");\r\n        }\r\n        super._afterNew();\r\n        this.setPrivateRaw(\"letter\", \"Y\");\r\n        const gridTemplate = this.grid.template;\r\n        gridTemplate.set(\"width\", p100);\r\n        gridTemplate.set(\"height\", 0);\r\n        gridTemplate.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(graphics.width(), 0);\r\n        });\r\n        this.set(\"draw\", (display, renderer) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, renderer.height());\r\n        });\r\n    }\r\n    _getPan(point1, point2) {\r\n        return (point1.y - point2.y) / this.height();\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const axis = this.axis;\r\n        axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n        axis.ghostLabel.set(\"y\", -1000);\r\n        const thumb = this.thumb;\r\n        const opposite = \"opposite\";\r\n        const inside = \"inside\";\r\n        const chart = this.chart;\r\n        if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n            const axisChildren = axis.children;\r\n            if (this.get(inside)) {\r\n                axis.addTag(inside);\r\n            }\r\n            else {\r\n                axis.removeTag(inside);\r\n            }\r\n            if (chart) {\r\n                if (this.get(opposite)) {\r\n                    const children = chart.rightAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis, 0);\r\n                    }\r\n                    axis.addTag(opposite);\r\n                    axisChildren.moveValue(this, 0);\r\n                }\r\n                else {\r\n                    const children = chart.leftAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis);\r\n                    }\r\n                    axis.removeTag(opposite);\r\n                    axisChildren.moveValue(this);\r\n                }\r\n                axis.ghostLabel._applyThemes();\r\n                this.labels.each((label) => {\r\n                    label._applyThemes();\r\n                });\r\n                this.root._markDirtyRedraw();\r\n            }\r\n            axis.markDirtySize();\r\n        }\r\n        const w = axis.labelsContainer.width();\r\n        if (chart) {\r\n            if (this.get(opposite)) {\r\n                thumb.set(\"centerX\", 0);\r\n            }\r\n            else {\r\n                thumb.set(\"centerX\", w);\r\n            }\r\n        }\r\n        thumb.setPrivate(\"width\", w);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis() {\r\n        super.processAxis();\r\n        const axis = this.axis;\r\n        if (axis.get(\"height\") == null) {\r\n            axis.set(\"height\", p100);\r\n        }\r\n        const horizontalLayout = this._root.horizontalLayout;\r\n        axis.set(\"layout\", horizontalLayout);\r\n        axis.labelsContainer.set(\"height\", p100);\r\n        axis.axisHeader.set(\"layout\", horizontalLayout);\r\n    }\r\n    _updatePositions() {\r\n        const axis = this.axis;\r\n        const y = axis.y() - $utils.relativeToValue(axis.get(\"centerY\", 0), axis.height());\r\n        axis.gridContainer.set(\"y\", y);\r\n        axis.topGridContainer.set(\"y\", y);\r\n        axis.bulletsContainer.set(\"x\", this.x());\r\n        const chart = axis.chart;\r\n        if (chart) {\r\n            const plotContainer = chart.plotContainer;\r\n            const axisHeader = axis.axisHeader;\r\n            let height = axis.get(\"marginTop\", 0);\r\n            if (axisHeader.children.length > 0) {\r\n                height = axis.axisHeader.height();\r\n                axis.set(\"marginTop\", height + 1);\r\n            }\r\n            else {\r\n                axisHeader.set(\"height\", height);\r\n            }\r\n            axisHeader.setAll({ y: axis.y() - height, x: -1, width: plotContainer.width() + 2 });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    axisLength() {\r\n        return this.axis.innerHeight();\r\n    }\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    positionToPoint(position) {\r\n        return { x: 0, y: this.positionToCoordinate(position) };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLabel(label, position, endPosition, count) {\r\n        if (label) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = label.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = label.get(\"location\", location);\r\n            }\r\n            const opposite = this.get(\"opposite\");\r\n            const inside = label.get(\"inside\", this.get(\"inside\", false));\r\n            if (opposite) {\r\n                label.set(\"x\", 0);\r\n                if (inside) {\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n                else {\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n            }\r\n            else {\r\n                if (inside) {\r\n                    label.set(\"x\", 0);\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n                else {\r\n                    label.set(\"x\", undefined);\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            label.set(\"y\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateGrid(grid, position, endPosition) {\r\n        if (grid) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = grid.get(\"location\", 0.5);\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            grid.set(\"y\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(grid, position, 0, 1);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTick(tick, position, endPosition, count) {\r\n        if (tick) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = tick.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = tick.get(\"location\", location);\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            tick.set(\"y\", this.positionToCoordinate(position));\r\n            let length = tick.get(\"length\", 0);\r\n            const inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n            if (this.get(\"opposite\")) {\r\n                tick.set(\"x\", 0);\r\n                if (inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            else {\r\n                if (!inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            tick.set(\"draw\", (display) => {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(length, 0);\r\n            });\r\n            this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateBullet(bullet, position, endPosition) {\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                let location = bullet.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location;\r\n                }\r\n                let bulletPosition = this.axis.roundAxisPosition(position, location);\r\n                let previousBullet = this.axis._bullets[bulletPosition];\r\n                let d = 1;\r\n                if (this.get(\"opposite\")) {\r\n                    d = -1;\r\n                }\r\n                if (bullet.get(\"stacked\")) {\r\n                    if (previousBullet) {\r\n                        let previousSprite = previousBullet.get(\"sprite\");\r\n                        if (previousSprite) {\r\n                            sprite.set(\"x\", previousSprite.x() + previousSprite.width() * d);\r\n                        }\r\n                    }\r\n                    else {\r\n                        sprite.set(\"x\", 0);\r\n                    }\r\n                }\r\n                this.axis._bullets[bulletPosition] = bullet;\r\n                sprite.set(\"y\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(sprite, position, 0, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateFill(fill, position, endPosition) {\r\n        if (fill) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            if (!$type.isNumber(endPosition)) {\r\n                endPosition = 1;\r\n            }\r\n            let y0 = this.positionToCoordinate(position);\r\n            let y1 = this.positionToCoordinate(endPosition);\r\n            this.fillDrawMethod(fill, y0, y1);\r\n        }\r\n    }\r\n    fillDrawMethod(fill, y0, y1) {\r\n        fill.set(\"draw\", (display) => {\r\n            // using for holes, so can not be rectangle\r\n            const w = this.axis.gridContainer.width();\r\n            const h = this.height();\r\n            if (y1 < y0) {\r\n                [y1, y0] = [y0, y1];\r\n            }\r\n            if (y0 > h || y1 < 0) {\r\n                return;\r\n            }\r\n            //y0 = Math.max(0, y0);\r\n            //y1 = Math.min(h, y1);\r\n            display.moveTo(0, y0);\r\n            display.lineTo(w, y0);\r\n            display.lineTo(w, y1);\r\n            display.lineTo(0, y1);\r\n            display.lineTo(0, y0);\r\n        });\r\n    }\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    positionToCoordinate(position) {\r\n        if (!this._inversed) {\r\n            return (this._end - position) * this._axisLength;\r\n        }\r\n        else {\r\n            return (position - this._start) * this._axisLength;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    positionTooltip(tooltip, position) {\r\n        this._positionTooltip(tooltip, { x: 0, y: this.positionToCoordinate(position) });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(tooltip) {\r\n        const inside = this.get(\"inside\");\r\n        const num = 100000;\r\n        let global = this._display.toGlobal({ x: 0, y: 0 });\r\n        let y = global.y;\r\n        let x = 0;\r\n        let h = this.axisLength();\r\n        let w = num;\r\n        let pointerOrientation = \"right\";\r\n        if (this.get(\"opposite\")) {\r\n            if (inside) {\r\n                pointerOrientation = \"right\";\r\n                x = global.x - num;\r\n                w = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"left\";\r\n                x = global.x;\r\n                w = num;\r\n            }\r\n        }\r\n        else {\r\n            if (inside) {\r\n                pointerOrientation = \"left\";\r\n                x = global.x;\r\n                w = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"right\";\r\n                x = global.x - num;\r\n                w = num;\r\n            }\r\n        }\r\n        const bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n        const oldBounds = tooltip.get(\"bounds\");\r\n        if (!$utils.sameBounds(bounds, oldBounds)) {\r\n            tooltip.set(\"bounds\", bounds);\r\n            tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n        const axis = this.axis;\r\n        const parent = axis.parent;\r\n        if (parent) {\r\n            const h = parent.innerHeight();\r\n            this._lc = this.axisLength() / h;\r\n            this._ls = axis.y() / h;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position -= this._ls;\r\n        position = position * (end - start) / this._lc;\r\n        if (this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start) * this._lc;\r\n        position += this._ls;\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        if (!this.get(\"inversed\")) {\r\n            return 1 - position;\r\n        }\r\n        return position;\r\n    }\r\n}\r\nObject.defineProperty(AxisRendererY, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRendererY\"\r\n});\r\nObject.defineProperty(AxisRendererY, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: AxisRenderer.classNames.concat([AxisRendererY.className])\r\n});\r\n//# sourceMappingURL=AxisRendererY.js.map","import { DataItem } from \"../../../core/render/Component\";\r\nimport { Axis } from \"./Axis\";\r\nimport { MultiDisposer } from \"../../../core/util/Disposer\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $math from \"../../../core/util/Math\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Creates a value axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/} for more info\r\n * @important\r\n */\r\nexport class ValueAxis extends Axis {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_dirtyExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirtySelectionExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_deltaMinMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_minReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_maxReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_baseValue\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_syncDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_minLogAdjusted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyExtremes() {\r\n        this._dirtyExtremes = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySelectionExtremes() {\r\n        this._dirtySelectionExtremes = true;\r\n        this.markDirty();\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n        this.setPrivateRaw(\"name\", \"value\");\r\n        this.addTag(\"value\");\r\n        super._afterNew();\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"syncWithAxis\")) {\r\n            let previousValue = this._prevSettings.syncWithAxis;\r\n            if (previousValue) {\r\n                if (this._syncDp) {\r\n                    this._syncDp.dispose();\r\n                }\r\n            }\r\n            let syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                this._syncDp = new MultiDisposer([\r\n                    syncWithAxis.onPrivate(\"selectionMinFinal\", () => {\r\n                        this._dirtySelectionExtremes = true;\r\n                    }),\r\n                    syncWithAxis.onPrivate(\"selectionMaxFinal\", () => {\r\n                        this._dirtySelectionExtremes = true;\r\n                    })\r\n                ]);\r\n            }\r\n        }\r\n        //if (this._dirtyExtremes || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"maxPrecision\")) {\r\n        if (this._sizeDirty || this._dirtyExtremes || this._valuesDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"strictMinMaxSelection\") || this.isDirty(\"maxPrecision\") || this.isDirty(\"numberFormat\")) {\r\n            this._getMinMax();\r\n            this.ghostLabel.set(\"text\", \"\");\r\n            this._dirtyExtremes = false;\r\n        }\r\n        if (this._dirtySelectionExtremes && !this._isPanning && this.get(\"autoZoom\", true)) {\r\n            this._getSelectionMinMax();\r\n            this._dirtySelectionExtremes = false;\r\n        }\r\n        this._groupData();\r\n        if (this._sizeDirty || this._valuesDirty || this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"min\") || this.isPrivateDirty(\"selectionMax\") || this.isPrivateDirty(\"selectionMin\") || this.isPrivateDirty(\"max\") || this.isPrivateDirty(\"step\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"logarithmic\")) {\r\n            this._handleRangeChange();\r\n            this._prepareAxisItems();\r\n            this._updateAxisRanges();\r\n        }\r\n        this._baseValue = this.baseValue();\r\n    }\r\n    _groupData() {\r\n    }\r\n    _formatText(value) {\r\n        const numberFormat = this.get(\"numberFormat\");\r\n        const formatter = this.getNumberFormatter();\r\n        let text = \"\";\r\n        if (numberFormat) {\r\n            text = formatter.format(value, numberFormat);\r\n        }\r\n        else {\r\n            text = formatter.format(value, undefined, this.getPrivate(\"stepDecimalPlaces\"));\r\n        }\r\n        return text;\r\n    }\r\n    _prepareAxisItems() {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if ($type.isNumber(min) && $type.isNumber(max)) {\r\n            const logarithmic = this.get(\"logarithmic\");\r\n            const step = this.getPrivate(\"step\");\r\n            const selectionMin = this.getPrivate(\"selectionMin\");\r\n            const selectionMax = this.getPrivate(\"selectionMax\") + step;\r\n            let value = selectionMin - step;\r\n            let i = 0;\r\n            let differencePower = 1;\r\n            let minLog = min;\r\n            if (logarithmic) {\r\n                value = this._minLogAdjusted;\r\n                if (value < selectionMin) {\r\n                    while (value < selectionMin) {\r\n                        value += step;\r\n                    }\r\n                }\r\n                minLog = value;\r\n                if (minLog <= 0) {\r\n                    minLog = 1;\r\n                    if (step < 1) {\r\n                        minLog = step;\r\n                    }\r\n                }\r\n                differencePower = Math.log(selectionMax - step) * Math.LOG10E - Math.log(minLog) * Math.LOG10E;\r\n                if (differencePower > 2) {\r\n                    value = Math.pow(10, Math.log(minLog) * Math.LOG10E - 5);\r\n                }\r\n            }\r\n            let previous = -Infinity;\r\n            while (value < selectionMax) {\r\n                let dataItem;\r\n                if (this.dataItems.length < i + 1) {\r\n                    dataItem = new DataItem(this, undefined, {});\r\n                    this._dataItems.push(dataItem);\r\n                    this.processDataItem(dataItem);\r\n                }\r\n                else {\r\n                    dataItem = this.dataItems[i];\r\n                }\r\n                this._createAssets(dataItem, []);\r\n                if (dataItem.isHidden()) {\r\n                    dataItem.show();\r\n                }\r\n                dataItem.setRaw(\"value\", value);\r\n                const label = dataItem.get(\"label\");\r\n                if (label) {\r\n                    label.set(\"text\", this._formatText(value));\r\n                }\r\n                this._prepareDataItem(dataItem);\r\n                if (!logarithmic) {\r\n                    value += step;\r\n                }\r\n                else {\r\n                    if (differencePower > 2) {\r\n                        value = Math.pow(10, Math.log(minLog) * Math.LOG10E + i - 5);\r\n                    }\r\n                    else {\r\n                        value += step;\r\n                    }\r\n                }\r\n                if (previous == value) {\r\n                    break;\r\n                }\r\n                let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n                if (stepPower < 1) {\r\n                    // exponent is less then 1 too. Count decimals of exponent\r\n                    let decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 2;\r\n                    // round value to avoid floating point issues\r\n                    value = $math.round(value, decCount);\r\n                }\r\n                i++;\r\n                previous = value;\r\n            }\r\n            for (let j = i; j < this.dataItems.length; j++) {\r\n                this.dataItems[j].hide();\r\n            }\r\n            $array.each(this.series, (series) => {\r\n                if (series.inited) {\r\n                    series._markDirtyAxes();\r\n                }\r\n            });\r\n            this._updateGhost();\r\n        }\r\n    }\r\n    _prepareDataItem(dataItem, count) {\r\n        let renderer = this.get(\"renderer\");\r\n        let value = dataItem.get(\"value\");\r\n        let endValue = dataItem.get(\"endValue\");\r\n        let position = this.valueToPosition(value);\r\n        let endPosition = position;\r\n        let fillEndPosition = this.valueToPosition(value + this.getPrivate(\"step\"));\r\n        if ($type.isNumber(endValue)) {\r\n            endPosition = this.valueToPosition(endValue);\r\n            fillEndPosition = endPosition;\r\n        }\r\n        if (dataItem.get(\"isRange\")) {\r\n            if (endValue == null) {\r\n                fillEndPosition = position;\r\n            }\r\n        }\r\n        renderer.updateLabel(dataItem.get(\"label\"), position, endPosition, count);\r\n        const grid = dataItem.get(\"grid\");\r\n        renderer.updateGrid(grid, position, endPosition);\r\n        if (grid) {\r\n            if (value == this.get(\"baseValue\", 0)) {\r\n                grid.addTag(\"base\");\r\n                grid._applyThemes();\r\n            }\r\n            else if (grid.hasTag(\"base\")) {\r\n                grid.removeTag(\"base\");\r\n                grid._applyThemes();\r\n            }\r\n        }\r\n        renderer.updateTick(dataItem.get(\"tick\"), position, endPosition, count);\r\n        renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n        this._processBullet(dataItem);\r\n        renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n        if (!dataItem.get(\"isRange\")) {\r\n            const fillRule = this.get(\"fillRule\");\r\n            if (fillRule) {\r\n                fillRule(dataItem);\r\n            }\r\n        }\r\n    }\r\n    _handleRangeChange() {\r\n        let selectionMin = this.positionToValue(this.get(\"start\", 0));\r\n        let selectionMax = this.positionToValue(this.get(\"end\", 1));\r\n        const gridCount = this.get(\"renderer\").gridCount();\r\n        let minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n        let stepDecimalPlaces = $utils.decimalPlaces(minMaxStep.step);\r\n        this.setPrivateRaw(\"stepDecimalPlaces\", stepDecimalPlaces);\r\n        selectionMin = $math.round(selectionMin, stepDecimalPlaces);\r\n        selectionMax = $math.round(selectionMax, stepDecimalPlaces);\r\n        minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n        let step = minMaxStep.step;\r\n        selectionMin = minMaxStep.min;\r\n        selectionMax = minMaxStep.max;\r\n        if (this.getPrivate(\"selectionMin\") !== selectionMin || this.getPrivate(\"selectionMax\") !== selectionMax || this.getPrivate(\"step\") !== step) {\r\n            // do not change to setPrivate, will cause SO\r\n            this.setPrivateRaw(\"selectionMin\", selectionMin);\r\n            this.setPrivateRaw(\"selectionMax\", selectionMax);\r\n            this.setPrivateRaw(\"step\", step);\r\n        }\r\n    }\r\n    /**\r\n     * Converts a relative position to a corresponding numeric value from axis\r\n     * scale.\r\n     *\r\n     * @param   position  Relative position\r\n     * @return            Value\r\n     */\r\n    positionToValue(position) {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return position * (max - min) + min;\r\n        }\r\n        else {\r\n            return Math.pow(Math.E, (position * ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E)) + Math.log(min) * Math.LOG10E) / Math.LOG10E);\r\n        }\r\n    }\r\n    /**\r\n     * Convers value to a relative position on axis.\r\n     *\r\n     * @param   value  Value\r\n     * @return         Relative position\r\n     */\r\n    valueToPosition(value) {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return (value - min) / (max - min);\r\n        }\r\n        else {\r\n            if (value <= 0) {\r\n                let treatZeroAs = this.get(\"treatZeroAs\");\r\n                if ($type.isNumber(treatZeroAs)) {\r\n                    value = treatZeroAs;\r\n                }\r\n            }\r\n            return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    valueToFinalPosition(value) {\r\n        const min = this.getPrivate(\"minFinal\");\r\n        const max = this.getPrivate(\"maxFinal\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return (value - min) / (max - min);\r\n        }\r\n        else {\r\n            if (value <= 0) {\r\n                let treatZeroAs = this.get(\"treatZeroAs\");\r\n                if ($type.isNumber(treatZeroAs)) {\r\n                    value = treatZeroAs;\r\n                }\r\n            }\r\n            return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n        }\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    getX(value, location, baseValue) {\r\n        value = baseValue + (value - baseValue) * location;\r\n        const position = this.valueToPosition(value);\r\n        return this._settings.renderer.positionToCoordinate(position);\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    getY(value, location, baseValue) {\r\n        value = baseValue + (value - baseValue) * location;\r\n        const position = this.valueToPosition(value);\r\n        return this._settings.renderer.positionToCoordinate(position);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateX(dataItem, field, _cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, _cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionX(dataItem, field, _cellLocation, axisLocation) {\r\n        let value = dataItem.get(field);\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            const series = dataItem.component;\r\n            value = value * axisLocation + series.getStackedXValueWorking(dataItem, field);\r\n        }\r\n        else {\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        }\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateY(dataItem, field, _cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, _cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionY(dataItem, field, _cellLocation, axisLocation) {\r\n        let value = dataItem.get(field);\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            const series = dataItem.component;\r\n            value = value * axisLocation + series.getStackedYValueWorking(dataItem, field);\r\n        }\r\n        else {\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        }\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * Returns relative position of axis' `baseValue`.\r\n     *\r\n     * @return  Base value position\r\n     */\r\n    basePosition() {\r\n        return this.valueToPosition(this.baseValue());\r\n    }\r\n    /**\r\n     * Base value of the [[ValueAxis]], which determines positive and negative\r\n     * values.\r\n     *\r\n     * @return Base value\r\n     */\r\n    baseValue() {\r\n        const min = Math.min(this.getPrivate(\"minFinal\", -Infinity), this.getPrivate(\"selectionMin\", -Infinity));\r\n        const max = Math.max(this.getPrivate(\"maxFinal\", Infinity), this.getPrivate(\"selectionMax\", Infinity));\r\n        let baseValue = this.get(\"baseValue\", 0);\r\n        if (baseValue < min) {\r\n            baseValue = min;\r\n        }\r\n        if (baseValue > max) {\r\n            baseValue = max;\r\n        }\r\n        return baseValue;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    cellEndValue(value) {\r\n        return value;\r\n    }\r\n    fixSmallStep(step) {\r\n        // happens because of floating point error\r\n        if (1 + step === 1) {\r\n            step *= 2;\r\n            return this.fixSmallStep(step);\r\n        }\r\n        return step;\r\n    }\r\n    _fixMin(min) {\r\n        return min;\r\n    }\r\n    _fixMax(max) {\r\n        return max;\r\n    }\r\n    _calculateTotals() {\r\n        if (this.get(\"calculateTotals\")) {\r\n            let series = this.series[0];\r\n            if (series) {\r\n                let startIndex = series.startIndex();\r\n                if (series.dataItems.length > 0) {\r\n                    if (startIndex > 0) {\r\n                        startIndex--;\r\n                    }\r\n                    let endIndex = series.endIndex();\r\n                    if (endIndex < series.dataItems.length) {\r\n                        endIndex++;\r\n                    }\r\n                    let field;\r\n                    let vc;\r\n                    if (series.get(\"yAxis\") == this) {\r\n                        field = \"valueY\";\r\n                        vc = \"vcy\";\r\n                    }\r\n                    else if (series.get(\"xAxis\") == this) {\r\n                        field = \"valueX\";\r\n                        vc = \"vcx\";\r\n                    }\r\n                    let fieldWorking = field + \"Working\";\r\n                    if (field) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            let sum = 0;\r\n                            let total = 0;\r\n                            $array.each(this.series, (series) => {\r\n                                if (!series.get(\"excludeFromTotal\")) {\r\n                                    let dataItem = series.dataItems[i];\r\n                                    if (dataItem) {\r\n                                        let value = dataItem.get(fieldWorking) * series.get(vc);\r\n                                        if (!$type.isNaN(value)) {\r\n                                            sum += value;\r\n                                            total += Math.abs(value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                            $array.each(this.series, (series) => {\r\n                                if (!series.get(\"excludeFromTotal\")) {\r\n                                    let dataItem = series.dataItems[i];\r\n                                    if (dataItem) {\r\n                                        let value = dataItem.get(fieldWorking) * series.get(vc);\r\n                                        if (!$type.isNaN(value)) {\r\n                                            dataItem.set((field + \"Total\"), total);\r\n                                            dataItem.set((field + \"Sum\"), sum);\r\n                                            dataItem.set((field + \"TotalPercent\"), value / total * 100);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _getSelectionMinMax() {\r\n        const min = this.getPrivate(\"minFinal\");\r\n        const max = this.getPrivate(\"maxFinal\");\r\n        const minDefined = this.get(\"min\");\r\n        const maxDefined = this.get(\"max\");\r\n        let extraMin = this.get(\"extraMin\", 0);\r\n        let extraMax = this.get(\"extraMax\", 0);\r\n        if (this.get(\"logarithmic\")) {\r\n            if (this.get(\"extraMin\") == null) {\r\n                extraMin = 0.1;\r\n            }\r\n            if (this.get(\"extraMax\") == null) {\r\n                extraMax = 0.2;\r\n            }\r\n        }\r\n        const gridCount = this.get(\"renderer\").gridCount();\r\n        const selectionStrictMinMax = this.get(\"strictMinMaxSelection\");\r\n        const strictMinMax = this.get(\"strictMinMax\");\r\n        if ($type.isNumber(min) && $type.isNumber(max)) {\r\n            let selectionMin = max;\r\n            let selectionMax = min;\r\n            $array.each(this.series, (series) => {\r\n                if (!series.get(\"ignoreMinMax\")) {\r\n                    let seriesMin;\r\n                    let seriesMax;\r\n                    const outOfSelection = series.getPrivate(\"outOfSelection\");\r\n                    if (series.get(\"xAxis\") === this) {\r\n                        if (!outOfSelection) {\r\n                            seriesMin = series.getPrivate(\"selectionMinX\", series.getPrivate(\"minX\"));\r\n                            seriesMax = series.getPrivate(\"selectionMaxX\", series.getPrivate(\"maxX\"));\r\n                        }\r\n                    }\r\n                    else if (series.get(\"yAxis\") === this) {\r\n                        if (!outOfSelection) {\r\n                            seriesMin = series.getPrivate(\"selectionMinY\", series.getPrivate(\"minY\"));\r\n                            seriesMax = series.getPrivate(\"selectionMaxY\", series.getPrivate(\"maxY\"));\r\n                        }\r\n                    }\r\n                    if (!series.isHidden() && !series.isShowing()) {\r\n                        if ($type.isNumber(seriesMin)) {\r\n                            selectionMin = Math.min(selectionMin, seriesMin);\r\n                        }\r\n                        if ($type.isNumber(seriesMax)) {\r\n                            selectionMax = Math.max(selectionMax, seriesMax);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.axisRanges.each((range) => {\r\n                if (range.get(\"affectsMinMax\")) {\r\n                    let value = range.get(\"value\");\r\n                    if (value != null) {\r\n                        selectionMin = Math.min(selectionMin, value);\r\n                        selectionMax = Math.max(selectionMax, value);\r\n                    }\r\n                    value = range.get(\"endValue\");\r\n                    if (value != null) {\r\n                        selectionMin = Math.min(selectionMin, value);\r\n                        selectionMax = Math.max(selectionMax, value);\r\n                    }\r\n                }\r\n            });\r\n            if (selectionMin > selectionMax) {\r\n                [selectionMin, selectionMax] = [selectionMax, selectionMin];\r\n            }\r\n            if ($type.isNumber(minDefined)) {\r\n                if (strictMinMax) {\r\n                    selectionMin = minDefined;\r\n                }\r\n                else {\r\n                    selectionMin = min;\r\n                }\r\n            }\r\n            else if (strictMinMax) {\r\n                if ($type.isNumber(this._minReal)) {\r\n                    selectionMin = this._minReal;\r\n                }\r\n            }\r\n            if ($type.isNumber(maxDefined)) {\r\n                if (strictMinMax) {\r\n                    selectionMax = maxDefined;\r\n                }\r\n                else {\r\n                    selectionMax = max;\r\n                }\r\n            }\r\n            else if (strictMinMax) {\r\n                if ($type.isNumber(this._maxReal)) {\r\n                    selectionMax = this._maxReal;\r\n                }\r\n            }\r\n            if (selectionMin === selectionMax) {\r\n                selectionMin -= this._deltaMinMax;\r\n                selectionMax += this._deltaMinMax;\r\n                let minMaxStep2 = this._adjustMinMax(selectionMin, selectionMax, gridCount, strictMinMax);\r\n                selectionMin = minMaxStep2.min;\r\n                selectionMax = minMaxStep2.max;\r\n            }\r\n            let selectionMinReal = selectionMin;\r\n            let selectionMaxReal = selectionMax;\r\n            selectionMin -= (selectionMax - selectionMin) * extraMin;\r\n            selectionMax += (selectionMax - selectionMin) * extraMax;\r\n            let minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount);\r\n            selectionMin = minMaxStep.min;\r\n            selectionMax = minMaxStep.max;\r\n            selectionMin = $math.fitToRange(selectionMin, min, max);\r\n            selectionMax = $math.fitToRange(selectionMax, min, max);\r\n            // do it for the second time !important\t\t\t\r\n            minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n            if (!strictMinMax) {\r\n                selectionMin = minMaxStep.min;\r\n                selectionMax = minMaxStep.max;\r\n            }\r\n            const syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                minMaxStep = this._syncAxes(selectionMin, selectionMax, minMaxStep.step, syncWithAxis.getPrivate(\"selectionMinFinal\", syncWithAxis.getPrivate(\"minFinal\", 0)), syncWithAxis.getPrivate(\"selectionMaxFinal\", syncWithAxis.getPrivate(\"maxFinal\", 1)), syncWithAxis.getPrivate(\"selectionStepFinal\", syncWithAxis.getPrivate(\"step\", 1)));\r\n                selectionMin = minMaxStep.min;\r\n                selectionMax = minMaxStep.max;\r\n            }\r\n            if (strictMinMax) {\r\n                if ($type.isNumber(minDefined)) {\r\n                    selectionMin = Math.max(selectionMin, minDefined);\r\n                }\r\n                if ($type.isNumber(maxDefined)) {\r\n                    selectionMax = Math.min(selectionMax, maxDefined);\r\n                }\r\n            }\r\n            if (selectionStrictMinMax) {\r\n                selectionMin = selectionMinReal - (selectionMax - selectionMin) * extraMin;\r\n                selectionMax = selectionMaxReal + (selectionMax - selectionMin) * extraMax;\r\n            }\r\n            if (this.get(\"logarithmic\")) {\r\n                if (selectionMin <= 0) {\r\n                    selectionMin = selectionMinReal * (1 - Math.min(extraMin, 0.99));\r\n                }\r\n                if (selectionMin < min) {\r\n                    selectionMin = min;\r\n                }\r\n                if (selectionMax > max) {\r\n                    selectionMax = max;\r\n                }\r\n            }\r\n            let len = Math.min(20, Math.ceil(Math.log(this.getPrivate(\"maxZoomFactor\", 100) + 1) / Math.LN10) + 2);\r\n            let start = $math.round(this.valueToFinalPosition(selectionMin), len);\r\n            let end = $math.round(this.valueToFinalPosition(selectionMax), len);\r\n            this.setPrivateRaw(\"selectionMinFinal\", selectionMin);\r\n            this.setPrivateRaw(\"selectionMaxFinal\", selectionMax);\r\n            this.setPrivateRaw(\"selectionStepFinal\", minMaxStep.step);\r\n            this.zoom(start, end);\r\n        }\r\n    }\r\n    _getMinMax() {\r\n        let minDefined = this.get(\"min\");\r\n        let maxDefined = this.get(\"max\");\r\n        let min = Infinity;\r\n        let max = -Infinity;\r\n        let extraMin = this.get(\"extraMin\", 0);\r\n        let extraMax = this.get(\"extraMax\", 0);\r\n        if (this.get(\"logarithmic\")) {\r\n            if (this.get(\"extraMin\") == null) {\r\n                extraMin = 0.1;\r\n            }\r\n            if (this.get(\"extraMax\") == null) {\r\n                extraMax = 0.2;\r\n            }\r\n        }\r\n        let minDiff = Infinity;\r\n        $array.each(this.series, (series) => {\r\n            if (!series.get(\"ignoreMinMax\")) {\r\n                let seriesMin;\r\n                let seriesMax;\r\n                if (series.get(\"xAxis\") === this) {\r\n                    seriesMin = series.getPrivate(\"minX\");\r\n                    seriesMax = series.getPrivate(\"maxX\");\r\n                }\r\n                else if (series.get(\"yAxis\") === this) {\r\n                    seriesMin = series.getPrivate(\"minY\");\r\n                    seriesMax = series.getPrivate(\"maxY\");\r\n                }\r\n                if ($type.isNumber(seriesMin) && $type.isNumber(seriesMax)) {\r\n                    min = Math.min(min, seriesMin);\r\n                    max = Math.max(max, seriesMax);\r\n                    let diff = seriesMax - seriesMin;\r\n                    if (diff <= 0) {\r\n                        diff = Math.abs(seriesMax / 100);\r\n                    }\r\n                    if (diff < minDiff) {\r\n                        minDiff = diff;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.axisRanges.each((range) => {\r\n            if (range.get(\"affectsMinMax\")) {\r\n                let value = range.get(\"value\");\r\n                if (value != null) {\r\n                    min = Math.min(min, value);\r\n                    max = Math.max(max, value);\r\n                }\r\n                value = range.get(\"endValue\");\r\n                if (value != null) {\r\n                    min = Math.min(min, value);\r\n                    max = Math.max(max, value);\r\n                }\r\n            }\r\n        });\r\n        if (this.get(\"logarithmic\")) {\r\n            let treatZeroAs = this.get(\"treatZeroAs\");\r\n            if ($type.isNumber(treatZeroAs)) {\r\n                if (min <= 0) {\r\n                    min = treatZeroAs;\r\n                }\r\n            }\r\n            if (min <= 0) {\r\n                new Error(\"Logarithmic value axis can not have values <= 0.\");\r\n            }\r\n        }\r\n        if (min === 0 && max === 0) {\r\n            max = 0.9;\r\n            min = -0.9;\r\n        }\r\n        if ($type.isNumber(minDefined)) {\r\n            min = minDefined;\r\n        }\r\n        if ($type.isNumber(maxDefined)) {\r\n            max = maxDefined;\r\n        }\r\n        // meaning no min/max found on series/ranges and no min/max was defined\r\n        if (min === Infinity || max === -Infinity) {\r\n            this.setPrivate(\"minFinal\", undefined);\r\n            this.setPrivate(\"maxFinal\", undefined);\r\n            return;\r\n        }\r\n        const initialMin = min;\r\n        const initialMax = max;\r\n        // adapter\r\n        let minAdapted = this.adapters.fold(\"min\", min);\r\n        let maxAdapted = this.adapters.fold(\"max\", max);\r\n        if ($type.isNumber(minAdapted)) {\r\n            min = minAdapted;\r\n        }\r\n        if ($type.isNumber(maxAdapted)) {\r\n            max = maxAdapted;\r\n        }\r\n        // DateAxis does some magic here\r\n        min = this._fixMin(min);\r\n        max = this._fixMax(max);\r\n        // this happens if starLocation and endLocation are 0.5 and DateAxis has only one date\t\t\r\n        if (max - min <= 1 / Math.pow(10, 15)) {\r\n            if (max - min !== 0) {\r\n                this._deltaMinMax = (max - min) / 2;\r\n            }\r\n            else {\r\n                this._getDelta(max);\r\n            }\r\n            min -= this._deltaMinMax;\r\n            max += this._deltaMinMax;\r\n        }\r\n        // add extras\r\n        min -= (max - min) * extraMin;\r\n        max += (max - min) * extraMax;\r\n        if (this.get(\"logarithmic\")) {\r\n            // don't let min go below 0 if real min is >= 0\r\n            if (min < 0 && initialMin >= 0) {\r\n                min = 0;\r\n            }\r\n            // don't let max go above 0 if real max is <= 0\r\n            if (max > 0 && initialMax <= 0) {\r\n                max = 0;\r\n            }\r\n        }\r\n        this._minReal = min;\r\n        this._maxReal = max;\r\n        let strictMinMax = this.get(\"strictMinMax\");\r\n        let strictMinMaxSelection = this.get(\"strictMinMaxSelection\", false);\r\n        if (strictMinMaxSelection) {\r\n            strictMinMax = strictMinMaxSelection;\r\n        }\r\n        let strict = strictMinMax;\r\n        if ($type.isNumber(maxDefined)) {\r\n            strict = true;\r\n        }\r\n        let gridCount = this.get(\"renderer\").gridCount();\r\n        let minMaxStep = this._adjustMinMax(min, max, gridCount, strict);\r\n        min = minMaxStep.min;\r\n        max = minMaxStep.max;\r\n        // do it for the second time with strict true (importat!)\r\n        minMaxStep = this._adjustMinMax(min, max, gridCount, true);\r\n        min = minMaxStep.min;\r\n        max = minMaxStep.max;\r\n        // return min max if strict\r\n        if (strictMinMax) {\r\n            if ($type.isNumber(minDefined)) {\r\n                min = minDefined;\r\n            }\r\n            else {\r\n                min = this._minReal;\r\n            }\r\n            if ($type.isNumber(maxDefined)) {\r\n                max = maxDefined;\r\n            }\r\n            else {\r\n                max = this._maxReal;\r\n            }\r\n            if (max - min <= 0.00000001) {\r\n                min -= this._deltaMinMax;\r\n                max += this._deltaMinMax;\r\n            }\r\n            min -= (max - min) * extraMin;\r\n            max += (max - min) * extraMax;\r\n        }\r\n        minAdapted = this.adapters.fold(\"min\", min);\r\n        maxAdapted = this.adapters.fold(\"max\", max);\r\n        if ($type.isNumber(minAdapted)) {\r\n            min = minAdapted;\r\n        }\r\n        if ($type.isNumber(maxAdapted)) {\r\n            max = maxAdapted;\r\n        }\r\n        if (minDiff == Infinity) {\r\n            minDiff = (max - min);\r\n        }\r\n        // this is to avoid floating point number error\r\n        let decCount = Math.round(Math.abs(Math.log(Math.abs(max - min)) * Math.LOG10E)) + 5;\r\n        min = $math.round(min, decCount);\r\n        max = $math.round(max, decCount);\r\n        const syncWithAxis = this.get(\"syncWithAxis\");\r\n        if (syncWithAxis) {\r\n            minMaxStep = this._syncAxes(min, max, minMaxStep.step, syncWithAxis.getPrivate(\"minFinal\", syncWithAxis.getPrivate(\"min\", 0)), syncWithAxis.getPrivate(\"maxFinal\", syncWithAxis.getPrivate(\"max\", 1)), syncWithAxis.getPrivate(\"step\", 1));\r\n            min = minMaxStep.min;\r\n            max = minMaxStep.max;\r\n        }\r\n        this.setPrivateRaw(\"maxZoomFactor\", Math.max(1, Math.ceil((max - min) / minDiff * this.get(\"maxZoomFactor\", 100))));\r\n        this._fixZoomFactor();\r\n        if (this.get(\"logarithmic\")) {\r\n            this._minLogAdjusted = min;\r\n            min = this._minReal;\r\n            max = this._maxReal;\r\n            if (min <= 0) {\r\n                min = initialMin * (1 - Math.min(extraMin, 0.99));\r\n            }\r\n        }\r\n        if ($type.isNumber(min) && $type.isNumber(max)) {\r\n            if (this.getPrivate(\"minFinal\") !== min || this.getPrivate(\"maxFinal\") !== max) {\r\n                this.setPrivate(\"minFinal\", min);\r\n                this.setPrivate(\"maxFinal\", max);\r\n                this._saveMinMax(min, max);\r\n                const duration = this.get(\"interpolationDuration\", 0);\r\n                const easing = this.get(\"interpolationEasing\");\r\n                this.animatePrivate({ key: \"min\", to: min, duration, easing });\r\n                this.animatePrivate({ key: \"max\", to: max, duration, easing });\r\n            }\r\n        }\r\n    }\r\n    _fixZoomFactor() {\r\n    }\r\n    _getDelta(max) {\r\n        // the number by which we need to raise 10 to get difference\r\n        let exponent = Math.log(Math.abs(max)) * Math.LOG10E;\r\n        // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n        let power = Math.pow(10, Math.floor(exponent));\r\n        // reduce this number by 10 times\r\n        power = power / 10;\r\n        this._deltaMinMax = power;\r\n    }\r\n    _saveMinMax(_min, _max) {\r\n    }\r\n    _adjustMinMax(min, max, gridCount, strictMode) {\r\n        // will fail if 0\r\n        if (gridCount <= 1) {\r\n            gridCount = 1;\r\n        }\r\n        gridCount = Math.round(gridCount);\r\n        let initialMin = min;\r\n        let initialMax = max;\r\n        let difference = max - min;\r\n        // in case min and max is the same, use max\r\n        if (difference === 0) {\r\n            difference = Math.abs(max);\r\n        }\r\n        // the number by which we need to raise 10 to get difference\r\n        let exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n        // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n        let power = Math.pow(10, Math.floor(exponent));\r\n        // reduce this number by 10 times\r\n        power = power / 10;\r\n        let extra = power;\r\n        if (strictMode) {\r\n            extra = 0;\r\n        }\r\n        // round down min\r\n        if (strictMode) {\r\n            min = Math.floor(min / power) * power;\r\n            // round up max\r\n            max = Math.ceil(max / power) * power;\r\n        }\r\n        else {\r\n            min = Math.ceil(min / power) * power - extra;\r\n            // round up max\r\n            max = Math.floor(max / power) * power + extra;\r\n        }\r\n        // don't let min go below 0 if real min is >= 0\r\n        if (min < 0 && initialMin >= 0) {\r\n            min = 0;\r\n        }\r\n        // don't let max go above 0 if real max is <= 0\r\n        if (max > 0 && initialMax <= 0) {\r\n            max = 0;\r\n        }\r\n        exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n        power = Math.pow(10, Math.floor(exponent));\r\n        power = power / 100; // used to be 10 in v4, but this caused issue that there could be limited number of grids with even very small minGridDistance\r\n        // approximate difference between two grid lines\r\n        let step = Math.ceil((difference / gridCount) / power) * power;\r\n        let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n        // the step should divide by  2, 5, and 10.\r\n        let stepDivisor = Math.ceil(step / stepPower); // number 0 - 10\r\n        if (stepDivisor > 5) {\r\n            stepDivisor = 10;\r\n        }\r\n        else if (stepDivisor <= 5 && stepDivisor > 2) {\r\n            stepDivisor = 5;\r\n        }\r\n        // now get real step\r\n        step = Math.ceil(step / (stepPower * stepDivisor)) * stepPower * stepDivisor;\r\n        let maxPrecision = this.get(\"maxPrecision\");\r\n        if ($type.isNumber(maxPrecision)) {\r\n            let ceiledStep = $math.ceil(step, maxPrecision);\r\n            if (maxPrecision < Number.MAX_VALUE && step !== ceiledStep) {\r\n                step = ceiledStep;\r\n            }\r\n        }\r\n        let decCount = 0;\r\n        // in case numbers are smaller than 1\r\n        if (stepPower < 1) {\r\n            // exponent is less then 1 too. Count decimals of exponent\r\n            decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 1;\r\n            // round step\r\n            step = $math.round(step, decCount);\r\n        }\r\n        // final min and max\r\n        let minCount = Math.floor(min / step);\r\n        min = $math.round(step * minCount, decCount);\r\n        let maxCount;\r\n        if (!strictMode) {\r\n            maxCount = Math.ceil(max / step);\r\n        }\r\n        else {\r\n            maxCount = Math.floor(max / step);\r\n        }\r\n        if (maxCount === minCount) {\r\n            maxCount++;\r\n        }\r\n        max = $math.round(step * maxCount, decCount);\r\n        if (max < initialMax) {\r\n            max = max + step;\r\n        }\r\n        if (min > initialMin) {\r\n            min = min - step;\r\n        }\r\n        step = this.fixSmallStep(step);\r\n        return { min: min, max: max, step: step };\r\n    }\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    getTooltipText(position, _adjustPosition) {\r\n        const numberFormat = this.get(\"tooltipNumberFormat\", this.get(\"numberFormat\"));\r\n        const formatter = this.getNumberFormatter();\r\n        const extraDecimals = this.get(\"extraTooltipPrecision\", 0);\r\n        const decimals = this.getPrivate(\"stepDecimalPlaces\", 0) + extraDecimals;\r\n        const value = $math.round(this.positionToValue(position), decimals);\r\n        if (numberFormat) {\r\n            return formatter.format(value, numberFormat);\r\n        }\r\n        else {\r\n            return formatter.format(value, undefined, decimals);\r\n            //label.set(\"text\", this.getNumberFormatter().format(value, undefined, this.getPrivate(\"stepDecimalPlaces\")));\r\n        }\r\n        // //@todo number formatter + tag\r\n        // return $math.round(this.positionToValue(position), this.getPrivate(\"stepDecimalPlaces\")).toString();\r\n    }\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    getSeriesItem(series, position) {\r\n        let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n        let value = this.positionToValue(position);\r\n        let index = undefined;\r\n        let oldDiff;\r\n        $array.each(series.dataItems, (dataItem, i) => {\r\n            const diff = Math.abs(dataItem.get(fieldName) - value);\r\n            if (index === undefined || diff < oldDiff) {\r\n                index = i;\r\n                oldDiff = diff;\r\n            }\r\n        });\r\n        if (index != null) {\r\n            return series.dataItems[index];\r\n        }\r\n    }\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` values.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start value\r\n     * @param  end       End value\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    zoomToValues(start, end, duration) {\r\n        const min = this.getPrivate(\"minFinal\", 0);\r\n        const max = this.getPrivate(\"maxFinal\", 0);\r\n        if (this.getPrivate(\"min\") != null && this.getPrivate(\"max\") != null) {\r\n            this.zoom((start - min) / (max - min), (end - min) / (max - min), duration);\r\n        }\r\n    }\r\n    /**\r\n     * Syncs with a target axis.\r\n     *\r\n     * @param  min  Min\r\n     * @param  max  Max\r\n     * @param  step Step\r\n     */\r\n    _syncAxes(min, max, step, syncMin, syncMax, syncStep) {\r\n        let axis = this.get(\"syncWithAxis\");\r\n        if (axis) {\r\n            let count = Math.round(syncMax - syncMin) / syncStep;\r\n            let currentCount = Math.round((max - min) / step);\r\n            let gridCount = this.get(\"renderer\").gridCount();\r\n            if ($type.isNumber(count) && $type.isNumber(currentCount)) {\r\n                let synced = false;\r\n                let c = 0;\r\n                let diff = (max - min) * 0.01;\r\n                let omin = min;\r\n                let omax = max;\r\n                let ostep = step;\r\n                while (synced != true) {\r\n                    synced = this._checkSync(omin, omax, ostep, count);\r\n                    c++;\r\n                    if (c > 500) {\r\n                        synced = true;\r\n                    }\r\n                    if (!synced) {\r\n                        if (c / 3 == Math.round(c / 3)) {\r\n                            omin = min - diff * c;\r\n                            if (min >= 0 && omin < 0) {\r\n                                omin = 0;\r\n                            }\r\n                        }\r\n                        else {\r\n                            omax = max + diff * c;\r\n                            if (omax <= 0 && omax > 0) {\r\n                                omax = 0;\r\n                            }\r\n                        }\r\n                        let minMaxStep = this._adjustMinMax(omin, omax, gridCount, true);\r\n                        omin = minMaxStep.min;\r\n                        omax = minMaxStep.max;\r\n                        ostep = minMaxStep.step;\r\n                    }\r\n                    else {\r\n                        min = omin;\r\n                        max = omax;\r\n                        step = ostep;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return { min: min, max: max, step: step };\r\n    }\r\n    /**\r\n     * Returns `true` if axis needs to be resunced with some other axis.\r\n     */\r\n    _checkSync(min, max, step, count) {\r\n        let currentCount = (max - min) / step;\r\n        for (let i = 1; i < count; i++) {\r\n            if ($math.round(currentCount / i, 1) == count || currentCount * i == count) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Returns relative position between two grid lines of the axis.\r\n     *\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        let max = this.getPrivate(\"selectionMax\", this.getPrivate(\"max\"));\r\n        let min = this.getPrivate(\"selectionMin\", this.getPrivate(\"min\"));\r\n        if ($type.isNumber(max) && $type.isNumber(min)) {\r\n            return this.getPrivate(\"step\", 1) / (max - min);\r\n        }\r\n        return 0.05;\r\n    }\r\n}\r\nObject.defineProperty(ValueAxis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ValueAxis\"\r\n});\r\nObject.defineProperty(ValueAxis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Axis.classNames.concat([ValueAxis.className])\r\n});\r\n//# sourceMappingURL=ValueAxis.js.map","import { DataItem } from \"../../../core/render/Component\";\r\nimport { ValueAxis } from \"./ValueAxis\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $order from \"../../../core/util/Order\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport * as $time from \"../../../core/util/Time\";\r\n/**\r\n * Creates a date axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/} for more info\r\n * @important\r\n */\r\nexport class DateAxis extends ValueAxis {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_seriesDataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_groupingCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_intervalDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_baseDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_intervalMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_intervalMin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n        super._afterNew();\r\n        this._setBaseInterval(this.get(\"baseInterval\"));\r\n        this.on(\"baseInterval\", () => {\r\n            this._setBaseInterval(this.get(\"baseInterval\"));\r\n        });\r\n    }\r\n    _setBaseInterval(interval) {\r\n        this.setPrivateRaw(\"baseInterval\", interval);\r\n        this._baseDuration = $time.getIntervalDuration(interval);\r\n    }\r\n    _fixZoomFactor() {\r\n        const maxZoomFactor = this.get(\"maxZoomFactor\");\r\n        if (maxZoomFactor != null && maxZoomFactor != Infinity) {\r\n            this.setPrivateRaw(\"maxZoomFactor\", maxZoomFactor);\r\n        }\r\n        else {\r\n            this.setPrivateRaw(\"maxZoomFactor\", Math.round((this.getPrivate(\"max\", 0) - this.getPrivate(\"min\", 0)) / this.baseMainDuration()));\r\n        }\r\n    }\r\n    _groupData() {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (($type.isNumber(min) && $type.isNumber(max))) {\r\n            this._fixZoomFactor();\r\n            const groupInterval = this.getPrivate(\"groupInterval\");\r\n            if (groupInterval) {\r\n                this._setBaseInterval(groupInterval);\r\n            }\r\n            else {\r\n                this._setBaseInterval(this.get(\"baseInterval\"));\r\n            }\r\n            if (this.isDirty(\"groupInterval\")) {\r\n                let groupInterval = this.get(\"groupInterval\");\r\n                if (groupInterval) {\r\n                    this.setRaw(\"groupIntervals\", [groupInterval]);\r\n                    this._handleRangeChange();\r\n                }\r\n            }\r\n            if (this.isDirty(\"groupData\")) {\r\n                if (!this._dataGrouped) {\r\n                    if (this.get(\"groupData\")) {\r\n                        $array.each(this.series, (series) => {\r\n                            this._groupSeriesData(series);\r\n                        });\r\n                        this._handleRangeChange();\r\n                    }\r\n                    else {\r\n                        let baseInterval = this.get(\"baseInterval\");\r\n                        let mainDataSetId = baseInterval.timeUnit + baseInterval.count;\r\n                        $array.each(this.series, (series) => {\r\n                            series.setDataSet(mainDataSetId);\r\n                            series.resetGrouping();\r\n                        });\r\n                        this._setBaseInterval(baseInterval);\r\n                        this.setPrivateRaw(\"groupInterval\", undefined);\r\n                        this.markDirtyExtremes();\r\n                    }\r\n                    this._dataGrouped = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _groupSeriesData(series) {\r\n        if (this.get(\"groupData\") && !series.get(\"groupDataDisabled\")) {\r\n            this._dataGrouped = true; // helps to avoid double grouping\r\n            this._seriesDataGrouped = true;\r\n            // make array of intervals which will be used;\r\n            let intervals = [];\r\n            let baseDuration = this.baseMainDuration();\r\n            let groupIntervals = this.get(\"groupIntervals\");\r\n            if (groupIntervals) { }\r\n            $array.each(groupIntervals, (interval) => {\r\n                let intervalDuration = $time.getIntervalDuration(interval);\r\n                if (intervalDuration > baseDuration) {\r\n                    intervals.push(interval);\r\n                }\r\n            });\r\n            series._dataSets = {};\r\n            const key = this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\");\r\n            let fields;\r\n            const baseAxis = series.get(\"baseAxis\");\r\n            if (series.get(\"xAxis\") === baseAxis) {\r\n                fields = series._valueYFields;\r\n            }\r\n            else if (series.get(\"yAxis\") === baseAxis) {\r\n                fields = series._valueXFields;\r\n            }\r\n            let dataItems = series._mainDataItems;\r\n            let baseInterval = this.get(\"baseInterval\");\r\n            let mainDataSetId = baseInterval.timeUnit + baseInterval.count;\r\n            series._dataSets[mainDataSetId] = dataItems;\r\n            const groupCallback = series.get(\"groupDataCallback\");\r\n            let groupOriginals = series.get(\"groupDataWithOriginals\", false);\r\n            if (groupCallback) {\r\n                groupOriginals = true;\r\n            }\r\n            const firstDay = this._root.locale.firstDayOfWeek;\r\n            const utc = this._root.utc;\r\n            const timezone = this._root.timezone;\r\n            $array.each(intervals, (interval) => {\r\n                let previousTime = -Infinity;\r\n                let dataSetId = interval.timeUnit + interval.count;\r\n                series._dataSets[dataSetId] = [];\r\n                let newDataItem;\r\n                let sum = {};\r\n                let count = {};\r\n                let groupFieldValues = {};\r\n                let workingFields = {};\r\n                $array.each(fields, (field) => {\r\n                    sum[field] = 0;\r\n                    count[field] = 0;\r\n                    groupFieldValues[field] = series.get((field + \"Grouped\"));\r\n                    workingFields[field] = field + \"Working\";\r\n                });\r\n                let intervalDuration = $time.getDuration(interval.timeUnit);\r\n                let firstItem = dataItems[0];\r\n                let firstDate;\r\n                if (firstItem) {\r\n                    firstDate = new Date(dataItems[0].get(key));\r\n                }\r\n                let prevNewDataItem;\r\n                $array.each(dataItems, (dataItem) => {\r\n                    let time = dataItem.get(key);\r\n                    let roundedTime = $time.round(new Date(time), interval.timeUnit, interval.count, firstDay, utc, firstDate, timezone).getTime();\r\n                    let dataContext;\r\n                    if (previousTime < roundedTime - intervalDuration / 24) {\r\n                        dataContext = $object.copy(dataItem.dataContext);\r\n                        newDataItem = new DataItem(series, dataContext, series._makeDataItem(dataContext));\r\n                        newDataItem.setRaw(key, roundedTime);\r\n                        series._dataSets[dataSetId].push(newDataItem);\r\n                        $array.each(fields, (field) => {\r\n                            let value = dataItem.get(field);\r\n                            if ($type.isNumber(value)) {\r\n                                newDataItem.setRaw(field, value);\r\n                                newDataItem.setRaw(workingFields[field], value);\r\n                                count[field] = 1;\r\n                                sum[field] = value;\r\n                            }\r\n                            else {\r\n                                sum[field] = 0;\r\n                                count[field] = 0;\r\n                            }\r\n                        });\r\n                        if (groupOriginals) {\r\n                            newDataItem.set(\"originals\", [dataItem]);\r\n                        }\r\n                        if (groupCallback && prevNewDataItem) {\r\n                            groupCallback(prevNewDataItem, interval);\r\n                        }\r\n                        prevNewDataItem = newDataItem;\r\n                    }\r\n                    else {\r\n                        $array.each(fields, (field) => {\r\n                            let groupKey = groupFieldValues[field];\r\n                            let value = dataItem.get(field);\r\n                            if (value != null) {\r\n                                let currentValue = newDataItem.get(field);\r\n                                switch (groupKey) {\r\n                                    case \"close\":\r\n                                        newDataItem.setRaw(field, value);\r\n                                        break;\r\n                                    case \"sum\":\r\n                                        newDataItem.setRaw(field, currentValue + value);\r\n                                        break;\r\n                                    case \"open\":\r\n                                        break;\r\n                                    case \"low\":\r\n                                        if (value < currentValue) {\r\n                                            newDataItem.setRaw(field, value);\r\n                                        }\r\n                                        break;\r\n                                    case \"high\":\r\n                                        if (value > currentValue) {\r\n                                            newDataItem.setRaw(field, value);\r\n                                        }\r\n                                        break;\r\n                                    case \"average\":\r\n                                        count[field]++;\r\n                                        sum[field] += value;\r\n                                        let average = sum[field] / count[field];\r\n                                        newDataItem.setRaw(field, average);\r\n                                        break;\r\n                                    case \"extreme\":\r\n                                        if (Math.abs(value) > Math.abs(currentValue)) {\r\n                                            newDataItem.setRaw(field, value);\r\n                                        }\r\n                                        break;\r\n                                }\r\n                                newDataItem.setRaw(workingFields[field], newDataItem.get(field));\r\n                                let dataContext = $object.copy(dataItem.dataContext);\r\n                                dataContext[key] = roundedTime;\r\n                                newDataItem.dataContext = dataContext;\r\n                            }\r\n                        });\r\n                        if (groupOriginals) {\r\n                            newDataItem.get(\"originals\").push(dataItem);\r\n                        }\r\n                    }\r\n                    previousTime = roundedTime;\r\n                });\r\n                if (groupCallback && prevNewDataItem) {\r\n                    groupCallback(prevNewDataItem, interval);\r\n                }\r\n            });\r\n            if (series._dataSetId) {\r\n                series.setDataSet(series._dataSetId);\r\n            }\r\n            this.markDirtySize();\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._groupingCalculated = false;\r\n        this._dataGrouped = false;\r\n    }\r\n    /**\r\n     * Returns a time interval axis would group data to for a specified duration.\r\n     *\r\n     * @since 5.2.1\r\n     */\r\n    getGroupInterval(duration) {\r\n        let baseInterval = this.get(\"baseInterval\");\r\n        let groupInterval = $time.chooseInterval(0, duration, this.get(\"groupCount\", Infinity), this.get(\"groupIntervals\"));\r\n        if ($time.getIntervalDuration(groupInterval) < $time.getIntervalDuration(baseInterval)) {\r\n            groupInterval = Object.assign({}, baseInterval);\r\n        }\r\n        return groupInterval;\r\n    }\r\n    /**\r\n     * Return `max` of a specified time interval.\r\n     *\r\n     * Will work only if the axis was grouped to this interval at least once.\r\n     *\r\n     * @since 5.2.1\r\n     * @param   interval  Interval\r\n     * @return            Max\r\n     */\r\n    getIntervalMax(interval) {\r\n        return this._intervalMax[interval.timeUnit + interval.count];\r\n    }\r\n    /**\r\n     * Return `min` of a specified time interval.\r\n     *\r\n     * Will work only if the axis was grouped to this interval at least once.\r\n     *\r\n     * @since 5.2.1\r\n     * @param   interval  Interval\r\n     * @return            Min\r\n     */\r\n    getIntervalMin(interval) {\r\n        return this._intervalMin[interval.timeUnit + interval.count];\r\n    }\r\n    _handleRangeChange() {\r\n        super._handleRangeChange();\r\n        let selectionMin = Math.round(this.getPrivate(\"selectionMin\"));\r\n        let selectionMax = Math.round(this.getPrivate(\"selectionMax\"));\r\n        if ($type.isNumber(selectionMin) && $type.isNumber(selectionMax)) {\r\n            if (this.get(\"endLocation\") == 0) {\r\n                selectionMax += 1;\r\n            }\r\n            if (this.get(\"groupData\") && !this._groupingCalculated) {\r\n                this._groupingCalculated = true;\r\n                let modifiedDifference = (selectionMax - selectionMin) + (this.get(\"startLocation\", 0) + (1 - this.get(\"endLocation\", 1)) * this.baseDuration());\r\n                let groupInterval = this.get(\"groupInterval\");\r\n                if (!groupInterval) {\r\n                    groupInterval = this.getGroupInterval(modifiedDifference);\r\n                }\r\n                let current = this.getPrivate(\"groupInterval\");\r\n                if (groupInterval && (!current || (current.timeUnit !== groupInterval.timeUnit || current.count !== groupInterval.count) || this._seriesDataGrouped)) {\r\n                    this._seriesDataGrouped = false;\r\n                    this.setPrivateRaw(\"groupInterval\", groupInterval);\r\n                    this._setBaseInterval(groupInterval);\r\n                    let newId = groupInterval.timeUnit + groupInterval.count;\r\n                    $array.each(this.series, (series) => {\r\n                        if (series.get(\"baseAxis\") === this) {\r\n                            series.setDataSet(newId);\r\n                        }\r\n                    });\r\n                    this.markDirtyExtremes();\r\n                    this._root.events.once(\"frameended\", () => {\r\n                        this._root.events.once(\"frameended\", () => {\r\n                            const type = \"groupintervalchanged\";\r\n                            if (this.events.isEnabled(type)) {\r\n                                this.events.dispatch(type, { type: type, target: this });\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n            $array.each(this.series, (series) => {\r\n                if (series.get(\"baseAxis\") === this) {\r\n                    let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n                    const start = $array.getSortedIndex(series.dataItems, (dataItem) => {\r\n                        return $order.compare(dataItem.get(fieldName), selectionMin);\r\n                    });\r\n                    let startIndex = start.index;\r\n                    if (startIndex > 0) {\r\n                        startIndex -= 1;\r\n                    }\r\n                    selectionMax += this.baseDuration() * (1 - this.get(\"endLocation\", 1));\r\n                    const end = $array.getSortedIndex(series.dataItems, (dataItem) => {\r\n                        return $order.compare(dataItem.get(fieldName), selectionMax);\r\n                    });\r\n                    let endIndex = end.index;\r\n                    let endIndex2 = endIndex;\r\n                    if (endIndex2 > 1) {\r\n                        endIndex2--;\r\n                    }\r\n                    const firstDataItem = series.dataItems[startIndex];\r\n                    const lastDataItem = series.dataItems[endIndex2];\r\n                    let lastDate;\r\n                    let firstDate;\r\n                    if (firstDataItem) {\r\n                        firstDate = firstDataItem.get(fieldName);\r\n                    }\r\n                    if (lastDataItem) {\r\n                        lastDate = lastDataItem.get(fieldName);\r\n                    }\r\n                    let outOfSelection = false;\r\n                    if (lastDate != null && firstDate != null) {\r\n                        if (lastDate < selectionMin || firstDate > selectionMax) {\r\n                            outOfSelection = true;\r\n                        }\r\n                    }\r\n                    series.setPrivate(\"outOfSelection\", outOfSelection);\r\n                    series.setPrivate(\"startIndex\", startIndex);\r\n                    series.setPrivate(\"endIndex\", endIndex);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _adjustMinMax(min, max, gridCount, _strictMode) {\r\n        return { min: min, max: max, step: (max - min) / gridCount };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    intervalDuration() {\r\n        return this._intervalDuration;\r\n    }\r\n    _saveMinMax(min, max) {\r\n        let groupInterval = this.getPrivate(\"groupInterval\");\r\n        if (!groupInterval) {\r\n            groupInterval = this.get(\"baseInterval\");\r\n        }\r\n        let id = groupInterval.timeUnit + groupInterval.count;\r\n        this._intervalMin[id] = min;\r\n        this._intervalMax[id] = max;\r\n    }\r\n    _getM(timeUnit) {\r\n        if (timeUnit == \"month\" || timeUnit == \"year\" || timeUnit == \"day\") {\r\n            return 1.05;\r\n        }\r\n        return 1.01;\r\n    }\r\n    _prepareAxisItems() {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if ($type.isNumber(min) && $type.isNumber(max)) {\r\n            const selectionMin = Math.round(this.getPrivate(\"selectionMin\"));\r\n            const selectionMax = Math.round(this.getPrivate(\"selectionMax\"));\r\n            const renderer = this.get(\"renderer\");\r\n            const baseInterval = this.getPrivate(\"baseInterval\");\r\n            let value = selectionMin;\r\n            let i = 0;\r\n            const intervals = this.get(\"gridIntervals\");\r\n            let gridInterval = $time.chooseInterval(0, selectionMax - selectionMin, renderer.gridCount(), intervals);\r\n            if ($time.getIntervalDuration(gridInterval) < this.baseDuration()) {\r\n                gridInterval = Object.assign({}, baseInterval);\r\n            }\r\n            const intervalDuration = $time.getIntervalDuration(gridInterval);\r\n            this._intervalDuration = intervalDuration;\r\n            const nextGridUnit = $time.getNextUnit(gridInterval.timeUnit);\r\n            const firstDay = this._root.locale.firstDayOfWeek;\r\n            const utc = this._root.utc;\r\n            const timezone = this._root.timezone;\r\n            value = $time.round(new Date(selectionMin - intervalDuration), gridInterval.timeUnit, gridInterval.count, firstDay, utc, new Date(min), timezone).getTime();\r\n            let previousValue = value - intervalDuration;\r\n            let format;\r\n            const formats = this.get(\"dateFormats\");\r\n            this.setPrivateRaw(\"gridInterval\", gridInterval);\r\n            while (value < selectionMax + intervalDuration) {\r\n                let dataItem;\r\n                if (this.dataItems.length < i + 1) {\r\n                    dataItem = new DataItem(this, undefined, {});\r\n                    this._dataItems.push(dataItem);\r\n                    this.processDataItem(dataItem);\r\n                }\r\n                else {\r\n                    dataItem = this.dataItems[i];\r\n                }\r\n                this._createAssets(dataItem, []);\r\n                if (dataItem.isHidden()) {\r\n                    dataItem.show();\r\n                }\r\n                dataItem.setRaw(\"value\", value);\r\n                let endValue = value + $time.getDuration(gridInterval.timeUnit, gridInterval.count * this._getM(gridInterval.timeUnit));\r\n                endValue = $time.round(new Date(endValue), gridInterval.timeUnit, 1, firstDay, utc, undefined, timezone).getTime();\r\n                dataItem.setRaw(\"endValue\", endValue);\r\n                let date = new Date(value);\r\n                format = formats[gridInterval.timeUnit];\r\n                if (nextGridUnit && this.get(\"markUnitChange\") && $type.isNumber(previousValue)) {\r\n                    if (gridInterval.timeUnit != \"year\") {\r\n                        if ($time.checkChange(value, previousValue, nextGridUnit, utc, timezone)) {\r\n                            format = this.get(\"periodChangeDateFormats\")[gridInterval.timeUnit];\r\n                        }\r\n                    }\r\n                }\r\n                const label = dataItem.get(\"label\");\r\n                if (label) {\r\n                    label.set(\"text\", this._root.dateFormatter.format(date, format));\r\n                }\r\n                this._prepareDataItem(dataItem, gridInterval.count);\r\n                previousValue = value;\r\n                value = endValue;\r\n                if (value == previousValue) {\r\n                    break;\r\n                }\r\n                i++;\r\n            }\r\n            for (let j = i; j < this.dataItems.length; j++) {\r\n                this.dataItems[j].hide();\r\n            }\r\n            $array.each(this.series, (series) => {\r\n                if (series.inited) {\r\n                    series._markDirtyAxes();\r\n                }\r\n            });\r\n        }\r\n        this._updateGhost();\r\n    }\r\n    _updateFinals(start, end) {\r\n        this.setPrivateRaw(\"selectionMinFinal\", this.positionToValue(start));\r\n        this.setPrivateRaw(\"selectionMaxFinal\", this.positionToValue(end));\r\n    }\r\n    _getDelta() {\r\n        this._deltaMinMax = this.baseDuration() / 2;\r\n    }\r\n    _fixMin(min) {\r\n        const baseInterval = this.getPrivate(\"baseInterval\");\r\n        const firstDay = this._root.locale.firstDayOfWeek;\r\n        const timezone = this._root.timezone;\r\n        const utc = this._root.utc;\r\n        const timeUnit = baseInterval.timeUnit;\r\n        let startTime = $time.round(new Date(min), timeUnit, baseInterval.count, firstDay, utc, undefined, timezone).getTime();\r\n        let endTime = startTime + $time.getDuration(timeUnit, baseInterval.count * this._getM(timeUnit));\r\n        endTime = $time.round(new Date(endTime), timeUnit, 1, firstDay, utc, undefined, timezone).getTime();\r\n        return startTime + (endTime - startTime) * this.get(\"startLocation\", 0);\r\n    }\r\n    _fixMax(max) {\r\n        const baseInterval = this.getPrivate(\"baseInterval\");\r\n        const firstDay = this._root.locale.firstDayOfWeek;\r\n        const timezone = this._root.timezone;\r\n        const utc = this._root.utc;\r\n        const timeUnit = baseInterval.timeUnit;\r\n        let startTime = $time.round(new Date(max), timeUnit, baseInterval.count, firstDay, utc, undefined, timezone).getTime();\r\n        let endTime = startTime + $time.getDuration(timeUnit, baseInterval.count * this._getM(timeUnit));\r\n        endTime = $time.round(new Date(endTime), timeUnit, 1, firstDay, utc, undefined, timezone).getTime();\r\n        return startTime + (endTime - startTime) * this.get(\"endLocation\", 1);\r\n    }\r\n    _updateDates(_date) {\r\n    }\r\n    /**\r\n     * Returns a duration of currently active `baseInterval` in milliseconds.\r\n     *\r\n     * @return Duration\r\n     */\r\n    baseDuration() {\r\n        return this._baseDuration;\r\n        //return $time.getIntervalDuration(this.getPrivate(\"baseInterval\"));\r\n    }\r\n    /**\r\n     * Returns a duration of user-defined `baseInterval` in milliseconds.\r\n     *\r\n     * @return Duration\r\n     */\r\n    baseMainDuration() {\r\n        return $time.getIntervalDuration(this.get(\"baseInterval\"));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processSeriesDataItem(dataItem, fields) {\r\n        const baseInterval = this.getPrivate(\"baseInterval\");\r\n        if (!dataItem.open) {\r\n            dataItem.open = {};\r\n        }\r\n        if (!dataItem.close) {\r\n            dataItem.close = {};\r\n        }\r\n        $array.each(fields, (field) => {\r\n            let value = dataItem.get(field);\r\n            if ($type.isNumber(value)) {\r\n                let startTime = dataItem.open[field];\r\n                let endTime = dataItem.close[field];\r\n                // this is done to save cpu, as rounding is quite expensive, especially with timezone set. \r\n                // if value is between prev start and end, it means it didn't change, all is fine.\r\n                if (value >= startTime && value <= endTime) {\r\n                }\r\n                else {\r\n                    const firstDay = this._root.locale.firstDayOfWeek;\r\n                    const utc = this._root.utc;\r\n                    const timezone = this._root.timezone;\r\n                    const timeUnit = baseInterval.timeUnit;\r\n                    const count = baseInterval.count;\r\n                    startTime = $time.round(new Date(value), timeUnit, count, firstDay, utc, undefined, timezone).getTime();\r\n                    endTime = startTime + $time.getDuration(timeUnit, count * this._getM(timeUnit));\r\n                    endTime = $time.round(new Date(endTime), timeUnit, 1, firstDay, utc, undefined, timezone).getTime();\r\n                    dataItem.open[field] = startTime;\r\n                    dataItem.close[field] = endTime;\r\n                }\r\n                this._updateDates(startTime);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionX(dataItem, field, cellLocation, axisLocation) {\r\n        let openValue;\r\n        let closeValue;\r\n        if (dataItem.open && dataItem.close) {\r\n            openValue = dataItem.open[field];\r\n            closeValue = dataItem.close[field];\r\n        }\r\n        else {\r\n            openValue = dataItem.get(field);\r\n            closeValue = openValue;\r\n        }\r\n        let value = openValue + (closeValue - openValue) * cellLocation;\r\n        value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateX(dataItem, field, cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionY(dataItem, field, cellLocation, axisLocation) {\r\n        let openValue;\r\n        let closeValue;\r\n        if (dataItem.open && dataItem.close) {\r\n            openValue = dataItem.open[field];\r\n            closeValue = dataItem.close[field];\r\n        }\r\n        else {\r\n            openValue = dataItem.get(field);\r\n            closeValue = openValue;\r\n        }\r\n        let value = openValue + (closeValue - openValue) * cellLocation;\r\n        value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateY(dataItem, field, cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    roundAxisPosition(position, location) {\r\n        let value = this.positionToValue(position);\r\n        value = value - (location - 0.5) * this.baseDuration();\r\n        let baseInterval = this.getPrivate(\"baseInterval\");\r\n        if (!$type.isNaN(value)) {\r\n            const firstDay = this._root.locale.firstDayOfWeek;\r\n            const timeUnit = baseInterval.timeUnit;\r\n            const utc = this._root.utc;\r\n            const timezone = this._root.timezone;\r\n            const count = baseInterval.count;\r\n            value = $time.round(new Date(value), timeUnit, count, firstDay, utc, new Date(this.getPrivate(\"min\", 0)), timezone).getTime();\r\n            let duration = $time.getDateIntervalDuration(baseInterval, new Date(value), firstDay, utc, timezone);\r\n            if (timezone) {\r\n                value = $time.round(new Date(value + this.baseDuration() * 0.05), timeUnit, count, firstDay, utc, new Date(this.getPrivate(\"min\", 0)), timezone).getTime();\r\n                duration = $time.getDateIntervalDuration(baseInterval, new Date(value + duration * location), firstDay, utc, timezone);\r\n            }\r\n            return this.valueToPosition(value + duration * location);\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * NOTE: Unless `adjustPosition` (2nd parameter) is set to `false`, the method\r\n     * will adjust position by `tooltipIntervalOffset`.\r\n     *\r\n     * @param  position        Position\r\n     * @param  adjustPosition  Adjust position\r\n     * @return                 Tooltip text\r\n     */\r\n    getTooltipText(position, adjustPosition) {\r\n        //@todo number formatter + tag\r\n        if (this.getPrivate(\"min\") != null) {\r\n            let format = this.get(\"tooltipDateFormats\")[this.getPrivate(\"baseInterval\").timeUnit];\r\n            let value = this.positionToValue(position);\r\n            if ($type.isNumber(value)) {\r\n                let date = new Date(value);\r\n                let baseInterval = this.getPrivate(\"baseInterval\");\r\n                let duration = $time.getDateIntervalDuration(baseInterval, date, this._root.locale.firstDayOfWeek, this._root.utc, this._root.timezone);\r\n                if (adjustPosition !== false) {\r\n                    date = new Date(value + this.get(\"tooltipIntervalOffset\", -this.get(\"tooltipLocation\", 0.5)) * duration);\r\n                }\r\n                return this._root.dateFormatter.format(date, this.get(\"tooltipDateFormat\", format));\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    getSeriesItem(series, position, location) {\r\n        let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n        let value = this.positionToValue(position);\r\n        if (location == null) {\r\n            location = 0.5;\r\n        }\r\n        value = value - (location - 0.5) * this.baseDuration();\r\n        const result = $array.getSortedIndex(series.dataItems, (dataItem) => {\r\n            let diValue = 0;\r\n            if (dataItem.open) {\r\n                diValue = dataItem.open[fieldName];\r\n            }\r\n            return $order.compare(diValue, value);\r\n        });\r\n        if (series.get(\"snapTooltip\")) {\r\n            let first = series.dataItems[result.index - 1];\r\n            let second = series.dataItems[result.index];\r\n            if (first && second) {\r\n                if (first.open && second.close) {\r\n                    let open = first.open[fieldName];\r\n                    let close = second.close[fieldName];\r\n                    if (Math.abs(value - open) > Math.abs(value - close)) {\r\n                        return second;\r\n                    }\r\n                }\r\n            }\r\n            if (first) {\r\n                return first;\r\n            }\r\n            if (second) {\r\n                return second;\r\n            }\r\n        }\r\n        else {\r\n            // @todo check if is in range\r\n            const dataItem = series.dataItems[result.index - 1];\r\n            if (dataItem) {\r\n                if (dataItem.open && dataItem.close) {\r\n                    let open = dataItem.open[fieldName];\r\n                    let close = dataItem.close[fieldName];\r\n                    if (value >= open && value <= close) {\r\n                        return dataItem;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    shouldGap(dataItem, nextItem, autoGapCount, fieldName) {\r\n        const value1 = dataItem.get(fieldName);\r\n        const value2 = nextItem.get(fieldName);\r\n        if (value2 - value1 > this.baseDuration() * autoGapCount) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` dates.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start Date\r\n     * @param  end       End Date\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    zoomToDates(start, end, duration) {\r\n        this.zoomToValues(start.getTime(), end.getTime(), duration);\r\n    }\r\n    /**\r\n     * Returns a `Date` object corresponding to specific position within plot\r\n     * area.\r\n     *\r\n     * @param   position  Pposition\r\n     * @return            Date\r\n     */\r\n    positionToDate(position) {\r\n        return new Date(this.positionToValue(position));\r\n    }\r\n    /**\r\n     * Returns a relative position within plot area that corresponds to specific\r\n     * date.\r\n     *\r\n     * @param   date  Date\r\n     * @return        Position\r\n     */\r\n    dateToPosition(date) {\r\n        return this.valueToPosition(date.getTime());\r\n    }\r\n    /**\r\n     * Returns relative position between two grid lines of the axis.\r\n     *\r\n     * @since 5.2.30\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        let max = this.getPrivate(\"selectionMax\", this.getPrivate(\"max\"));\r\n        let min = this.getPrivate(\"selectionMin\", this.getPrivate(\"min\"));\r\n        if ($type.isNumber(max) && $type.isNumber(min)) {\r\n            return this._intervalDuration / (max - min);\r\n        }\r\n        return 0.05;\r\n    }\r\n}\r\nObject.defineProperty(DateAxis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"DateAxis\"\r\n});\r\nObject.defineProperty(DateAxis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: ValueAxis.classNames.concat([DateAxis.className])\r\n});\r\n//# sourceMappingURL=DateAxis.js.map","import { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\n/**\r\n * Used to render horizontal axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nexport class AxisRendererX extends AxisRenderer {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(this._root, { width: p100, isMeasured: false, themeTags: [\"axis\", \"x\", \"thumb\"] })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"x\"]);\r\n        super._afterNew();\r\n        this.setPrivateRaw(\"letter\", \"X\");\r\n        const gridTemplate = this.grid.template;\r\n        gridTemplate.set(\"height\", p100);\r\n        gridTemplate.set(\"width\", 0);\r\n        gridTemplate.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, graphics.height());\r\n        });\r\n        this.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(graphics.width(), 0);\r\n        });\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const axis = this.axis;\r\n        axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n        axis.ghostLabel.set(\"x\", -1000);\r\n        const opposite = \"opposite\";\r\n        const inside = \"inside\";\r\n        if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n            const chart = this.chart;\r\n            const axisChildren = axis.children;\r\n            if (this.get(inside)) {\r\n                axis.addTag(inside);\r\n            }\r\n            else {\r\n                axis.removeTag(inside);\r\n            }\r\n            if (chart) {\r\n                if (this.get(opposite)) {\r\n                    const children = chart.topAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.insertIndex(0, axis);\r\n                    }\r\n                    axis.addTag(opposite);\r\n                    axisChildren.moveValue(this);\r\n                }\r\n                else {\r\n                    const children = chart.bottomAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis);\r\n                    }\r\n                    axis.removeTag(opposite);\r\n                    axisChildren.moveValue(this, 0);\r\n                }\r\n                axis.ghostLabel._applyThemes();\r\n                this.labels.each((label) => {\r\n                    label._applyThemes();\r\n                });\r\n                this.root._markDirtyRedraw();\r\n            }\r\n            axis.markDirtySize();\r\n        }\r\n        this.thumb.setPrivate(\"height\", axis.labelsContainer.height());\r\n    }\r\n    _getPan(point1, point2) {\r\n        return (point2.x - point1.x) / this.width();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position -= this._ls;\r\n        position = position * (end - start) / this._lc;\r\n        if (!this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (!this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start) * this._lc;\r\n        position += this._ls;\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n        const axis = this.axis;\r\n        const parent = axis.parent;\r\n        if (parent) {\r\n            const w = parent.innerWidth();\r\n            this._lc = this.axisLength() / w;\r\n            this._ls = (axis.x() - parent.get(\"paddingLeft\", 0)) / w;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updatePositions() {\r\n        const axis = this.axis;\r\n        const x = axis.x() - $utils.relativeToValue(axis.get(\"centerX\", 0), axis.width()) - axis.parent.get(\"paddingLeft\", 0);\r\n        axis.gridContainer.set(\"x\", x);\r\n        axis.topGridContainer.set(\"x\", x);\r\n        axis.bulletsContainer.set(\"y\", this.y());\r\n        const chart = axis.chart;\r\n        if (chart) {\r\n            const plotContainer = chart.plotContainer;\r\n            const axisHeader = axis.axisHeader;\r\n            let width = axis.get(\"marginLeft\", 0);\r\n            let x = axis.x() - width;\r\n            const parent = axis.parent;\r\n            if (parent) {\r\n                x -= parent.get(\"paddingLeft\", 0);\r\n            }\r\n            if (axisHeader.children.length > 0) {\r\n                width = axis.axisHeader.width();\r\n                axis.set(\"marginLeft\", width + 1);\r\n            }\r\n            else {\r\n                axisHeader.set(\"width\", width);\r\n            }\r\n            axisHeader.setAll({ x: x, y: -1, height: plotContainer.height() + 2 });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis() {\r\n        super.processAxis();\r\n        const axis = this.axis;\r\n        axis.set(\"width\", p100);\r\n        const verticalLayout = this._root.verticalLayout;\r\n        axis.set(\"layout\", verticalLayout);\r\n        axis.labelsContainer.set(\"width\", p100);\r\n        axis.axisHeader.setAll({ layout: verticalLayout });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    axisLength() {\r\n        return this.axis.width();\r\n    }\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    positionToPoint(position) {\r\n        return { x: this.positionToCoordinate(position), y: 0 };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTick(tick, position, endPosition, count) {\r\n        if (tick) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = tick.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = tick.get(\"location\", location);\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            tick.set(\"x\", this.positionToCoordinate(position));\r\n            let length = tick.get(\"length\", 0);\r\n            const inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n            if (this.get(\"opposite\")) {\r\n                tick.set(\"y\", p100);\r\n                if (!inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            else {\r\n                tick.set(\"y\", 0);\r\n                if (inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            tick.set(\"draw\", (display) => {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, length);\r\n            });\r\n            this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLabel(label, position, endPosition, count) {\r\n        if (label) {\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = label.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = label.get(\"location\", location);\r\n            }\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            const inside = label.get(\"inside\", this.get(\"inside\", false));\r\n            const opposite = this.get(\"opposite\");\r\n            if (opposite) {\r\n                if (!inside) {\r\n                    label.set(\"position\", \"relative\");\r\n                    label.set(\"y\", p100);\r\n                }\r\n                else {\r\n                    label.set(\"position\", \"absolute\");\r\n                    label.set(\"y\", 0);\r\n                }\r\n            }\r\n            else {\r\n                if (!inside) {\r\n                    label.set(\"y\", undefined);\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n                else {\r\n                    label.set(\"y\", 0);\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            label.set(\"x\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateGrid(grid, position, endPosition) {\r\n        if (grid) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = grid.get(\"location\", 0.5);\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            grid.set(\"x\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(grid, position, 0, 1);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateBullet(bullet, position, endPosition) {\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                let location = bullet.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location;\r\n                }\r\n                let bulletPosition = this.axis.roundAxisPosition(position, location);\r\n                let previousBullet = this.axis._bullets[bulletPosition];\r\n                let d = -1;\r\n                if (this.get(\"opposite\")) {\r\n                    d = 1;\r\n                }\r\n                if (bullet.get(\"stacked\")) {\r\n                    if (previousBullet) {\r\n                        let previousSprite = previousBullet.get(\"sprite\");\r\n                        if (previousSprite) {\r\n                            sprite.set(\"y\", previousSprite.y() + previousSprite.height() * d);\r\n                        }\r\n                    }\r\n                    else {\r\n                        sprite.set(\"y\", 0);\r\n                    }\r\n                }\r\n                this.axis._bullets[bulletPosition] = bullet;\r\n                sprite.set(\"x\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(sprite, position, 0, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateFill(fill, position, endPosition) {\r\n        if (fill) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            if (!$type.isNumber(endPosition)) {\r\n                endPosition = 1;\r\n            }\r\n            let x0 = this.positionToCoordinate(position);\r\n            let x1 = this.positionToCoordinate(endPosition);\r\n            this.fillDrawMethod(fill, x0, x1);\r\n        }\r\n    }\r\n    fillDrawMethod(fill, x0, x1) {\r\n        fill.set(\"draw\", (display) => {\r\n            //display.drawRect(x0, 0, x1 - x0, this.axis!.gridContainer.height());\r\n            // using for holes, so can not be rectangle\r\n            const h = this.axis.gridContainer.height();\r\n            const w = this.width();\r\n            if (x1 < x0) {\r\n                [x1, x0] = [x0, x1];\r\n            }\r\n            if (x0 > w || x1 < 0) {\r\n                return;\r\n            }\r\n            /*\r\n            const limit = 10000;\r\n\r\n            x0 = Math.max(-limit, x0);\r\n            x1 = Math.min(limit, x1);\r\n            */\r\n            display.moveTo(x0, 0);\r\n            display.lineTo(x1, 0);\r\n            display.lineTo(x1, h);\r\n            display.lineTo(x0, h);\r\n            display.lineTo(x0, 0);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    positionTooltip(tooltip, position) {\r\n        this._positionTooltip(tooltip, { x: this.positionToCoordinate(position), y: 0 });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(tooltip) {\r\n        const inside = this.get(\"inside\");\r\n        const num = 100000;\r\n        let global = this._display.toGlobal({ x: 0, y: 0 });\r\n        let x = global.x;\r\n        let y = 0;\r\n        let w = this.axisLength();\r\n        let h = num;\r\n        let pointerOrientation = \"up\";\r\n        if (this.get(\"opposite\")) {\r\n            if (inside) {\r\n                pointerOrientation = \"up\";\r\n                y = global.y;\r\n                h = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"down\";\r\n                y = global.y - num;\r\n                h = num;\r\n            }\r\n        }\r\n        else {\r\n            if (inside) {\r\n                pointerOrientation = \"down\";\r\n                y = global.y - num;\r\n                h = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"up\";\r\n                y = global.y;\r\n                h = num;\r\n            }\r\n        }\r\n        const bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n        const oldBounds = tooltip.get(\"bounds\");\r\n        if (!$utils.sameBounds(bounds, oldBounds)) {\r\n            tooltip.set(\"bounds\", bounds);\r\n            tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(AxisRendererX, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRendererX\"\r\n});\r\nObject.defineProperty(AxisRendererX, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: AxisRenderer.classNames.concat([AxisRendererX.className])\r\n});\r\n//# sourceMappingURL=AxisRendererX.js.map","import { __awaiter } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Series } from \"../../../core/render/Series\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * @ignore\r\n */\r\nfunction min(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right < left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction max(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right > left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * A base class for all XY chart series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/} for more info\r\n */\r\nexport class XYSeries extends Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_xField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_axesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_stackDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataSets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_mainContainerMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * A [[Container]] that us used to put series' elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"mainContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A list of axis ranges that affect the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         */\r\n        Object.defineProperty(this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(this, \"_skipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_couldStackTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_reallyStackedTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_stackedSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_aLocationX0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_aLocationX1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_aLocationY0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_aLocationY1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_showBullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueX\",\r\n                \"openValueX\",\r\n                \"lowValueX\",\r\n                \"highValueX\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueY\",\r\n                \"openValueY\",\r\n                \"lowValueY\",\r\n                \"highValueY\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"_valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for full min/max\r\n        Object.defineProperty(this, \"_valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for selection (uses working)\r\n        Object.defineProperty(this, \"__valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"__valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_emptyDataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new DataItem(this, undefined, {})\r\n        });\r\n        Object.defineProperty(this, \"_dataSetId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipFieldX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipFieldY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_posXDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_posYDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.fields.push(\"categoryX\", \"categoryY\", \"openCategoryX\", \"openCategoryY\");\r\n        this.valueFields.push(\"valueX\", \"valueY\", \"openValueX\", \"openValueY\", \"lowValueX\", \"lowValueY\", \"highValueX\", \"highValueY\");\r\n        this._setRawDefault(\"vcx\", 1);\r\n        this._setRawDefault(\"vcy\", 1);\r\n        // this can't go to themes, as data might be parsed before theme\r\n        this._setRawDefault(\"valueXShow\", \"valueXWorking\");\r\n        this._setRawDefault(\"valueYShow\", \"valueYWorking\");\r\n        this._setRawDefault(\"openValueXShow\", \"openValueXWorking\");\r\n        this._setRawDefault(\"openValueYShow\", \"openValueYWorking\");\r\n        this._setRawDefault(\"lowValueXShow\", \"lowValueXWorking\");\r\n        this._setRawDefault(\"lowValueYShow\", \"lowValueYWorking\");\r\n        this._setRawDefault(\"highValueXShow\", \"highValueXWorking\");\r\n        this._setRawDefault(\"highValueYShow\", \"highValueYWorking\");\r\n        this._setRawDefault(\"lowValueXGrouped\", \"low\");\r\n        this._setRawDefault(\"lowValueYGrouped\", \"low\");\r\n        this._setRawDefault(\"highValueXGrouped\", \"high\");\r\n        this._setRawDefault(\"highValueYGrouped\", \"high\");\r\n        super._afterNew();\r\n        this.set(\"maskContent\", true);\r\n        this._disposers.push(this.axisRanges.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (axisRange) => {\r\n                    this._removeAxisRange(axisRange);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeAxisRange(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._processAxisRange(change.value);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n        }));\r\n        this.states.create(\"hidden\", { opacity: 1, visible: false });\r\n        this._makeFieldNames();\r\n    }\r\n    _processAxisRange(axisRange) {\r\n        const container = Container.new(this._root, {});\r\n        axisRange.container = container;\r\n        this.children.push(container);\r\n        axisRange.series = this;\r\n        const axisDataItem = axisRange.axisDataItem;\r\n        axisDataItem.setRaw(\"isRange\", true);\r\n        const axis = axisDataItem.component;\r\n        if (axis) {\r\n            axis._processAxisRange(axisDataItem, [\"range\", \"series\"]);\r\n            const bullet = axisDataItem.get(\"bullet\");\r\n            if (bullet) {\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            }\r\n            const axisFill = axisDataItem.get(\"axisFill\");\r\n            if (axisFill) {\r\n                container.set(\"mask\", axisFill);\r\n            }\r\n            axis._seriesAxisRanges.push(axisDataItem);\r\n        }\r\n    }\r\n    _removeAxisRange(axisRange) {\r\n        const axisDataItem = axisRange.axisDataItem;\r\n        const axis = axisDataItem.component;\r\n        axis.disposeDataItem(axisDataItem);\r\n        $array.remove(axis._seriesAxisRanges, axisDataItem);\r\n        const container = axisRange.container;\r\n        if (container) {\r\n            container.dispose();\r\n        }\r\n    }\r\n    _updateFields() {\r\n        super._updateFields();\r\n        this._valueXFields = [];\r\n        this._valueYFields = [];\r\n        this._valueXShowFields = [];\r\n        this._valueYShowFields = [];\r\n        this.__valueXShowFields = [];\r\n        this.__valueYShowFields = [];\r\n        if (this.valueXFields) {\r\n            $array.each(this.valueXFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueXFields.push(key);\r\n                    let field = this.get((key + \"Show\"));\r\n                    this.__valueXShowFields.push(field);\r\n                    if (field.indexOf(\"Working\") != -1) {\r\n                        this._valueXShowFields.push(field.split(\"Working\")[0]);\r\n                    }\r\n                    else {\r\n                        this._valueXShowFields.push(field);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (this.valueYFields) {\r\n            $array.each(this.valueYFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueYFields.push(key);\r\n                    let field = this.get((key + \"Show\"));\r\n                    this.__valueYShowFields.push(field);\r\n                    if (field.indexOf(\"Working\") != -1) {\r\n                        this._valueYShowFields.push(field.split(\"Working\")[0]);\r\n                    }\r\n                    else {\r\n                        this._valueYShowFields.push(field);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart.series.removeValue(this);\r\n        }\r\n        $array.removeFirst(this.get(\"xAxis\").series, this);\r\n        $array.removeFirst(this.get(\"yAxis\").series, this);\r\n    }\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    _min(key, value) {\r\n        let newValue = min(this.getPrivate(key), value);\r\n        this.setPrivate(key, newValue);\r\n    }\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    _max(key, value) {\r\n        let newValue = max(this.getPrivate(key), value);\r\n        this.setPrivate(key, newValue);\r\n    }\r\n    _shouldMakeBullet(dataItem) {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        if (!xAxis.inited || !yAxis.inited) {\r\n            return false;\r\n        }\r\n        const minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n        if (minBulletDistance > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            let count = endIndex - startIndex;\r\n            if (xAxis == baseAxis) {\r\n                if (xAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\r\n                    return false;\r\n                }\r\n            }\r\n            else if (yAxis == baseAxis) {\r\n                if (yAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        if (dataItem.get(this._xField) != null && dataItem.get(this._yField) != null) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    _makeFieldNames() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const xName = xAxis.getPrivate(\"name\");\r\n        const xCapName = $utils.capitalizeFirst(xName);\r\n        const yName = yAxis.getPrivate(\"name\");\r\n        const yCapName = $utils.capitalizeFirst(yName);\r\n        const xLetter = xAxis.get(\"renderer\").getPrivate(\"letter\");\r\n        const yLetter = yAxis.get(\"renderer\").getPrivate(\"letter\");\r\n        const open = \"open\";\r\n        const low = \"low\";\r\n        const high = \"high\";\r\n        const show = \"Show\";\r\n        if (xAxis.className === \"ValueAxis\") {\r\n            this._xField = this.get((xName + xLetter + show));\r\n            this._xOpenField = this.get((open + xCapName + xLetter + show));\r\n            this._xLowField = this.get((low + xCapName + xLetter + show));\r\n            this._xHighField = this.get((high + xCapName + xLetter + show));\r\n        }\r\n        else {\r\n            this._xField = (xName + xLetter);\r\n            this._xOpenField = (open + xCapName + xLetter);\r\n            this._xLowField = (low + xCapName + xLetter);\r\n            this._xHighField = (high + xCapName + xLetter);\r\n        }\r\n        if (yAxis.className === \"ValueAxis\") {\r\n            this._yField = this.get((yName + yLetter + show));\r\n            this._yOpenField = this.get((open + yCapName + yLetter + show));\r\n            this._yLowField = this.get((low + yCapName + yLetter + show));\r\n            this._yHighField = this.get((high + yCapName + yLetter + show));\r\n        }\r\n        else {\r\n            this._yField = (yName + yLetter);\r\n            this._yOpenField = (open + yCapName + yLetter);\r\n            this._yLowField = (low + yCapName + yLetter);\r\n            this._yHighField = (high + yCapName + yLetter);\r\n        }\r\n    }\r\n    _fixVC() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const hiddenState = this.states.lookup(\"hidden\");\r\n        const sequencedInterpolation = this.get(\"sequencedInterpolation\");\r\n        if (hiddenState) {\r\n            let value = 0;\r\n            if (sequencedInterpolation) {\r\n                value = 0.999999999999; // makes animate, good for stacked\r\n            }\r\n            if (xAxis === baseAxis) {\r\n                hiddenState.set(\"vcy\", value);\r\n            }\r\n            else if (yAxis === baseAxis) {\r\n                hiddenState.set(\"vcx\", value);\r\n            }\r\n            else {\r\n                hiddenState.set(\"vcy\", value);\r\n                hiddenState.set(\"vcx\", value);\r\n            }\r\n        }\r\n    }\r\n    _handleMaskBullets() {\r\n        if (this.isDirty(\"maskBullets\")) {\r\n            this.bulletsContainer.set(\"maskContent\", this.get(\"maskBullets\"));\r\n        }\r\n    }\r\n    _fixPosition() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        this.set(\"x\", xAxis.x() - $utils.relativeToValue(xAxis.get(\"centerX\", 0), xAxis.width()) - xAxis.parent.get(\"paddingLeft\", 0));\r\n        this.set(\"y\", yAxis.y() - $utils.relativeToValue(yAxis.get(\"centerY\", 0), yAxis.height()) - yAxis.parent.get(\"paddingTop\", 0));\r\n        this.bulletsContainer.set(\"y\", this.y());\r\n        this.bulletsContainer.set(\"x\", this.x());\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"valueYShow\") || this.isDirty(\"valueXShow\") || this.isDirty(\"openValueYShow\") || this.isDirty(\"openValueXShow\") || this.isDirty(\"lowValueYShow\") || this.isDirty(\"lowValueXShow\") || this.isDirty(\"highValueYShow\") || this.isDirty(\"highValueXShow\")) {\r\n            this._updateFields();\r\n            this._makeFieldNames();\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isDirty(\"xAxis\") || this.isDirty(\"yAxis\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        this.set(\"width\", this.get(\"xAxis\").width());\r\n        this.set(\"height\", this.get(\"yAxis\").height());\r\n        this._handleMaskBullets();\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const tooltipPositionX = this.get(\"tooltipPositionX\");\r\n        let tooltipFieldX;\r\n        switch (tooltipPositionX) {\r\n            case \"open\":\r\n                tooltipFieldX = this._xOpenField;\r\n                break;\r\n            case \"low\":\r\n                tooltipFieldX = this._xLowField;\r\n                break;\r\n            case \"high\":\r\n                tooltipFieldX = this._xHighField;\r\n                break;\r\n            default:\r\n                tooltipFieldX = this._xField;\r\n        }\r\n        this._tooltipFieldX = tooltipFieldX;\r\n        const tooltipPositionY = this.get(\"tooltipPositionY\");\r\n        let tooltipFieldY;\r\n        switch (tooltipPositionY) {\r\n            case \"open\":\r\n                tooltipFieldY = this._yOpenField;\r\n                break;\r\n            case \"low\":\r\n                tooltipFieldY = this._yLowField;\r\n                break;\r\n            case \"high\":\r\n                tooltipFieldY = this._yHighField;\r\n                break;\r\n            default:\r\n                tooltipFieldY = this._yField;\r\n        }\r\n        this._tooltipFieldY = tooltipFieldY;\r\n        if (this.isDirty(\"baseAxis\")) {\r\n            this._fixVC();\r\n        }\r\n        this._fixPosition();\r\n        const stacked = this.get(\"stacked\");\r\n        if (this.isDirty(\"stacked\")) {\r\n            if (stacked) {\r\n                if (this._valuesDirty && !this._dataProcessed) {\r\n                }\r\n                else {\r\n                    this._stack();\r\n                }\r\n            }\r\n            else {\r\n                this._unstack();\r\n            }\r\n        }\r\n        if (this._valuesDirty && !this._dataProcessed) {\r\n            this._dataProcessed = true;\r\n            if (stacked) {\r\n                this._stack();\r\n            }\r\n            $array.each(this.dataItems, (dataItem) => {\r\n                $array.each(this._valueXShowFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        if (stacked) {\r\n                            value += this.getStackedXValue(dataItem, key);\r\n                        }\r\n                        this._min(\"minX\", value);\r\n                        this._max(\"maxX\", value);\r\n                    }\r\n                });\r\n                $array.each(this._valueYShowFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        if (stacked) {\r\n                            value += this.getStackedYValue(dataItem, key);\r\n                        }\r\n                        this._min(\"minY\", value);\r\n                        this._max(\"maxY\", value);\r\n                    }\r\n                });\r\n                xAxis.processSeriesDataItem(dataItem, this._valueXFields);\r\n                yAxis.processSeriesDataItem(dataItem, this._valueYFields);\r\n            });\r\n            xAxis._seriesValuesDirty = true;\r\n            yAxis._seriesValuesDirty = true;\r\n            if (!this.get(\"ignoreMinMax\")) {\r\n                if (this.isPrivateDirty(\"minX\") || this.isPrivateDirty(\"maxX\")) {\r\n                    xAxis.markDirtyExtremes();\r\n                }\r\n                if (this.isPrivateDirty(\"minY\") || this.isPrivateDirty(\"maxY\")) {\r\n                    yAxis.markDirtyExtremes();\r\n                }\r\n            }\r\n            this._markStakedDirtyStack();\r\n            //this.updateLegendMarker(undefined); // causes legend marker to change color instantly when on\r\n            if (!this.get(\"tooltipDataItem\")) {\r\n                this.updateLegendValue(undefined);\r\n            }\r\n        }\r\n        if (this.isDirty(\"vcx\") || this.isDirty(\"vcy\")) {\r\n            this._markStakedDirtyStack();\r\n        }\r\n        if (!this._dataGrouped) {\r\n            xAxis._groupSeriesData(this);\r\n            yAxis._groupSeriesData(this);\r\n            this._dataGrouped = true;\r\n        }\r\n        if (this._valuesDirty || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"endIndex\") || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            let minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n            if (minBulletDistance > 0 && baseAxis) {\r\n                if (baseAxis.get(\"renderer\").axisLength() / (endIndex - startIndex) > minBulletDistance) {\r\n                    this._showBullets = true;\r\n                }\r\n                else {\r\n                    this._showBullets = false;\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty || this._valuesDirty) && !this._selectionProcessed) {\r\n                this._selectionProcessed = true;\r\n                const vcx = this.get(\"vcx\", 1);\r\n                const vcy = this.get(\"vcy\", 1);\r\n                const stacked = this.get(\"stacked\", false);\r\n                const outOfSelection = this.getPrivate(\"outOfSelection\");\r\n                if (baseAxis === xAxis || !baseAxis) {\r\n                    yAxis._calculateTotals();\r\n                    this.setPrivateRaw(\"selectionMinY\", undefined);\r\n                    this.setPrivateRaw(\"selectionMaxY\", undefined);\r\n                    if (!outOfSelection) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            this.processYSelectionDataItem(this.dataItems[i], vcy, stacked);\r\n                        }\r\n                    }\r\n                    else {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                }\r\n                if (baseAxis === yAxis || !baseAxis) {\r\n                    xAxis._calculateTotals();\r\n                    this.setPrivateRaw(\"selectionMinX\", undefined);\r\n                    this.setPrivateRaw(\"selectionMaxX\", undefined);\r\n                    if (!outOfSelection) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            this.processXSelectionDataItem(this.dataItems[i], vcx, stacked);\r\n                        }\r\n                    }\r\n                    else {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                }\r\n                if (baseAxis === xAxis || !baseAxis) {\r\n                    if (this.get(\"valueYShow\") !== \"valueYWorking\") {\r\n                        const selectionMinY = this.getPrivate(\"selectionMinY\");\r\n                        if (selectionMinY != null) {\r\n                            this.setPrivateRaw(\"minY\", selectionMinY);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                        const selectionMaxY = this.getPrivate(\"selectionMaxY\");\r\n                        if (selectionMaxY != null) {\r\n                            this.setPrivateRaw(\"maxY\", selectionMaxY);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                if (baseAxis === yAxis || !baseAxis) {\r\n                    if (this.get(\"valueXShow\") !== \"valueXWorking\") {\r\n                        const selectionMinX = this.getPrivate(\"selectionMinX\");\r\n                        if (selectionMinX != null) {\r\n                            this.setPrivateRaw(\"minX\", selectionMinX);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                        const selectionMaxX = this.getPrivate(\"selectionMaxX\");\r\n                        if (selectionMaxX != null) {\r\n                            this.setPrivateRaw(\"maxX\", selectionMaxX);\r\n                            xAxis.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                if (this.isPrivateDirty(\"selectionMinX\") || this.isPrivateDirty(\"selectionMaxX\")) {\r\n                    xAxis.markDirtySelectionExtremes();\r\n                }\r\n                if (this.isPrivateDirty(\"selectionMinY\") || this.isPrivateDirty(\"selectionMaxY\")) {\r\n                    yAxis.markDirtySelectionExtremes();\r\n                }\r\n                // this.updateLegendValue(undefined); flickers while panning\r\n            }\r\n        }\r\n    }\r\n    _makeRangeMask() {\r\n        if (this.axisRanges.length > 0) {\r\n            let mainContainerMask = this._mainContainerMask;\r\n            if (mainContainerMask == null) {\r\n                mainContainerMask = this.children.push(Graphics.new(this._root, {}));\r\n                this._mainContainerMask = mainContainerMask;\r\n                mainContainerMask.set(\"draw\", (display, target) => {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        const w = this._root.container.width();\r\n                        const h = this._root.container.height();\r\n                        display.moveTo(-w, -h);\r\n                        display.lineTo(-w, h * 2);\r\n                        display.lineTo(w * 2, h * 2);\r\n                        display.lineTo(w * 2, -h);\r\n                        display.lineTo(-w, -h);\r\n                        this.axisRanges.each((axisRange) => {\r\n                            const fill = axisRange.axisDataItem.get(\"axisFill\");\r\n                            if (parent) {\r\n                                if (fill) {\r\n                                    let draw = fill.get(\"draw\");\r\n                                    if (draw) {\r\n                                        draw(display, target);\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                    this.mainContainer._display.mask = mainContainerMask._display;\r\n                });\r\n            }\r\n            mainContainerMask.markDirty();\r\n            mainContainerMask._markDirtyKey(\"fill\");\r\n        }\r\n        else {\r\n            this.mainContainer._display.mask = null;\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        // save for performance\r\n        this._x = this.x();\r\n        this._y = this.y();\r\n        this._makeRangeMask();\r\n    }\r\n    _stack() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            const seriesIndex = chart.series.indexOf(this);\r\n            this._couldStackTo = [];\r\n            if (seriesIndex > 0) {\r\n                let series;\r\n                for (let i = seriesIndex - 1; i >= 0; i--) {\r\n                    series = chart.series.getIndex(i);\r\n                    if (series.get(\"xAxis\") === this.get(\"xAxis\") && series.get(\"yAxis\") === this.get(\"yAxis\") && series.className === this.className) {\r\n                        this._couldStackTo.push(series);\r\n                        if (!series.get(\"stacked\")) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._stackDataItems();\r\n        }\r\n    }\r\n    _unstack() {\r\n        $object.each(this._reallyStackedTo, (_key, value) => {\r\n            delete (value._stackedSeries[this.uid]);\r\n        });\r\n        this._reallyStackedTo = {};\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            dataItem.setRaw(\"stackToItemY\", undefined);\r\n            dataItem.setRaw(\"stackToItemX\", undefined);\r\n        });\r\n    }\r\n    _stackDataItems() {\r\n        // this works only with the same number of data @todo: search by date/category?\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        let field;\r\n        let stackToItemKey;\r\n        if (baseAxis === xAxis) {\r\n            field = \"valueY\";\r\n            stackToItemKey = \"stackToItemY\";\r\n        }\r\n        else if (baseAxis === yAxis) {\r\n            field = \"valueX\";\r\n            stackToItemKey = \"stackToItemX\";\r\n        }\r\n        let len = this._couldStackTo.length;\r\n        let index = 0;\r\n        const stackToNegative = this.get(\"stackToNegative\");\r\n        this._reallyStackedTo = {};\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            for (let s = 0; s < len; s++) {\r\n                let stackToSeries = this._couldStackTo[s];\r\n                let stackToItem = stackToSeries.dataItems[index];\r\n                let value = dataItem.get(field);\r\n                if (stackToItem) {\r\n                    let stackValue = stackToItem.get(field);\r\n                    if (stackToNegative) {\r\n                        if ($type.isNumber(value)) {\r\n                            if ($type.isNumber(stackValue)) {\r\n                                if (value >= 0 && stackValue >= 0) {\r\n                                    dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                    this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                    stackToSeries._stackedSeries[this.uid] = this;\r\n                                    break;\r\n                                }\r\n                                if (value < 0 && stackValue < 0) {\r\n                                    dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                    this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                    stackToSeries._stackedSeries[this.uid] = this;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            break;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if ($type.isNumber(value) && $type.isNumber(stackValue)) {\r\n                            dataItem.setRaw(stackToItemKey, stackToItem);\r\n                            this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                            stackToSeries._stackedSeries[this.uid] = this;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            index++;\r\n        });\r\n    }\r\n    processXSelectionDataItem(dataItem, vcx, stacked) {\r\n        $array.each(this.__valueXShowFields, (key) => {\r\n            let value = dataItem.get(key);\r\n            if (value != null) {\r\n                if (stacked) {\r\n                    value += this.getStackedXValueWorking(dataItem, key);\r\n                }\r\n                this._min(\"selectionMinX\", value);\r\n                this._max(\"selectionMaxX\", value * vcx);\r\n            }\r\n        });\r\n    }\r\n    processYSelectionDataItem(dataItem, vcy, stacked) {\r\n        $array.each(this.__valueYShowFields, (key) => {\r\n            let value = dataItem.get(key);\r\n            if (value != null) {\r\n                if (stacked) {\r\n                    value += this.getStackedYValueWorking(dataItem, key);\r\n                }\r\n                this._min(\"selectionMinY\", value);\r\n                this._max(\"selectionMaxY\", value * vcy);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedYValueWorking(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            const stackedToSeries = stackToItem.component;\r\n            return stackToItem.get(key, 0) * stackedToSeries.get(\"vcy\", 1) + this.getStackedYValueWorking(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedXValueWorking(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            const stackedToSeries = stackToItem.component;\r\n            return stackToItem.get(key, 0) * stackedToSeries.get(\"vcx\", 1) + this.getStackedXValueWorking(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedYValue(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            return stackToItem.get(key, 0) + this.getStackedYValue(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedXValue(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            return stackToItem.get(key, 0) + this.getStackedXValue(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    createLegendMarker(_dataItem) {\r\n        this.updateLegendMarker();\r\n    }\r\n    _markDirtyAxes() {\r\n        this._axesDirty = true;\r\n        this.markDirty();\r\n    }\r\n    _markDataSetDirty() {\r\n        this._afterDataChange();\r\n        this._valuesDirty = true;\r\n        this._dataProcessed = false;\r\n        this._aggregatesCalculated = false;\r\n        this.markDirty();\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._axesDirty = false;\r\n        this._selectionProcessed = false;\r\n        this._stackDirty = false;\r\n        this._dataProcessed = false;\r\n    }\r\n    _positionBullet(bullet) {\r\n        let sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            let dataItem = sprite.dataItem;\r\n            let locationX = bullet.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n            let locationY = bullet.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n            let xAxis = this.get(\"xAxis\");\r\n            let yAxis = this.get(\"yAxis\");\r\n            const positionX = xAxis.getDataItemPositionX(dataItem, this._xField, locationX, this.get(\"vcx\", 1));\r\n            const positionY = yAxis.getDataItemPositionY(dataItem, this._yField, locationY, this.get(\"vcy\", 1));\r\n            let point = this.getPoint(positionX, positionY);\r\n            let left = dataItem.get(\"left\", point.x);\r\n            let right = dataItem.get(\"right\", point.x);\r\n            let top = dataItem.get(\"top\", point.y);\r\n            let bottom = dataItem.get(\"bottom\", point.y);\r\n            if (this._shouldShowBullet(positionX, positionY)) {\r\n                if (!bullet.getPrivate(\"hidden\")) {\r\n                    sprite.setPrivate(\"visible\", true);\r\n                }\r\n                else {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n                let w = right - left;\r\n                let h = bottom - top;\r\n                if (sprite.isType(\"Label\")) {\r\n                    sprite.setPrivate(\"maxWidth\", Math.abs(w));\r\n                    sprite.setPrivate(\"maxHeight\", Math.abs(h));\r\n                }\r\n                let x = left + w * locationX;\r\n                let y = bottom - h * locationY;\r\n                sprite.set(\"x\", x);\r\n                sprite.set(\"y\", y);\r\n            }\r\n            else {\r\n                sprite.setPrivate(\"visible\", false);\r\n            }\r\n        }\r\n    }\r\n    _shouldShowBullet(_positionX, _positionY) {\r\n        return this._showBullets;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setDataSet(id) {\r\n        if (this._dataSets[id]) {\r\n            this._handleDataSetChange();\r\n            this._dataItems = this._dataSets[id];\r\n            this._markDataSetDirty();\r\n            this._dataSetId = id;\r\n            const type = \"datasetchanged\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this, id: id });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    resetGrouping() {\r\n        $object.each(this._dataSets, (_key, dataSet) => {\r\n            if (dataSet != this._mainDataItems) {\r\n                $array.each(dataSet, (dataItem) => {\r\n                    this.disposeDataItem(dataItem);\r\n                });\r\n            }\r\n        });\r\n        this._dataSets = {};\r\n        this._dataItems = this.mainDataItems;\r\n    }\r\n    _handleDataSetChange() {\r\n        if (this.bullets.length > 0) {\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                let bullets = dataItem.bullets;\r\n                if (bullets) {\r\n                    $array.each(bullets, (bullet) => {\r\n                        if (bullet) {\r\n                            let sprite = bullet.get(\"sprite\");\r\n                            if (sprite) {\r\n                                sprite.setPrivate(\"visible\", false);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        this._selectionProcessed = false; // for totals to be calculated\r\n    }\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    show(duration) {\r\n        const _super = Object.create(null, {\r\n            show: { get: () => super.show }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._fixVC();\r\n            let promises = [];\r\n            promises.push(_super.show.call(this, duration).then(() => {\r\n                this._isShowing = false;\r\n                let xAxis = this.get(\"xAxis\");\r\n                let yAxis = this.get(\"yAxis\");\r\n                let baseAxis = this.get(\"baseAxis\");\r\n                if (yAxis !== baseAxis) {\r\n                    yAxis.markDirtySelectionExtremes();\r\n                }\r\n                if (xAxis !== baseAxis) {\r\n                    xAxis.markDirtySelectionExtremes();\r\n                }\r\n            }));\r\n            promises.push(this.bulletsContainer.show(duration));\r\n            promises.push(this._sequencedShowHide(true, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    hide(duration) {\r\n        const _super = Object.create(null, {\r\n            hide: { get: () => super.hide }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._fixVC();\r\n            let promises = [];\r\n            promises.push(_super.hide.call(this, duration).then(() => {\r\n                this._isHiding = false;\r\n            }));\r\n            promises.push(this.bulletsContainer.hide(duration));\r\n            promises.push(this._sequencedShowHide(false, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            if (!$type.isNumber(duration)) {\r\n                duration = this.get(\"stateAnimationDuration\", 0);\r\n            }\r\n            const easing = this.get(\"stateAnimationEasing\");\r\n            $array.each(this._valueFields, (key) => {\r\n                promises.push(dataItem.animate({ key: key + \"Working\", to: dataItem.get(key), duration: duration, easing: easing }).waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const hiddenState = this.states.create(\"hidden\", {});\r\n            if (!$type.isNumber(duration)) {\r\n                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n            }\r\n            const easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n            const xAxis = this.get(\"xAxis\");\r\n            const yAxis = this.get(\"yAxis\");\r\n            const baseAxis = this.get(\"baseAxis\");\r\n            const stacked = this.get(\"stacked\");\r\n            if (baseAxis === xAxis || !baseAxis) {\r\n                $array.each(this._valueYFields, (key) => {\r\n                    let min = yAxis.getPrivate(\"min\");\r\n                    let baseValue = yAxis.baseValue();\r\n                    if ($type.isNumber(min) && min > baseValue) {\r\n                        baseValue = min;\r\n                    }\r\n                    if (stacked) {\r\n                        baseValue = 0;\r\n                    }\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                    }\r\n                });\r\n            }\r\n            if (baseAxis === yAxis || !baseAxis) {\r\n                let min = xAxis.getPrivate(\"min\");\r\n                let baseValue = xAxis.baseValue();\r\n                if ($type.isNumber(min) && min > baseValue) {\r\n                    baseValue = min;\r\n                }\r\n                if (stacked) {\r\n                    baseValue = 0;\r\n                }\r\n                $array.each(this._valueXFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _markDirtyStack() {\r\n        this._stackDirty = true;\r\n        this.markDirty();\r\n        this._markStakedDirtyStack();\r\n    }\r\n    _markStakedDirtyStack() {\r\n        const stackedSeries = this._stackedSeries;\r\n        if (stackedSeries) {\r\n            $object.each(stackedSeries, (_key, value) => {\r\n                if (!value._stackDirty) {\r\n                    value._markDirtyStack();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._skipped) {\r\n            this._markDirtyAxes();\r\n            this._skipped = false;\r\n        }\r\n    }\r\n    /**\r\n     * Shows a tooltip for specific data item.\r\n     *\r\n     * @param  dataItem  Data item\r\n     */\r\n    showDataItemTooltip(dataItem) {\r\n        this.updateLegendMarker(dataItem);\r\n        this.updateLegendValue(dataItem);\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            if (!this.isHidden()) {\r\n                tooltip._setDataItem(dataItem);\r\n                if (dataItem) {\r\n                    let locationX = this.get(\"locationX\", 0);\r\n                    let locationY = this.get(\"locationY\", 1);\r\n                    let itemLocationX = dataItem.get(\"locationX\", locationX);\r\n                    let itemLocationY = dataItem.get(\"locationY\", locationY);\r\n                    const xAxis = this.get(\"xAxis\");\r\n                    const yAxis = this.get(\"yAxis\");\r\n                    const vcx = this.get(\"vcx\", 1);\r\n                    const vcy = this.get(\"vcy\", 1);\r\n                    const xPos = xAxis.getDataItemPositionX(dataItem, this._tooltipFieldX, this._aLocationX0 + (this._aLocationX1 - this._aLocationX0) * itemLocationX, vcx);\r\n                    const yPos = yAxis.getDataItemPositionY(dataItem, this._tooltipFieldY, this._aLocationY0 + (this._aLocationY1 - this._aLocationY0) * itemLocationY, vcy);\r\n                    const point = this.getPoint(xPos, yPos);\r\n                    let show = true;\r\n                    $array.each(this._valueFields, (field) => {\r\n                        if (dataItem.get(field) == null) {\r\n                            show = false;\r\n                        }\r\n                    });\r\n                    if (show) {\r\n                        const chart = this.chart;\r\n                        if (chart && chart.inPlot(point)) {\r\n                            tooltip.label.text.markDirtyText();\r\n                            tooltip.set(\"tooltipTarget\", this._getTooltipTarget(dataItem));\r\n                            tooltip.set(\"pointTo\", this._display.toGlobal({ x: point.x, y: point.y }));\r\n                        }\r\n                        else {\r\n                            tooltip._setDataItem(undefined);\r\n                        }\r\n                    }\r\n                    else {\r\n                        tooltip._setDataItem(undefined);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.hideTooltip();\r\n            }\r\n        }\r\n    }\r\n    hideTooltip() {\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.set(\"tooltipTarget\", this);\r\n        }\r\n        return super.hideTooltip();\r\n    }\r\n    _getTooltipTarget(dataItem) {\r\n        if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets && bullets.length > 0) {\r\n                const bullet = bullets[0];\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    return sprite;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        const legendDataItem = this.get(\"legendDataItem\");\r\n        if (legendDataItem) {\r\n            const label = legendDataItem.get(\"label\");\r\n            if (label) {\r\n                let txt = \"\";\r\n                if (dataItem) {\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\")));\r\n                }\r\n                else {\r\n                    label._setDataItem(this._emptyDataItem);\r\n                    txt = this.get(\"legendRangeLabelText\", this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\"))));\r\n                }\r\n                label.set(\"text\", txt);\r\n            }\r\n            const valueLabel = legendDataItem.get(\"valueLabel\");\r\n            if (valueLabel) {\r\n                let txt = \"\";\r\n                if (dataItem) {\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", valueLabel.get(\"text\", \"\"));\r\n                }\r\n                else {\r\n                    valueLabel._setDataItem(this._emptyDataItem);\r\n                    txt = this.get(\"legendRangeValueText\", valueLabel.get(\"text\", \"\"));\r\n                }\r\n                valueLabel.set(\"text\", txt);\r\n            }\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        let text = \"X: {\" + this._xField;\r\n        if (this.get(\"xAxis\").isType(\"DateAxis\")) {\r\n            text += \".formatDate()\";\r\n        }\r\n        text += \"}; Y: {\" + this._yField;\r\n        if (this.get(\"yAxis\").isType(\"DateAxis\")) {\r\n            text += \".formatDate()\";\r\n        }\r\n        text += \"}\";\r\n        return text;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getPoint(positionX, positionY) {\r\n        let x = this.get(\"xAxis\").get(\"renderer\").positionToCoordinate(positionX);\r\n        let y = this.get(\"yAxis\").get(\"renderer\").positionToCoordinate(positionY);\r\n        // if coordinate is super big, canvas fails to draw line, capping to some big number (won't make any visual difference)\r\n        let max = 999999999;\r\n        if (y < -max) {\r\n            y = -max;\r\n        }\r\n        if (y > max) {\r\n            y = max;\r\n        }\r\n        if (x < -max) {\r\n            x = -max;\r\n        }\r\n        if (x > max) {\r\n            x = max;\r\n        }\r\n        return { x: x, y: y };\r\n    }\r\n    _shouldInclude(_position) {\r\n        return true;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorHide() {\r\n        this.hideTooltip();\r\n        this.updateLegendValue(undefined);\r\n        this.updateLegendMarker(undefined);\r\n    }\r\n    _afterDataChange() {\r\n        super._afterDataChange();\r\n        this.get(\"xAxis\")._markDirtyKey(\"start\");\r\n        this.get(\"yAxis\")._markDirtyKey(\"start\");\r\n        this.resetExtremes();\r\n    }\r\n    // todo description\r\n    resetExtremes() {\r\n        this.setPrivate(\"selectionMinX\", undefined);\r\n        this.setPrivate(\"selectionMaxX\", undefined);\r\n        this.setPrivate(\"selectionMinY\", undefined);\r\n        this.setPrivate(\"selectionMaxY\", undefined);\r\n        this.setPrivate(\"minX\", undefined);\r\n        this.setPrivate(\"minY\", undefined);\r\n        this.setPrivate(\"maxX\", undefined);\r\n        this.setPrivate(\"maxY\", undefined);\r\n    }\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    createAxisRange(axisDataItem) {\r\n        return this.axisRanges.push({\r\n            axisDataItem: axisDataItem\r\n        });\r\n    }\r\n    /**\r\n     * A list of series's main (ungrouped) data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get mainDataItems() {\r\n        return this._mainDataItems;\r\n    }\r\n}\r\nObject.defineProperty(XYSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYSeries\"\r\n});\r\nObject.defineProperty(XYSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Series.classNames.concat([XYSeries.className])\r\n});\r\n//# sourceMappingURL=XYSeries.js.map","import { __awaiter } from \"tslib\";\r\nimport { XYSeries } from \"./XYSeries\";\r\nimport { Percent } from \"../../../core/util/Percent\";\r\nimport { visualSettings } from \"../../../core/render/Graphics\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\n/**\r\n * Base class for all \"column-based\" series\r\n */\r\nexport class BaseColumnSeries extends XYSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_ph\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_pw\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    _makeGraphics(listTemplate, dataItem) {\r\n        return this.makeColumn(dataItem, listTemplate);\r\n    }\r\n    _makeFieldNames() {\r\n        super._makeFieldNames();\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const categoryAxis = \"CategoryAxis\";\r\n        const valueAxis = \"ValueAxis\";\r\n        if (xAxis.isType(categoryAxis)) {\r\n            if (!this.get(\"openCategoryXField\")) {\r\n                this._xOpenField = this._xField;\r\n            }\r\n        }\r\n        if (xAxis.isType(valueAxis)) {\r\n            if (!this.get(\"openValueXField\")) {\r\n                this._xOpenField = this._xField;\r\n            }\r\n        }\r\n        if (yAxis.isType(categoryAxis)) {\r\n            if (!this.get(\"openCategoryYField\")) {\r\n                this._yOpenField = this._yField;\r\n            }\r\n        }\r\n        if (yAxis.isType(valueAxis)) {\r\n            if (!this.get(\"openValueYField\")) {\r\n                this._yOpenField = this._yField;\r\n            }\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const len = this.dataItems.length;\r\n        const startIndex = Math.max(0, this.startIndex() - 2);\r\n        const endIndex = Math.min(this.endIndex() + 2, len - 1);\r\n        if (xAxis.inited && yAxis.inited) {\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                this._createGraphics(dataItem);\r\n            }\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            this._ph = chart.plotContainer.height();\r\n            this._pw = chart.plotContainer.width();\r\n        }\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const columnsTemplate = this.columns.template;\r\n        if (this.isDirty(\"fill\")) {\r\n            if (columnsTemplate.get(\"fill\") == null) {\r\n                columnsTemplate.set(\"fill\", this.get(\"fill\"));\r\n            }\r\n        }\r\n        if (this.isDirty(\"stroke\")) {\r\n            if (columnsTemplate.get(\"stroke\") == null) {\r\n                columnsTemplate.set(\"stroke\", this.get(\"stroke\"));\r\n            }\r\n        }\r\n        let index = 0;\r\n        let clusterCount = 0;\r\n        let i = 0;\r\n        $array.each(baseAxis.series, (series) => {\r\n            if (series instanceof BaseColumnSeries) {\r\n                const stacked = series.get(\"stacked\");\r\n                if (stacked && i == 0) {\r\n                    clusterCount++;\r\n                }\r\n                if (!stacked && series.get(\"clustered\")) {\r\n                    clusterCount++;\r\n                }\r\n            }\r\n            if (series === this) {\r\n                index = clusterCount - 1;\r\n            }\r\n            i++;\r\n        });\r\n        if (!this.get(\"clustered\")) {\r\n            index = 0;\r\n            clusterCount = 1;\r\n        }\r\n        if (clusterCount === 0) {\r\n            clusterCount = 1;\r\n            index = 0;\r\n        }\r\n        const xRenderer = xAxis.get(\"renderer\");\r\n        const yRenderer = yAxis.get(\"renderer\");\r\n        const cellStartLocation = \"cellStartLocation\";\r\n        const cellEndLocation = \"cellEndLocation\";\r\n        const cellLocationX0 = xRenderer.get(cellStartLocation, 0);\r\n        const cellLocationX1 = xRenderer.get(cellEndLocation, 1);\r\n        const cellLocationY0 = yRenderer.get(cellStartLocation, 0);\r\n        const cellLocationY1 = yRenderer.get(cellEndLocation, 1);\r\n        this._aLocationX0 = cellLocationX0 + (index / clusterCount) * (cellLocationX1 - cellLocationX0);\r\n        this._aLocationX1 = cellLocationX0 + (index + 1) / clusterCount * (cellLocationX1 - cellLocationX0);\r\n        ;\r\n        this._aLocationY0 = cellLocationY0 + (index / clusterCount) * (cellLocationY1 - cellLocationY0);\r\n        this._aLocationY1 = cellLocationY0 + (index + 1) / clusterCount * (cellLocationY1 - cellLocationY0);\r\n        if (xAxis.inited && yAxis.inited) {\r\n            if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._sizeDirty) {\r\n                const len = this.dataItems.length;\r\n                let startIndex = Math.max(0, this.startIndex() - 2);\r\n                let endIndex = Math.min(this.endIndex() + 2, len - 1);\r\n                for (let i = 0; i < startIndex; i++) {\r\n                    this._toggleColumn(this.dataItems[i], false);\r\n                }\r\n                let previous = this.dataItems[startIndex];\r\n                for (let i = startIndex; i <= endIndex; i++) {\r\n                    let dataItem = this.dataItems[i];\r\n                    if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                        previous = dataItem;\r\n                        if (i > 0 && startIndex > 0) {\r\n                            for (let j = i - 1; j >= 0; j--) {\r\n                                let dataItem = this.dataItems[j];\r\n                                if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                                    previous = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    else {\r\n                        this._toggleColumn(dataItem, false);\r\n                    }\r\n                }\r\n                for (let i = startIndex; i <= endIndex; i++) {\r\n                    let dataItem = this.dataItems[i];\r\n                    this._updateGraphics(dataItem, previous);\r\n                    if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                        previous = dataItem;\r\n                    }\r\n                }\r\n                for (let i = endIndex + 1; i < len; i++) {\r\n                    this._toggleColumn(this.dataItems[i], false);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._skipped = true;\r\n        }\r\n        this.updateLegendMarker(this.get(\"tooltipDataItem\"));\r\n        super._updateChildren();\r\n    }\r\n    _createGraphics(dataItem) {\r\n        let graphics = dataItem.get(\"graphics\");\r\n        if (!graphics) {\r\n            graphics = this._makeGraphics(this.columns, dataItem);\r\n            dataItem.set(\"graphics\", graphics);\r\n            graphics._setDataItem(dataItem);\r\n            const legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                const markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    markerRectangle.setAll({ fill: graphics.get(\"fill\"), stroke: graphics.get(\"stroke\") });\r\n                }\r\n            }\r\n            this.axisRanges.each((axisRange) => {\r\n                const container = axisRange.container;\r\n                const graphicsArray = dataItem.get(\"rangeGraphics\", []);\r\n                dataItem.set(\"rangeGraphics\", graphicsArray);\r\n                const rangeGraphics = this._makeGraphics(axisRange.columns, dataItem);\r\n                graphicsArray.push(rangeGraphics);\r\n                rangeGraphics.setPrivate(\"list\", axisRange.columns);\r\n                container.children.push(rangeGraphics);\r\n            });\r\n        }\r\n    }\r\n    _updateGraphics(dataItem, previousDataItem) {\r\n        let graphics = dataItem.get(\"graphics\");\r\n        //if (!graphics) {\r\n        //\tthis._createGraphics(dataItem);\r\n        //\tgraphics = dataItem.get(\"graphics\")!;\r\n        //}\r\n        const xField = this._xField;\r\n        const yField = this._yField;\r\n        const valueX = dataItem.get(xField);\r\n        const valueY = dataItem.get(yField);\r\n        if (valueX != null && valueY != null) {\r\n            const xOpenField = this._xOpenField;\r\n            const yOpenField = this._yOpenField;\r\n            const locationX = this.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n            const locationY = this.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n            const openLocationX = this.get(\"openLocationX\", dataItem.get(\"openLocationX\", locationX));\r\n            const openLocationY = this.get(\"openLocationY\", dataItem.get(\"openLocationY\", locationY));\r\n            const width = graphics.get(\"width\");\r\n            const height = graphics.get(\"height\");\r\n            const stacked = this.get(\"stacked\");\r\n            const xAxis = this.get(\"xAxis\");\r\n            const yAxis = this.get(\"yAxis\");\r\n            const baseAxis = this.get(\"baseAxis\");\r\n            const xStart = xAxis.get(\"start\");\r\n            const xEnd = xAxis.get(\"end\");\r\n            const yStart = yAxis.get(\"start\");\r\n            const yEnd = yAxis.get(\"end\");\r\n            let l;\r\n            let r;\r\n            let t;\r\n            let b;\r\n            let vcy = this.get(\"vcy\", 1);\r\n            let vcx = this.get(\"vcx\", 1);\r\n            let fitW = false;\r\n            let fitH = false;\r\n            if (yAxis.isType(\"CategoryAxis\") && xAxis.isType(\"CategoryAxis\")) {\r\n                let startLocation = this._aLocationX0 + openLocationX - 0.5;\r\n                let endLocation = this._aLocationX1 + locationX - 0.5;\r\n                if (width instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - width.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                l = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx);\r\n                r = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx);\r\n                startLocation = this._aLocationY0 + openLocationY - 0.5;\r\n                endLocation = this._aLocationY1 + locationY - 0.5;\r\n                if (height instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - height.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                t = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);\r\n                b = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);\r\n                dataItem.setRaw(\"point\", { x: l + (r - l) / 2, y: t + (b - t) / 2 });\r\n            }\r\n            else if (xAxis === baseAxis) {\r\n                let startLocation = this._aLocationX0 + openLocationX - 0.5;\r\n                let endLocation = this._aLocationX1 + locationX - 0.5;\r\n                if (width instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - width.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                l = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx);\r\n                r = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx);\r\n                t = yAxis.getDataItemPositionY(dataItem, yField, locationY, vcy);\r\n                if (this._yOpenField !== this._yField) {\r\n                    b = yAxis.getDataItemPositionY(dataItem, yOpenField, openLocationY, vcy);\r\n                }\r\n                else {\r\n                    if (stacked) {\r\n                        let stackToItemY = dataItem.get(\"stackToItemY\");\r\n                        if (stackToItemY) {\r\n                            b = yAxis.getDataItemPositionY(stackToItemY, yField, openLocationY, stackToItemY.component.get(\"vcy\"));\r\n                        }\r\n                        else {\r\n                            b = yAxis.basePosition();\r\n                        }\r\n                    }\r\n                    else {\r\n                        b = yAxis.basePosition();\r\n                    }\r\n                }\r\n                dataItem.setRaw(\"point\", { x: l + (r - l) / 2, y: t });\r\n                fitH = true;\r\n            }\r\n            else if (yAxis === baseAxis) {\r\n                let startLocation = this._aLocationY0 + openLocationY - 0.5;\r\n                let endLocation = this._aLocationY1 + locationY - 0.5;\r\n                if (height instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - height.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                t = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);\r\n                b = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);\r\n                r = xAxis.getDataItemPositionX(dataItem, xField, locationX, vcx);\r\n                if (this._xOpenField !== this._xField) {\r\n                    l = xAxis.getDataItemPositionX(dataItem, xOpenField, openLocationX, vcx);\r\n                }\r\n                else {\r\n                    if (stacked) {\r\n                        let stackToItemX = dataItem.get(\"stackToItemX\");\r\n                        if (stackToItemX) {\r\n                            l = xAxis.getDataItemPositionX(stackToItemX, xField, openLocationX, stackToItemX.component.get(\"vcx\"));\r\n                        }\r\n                        else {\r\n                            l = xAxis.basePosition();\r\n                        }\r\n                    }\r\n                    else {\r\n                        l = xAxis.basePosition();\r\n                    }\r\n                }\r\n                fitW = true;\r\n                dataItem.setRaw(\"point\", { x: r, y: t + (b - t) / 2 });\r\n            }\r\n            this._updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH);\r\n            if ((l < xStart && r < xStart) || (l > xEnd && r > xEnd) || (t < yStart && b <= yStart) || (t >= yEnd && b > yEnd) || $type.isNaN(l) || $type.isNaN(t)) {\r\n                this._toggleColumn(dataItem, false);\r\n            }\r\n            else {\r\n                this._toggleColumn(dataItem, true);\r\n            }\r\n            let rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, (graphics) => {\r\n                    this._updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH);\r\n                });\r\n            }\r\n            this._applyGraphicsStates(dataItem, previousDataItem);\r\n        }\r\n    }\r\n    _updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH) {\r\n        const width = graphics.get(\"width\");\r\n        const height = graphics.get(\"height\");\r\n        const maxWidth = graphics.get(\"maxWidth\");\r\n        const maxHeight = graphics.get(\"maxHeight\");\r\n        const ptl = this.getPoint(l, t);\r\n        const pbr = this.getPoint(r, b);\r\n        const tooltipPoint = dataItem.get(\"point\");\r\n        if (tooltipPoint) {\r\n            const point = this.getPoint(tooltipPoint.x, tooltipPoint.y);\r\n            tooltipPoint.x = point.x + this._x;\r\n            tooltipPoint.y = point.y + this._y;\r\n        }\r\n        l = ptl.x;\r\n        r = pbr.x;\r\n        t = ptl.y;\r\n        b = pbr.y;\r\n        if ($type.isNumber(width)) {\r\n            const offset = ((r - l) - width) / 2;\r\n            l += offset;\r\n            r -= offset;\r\n        }\r\n        if ($type.isNumber(maxWidth) && maxWidth < Math.abs(r - l)) {\r\n            const offset = ((r - l) - maxWidth) / 2;\r\n            l += offset;\r\n            r -= offset;\r\n        }\r\n        if ($type.isNumber(height)) {\r\n            const offset = ((b - t) - height) / 2;\r\n            t += offset;\r\n            b -= offset;\r\n        }\r\n        if ($type.isNumber(maxHeight) && maxHeight < Math.abs(b - t)) {\r\n            const offset = ((b - t) - maxHeight) / 2;\r\n            t += offset;\r\n            b -= offset;\r\n        }\r\n        if (this.get(\"adjustBulletPosition\")) {\r\n            if (fitW) {\r\n                r = Math.min(Math.max(0, r), this._pw);\r\n                l = Math.min(Math.max(0, l), this._pw);\r\n            }\r\n            if (fitH) {\r\n                t = Math.min(Math.max(0, t), this._ph);\r\n                b = Math.min(Math.max(0, b), this._ph);\r\n            }\r\n        }\r\n        dataItem.setRaw(\"left\", l);\r\n        dataItem.setRaw(\"right\", r);\r\n        dataItem.setRaw(\"top\", t);\r\n        dataItem.setRaw(\"bottom\", b);\r\n        graphics.setPrivate(\"width\", r - l);\r\n        graphics.setPrivate(\"height\", b - t);\r\n        graphics.set(\"x\", l);\r\n        graphics.set(\"y\", b - (b - t));\r\n    }\r\n    _handleDataSetChange() {\r\n        super._handleDataSetChange();\r\n        $array.each(this._dataItems, (dataItem) => {\r\n            this._toggleColumn(dataItem, false);\r\n        });\r\n    }\r\n    _applyGraphicsStates(dataItem, previousDataItem) {\r\n        const graphics = dataItem.get(\"graphics\");\r\n        const dropFromOpen = graphics.states.lookup(\"dropFromOpen\");\r\n        const riseFromOpen = graphics.states.lookup(\"riseFromOpen\");\r\n        const dropFromPrevious = graphics.states.lookup(\"dropFromPrevious\");\r\n        const riseFromPrevious = graphics.states.lookup(\"riseFromPrevious\");\r\n        if (dropFromOpen || dropFromPrevious || riseFromOpen || riseFromPrevious) {\r\n            const xAxis = this.get(\"xAxis\");\r\n            const yAxis = this.get(\"yAxis\");\r\n            const baseAxis = this.get(\"baseAxis\");\r\n            let open;\r\n            let close;\r\n            let previousClose;\r\n            if (baseAxis === xAxis && yAxis.isType(\"ValueAxis\")) {\r\n                open = dataItem.get(this._yOpenField);\r\n                close = dataItem.get(this._yField);\r\n                previousClose = previousDataItem.get(this._yField);\r\n            }\r\n            else if (baseAxis === yAxis && xAxis.isType(\"ValueAxis\")) {\r\n                open = dataItem.get(this._xOpenField);\r\n                close = dataItem.get(this._xField);\r\n                previousClose = previousDataItem.get(this._xField);\r\n            }\r\n            if ($type.isNumber(open) && $type.isNumber(close)) {\r\n                if (close < open) {\r\n                    if (dropFromOpen) {\r\n                        dropFromOpen.apply();\r\n                    }\r\n                }\r\n                else {\r\n                    if (riseFromOpen) {\r\n                        riseFromOpen.apply();\r\n                    }\r\n                }\r\n                if ($type.isNumber(previousClose)) {\r\n                    if (close < previousClose) {\r\n                        if (dropFromPrevious) {\r\n                            dropFromPrevious.apply();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (riseFromPrevious) {\r\n                            riseFromPrevious.apply();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const graphics = dataItem.get(\"graphics\");\r\n        if (graphics) {\r\n            this.columns.removeValue(graphics);\r\n            graphics.dispose();\r\n        }\r\n        const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n        if (rangeGraphics) {\r\n            $array.each(rangeGraphics, (graphics) => {\r\n                const list = graphics.getPrivate(\"list\");\r\n                if (list) {\r\n                    list.removeValue(graphics);\r\n                }\r\n                graphics.dispose();\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const graphics = dataItem.get(\"graphics\");\r\n            if (graphics) {\r\n                promises.push(graphics.hide(duration));\r\n            }\r\n            const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, (graphics) => {\r\n                    promises.push(graphics.hide(duration));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _toggleColumn(dataItem, visible) {\r\n        const graphics = dataItem.get(\"graphics\");\r\n        if (graphics) {\r\n            graphics.setPrivate(\"visible\", visible);\r\n        }\r\n        const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n        if (rangeGraphics) {\r\n            $array.each(rangeGraphics, (graphics) => {\r\n                graphics.setPrivate(\"visible\", visible);\r\n            });\r\n        }\r\n        const bullets = dataItem.bullets;\r\n        if (bullets) {\r\n            $array.each(bullets, (bullet) => {\r\n                bullet.setPrivate(\"hidden\", !visible);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            const graphics = dataItem.get(\"graphics\");\r\n            if (graphics) {\r\n                promises.push(graphics.show(duration));\r\n            }\r\n            const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, (graphics) => {\r\n                    promises.push(graphics.show(duration));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(dataItem) {\r\n        let legendDataItem = this.get(\"legendDataItem\");\r\n        if (this.get(\"useLastColorForLegendMarker\")) {\r\n            if (!dataItem) {\r\n                const lastDataItem = this.dataItems[this.endIndex() - 1];\r\n                if (lastDataItem) {\r\n                    dataItem = lastDataItem;\r\n                }\r\n            }\r\n        }\r\n        if (legendDataItem) {\r\n            let graphics = this.columns.template;\r\n            if (dataItem) {\r\n                let column = dataItem.get(\"graphics\");\r\n                if (column) {\r\n                    graphics = column;\r\n                }\r\n            }\r\n            const markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n            if (markerRectangle) {\r\n                if (!legendDataItem.get(\"itemContainer\").get(\"disabled\")) {\r\n                    $array.each(visualSettings, (setting) => {\r\n                        markerRectangle.set(setting, graphics.get(setting, this.get(setting)));\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _getTooltipTarget(dataItem) {\r\n        if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n            return super._getTooltipTarget(dataItem);\r\n        }\r\n        let column = dataItem.get(\"graphics\");\r\n        if (column) {\r\n            return column;\r\n        }\r\n        return this;\r\n    }\r\n}\r\nObject.defineProperty(BaseColumnSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"BaseColumnSeries\"\r\n});\r\nObject.defineProperty(BaseColumnSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: XYSeries.classNames.concat([BaseColumnSeries.className])\r\n});\r\n//# sourceMappingURL=BaseColumnSeries.js.map","import { BaseColumnSeries } from \"./BaseColumnSeries\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { RoundedRectangle } from \"../../../core/render/RoundedRectangle\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nexport class ColumnSeries extends BaseColumnSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[TemplateList]] of all columns in series.\r\n         *\r\n         * `columns.template` can be used to set default settings for all columns,\r\n         * or to change on existing ones.\r\n         */\r\n        Object.defineProperty(this, \"columns\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), () => RoundedRectangle._new(this._root, {\r\n                position: \"absolute\",\r\n                themeTags: $utils.mergeTags(this.columns.template.get(\"themeTags\", []), [\"series\", \"column\"])\r\n            }, [this.columns.template]))\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeColumn(dataItem, listTemplate) {\r\n        const column = this.mainContainer.children.push(listTemplate.make());\r\n        column._setDataItem(dataItem);\r\n        listTemplate.push(column);\r\n        return column;\r\n    }\r\n    _processAxisRange(axisRange) {\r\n        super._processAxisRange(axisRange);\r\n        axisRange.columns = new ListTemplate(Template.new({}), () => RoundedRectangle._new(this._root, {\r\n            position: \"absolute\",\r\n            themeTags: $utils.mergeTags(axisRange.columns.template.get(\"themeTags\", []), [\"series\", \"column\"]),\r\n        }, [this.columns.template, axisRange.columns.template]));\r\n    }\r\n}\r\nObject.defineProperty(ColumnSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ColumnSeries\"\r\n});\r\nObject.defineProperty(ColumnSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: BaseColumnSeries.classNames.concat([ColumnSeries.className])\r\n});\r\n//# sourceMappingURL=ColumnSeries.js.map","import { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Grid } from \"./axes/Grid\";\r\n//import { Animations } from \"../core/util/Animation\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $object from \"../../core/util/Object\";\r\n/**\r\n * Creates a chart cursor for an [[XYChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/} for more info\r\n * @important\r\n */\r\nexport class XYCursor extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(this, \"lineX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Grid.new(this._root, {\r\n                themeTags: [\"x\"]\r\n            }))\r\n        });\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(this, \"lineY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Grid.new(this._root, {\r\n                themeTags: [\"y\"]\r\n            }))\r\n        });\r\n        /**\r\n         * An element that represents current selection.\r\n         *\r\n         * @default Graphics.new()\r\n         */\r\n        Object.defineProperty(this, \"selection\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Graphics.new(this._root, {\r\n                themeTags: [\"selection\", \"cursor\"], layer: 30\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_lastPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_tooltipX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_tooltipY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A chart cursor is attached to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"xy\", \"cursor\"]);\r\n        super._afterNew();\r\n        this.setAll({ \"width\": p100, height: p100, isMeasured: true, position: \"absolute\" });\r\n        this.states.create(\"hidden\", { visible: true, opacity: 0 });\r\n        this._drawLines();\r\n        this.setPrivateRaw(\"visible\", false);\r\n        this._disposers.push(this.setTimeout(() => {\r\n            this.setPrivate(\"visible\", true);\r\n        }, 500));\r\n        this._disposers.push(this.lineX.events.on(\"positionchanged\", () => {\r\n            this._handleXLine();\r\n        }));\r\n        this._disposers.push(this.lineY.events.on(\"positionchanged\", () => {\r\n            this._handleYLine();\r\n        }));\r\n        this._disposers.push(this.lineX.events.on(\"focus\", (ev) => this._handleLineFocus(ev.target)));\r\n        this._disposers.push(this.lineX.events.on(\"blur\", (ev) => this._handleLineBlur(ev.target)));\r\n        this._disposers.push(this.lineY.events.on(\"focus\", (ev) => this._handleLineFocus(ev.target)));\r\n        this._disposers.push(this.lineY.events.on(\"blur\", (ev) => this._handleLineBlur(ev.target)));\r\n        if ($utils.supports(\"keyboardevents\")) {\r\n            this._disposers.push($utils.addEventListener(document, \"keydown\", (ev) => {\r\n                this._handleLineMove(ev.keyCode);\r\n            }));\r\n        }\r\n    }\r\n    _setUpTouch() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart.plotContainer._display.cancelTouch = this.get(\"behavior\") != \"none\" ? true : false;\r\n        }\r\n    }\r\n    _handleXLine() {\r\n        let x = this.lineX.x();\r\n        let visible = true;\r\n        if (x < 0 || x > this.width()) {\r\n            visible = false;\r\n        }\r\n        this.lineX.setPrivate(\"visible\", visible);\r\n    }\r\n    _handleYLine() {\r\n        let y = this.lineY.y();\r\n        let visible = true;\r\n        if (y < 0 || y > this.height()) {\r\n            visible = false;\r\n        }\r\n        this.lineY.setPrivate(\"visible\", visible);\r\n    }\r\n    _handleLineMove(keyCode) {\r\n        let dir = \"\";\r\n        let position = 0;\r\n        let increment = 0.1;\r\n        const chart = this.chart;\r\n        if (this._root.focused(this.lineX)) {\r\n            if (chart && chart.xAxes.length) {\r\n                increment = chart.xAxes.getIndex(0).getCellWidthPosition();\r\n            }\r\n            position = this.getPrivate(\"positionX\", 0);\r\n            dir = \"positionX\";\r\n            if (keyCode == 37) {\r\n                position -= increment;\r\n            }\r\n            else if (keyCode == 39) {\r\n                position += increment;\r\n            }\r\n        }\r\n        else if (this._root.focused(this.lineY)) {\r\n            if (chart && chart.yAxes.length) {\r\n                increment = chart.yAxes.getIndex(0).getCellWidthPosition();\r\n            }\r\n            position = this.getPrivate(\"positionY\", 0);\r\n            dir = \"positionY\";\r\n            if (keyCode == 38) {\r\n                position -= increment;\r\n            }\r\n            else if (keyCode == 40) {\r\n                position += increment;\r\n            }\r\n        }\r\n        if (position < 0) {\r\n            position = 0;\r\n        }\r\n        else if (position > 1) {\r\n            position = 1;\r\n        }\r\n        if (dir != \"\") {\r\n            this.set(dir, position);\r\n        }\r\n    }\r\n    _handleLineFocus(_line) {\r\n        this.setAll({\r\n            positionX: this.getPrivate(\"positionX\"),\r\n            positionY: this.getPrivate(\"positionY\"),\r\n            alwaysShow: true\r\n        });\r\n    }\r\n    _handleLineBlur(_line) {\r\n        this.setAll({\r\n            positionX: undefined,\r\n            positionY: undefined,\r\n            alwaysShow: false\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"xAxis\")) {\r\n            this._tooltipX = false;\r\n            const xAxis = this.get(\"xAxis\");\r\n            if (xAxis) {\r\n                const tooltip = xAxis.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    this._tooltipX = true;\r\n                    this._disposers.push(tooltip.on(\"pointTo\", () => {\r\n                        this._updateXLine(tooltip);\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"yAxis\")) {\r\n            this._tooltipY = false;\r\n            const yAxis = this.get(\"yAxis\");\r\n            if (yAxis) {\r\n                const tooltip = yAxis.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    this._tooltipY = true;\r\n                    this._disposers.push(tooltip.on(\"pointTo\", () => {\r\n                        this._updateYLine(tooltip);\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleSyncWith() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            const syncWith = this.get(\"syncWith\");\r\n            const otherCharts = [];\r\n            if (syncWith) {\r\n                $array.each(syncWith, (cursor) => {\r\n                    const chart = cursor.chart;\r\n                    if (chart) {\r\n                        otherCharts.push(chart);\r\n                    }\r\n                });\r\n            }\r\n            chart._otherCharts = otherCharts;\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        this._handleSyncWith();\r\n        if (this.isDirty(\"positionX\") || this.isDirty(\"positionY\")) {\r\n            const positionX = this.get(\"positionX\");\r\n            const positionY = this.get(\"positionY\");\r\n            if (positionX == null && positionY == null) {\r\n                this.hide(0);\r\n            }\r\n            else {\r\n                this._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\r\n                this.handleMove();\r\n            }\r\n        }\r\n    }\r\n    _updateXLine(tooltip) {\r\n        let x = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).x, 2);\r\n        if (this._toX != x) {\r\n            this.lineX.animate({ key: \"x\", to: x, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n            this._toX = x;\r\n        }\r\n    }\r\n    _updateYLine(tooltip) {\r\n        let y = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).y, 2);\r\n        if (this._toY != y) {\r\n            this.lineY.animate({ key: \"y\", to: y, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n            this._toY = y;\r\n        }\r\n    }\r\n    _drawLines() {\r\n        this.lineX.set(\"draw\", (display) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, this.height());\r\n        });\r\n        this.lineY.set(\"draw\", (display) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(this.width(), 0);\r\n        });\r\n    }\r\n    updateCursor() {\r\n        if (this.get(\"alwaysShow\")) {\r\n            this._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\r\n        }\r\n        this.handleMove();\r\n    }\r\n    _setChart(chart) {\r\n        this.chart = chart;\r\n        this._handleSyncWith();\r\n        const plotContainer = chart.plotContainer;\r\n        this.events.on(\"boundschanged\", () => {\r\n            this._disposers.push(this.setTimeout(() => {\r\n                this.updateCursor();\r\n            }, 50));\r\n        });\r\n        //this._display.interactive = true;\r\n        if ($utils.supports(\"touchevents\")) {\r\n            this._disposers.push(plotContainer.events.on(\"click\", (event) => {\r\n                if ($utils.isTouchEvent(event.originalEvent)) {\r\n                    this._handleMove(event);\r\n                }\r\n            }));\r\n            this._setUpTouch();\r\n        }\r\n        this._disposers.push(plotContainer.events.on(\"pointerdown\", (event) => {\r\n            this._handleCursorDown(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointerup\", (event) => {\r\n            this._handleCursorUp(event);\r\n            if (!event.native && !this.isHidden()) {\r\n                this._handleMove(event);\r\n            }\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointermove\", (event) => {\r\n            if (!this.get(\"syncWith\")) {\r\n                if ($object.keys(plotContainer._downPoints).length == 0 && !event.native && this.isHidden()) {\r\n                    // Ignore mouse movement if it originates on outside element and\r\n                    // we're not dragging.\r\n                    return;\r\n                }\r\n            }\r\n            this._handleMove(event);\r\n        }));\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this.selection);\r\n        }\r\n    }\r\n    _inPlot(point) {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            return chart.inPlot(point);\r\n        }\r\n        return false;\r\n    }\r\n    _handleCursorDown(event) {\r\n        if (event.originalEvent.button == 2) {\r\n            return;\r\n        }\r\n        const rootPoint = event.point;\r\n        let local = this._display.toLocal(rootPoint);\r\n        const chart = this.chart;\r\n        this.selection.set(\"draw\", () => { });\r\n        if (chart && this._inPlot(local)) {\r\n            this._downPoint = local;\r\n            if (this.get(\"behavior\") != \"none\") {\r\n                this.selection.show();\r\n                const type = \"selectstarted\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n            let positionX = this._getPosition(local).x;\r\n            let positionY = this._getPosition(local).y;\r\n            this.setPrivate(\"downPositionX\", positionX);\r\n            this.setPrivate(\"downPositionY\", positionY);\r\n        }\r\n    }\r\n    _handleCursorUp(event) {\r\n        // TODO: handle multitouch\r\n        if (this._downPoint) {\r\n            const behavior = this.get(\"behavior\", \"none\");\r\n            if (behavior != \"none\") {\r\n                if (behavior.charAt(0) === \"z\") {\r\n                    this.selection.hide();\r\n                }\r\n                const rootPoint = event.point;\r\n                let local = this._display.toLocal(rootPoint);\r\n                const downPoint = this._downPoint;\r\n                const moveThreshold = this.get(\"moveThreshold\", 1);\r\n                if (local && downPoint) {\r\n                    let dispatch = false;\r\n                    if (behavior === \"zoomX\" || behavior === \"zoomXY\" || behavior === \"selectX\" || behavior === \"selectXY\") {\r\n                        if (Math.abs(local.x - downPoint.x) > moveThreshold) {\r\n                            dispatch = true;\r\n                        }\r\n                    }\r\n                    if (behavior === \"zoomY\" || behavior === \"zoomXY\" || behavior === \"selectY\" || behavior === \"selectXY\") {\r\n                        if (Math.abs(local.y - downPoint.y) > moveThreshold) {\r\n                            dispatch = true;\r\n                        }\r\n                    }\r\n                    if (dispatch) {\r\n                        const type = \"selectended\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\r\n                        }\r\n                    }\r\n                    else {\r\n                        const type = \"selectcancelled\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._downPoint = undefined;\r\n    }\r\n    _handleMove(event) {\r\n        if (this.getPrivate(\"visible\")) {\r\n            const chart = this.chart;\r\n            if (chart && $object.keys(chart.plotContainer._downPoints).length > 1) {\r\n                this.set(\"forceHidden\", true);\r\n                return;\r\n            }\r\n            else {\r\n                this.set(\"forceHidden\", false);\r\n            }\r\n            // TODO: handle multitouch\r\n            const rootPoint = event.point;\r\n            const lastPoint = this._lastPoint;\r\n            if (Math.round(lastPoint.x) === Math.round(rootPoint.x) && Math.round(lastPoint.y) === Math.round(rootPoint.y)) {\r\n                return;\r\n            }\r\n            this._lastPoint = rootPoint;\r\n            this.setPrivate(\"lastPoint\", rootPoint);\r\n            this.handleMove({ x: rootPoint.x, y: rootPoint.y }, false, event.originalEvent);\r\n        }\r\n    }\r\n    _getPosition(point) {\r\n        return { x: point.x / this.width(), y: point.y / this.height() };\r\n    }\r\n    /**\r\n     * Moves the cursor to X/Y coordinates within chart container (`point`).\r\n     *\r\n     * If `skipEvent` parameter is set to `true`, the move will not invoke\r\n     * the `\"cursormoved\"` event.\r\n     *\r\n     * @param  point      X/Y to move cursor to\r\n     * @param  skipEvent  Do not fire \"cursormoved\" event\r\n     */\r\n    handleMove(point, skipEvent, originalEvent) {\r\n        if (!point) {\r\n            point = this._movePoint;\r\n        }\r\n        const alwaysShow = this.get(\"alwaysShow\");\r\n        if (!point) {\r\n            this.hide(0);\r\n            return;\r\n        }\r\n        this._movePoint = point;\r\n        let local = this._display.toLocal(point);\r\n        let chart = this.chart;\r\n        if (chart && (this._inPlot(local) || this._downPoint)) {\r\n            chart._movePoint = point;\r\n            if (this.isHidden()) {\r\n                this.show();\r\n                const behavior = this.get(\"behavior\", \"\");\r\n                if (behavior.charAt(0) == \"z\") {\r\n                    this.selection.set(\"draw\", () => { });\r\n                }\r\n            }\r\n            let x = local.x;\r\n            let y = local.y;\r\n            let xyPos = this._getPosition(local);\r\n            this.setPrivate(\"point\", local);\r\n            let snapToSeries = this.get(\"snapToSeries\");\r\n            if (this._downPoint) {\r\n                snapToSeries = undefined;\r\n            }\r\n            let userPositionX = this.get(\"positionX\");\r\n            let positionX = xyPos.x;\r\n            if ($type.isNumber(userPositionX)) {\r\n                positionX = userPositionX;\r\n            }\r\n            let userPositionY = this.get(\"positionY\");\r\n            let positionY = xyPos.y;\r\n            if ($type.isNumber(userPositionY)) {\r\n                positionY = userPositionY;\r\n            }\r\n            this.setPrivate(\"positionX\", positionX);\r\n            this.setPrivate(\"positionY\", positionY);\r\n            const xy = this._getPoint(positionX, positionY);\r\n            x = xy.x;\r\n            y = xy.y;\r\n            chart.xAxes.each((axis) => {\r\n                axis._handleCursorPosition(positionX, snapToSeries);\r\n                if (alwaysShow) {\r\n                    axis.handleCursorShow();\r\n                }\r\n            });\r\n            chart.yAxes.each((axis) => {\r\n                axis._handleCursorPosition(positionY, snapToSeries);\r\n                if (alwaysShow) {\r\n                    axis.handleCursorShow();\r\n                }\r\n            });\r\n            if (!skipEvent) {\r\n                chart._handleCursorPosition();\r\n                const type = \"cursormoved\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this, point: point, originalEvent: originalEvent });\r\n                }\r\n            }\r\n            this._updateLines(x, y);\r\n            chart.arrangeTooltips();\r\n        }\r\n        else if (!this._downPoint) {\r\n            if (!alwaysShow) {\r\n                this.hide(0);\r\n                const type = \"cursorhidden\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this });\r\n                }\r\n            }\r\n        }\r\n        if (this._downPoint && this.get(\"behavior\") != \"none\") {\r\n            this._updateSelection(local);\r\n        }\r\n    }\r\n    _getPoint(positionX, positionY) {\r\n        return { x: this.width() * positionX, y: this.height() * positionY };\r\n    }\r\n    _updateLines(x, y) {\r\n        if (!this._tooltipX) {\r\n            this.lineX.set(\"x\", x);\r\n        }\r\n        if (!this._tooltipY) {\r\n            this.lineY.set(\"y\", y);\r\n        }\r\n        this._drawLines();\r\n    }\r\n    _updateSelection(point) {\r\n        const selection = this.selection;\r\n        const behavior = this.get(\"behavior\");\r\n        const w = this.width();\r\n        const h = this.height();\r\n        if (point.x < 0) {\r\n            point.x = 0;\r\n        }\r\n        if (point.x > w) {\r\n            point.x = w;\r\n        }\r\n        if (point.y < 0) {\r\n            point.y = 0;\r\n        }\r\n        if (point.y > h) {\r\n            point.y = h;\r\n        }\r\n        selection.set(\"draw\", (display) => {\r\n            const downPoint = this._downPoint;\r\n            if (downPoint) {\r\n                if (behavior === \"zoomXY\" || behavior === \"selectXY\") {\r\n                    display.moveTo(downPoint.x, downPoint.y);\r\n                    display.lineTo(downPoint.x, point.y);\r\n                    display.lineTo(point.x, point.y);\r\n                    display.lineTo(point.x, downPoint.y);\r\n                    display.lineTo(downPoint.x, downPoint.y);\r\n                }\r\n                else if (behavior === \"zoomX\" || behavior === \"selectX\") {\r\n                    display.moveTo(downPoint.x, 0);\r\n                    display.lineTo(downPoint.x, h);\r\n                    display.lineTo(point.x, h);\r\n                    display.lineTo(point.x, 0);\r\n                    display.lineTo(downPoint.x, 0);\r\n                }\r\n                else if (behavior === \"zoomY\" || behavior === \"selectY\") {\r\n                    display.moveTo(0, downPoint.y);\r\n                    display.lineTo(w, downPoint.y);\r\n                    display.lineTo(w, point.y);\r\n                    display.lineTo(0, point.y);\r\n                    display.lineTo(0, downPoint.y);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _onHide() {\r\n        if (this.isHidden()) {\r\n            let chart = this.chart;\r\n            if (chart) {\r\n                chart.xAxes.each((axis) => {\r\n                    axis.handleCursorHide();\r\n                });\r\n                chart.yAxes.each((axis) => {\r\n                    axis.handleCursorHide();\r\n                });\r\n                chart.series.each((series) => {\r\n                    series.handleCursorHide();\r\n                });\r\n            }\r\n        }\r\n        super._onHide();\r\n    }\r\n    _onShow() {\r\n        if (!this.isHidden()) {\r\n            let chart = this.chart;\r\n            if (chart) {\r\n                chart.xAxes.each((axis) => {\r\n                    axis.handleCursorShow();\r\n                });\r\n                chart.yAxes.each((axis) => {\r\n                    axis.handleCursorShow();\r\n                });\r\n            }\r\n        }\r\n        super._onShow();\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this.selection.dispose();\r\n    }\r\n}\r\nObject.defineProperty(XYCursor, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYCursor\"\r\n});\r\nObject.defineProperty(XYCursor, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([XYCursor.className])\r\n});\r\n//# sourceMappingURL=XYCursor.js.map","import { Theme } from \"../core/Theme\";\r\n/**\r\n * @ignore\r\n */\r\nexport class AnimatedTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        this.rule(\"Component\").setAll({\r\n            interpolationDuration: 600\r\n        });\r\n        this.rule(\"Hierarchy\").set(\"animationDuration\", 600);\r\n        this.rule(\"Scrollbar\").set(\"animationDuration\", 600);\r\n        this.rule(\"Tooltip\").set(\"animationDuration\", 300);\r\n        this.rule(\"MapChart\").set(\"animationDuration\", 1000);\r\n        this.rule(\"MapChart\").set(\"wheelDuration\", 300);\r\n        this.rule(\"Entity\").setAll({\r\n            stateAnimationDuration: 600\r\n        });\r\n        this.rule(\"Sprite\").states.create(\"default\", { stateAnimationDuration: 600 });\r\n        this.rule(\"Tooltip\", [\"axis\"]).setAll({\r\n            animationDuration: 200\r\n        });\r\n        this.rule(\"WordCloud\").set(\"animationDuration\", 500);\r\n        this.rule(\"Polygon\").set(\"animationDuration\", 600);\r\n        this.rule(\"ArcDiagram\").set(\"animationDuration\", 600);\r\n    }\r\n}\r\n//# sourceMappingURL=AnimatedTheme.js.map","import { AnimatedTheme } from \"../.internal/themes/AnimatedTheme\";\r\nexport default AnimatedTheme;\r\n//# sourceMappingURL=Animated.js.map","<template>\r\n  <v-container class=\"my-0 mx-0 px-0 py-0\">\r\n    <v-row>\r\n      <v-col>\r\n        <v-hover v-slot=\"{ hover }\" class=\"transition-swing\">\r\n          <v-sheet rounded :elevation=\"hover ? 8 : 2\">\r\n            <div id=\"chartdiv\" ref=\"chartdiv\">\r\n            </div>\r\n          </v-sheet>\r\n        </v-hover>\r\n      </v-col>\r\n      <v-col>\r\n        <v-hover v-slot=\"{ hover }\" class=\"transition-swing\">\r\n        <v-sheet rounded :elevation=\"hover ? 8 : 2\">\r\n          <div id=\"piechartdiv\" ref=\"piechartdiv\">\r\n          </div>\r\n        </v-sheet>\r\n        </v-hover>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <v-hover v-slot=\"{ hover }\" class=\"transition-swing\">\r\n        <v-sheet rounded :elevation=\"hover ? 8 : 2\">\r\n          <div id=\"ganttchartdiv\" ref=\"ganttchartdiv\">\r\n          </div>\r\n        </v-sheet>\r\n        </v-hover>\r\n      </v-col>\r\n      <v-col>\r\n        <v-hover v-slot=\"{ hover }\" class=\"transition-swing\">\r\n        <v-sheet rounded :elevation=\"hover ? 8 : 2\">\r\n          <div id=\"xychartdiv\" ref=\"xychartdiv\">\r\n          </div>\r\n        </v-sheet>\r\n        </v-hover>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport * as am5 from '@amcharts/amcharts5';\r\nimport * as am5hierarchy from \"@amcharts/amcharts5/hierarchy\";\r\nimport * as am5percent from \"@amcharts/amcharts5/percent\";\r\nimport * as am5xy from \"@amcharts/amcharts5/xy\";\r\nimport am5themes_animated from \"@amcharts/amcharts5/themes/Animated\";\r\n\r\nimport bubbleTreeJSON from \"@/json/statistic/bubbleTreeJSON.json\"\r\nimport pieChartJSON from \"@/json/statistic/pieChartJSON.json\"\r\nimport ganttChartJSON from \"@/json/statistic/ganttChartJSON.json\"\r\nimport xyChartJSON from \"@/json/statistic/xyChartJSON.json\"\r\n\r\n\r\nexport default {\r\n  name: 'StatisticView',\r\n  components: {},\r\n  mounted() {\r\n    this.bubbleTree()\r\n    this.pieChart()\r\n    this.ganttChart()\r\n    this.xyChart()\r\n  },\r\n  methods: {\r\n    bubbleTree() {\r\n      let root = am5.Root.new(this.$refs.chartdiv);\r\n      root.setThemes([am5themes_animated.new(root)]);\r\n      // Create custom theme...\r\n      var data = bubbleTreeJSON;\r\n      // Create wrapper container\r\n      var container = root.container.children.push(am5.Container.new(root, {\r\n        width: am5.percent(100),\r\n        height: am5.percent(100),\r\n        layout: root.verticalLayout\r\n      }));\r\n// Create series\r\n// https://www.amcharts.com/docs/v5/charts/hierarchy/#Adding\r\n      var series = container.children.push(am5hierarchy.ForceDirected.new(root, {\r\n        singleBranchOnly: false,\r\n        downDepth: 3,\r\n        topDepth: 1,\r\n        initialDepth: 3,\r\n        valueField: \"value\",\r\n        categoryField: \"name\",\r\n        childDataField: \"children\",\r\n        idField: \"name\",\r\n        linkWithField: \"linkWith\",\r\n        manyBodyStrength: -30,\r\n        centerStrength: 1\r\n      }));\r\n      series.get(\"colors\").setAll({\r\n        step: 2\r\n      });\r\n      series.links.template.set(\"strength\", 1);\r\n      series.data.setAll([data]);\r\n      series.set(\"selectedDataItem\", series.dataItems[0]);\r\n// Make stuff animate on load\r\n      series.appear(1000, 100);\r\n    },\r\n    pieChart() {\r\n      let root = am5.Root.new(this.$refs.piechartdiv);\r\n      root.setThemes([am5themes_animated.new(root)]);\r\n      // Create custom theme...\r\n      var data = pieChartJSON;\r\n// Create chart\r\n// https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/\r\n      var chart = root.container.children.push(am5percent.PieChart.new(root, {\r\n        layout: root.verticalLayout\r\n      }));\r\n// Create series\r\n// https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/#Series\r\n      var series = chart.series.push(am5percent.PieSeries.new(root, {\r\n        valueField: \"value\",\r\n        categoryField: \"category\"\r\n      }));\r\n// Set data\r\n// https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/#Setting_data\r\n      series.data.setAll(data);\r\n    },\r\n    ganttChart() {\r\n      let root = am5.Root.new(this.$refs.ganttchartdiv);\r\n      root.setThemes([am5themes_animated.new(root)]);\r\n      root.dateFormatter.setAll({\r\n        dateFormat: \"yyyy-MM-dd\",\r\n        dateFields: [\"valueX\", \"openValueX\"]\r\n      });\r\n// Set themes\r\n// https://www.amcharts.com/docs/v5/concepts/themes/\r\n      root.setThemes([\r\n        am5themes_animated.new(root)\r\n      ]);\r\n// Create chart\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/\r\n      var chart = root.container.children.push(am5xy.XYChart.new(root, {\r\n        panX: false,\r\n        panY: false,\r\n        wheelX: \"panX\",\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout\r\n      }));\r\n// Add legend\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/legend-xy-series/\r\n      var legend = chart.children.push(am5.Legend.new(root, {\r\n        centerX: am5.p50,\r\n        x: am5.p50\r\n      }))\r\n      var colors = chart.get(\"colors\");\r\n// Data\r\n      var data = [\r\n        {\r\n          category: \"John\",\r\n          fromDate: \"2018-01-01 08:00\",\r\n          toDate: \"2018-01-01 10:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(0), 0)\r\n          }\r\n        },\r\n        {\r\n          category: \"John\",\r\n          fromDate: \"2018-01-01 12:00\",\r\n          toDate: \"2018-01-01 15:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(0), 0.4)\r\n          }\r\n        },\r\n        {\r\n          category: \"John\",\r\n          fromDate: \"2018-01-01 15:30\",\r\n          toDate: \"2018-01-01 21:30\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(0), 0.8)\r\n          }\r\n        },\r\n\r\n        {\r\n          category: \"Jane\",\r\n          fromDate: \"2018-01-01 09:00\",\r\n          toDate: \"2018-01-01 12:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(2), 0)\r\n          }\r\n        },\r\n        {\r\n          category: \"Jane\",\r\n          fromDate: \"2018-01-01 13:00\",\r\n          toDate: \"2018-01-01 17:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(2), 0.4)\r\n          }\r\n        },\r\n\r\n        {\r\n          category: \"Peter\",\r\n          fromDate: \"2018-01-01 11:00\",\r\n          toDate: \"2018-01-01 16:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(4), 0)\r\n          }\r\n        },\r\n        {\r\n          category: \"Peter\",\r\n          fromDate: \"2018-01-01 16:00\",\r\n          toDate: \"2018-01-01 19:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(4), 0.4)\r\n          }\r\n        },\r\n\r\n        {\r\n          category: \"Melania\",\r\n          fromDate: \"2018-01-01 16:00\",\r\n          toDate: \"2018-01-01 20:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(6), 0)\r\n          }\r\n        },\r\n        {\r\n          category: \"Melania\",\r\n          fromDate: \"2018-01-01 20:30\",\r\n          toDate: \"2018-01-02 00:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(6), 0.4)\r\n          }\r\n        },\r\n\r\n        {\r\n          category: \"Donald\",\r\n          fromDate: \"2018-01-01 13:00\",\r\n          toDate: \"2018-01-02 00:00\",\r\n          columnSettings: {\r\n            fill: am5.Color.brighten(colors.getIndex(8), 0)\r\n          }\r\n        }\r\n      ];\r\n// Create axes\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/axes/\r\n      var yAxis = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n            categoryField: \"category\",\r\n            renderer: am5xy.AxisRendererY.new(root, {inversed: true}),\r\n            tooltip: am5.Tooltip.new(root, {\r\n              themeTags: [\"axis\"],\r\n              animationDuration: 200\r\n            })\r\n          })\r\n      );\r\n      yAxis.data.setAll([\r\n        {category: \"John\"},\r\n        {category: \"Jane\"},\r\n        {category: \"Peter\"},\r\n        {category: \"Melania\"},\r\n        {category: \"Donald\"}\r\n      ]);\r\n      var xAxis = chart.xAxes.push(\r\n          am5xy.DateAxis.new(root, {\r\n            baseInterval: {timeUnit: \"minute\", count: 1},\r\n            renderer: am5xy.AxisRendererX.new(root, {strokeOpacity: 0.1})\r\n          })\r\n      );\r\n// Add series\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/series/\r\n      var series = chart.series.push(am5xy.ColumnSeries.new(root, {\r\n        xAxis: xAxis,\r\n        yAxis: yAxis,\r\n        openValueXField: \"fromDate\",\r\n        valueXField: \"toDate\",\r\n        categoryYField: \"category\",\r\n        sequencedInterpolation: true\r\n      }));\r\n      series.columns.template.setAll({\r\n        templateField: \"columnSettings\",\r\n        strokeOpacity: 0,\r\n        tooltipText: \"{category}: {openValueX.formatDate('yyyy-MM-dd HH:mm')} - {valueX.formatDate('yyyy-MM-dd HH:mm')}\"\r\n      });\r\n      series.data.processor = am5.DataProcessor.new(root, {\r\n        dateFields: [\"fromDate\", \"toDate\"],\r\n        dateFormat: \"yyyy-MM-dd HH:mm\"\r\n      });\r\n      series.data.setAll(data);\r\n// Add scrollbars\r\n      chart.set(\"scrollbarX\", am5.Scrollbar.new(root, {\r\n        orientation: \"horizontal\"\r\n      }));\r\n// Make stuff animate on load\r\n// https://www.amcharts.com/docs/v5/concepts/animations/\r\n      series.appear();\r\n      chart.appear(1000, 100);\r\n    },\r\n    xyChart() {\r\n      let root = am5.Root.new(this.$refs.xychartdiv);\r\n      root.setThemes([am5themes_animated.new(root)]);\r\n// Set themes\r\n// https://www.amcharts.com/docs/v5/concepts/themes/\r\n      root.setThemes([\r\n        am5themes_animated.new(root)\r\n      ]);\r\n// Create chart\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/\r\n      var chart = root.container.children.push(am5xy.XYChart.new(root, {\r\n        panX: true,\r\n        panY: true,\r\n        wheelX: \"panX\",\r\n        wheelY: \"zoomX\",\r\n        pinchZoomX: true\r\n      }));\r\n// Add cursor\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/\r\n      var cursor = chart.set(\"cursor\", am5xy.XYCursor.new(root, {}));\r\n      cursor.lineY.set(\"visible\", false);\r\n// Create axes\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/axes/\r\n      var xRenderer = am5xy.AxisRendererX.new(root, {minGridDistance: 30});\r\n      xRenderer.labels.template.setAll({\r\n        rotation: -90,\r\n        centerY: am5.p50,\r\n        centerX: am5.p100,\r\n        paddingRight: 15\r\n      });\r\n      xRenderer.grid.template.setAll({\r\n        location: 1\r\n      })\r\n      var xAxis = chart.xAxes.push(am5xy.CategoryAxis.new(root, {\r\n        maxDeviation: 0.3,\r\n        categoryField: \"country\",\r\n        renderer: xRenderer,\r\n        tooltip: am5.Tooltip.new(root, {})\r\n      }));\r\n      var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {\r\n        maxDeviation: 0.3,\r\n        renderer: am5xy.AxisRendererY.new(root, {\r\n          strokeOpacity: 0.1\r\n        })\r\n      }));\r\n// Create series\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/series/\r\n      var series = chart.series.push(am5xy.ColumnSeries.new(root, {\r\n        name: \"Series 1\",\r\n        xAxis: xAxis,\r\n        yAxis: yAxis,\r\n        valueYField: \"value\",\r\n        sequencedInterpolation: true,\r\n        categoryXField: \"country\",\r\n        tooltip: am5.Tooltip.new(root, {\r\n          labelText: \"{valueY}\"\r\n        })\r\n      }));\r\n      series.columns.template.setAll({cornerRadiusTL: 5, cornerRadiusTR: 5, strokeOpacity: 0});\r\n      series.columns.template.adapters.add(\"fill\", function (fill, target) {\r\n        return chart.get(\"colors\").getIndex(series.columns.indexOf(target));\r\n      });\r\n      series.columns.template.adapters.add(\"stroke\", function (stroke, target) {\r\n        return chart.get(\"colors\").getIndex(series.columns.indexOf(target));\r\n      });\r\n// Set data\r\n      var data = xyChartJSON;\r\n      xAxis.data.setAll(data);\r\n      series.data.setAll(data);\r\n// Make stuff animate on load\r\n// https://www.amcharts.com/docs/v5/concepts/animations/\r\n      series.appear(1000);\r\n      chart.appear(1000, 100);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n#chartdiv {\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n\r\n#piechartdiv {\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n\r\n#ganttchartdiv {\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n\r\n#xychartdiv {\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StatisticView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StatisticView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatisticView.vue?vue&type=template&id=48bb3832&\"\nimport script from \"./StatisticView.vue?vue&type=script&lang=js&\"\nexport * from \"./StatisticView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StatisticView.vue?vue&type=style&index=0&id=48bb3832&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Directives\nimport ripple from '../../directives/ripple'\n\n// Types\nimport Vue, { VNode, VNodeData, VNodeDirective } from 'vue'\n\nexport default Vue.extend({\n  name: 'rippleable',\n\n  directives: { ripple },\n\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n  },\n\n  methods: {\n    genRipple (data: VNodeData = {}): VNode | null {\n      if (!this.ripple) return null\n\n      data.staticClass = 'v-input--selection-controls__ripple'\n\n      data.directives = data.directives || []\n      data.directives.push({\n        name: 'ripple',\n        value: { center: true },\n      } as VNodeDirective)\n\n      return this.$createElement('div', data)\n    },\n  },\n})\n","// Components\nimport VInput from '../../components/VInput'\n\n// Mixins\nimport Rippleable from '../rippleable'\nimport Comparable from '../comparable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\nexport function prevent (e: Event) {\n  e.preventDefault()\n}\n\n/* @vue/component */\nexport default mixins(\n  VInput,\n  Rippleable,\n  Comparable\n).extend({\n  name: 'selectable',\n\n  model: {\n    prop: 'inputValue',\n    event: 'change',\n  },\n\n  props: {\n    id: String,\n    inputValue: null as any,\n    falseValue: null as any,\n    trueValue: null as any,\n    multiple: {\n      type: Boolean,\n      default: null,\n    },\n    label: String,\n  },\n\n  data () {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (!this.isActive) return undefined\n      if (this.color) return this.color\n      if (this.isDark && !this.appIsDark) return 'white'\n      return 'primary'\n    },\n    isMultiple (): boolean {\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\n    },\n    isActive (): boolean {\n      const value = this.value\n      const input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false\n\n        return input.some(item => this.valueComparator(item, value))\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value\n          ? this.valueComparator(value, input)\n          : Boolean(input)\n      }\n\n      return this.valueComparator(input, this.trueValue)\n    },\n    isDirty (): boolean {\n      return this.isActive\n    },\n    rippleState (): string | undefined {\n      return !this.isDisabled && !this.validationState\n        ? undefined\n        : this.validationState\n    },\n  },\n\n  watch: {\n    inputValue (val) {\n      this.lazyValue = val\n      this.hasColor = val\n    },\n  },\n\n  methods: {\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label!.data!.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent,\n      }\n\n      return label\n    },\n    genInput (type: string, attrs: object) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type,\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive,\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent,\n        },\n        ref: 'input',\n      })\n    },\n    onClick (e: Event) {\n      this.onChange()\n      this.$emit('click', e)\n    },\n    onChange () {\n      if (!this.isInteractive) return\n\n      const value = this.value\n      let input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = []\n        }\n\n        const length = input.length\n\n        input = input.filter((item: any) => !this.valueComparator(item, value))\n\n        if (input.length === length) {\n          input.push(value)\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value\n      } else {\n        input = !input\n      }\n\n      this.validate(true, input)\n      this.internalValue = input\n      this.hasColor = input\n    },\n    onFocus (e: FocusEvent) {\n      this.isFocused = true\n      this.$emit('focus', e)\n    },\n    onBlur (e: FocusEvent) {\n      this.isFocused = false\n      this.$emit('blur', e)\n    },\n    /** @abstract */\n    onKeydown (e: Event) {},\n  },\n})\n","// Styles\nimport './VCheckbox.sass'\nimport '../../styles/components/_selection-controls.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport VInput from '../VInput'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-checkbox',\n\n  props: {\n    indeterminate: Boolean,\n    indeterminateIcon: {\n      type: String,\n      default: '$checkboxIndeterminate',\n    },\n    offIcon: {\n      type: String,\n      default: '$checkboxOff',\n    },\n    onIcon: {\n      type: String,\n      default: '$checkboxOn',\n    },\n  },\n\n  data () {\n    return {\n      inputIndeterminate: this.indeterminate,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls': true,\n        'v-input--checkbox': true,\n        'v-input--indeterminate': this.inputIndeterminate,\n      }\n    },\n    computedIcon (): string {\n      if (this.inputIndeterminate) {\n        return this.indeterminateIcon\n      } else if (this.isActive) {\n        return this.onIcon\n      } else {\n        return this.offIcon\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.isDisabled && !this.inputIndeterminate) return undefined\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n  },\n\n  watch: {\n    indeterminate (val) {\n      // https://github.com/vuetifyjs/vuetify/issues/8270\n      this.$nextTick(() => (this.inputIndeterminate = val))\n    },\n    inputIndeterminate (val) {\n      this.$emit('update:indeterminate', val)\n    },\n    isActive () {\n      if (!this.indeterminate) return\n      this.inputIndeterminate = false\n    },\n  },\n\n  methods: {\n    genCheckbox () {\n      const { title, ...checkboxAttrs } = this.attrs$\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.$createElement(VIcon, this.setTextColor(this.validationState, {\n          props: {\n            dense: this.dense,\n            dark: this.dark,\n            light: this.light,\n          },\n        }), this.computedIcon),\n        this.genInput('checkbox', {\n          ...checkboxAttrs,\n          'aria-checked': this.inputIndeterminate\n            ? 'mixed'\n            : this.isActive.toString(),\n        }),\n        this.genRipple(this.setTextColor(this.rippleState)),\n      ])\n    },\n    genDefaultSlot () {\n      return [\n        this.genCheckbox(),\n        this.genLabel(),\n      ]\n    },\n  },\n})\n","// Components\nimport { VExpandTransition } from '../transitions'\nimport { VIcon } from '../VIcon'\nimport VTreeview from './VTreeview'\n\n// Mixins\nimport { inject as RegistrableInject } from '../../mixins/registrable'\nimport Colorable from '../../mixins/colorable'\n\n// Utils\nimport mixins, { ExtractVue } from '../../util/mixins'\nimport { getObjectValueByPath, createRange } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeChildren, PropType } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\ntype VTreeViewInstance = InstanceType<typeof VTreeview>\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject('treeview')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  treeview: VTreeViewInstance\n}\n\nexport const VTreeviewNodeProps = {\n  activatable: Boolean,\n  activeClass: {\n    type: String,\n    default: 'v-treeview-node--active',\n  },\n  color: {\n    type: String,\n    default: 'primary',\n  },\n  disablePerNode: Boolean,\n  expandIcon: {\n    type: String,\n    default: '$subgroup',\n  },\n  indeterminateIcon: {\n    type: String,\n    default: '$checkboxIndeterminate',\n  },\n  itemChildren: {\n    type: String,\n    default: 'children',\n  },\n  itemDisabled: {\n    type: String,\n    default: 'disabled',\n  },\n  itemKey: {\n    type: String,\n    default: 'id',\n  },\n  itemText: {\n    type: String,\n    default: 'name',\n  },\n  loadChildren: Function as PropType<(item: any) => Promise<void>>,\n  loadingIcon: {\n    type: String,\n    default: '$loading',\n  },\n  offIcon: {\n    type: String,\n    default: '$checkboxOff',\n  },\n  onIcon: {\n    type: String,\n    default: '$checkboxOn',\n  },\n  openOnClick: Boolean,\n  rounded: Boolean,\n  selectable: Boolean,\n  selectedColor: {\n    type: String,\n    default: 'accent',\n  },\n  shaped: Boolean,\n  transition: Boolean,\n  selectionType: {\n    type: String as PropType<'leaf' | 'independent'>,\n    default: 'leaf',\n    validator: (v: string) => ['leaf', 'independent'].includes(v),\n  },\n}\n\n/* @vue/component */\nconst VTreeviewNode = baseMixins.extend<options>().extend({\n  name: 'v-treeview-node',\n\n  inject: {\n    treeview: {\n      default: null,\n    },\n  },\n\n  props: {\n    level: Number,\n    item: {\n      type: Object,\n      default: () => null,\n    } as PropValidator<Record<string, unknown> | null>,\n    parentIsDisabled: Boolean,\n    ...VTreeviewNodeProps,\n  },\n\n  data: () => ({\n    hasLoaded: false,\n    isActive: false, // Node is selected (row)\n    isIndeterminate: false, // Node has at least one selected child\n    isLoading: false,\n    isOpen: false, // Node is open/expanded\n    isSelected: false, // Node is selected (checkbox)\n  }),\n\n  computed: {\n    disabled (): boolean {\n      return (\n        getObjectValueByPath(this.item, this.itemDisabled) ||\n        (!this.disablePerNode && (this.parentIsDisabled && this.selectionType === 'leaf'))\n      )\n    },\n    key (): string {\n      return getObjectValueByPath(this.item, this.itemKey)\n    },\n    children (): any[] | null {\n      const children = getObjectValueByPath(this.item, this.itemChildren)\n      return children && children.filter((child: any) => !this.treeview.isExcluded(getObjectValueByPath(child, this.itemKey)))\n    },\n    text (): string {\n      return getObjectValueByPath(this.item, this.itemText)\n    },\n    scopedProps (): object {\n      return {\n        item: this.item,\n        leaf: !this.children,\n        selected: this.isSelected,\n        indeterminate: this.isIndeterminate,\n        active: this.isActive,\n        open: this.isOpen,\n      }\n    },\n    computedIcon (): string {\n      if (this.isIndeterminate) return this.indeterminateIcon\n      else if (this.isSelected) return this.onIcon\n      else return this.offIcon\n    },\n    hasChildren (): boolean {\n      return !!this.children && (!!this.children.length || !!this.loadChildren)\n    },\n  },\n\n  created () {\n    this.treeview.register(this)\n  },\n\n  beforeDestroy () {\n    this.treeview.unregister(this)\n  },\n\n  methods: {\n    checkChildren (): Promise<void> {\n      return new Promise<void>(resolve => {\n        // TODO: Potential issue with always trying\n        // to load children if response is empty?\n        if (!this.children || this.children.length || !this.loadChildren || this.hasLoaded) return resolve()\n\n        this.isLoading = true\n        resolve(this.loadChildren(this.item))\n      }).then(() => {\n        this.isLoading = false\n        this.hasLoaded = true\n      })\n    },\n    open () {\n      this.isOpen = !this.isOpen\n      this.treeview.updateOpen(this.key, this.isOpen)\n      this.treeview.emitOpen()\n    },\n    genLabel () {\n      const children = []\n\n      if (this.$scopedSlots.label) children.push(this.$scopedSlots.label(this.scopedProps))\n      else children.push(this.text)\n\n      return this.$createElement('div', {\n        slot: 'label',\n        staticClass: 'v-treeview-node__label',\n      }, children)\n    },\n    genPrependSlot () {\n      if (!this.$scopedSlots.prepend) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-treeview-node__prepend',\n      }, this.$scopedSlots.prepend(this.scopedProps))\n    },\n    genAppendSlot () {\n      if (!this.$scopedSlots.append) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-treeview-node__append',\n      }, this.$scopedSlots.append(this.scopedProps))\n    },\n    genContent () {\n      const children = [\n        this.genPrependSlot(),\n        this.genLabel(),\n        this.genAppendSlot(),\n      ]\n\n      return this.$createElement('div', {\n        staticClass: 'v-treeview-node__content',\n      }, children)\n    },\n    genToggle () {\n      return this.$createElement(VIcon, {\n        staticClass: 'v-treeview-node__toggle',\n        class: {\n          'v-treeview-node__toggle--open': this.isOpen,\n          'v-treeview-node__toggle--loading': this.isLoading,\n        },\n        slot: 'prepend',\n        on: {\n          click: (e: MouseEvent) => {\n            e.stopPropagation()\n\n            if (this.isLoading) return\n\n            this.checkChildren().then(() => this.open())\n          },\n        },\n      }, [this.isLoading ? this.loadingIcon : this.expandIcon])\n    },\n    genCheckbox () {\n      return this.$createElement(VIcon, {\n        staticClass: 'v-treeview-node__checkbox',\n        props: {\n          color: this.isSelected || this.isIndeterminate ? this.selectedColor : undefined,\n          disabled: this.disabled,\n        },\n        on: {\n          click: (e: MouseEvent) => {\n            e.stopPropagation()\n\n            if (this.isLoading) return\n\n            this.checkChildren().then(() => {\n              // We nextTick here so that items watch in VTreeview has a chance to run first\n              this.$nextTick(() => {\n                this.isSelected = !this.isSelected\n                this.isIndeterminate = false\n\n                this.treeview.updateSelected(this.key, this.isSelected)\n                this.treeview.emitSelected()\n              })\n            })\n          },\n        },\n      }, [this.computedIcon])\n    },\n    genLevel (level: number) {\n      return createRange(level).map(() => this.$createElement('div', {\n        staticClass: 'v-treeview-node__level',\n      }))\n    },\n    genNode () {\n      const children = [this.genContent()]\n\n      if (this.selectable) children.unshift(this.genCheckbox())\n\n      if (this.hasChildren) {\n        children.unshift(this.genToggle())\n      } else {\n        children.unshift(...this.genLevel(1))\n      }\n\n      children.unshift(...this.genLevel(this.level))\n\n      return this.$createElement('div', this.setTextColor(this.isActive && this.color, {\n        staticClass: 'v-treeview-node__root',\n        class: {\n          [this.activeClass]: this.isActive,\n        },\n        on: {\n          click: () => {\n            if (this.openOnClick && this.hasChildren) {\n              this.checkChildren().then(this.open)\n            } else if (this.activatable && !this.disabled) {\n              this.isActive = !this.isActive\n              this.treeview.updateActive(this.key, this.isActive)\n              this.treeview.emitActive()\n            }\n          },\n        },\n      }), children)\n    },\n    genChild (item: any, parentIsDisabled: boolean) {\n      return this.$createElement(VTreeviewNode, {\n        key: getObjectValueByPath(item, this.itemKey),\n        props: {\n          activatable: this.activatable,\n          activeClass: this.activeClass,\n          item,\n          selectable: this.selectable,\n          selectedColor: this.selectedColor,\n          color: this.color,\n          disablePerNode: this.disablePerNode,\n          expandIcon: this.expandIcon,\n          indeterminateIcon: this.indeterminateIcon,\n          offIcon: this.offIcon,\n          onIcon: this.onIcon,\n          loadingIcon: this.loadingIcon,\n          itemKey: this.itemKey,\n          itemText: this.itemText,\n          itemDisabled: this.itemDisabled,\n          itemChildren: this.itemChildren,\n          loadChildren: this.loadChildren,\n          transition: this.transition,\n          openOnClick: this.openOnClick,\n          rounded: this.rounded,\n          shaped: this.shaped,\n          level: this.level + 1,\n          selectionType: this.selectionType,\n          parentIsDisabled,\n        },\n        scopedSlots: this.$scopedSlots,\n      })\n    },\n    genChildrenWrapper () {\n      if (!this.isOpen || !this.children) return null\n\n      const children = [this.children.map(c => this.genChild(c, this.disabled))]\n\n      return this.$createElement('div', {\n        staticClass: 'v-treeview-node__children',\n      }, children)\n    },\n    genTransition () {\n      return this.$createElement(VExpandTransition, [this.genChildrenWrapper()])\n    },\n  },\n\n  render (h): VNode {\n    const children: VNodeChildren = [this.genNode()]\n\n    if (this.transition) children.push(this.genTransition())\n    else children.push(this.genChildrenWrapper())\n\n    return h('div', {\n      staticClass: 'v-treeview-node',\n      class: {\n        'v-treeview-node--leaf': !this.hasChildren,\n        'v-treeview-node--click': this.openOnClick,\n        'v-treeview-node--disabled': this.disabled,\n        'v-treeview-node--rounded': this.rounded,\n        'v-treeview-node--shaped': this.shaped,\n        'v-treeview-node--selected': this.isSelected,\n      },\n      attrs: {\n        'aria-expanded': String(this.isOpen),\n      },\n    }, children)\n  },\n})\n\nexport default VTreeviewNode\n","import { getObjectValueByPath } from '../../../util/helpers'\nimport { TreeviewItemFunction } from 'vuetify/types'\n\nexport function filterTreeItem (item: object, search: string, textKey: string): boolean {\n  const text = getObjectValueByPath(item, textKey)\n\n  return text.toLocaleLowerCase().indexOf(search.toLocaleLowerCase()) > -1\n}\n\nexport function filterTreeItems (\n  filter: TreeviewItemFunction,\n  item: any,\n  search: string,\n  idKey: string,\n  textKey: string,\n  childrenKey: string,\n  excluded: Set<string | number>\n): boolean {\n  if (filter(item, search, textKey)) {\n    return true\n  }\n\n  const children = getObjectValueByPath(item, childrenKey)\n\n  if (children) {\n    let match = false\n    for (let i = 0; i < children.length; i++) {\n      if (filterTreeItems(filter, children[i], search, idKey, textKey, childrenKey, excluded)) {\n        match = true\n      }\n    }\n\n    if (match) return true\n  }\n\n  excluded.add(getObjectValueByPath(item, idKey))\n\n  return false\n}\n","// Styles\nimport './VTreeview.sass'\n\n// Types\nimport { VNode, VNodeChildrenArrayContents, PropType } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { TreeviewItemFunction } from 'vuetify/types'\n\n// Components\nimport VTreeviewNode, { VTreeviewNodeProps } from './VTreeviewNode'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utils\nimport {\n  arrayDiff,\n  deepEqual,\n  getObjectValueByPath,\n} from '../../util/helpers'\nimport mixins from '../../util/mixins'\nimport { consoleWarn } from '../../util/console'\nimport {\n  filterTreeItems,\n  filterTreeItem,\n} from './util/filterTreeItems'\n\ntype VTreeviewNodeInstance = InstanceType<typeof VTreeviewNode>\n\ntype NodeCache = Set<string | number>\ntype NodeArray = (string | number)[]\n\ntype NodeState = {\n  parent: number | string | null\n  children: (number | string)[]\n  vnode: VTreeviewNodeInstance | null\n  isActive: boolean\n  isSelected: boolean\n  isIndeterminate: boolean\n  isOpen: boolean\n  item: any\n}\n\nexport default mixins(\n  RegistrableProvide('treeview'),\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-treeview',\n\n  provide (): object {\n    return { treeview: this }\n  },\n\n  props: {\n    active: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<NodeArray>,\n    dense: Boolean,\n    disabled: Boolean,\n    filter: Function as PropType<TreeviewItemFunction>,\n    hoverable: Boolean,\n    items: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<any[]>,\n    multipleActive: Boolean,\n    open: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<NodeArray>,\n    openAll: Boolean,\n    returnObject: {\n      type: Boolean,\n      default: false, // TODO: Should be true in next major\n    },\n    search: String,\n    value: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<NodeArray>,\n    ...VTreeviewNodeProps,\n  },\n\n  data: () => ({\n    level: -1,\n    activeCache: new Set() as NodeCache,\n    nodes: {} as Record<string | number, NodeState>,\n    openCache: new Set() as NodeCache,\n    selectedCache: new Set() as NodeCache,\n  }),\n\n  computed: {\n    excludedItems (): Set<string | number> {\n      const excluded = new Set<string|number>()\n\n      if (!this.search) return excluded\n\n      for (let i = 0; i < this.items.length; i++) {\n        filterTreeItems(\n          this.filter || filterTreeItem,\n          this.items[i],\n          this.search,\n          this.itemKey,\n          this.itemText,\n          this.itemChildren,\n          excluded\n        )\n      }\n\n      return excluded\n    },\n  },\n\n  watch: {\n    items: {\n      handler () {\n        const oldKeys = Object.keys(this.nodes).map(k => getObjectValueByPath(this.nodes[k].item, this.itemKey))\n        const newKeys = this.getKeys(this.items)\n        const diff = arrayDiff(newKeys, oldKeys)\n\n        // We only want to do stuff if items have changed\n        if (!diff.length && newKeys.length < oldKeys.length) return\n\n        // If nodes are removed we need to clear them from this.nodes\n        diff.forEach(k => delete this.nodes[k])\n\n        const oldSelectedCache = [...this.selectedCache]\n        this.selectedCache = new Set()\n        this.activeCache = new Set()\n        this.openCache = new Set()\n        this.buildTree(this.items)\n\n        // Only emit selected if selection has changed\n        // as a result of items changing. This fixes a\n        // potential double emit when selecting a node\n        // with dynamic children\n        if (!deepEqual(oldSelectedCache, [...this.selectedCache])) this.emitSelected()\n      },\n      deep: true,\n    },\n    active (value: (string | number | any)[]) {\n      this.handleNodeCacheWatcher(value, this.activeCache, this.updateActive, this.emitActive)\n    },\n    value (value: (string | number | any)[]) {\n      this.handleNodeCacheWatcher(value, this.selectedCache, this.updateSelected, this.emitSelected)\n    },\n    open (value: (string | number | any)[]) {\n      this.handleNodeCacheWatcher(value, this.openCache, this.updateOpen, this.emitOpen)\n    },\n  },\n\n  created () {\n    const getValue = (key: string | number) => this.returnObject ? getObjectValueByPath(key, this.itemKey) : key\n\n    this.buildTree(this.items)\n\n    for (const value of this.value.map(getValue)) {\n      this.updateSelected(value, true, true)\n    }\n\n    for (const active of this.active.map(getValue)) {\n      this.updateActive(active, true)\n    }\n  },\n\n  mounted () {\n    // Save the developer from themselves\n    if (this.$slots.prepend || this.$slots.append) {\n      consoleWarn('The prepend and append slots require a slot-scope attribute', this)\n    }\n\n    if (this.openAll) {\n      this.updateAll(true)\n    } else {\n      this.open.forEach(key => this.updateOpen(this.returnObject ? getObjectValueByPath(key, this.itemKey) : key, true))\n      this.emitOpen()\n    }\n  },\n\n  methods: {\n    /** @public */\n    updateAll (value: boolean) {\n      Object.keys(this.nodes).forEach(key => this.updateOpen(getObjectValueByPath(this.nodes[key].item, this.itemKey), value))\n      this.emitOpen()\n    },\n    getKeys (items: any[], keys: any[] = []) {\n      for (let i = 0; i < items.length; i++) {\n        const key = getObjectValueByPath(items[i], this.itemKey)\n        keys.push(key)\n        const children = getObjectValueByPath(items[i], this.itemChildren)\n        if (children) {\n          keys.push(...this.getKeys(children))\n        }\n      }\n\n      return keys\n    },\n    buildTree (items: any[], parent: (string | number | null) = null) {\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i]\n        const key = getObjectValueByPath(item, this.itemKey)\n        const children = getObjectValueByPath(item, this.itemChildren) ?? []\n        const oldNode = this.nodes.hasOwnProperty(key) ? this.nodes[key] : {\n          isSelected: false, isIndeterminate: false, isActive: false, isOpen: false, vnode: null,\n        } as NodeState\n\n        const node: any = {\n          vnode: oldNode.vnode,\n          parent,\n          children: children.map((c: any) => getObjectValueByPath(c, this.itemKey)),\n          item,\n        }\n\n        this.buildTree(children, key)\n\n        // This fixed bug with dynamic children resetting selected parent state\n        if (\n          this.selectionType !== 'independent' &&\n          parent !== null &&\n          !this.nodes.hasOwnProperty(key) &&\n          this.nodes.hasOwnProperty(parent)\n        ) {\n          node.isSelected = this.nodes[parent].isSelected\n        } else {\n          node.isSelected = oldNode.isSelected\n          node.isIndeterminate = oldNode.isIndeterminate\n        }\n\n        node.isActive = oldNode.isActive\n        node.isOpen = oldNode.isOpen\n\n        this.nodes[key] = node\n\n        if (children.length && this.selectionType !== 'independent') {\n          const { isSelected, isIndeterminate } = this.calculateState(key, this.nodes)\n\n          node.isSelected = isSelected\n          node.isIndeterminate = isIndeterminate\n        }\n\n        // Don't forget to rebuild cache\n        if (this.nodes[key].isSelected && (this.selectionType === 'independent' || node.children.length === 0)) this.selectedCache.add(key)\n        if (this.nodes[key].isActive) this.activeCache.add(key)\n        if (this.nodes[key].isOpen) this.openCache.add(key)\n\n        this.updateVnodeState(key)\n      }\n    },\n    calculateState (node: string | number, state: Record<string | number, NodeState>) {\n      const children = state[node].children\n      const counts = children.reduce((counts: number[], child: string | number) => {\n        counts[0] += +Boolean(state[child].isSelected)\n        counts[1] += +Boolean(state[child].isIndeterminate)\n\n        return counts\n      }, [0, 0])\n\n      const isSelected = !!children.length && counts[0] === children.length\n      const isIndeterminate = !isSelected && (counts[0] > 0 || counts[1] > 0)\n\n      return {\n        isSelected,\n        isIndeterminate,\n      }\n    },\n    emitOpen () {\n      this.emitNodeCache('update:open', this.openCache)\n    },\n    emitSelected () {\n      this.emitNodeCache('input', this.selectedCache)\n    },\n    emitActive () {\n      this.emitNodeCache('update:active', this.activeCache)\n    },\n    emitNodeCache (event: string, cache: NodeCache) {\n      this.$emit(event, this.returnObject ? [...cache].map(key => this.nodes[key].item) : [...cache])\n    },\n    handleNodeCacheWatcher (value: any[], cache: NodeCache, updateFn: Function, emitFn: Function) {\n      value = this.returnObject ? value.map(v => getObjectValueByPath(v, this.itemKey)) : value\n      const old = [...cache]\n      if (deepEqual(old, value)) return\n\n      old.forEach(key => updateFn(key, false))\n      value.forEach(key => updateFn(key, true))\n\n      emitFn()\n    },\n    getDescendants (key: string | number, descendants: NodeArray = []) {\n      const children = this.nodes[key].children\n\n      descendants.push(...children)\n\n      for (let i = 0; i < children.length; i++) {\n        descendants = this.getDescendants(children[i], descendants)\n      }\n\n      return descendants\n    },\n    getParents (key: string | number) {\n      let parent = this.nodes[key].parent\n\n      const parents = []\n      while (parent !== null) {\n        parents.push(parent)\n        parent = this.nodes[parent].parent\n      }\n\n      return parents\n    },\n    register (node: VTreeviewNodeInstance) {\n      const key = getObjectValueByPath(node.item, this.itemKey)\n      this.nodes[key].vnode = node\n\n      this.updateVnodeState(key)\n    },\n    unregister (node: VTreeviewNodeInstance) {\n      const key = getObjectValueByPath(node.item, this.itemKey)\n      if (this.nodes[key]) this.nodes[key].vnode = null\n    },\n    isParent (key: string | number) {\n      return this.nodes[key].children && this.nodes[key].children.length\n    },\n    updateActive (key: string | number, isActive: boolean) {\n      if (!this.nodes.hasOwnProperty(key)) return\n\n      if (!this.multipleActive) {\n        this.activeCache.forEach(active => {\n          this.nodes[active].isActive = false\n          this.updateVnodeState(active)\n          this.activeCache.delete(active)\n        })\n      }\n\n      const node = this.nodes[key]\n      if (!node) return\n\n      if (isActive) this.activeCache.add(key)\n      else this.activeCache.delete(key)\n\n      node.isActive = isActive\n\n      this.updateVnodeState(key)\n    },\n    updateSelected (key: string | number, isSelected: boolean, isForced = false) {\n      if (!this.nodes.hasOwnProperty(key)) return\n\n      const changed = new Map()\n\n      if (this.selectionType !== 'independent') {\n        for (const descendant of this.getDescendants(key)) {\n          if (!getObjectValueByPath(this.nodes[descendant].item, this.itemDisabled) || isForced) {\n            this.nodes[descendant].isSelected = isSelected\n            this.nodes[descendant].isIndeterminate = false\n            changed.set(descendant, isSelected)\n          }\n        }\n\n        const calculated = this.calculateState(key, this.nodes)\n        this.nodes[key].isSelected = isSelected\n        this.nodes[key].isIndeterminate = calculated.isIndeterminate\n        changed.set(key, isSelected)\n\n        for (const parent of this.getParents(key)) {\n          const calculated = this.calculateState(parent, this.nodes)\n          this.nodes[parent].isSelected = calculated.isSelected\n          this.nodes[parent].isIndeterminate = calculated.isIndeterminate\n          changed.set(parent, calculated.isSelected)\n        }\n      } else {\n        this.nodes[key].isSelected = isSelected\n        this.nodes[key].isIndeterminate = false\n        changed.set(key, isSelected)\n      }\n\n      for (const [key, value] of changed.entries()) {\n        this.updateVnodeState(key)\n\n        if (this.selectionType === 'leaf' && this.isParent(key)) continue\n\n        value === true ? this.selectedCache.add(key) : this.selectedCache.delete(key)\n      }\n    },\n    updateOpen (key: string | number, isOpen: boolean) {\n      if (!this.nodes.hasOwnProperty(key)) return\n\n      const node = this.nodes[key]\n      const children = getObjectValueByPath(node.item, this.itemChildren)\n\n      if (children && !children.length && node.vnode && !node.vnode.hasLoaded) {\n        node.vnode.checkChildren().then(() => this.updateOpen(key, isOpen))\n      } else if (children && children.length) {\n        node.isOpen = isOpen\n\n        node.isOpen ? this.openCache.add(key) : this.openCache.delete(key)\n\n        this.updateVnodeState(key)\n      }\n    },\n    updateVnodeState (key: string | number) {\n      const node = this.nodes[key]\n\n      if (node && node.vnode) {\n        node.vnode.isSelected = node.isSelected\n        node.vnode.isIndeterminate = node.isIndeterminate\n        node.vnode.isActive = node.isActive\n        node.vnode.isOpen = node.isOpen\n      }\n    },\n    isExcluded (key: string | number) {\n      return !!this.search && this.excludedItems.has(key)\n    },\n  },\n\n  render (h): VNode {\n    const children: VNodeChildrenArrayContents = this.items.length\n      ? this.items.filter(item => {\n        return !this.isExcluded(getObjectValueByPath(item, this.itemKey))\n      }).map(item => {\n        const genChild = VTreeviewNode.options.methods.genChild.bind(this)\n\n        return genChild(item, this.disabled || getObjectValueByPath(item, this.itemDisabled))\n      })\n      /* istanbul ignore next */\n      : this.$slots.default! // TODO: remove type annotation with TS 3.2\n\n    return h('div', {\n      staticClass: 'v-treeview',\n      class: {\n        'v-treeview--hoverable': this.hoverable,\n        'v-treeview--dense': this.dense,\n        ...this.themeClasses,\n      },\n    }, children)\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-col',{attrs:{\"cols\":10}},[_c('v-sheet',{staticClass:\"overflow-auto\",attrs:{\"min-height\":\"60vh\",\"max-height\":\"80vh\",\"rounded\":\"lg\",\"elevation\":\"2\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Search Directory / Stuff\",\"outlined\":\"\",\"background-color\":\"white\",\"hide-details\":\"\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle-outline\"},on:{\"click\":function($event){return _vm.bookmarkTreeRequest(_vm.userUUId)}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"label\":\"Case sensitive search\"},model:{value:(_vm.caseSensitive),callback:function ($$v) {_vm.caseSensitive=$$v},expression:\"caseSensitive\"}}),_c('v-treeview',{attrs:{\"items\":_vm.items,\"return-object\":\"\",\"search\":_vm.search,\"filter\":_vm.filter,\"open\":_vm.open,\"open-all\":\"\",\"dense\":\"\",\"hoverable\":\"\",\"rounded\":\"\",\"selected-color\":\"blue\"},on:{\"update:open\":function($event){_vm.open=$event}},scopedSlots:_vm._u([{key:\"prepend\",fn:function({ item, open }){return [_c('v-chip-group',[_c('v-chip',{style:(`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`),attrs:{\"small\":\"\"}}),_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(item.attribute)+\" \")]),_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(item.size)+\" \")]),_c('v-icon',{attrs:{\"color\":item.isBookmarks? 'green' : 'red'}},[_vm._v(\" \"+_vm._s(item.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel')+\" \")])],1)]}},{key:\"append\",fn:function({ item }){return [_c('v-tooltip',{attrs:{\"left\":\"\",\"color\":\"#00000044\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-sheet',_vm._g(_vm._b({attrs:{\"height\":\"40px\",\"width\":\"250px\"}},'v-sheet',attrs,false),on))]}}],null,true)},[_c('v-img',{staticClass:\"rounded\",attrs:{\"src\":item.image,\"alt\":\"No Image\",\"max-width\":\"300px\",\"width\":\"300px\",\"max-height\":\"200px\",\"height\":\"200px\"},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[(item.name!='Root')?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}}):_vm._e(),(item.name=='Root')?_c('v-icon',{attrs:{\"dark\":\"\",\"large\":\"\"}},[_vm._v(\"mdi-cancel\")]):_vm._e()],1)]},proxy:true}],null,true)})],1)]}}]),model:{value:(_vm.selection),callback:function ($$v) {_vm.selection=$$v},expression:\"selection\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import server from \"@/api/basicRequest\";\r\n\r\n//getBookmarkTree请求得到相应用户的物品树\r\nexport function getBookmarkTree(userUUId) {\r\n    return server.get(\r\n        `/bk_tree/${userUUId}/search_tree`,\r\n        {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Methods': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept'\r\n            },\r\n        }\r\n    )\r\n}\r\n","<template>\r\n  <v-col :cols=\"10\">\r\n    <v-sheet min-height=\"60vh\" max-height=\"80vh\" rounded=\"lg\" class=\"overflow-auto\" elevation=\"2\">\r\n      <v-col>\r\n        <v-text-field v-model=\"search\" label=\"Search Directory / Stuff\" outlined background-color=\"white\"\r\n                      hide-details clearable clear-icon=\"mdi-close-circle-outline\"  @click=\"bookmarkTreeRequest(userUUId)\">\r\n        </v-text-field>\r\n        <v-checkbox v-model=\"caseSensitive\" hide-details label=\"Case sensitive search\">\r\n        </v-checkbox>\r\n        <v-treeview v-model=\"selection\" :items=\"items\" return-object :search=\"search\" :filter=\"filter\"\r\n                    :open.sync=\"open\" open-all dense hoverable rounded selected-color=\"blue\">\r\n          <!--left buttons view-->\r\n          <template #prepend=\"{ item, open }\">\r\n            <v-chip-group>\r\n              <v-chip small\r\n                      :style=\"`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`\">\r\n              </v-chip>\r\n              <v-chip small dark>\r\n                {{ item.attribute }}\r\n              </v-chip>\r\n              <v-chip small dark>\r\n                {{ item.size }}\r\n              </v-chip>\r\n              <v-icon :color=\"item.isBookmarks? 'green' : 'red'\">\r\n                {{ item.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel' }}\r\n              </v-icon>\r\n            </v-chip-group>\r\n          </template>\r\n          <!--right img view-->\r\n          <template #append=\"{ item }\">\r\n            <v-tooltip left color=\"#00000044\">\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-sheet height=\"40px\" width=\"250px\" v-bind=\"attrs\" v-on=\"on\">\r\n                </v-sheet>\r\n              </template>\r\n              <v-img :src=\"item.image\" alt=\"No Image\" class=\"rounded\"\r\n                     max-width=\"300px\" width=\"300px\" max-height=\"200px\" height=\"200px\">\r\n                <template v-slot:placeholder>\r\n                  <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\r\n                    <v-progress-circular v-if=\"item.name!='Root'\" indeterminate\r\n                                         color=\"grey lighten-5\"></v-progress-circular>\r\n                    <v-icon v-if=\"item.name=='Root'\" dark large>mdi-cancel</v-icon>\r\n                  </v-row>\r\n                </template>\r\n              </v-img>\r\n            </v-tooltip>\r\n          </template>\r\n        </v-treeview>\r\n      </v-col>\r\n    </v-sheet>\r\n  </v-col>\r\n</template>\r\n<script>\r\n\r\nimport {getBookmarkTree} from \"@/api/bookmarkTreeRequest/bookmarkApi\";\r\n\r\nexport default {\r\n  name: 'BookmarkView',\r\n  components: {},\r\n  data: () => ({\r\n    selection: [],\r\n    open: [1, 2],\r\n    search: null,\r\n    treeSearchResult: null,\r\n    caseSensitive: false,\r\n    items: [],\r\n    userUUId: '648fdfbb54b0950d00c37c2e'\r\n  }),\r\n  mounted() {\r\n    this.bookmarkTreeRequest(this.userUUId)\r\n  },\r\n  computed: {\r\n    filter() {\r\n      return this.caseSensitive\r\n          ? (item, search, textKey) => item[textKey].indexOf(search) > -1\r\n          : undefined\r\n    },\r\n  },\r\n  methods: {\r\n    bookmarkTreeRequest(userUUId) {\r\n      getBookmarkTree(userUUId).then(res => {\r\n        console.log(res)\r\n        this.items = res.data.data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookmarkView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookmarkView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookmarkView.vue?vue&type=template&id=15fac82f&\"\nimport script from \"./BookmarkView.vue?vue&type=script&lang=js&\"\nexport * from \"./BookmarkView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-col',{attrs:{\"cols\":10}},[_c('v-sheet',{staticClass:\"my-0 mx-0 px-0 py-0\",attrs:{\"elevation\":\"2\",\"rounded\":\"\"}},[_c('v-container',[_c('v-row',{staticClass:\"fill-height\",attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-col',[_c('v-text-field',{ref:\"username\",attrs:{\"error-messages\":_vm.errorMessages,\"type\":\"username\",\"prepend-icon\":\"mdi-account\",\"label\":\"Full Name\",\"placeholder\":\"John Doe\",\"counter\":\"25\",\"required\":\"\",\"rules\":[() => !!_vm.username || 'This field is required',\n                        () => !!_vm.username && _vm.username.length <= 25 || 'Username must be less than 25 characters',]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{ref:\"email\",attrs:{\"rules\":[() => !!_vm.email || 'This field is required',_vm.emailCheck],\"prepend-icon\":\"mdi-email\",\"type\":\"email\",\"label\":\"Email\",\"placeholder\":\"abcd@ef.com\",\"required\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{ref:\"password\",attrs:{\"type\":\"password\",\"label\":\"Password\",\"required\":\"\",\"placeholder\":\"123456\",\"prepend-icon\":\"mdi-key\",\"rules\":[() => !!_vm.password || 'This field is required']},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-text-field',{ref:\"checkPassword\",attrs:{\"type\":\"checkPassword\",\"label\":\"Check Password\",\"required\":\"\",\"placeholder\":\"123456\",\"prepend-icon\":\"mdi-check-all\",\"rules\":[() => !!_vm.checkPassword || 'This field is required']},model:{value:(_vm.checkPassword),callback:function ($$v) {_vm.checkPassword=$$v},expression:\"checkPassword\"}}),_c('v-text-field',{ref:\"telephone\",attrs:{\"type\":\"telephone\",\"label\":\"Telephone\",\"required\":\"\",\"placeholder\":\"12345678901\",\"prepend-icon\":\"mdi-phone\",\"rules\":[() => !!_vm.telephone || 'This field is required']},model:{value:(_vm.telephone),callback:function ($$v) {_vm.telephone=$$v},expression:\"telephone\"}}),_c('v-autocomplete',{ref:\"continent\",attrs:{\"rules\":[() => !!_vm.continent || 'This field is required'],\"prepend-icon\":\"mdi-earth\",\"items\":_vm.continents,\"label\":\"Continent\",\"placeholder\":\"Select...\",\"required\":\"\"},model:{value:(_vm.continent),callback:function ($$v) {_vm.continent=$$v},expression:\"continent\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('AvatarUploader')],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-col :cols=\"10\">\r\n    <v-sheet elevation=\"2\" rounded class=\"my-0 mx-0 px-0 py-0\">\r\n      <v-container>\r\n        <v-row justify=\"center\" align=\"center\" class=\"fill-height\">\r\n          <v-col>\r\n            <v-text-field ref=\"username\" v-model=\"username\" :error-messages=\"errorMessages\" type=\"username\"\r\n                          prepend-icon=\"mdi-account\" label=\"Full Name\" placeholder=\"John Doe\" counter=\"25\"\r\n                          required\r\n                          :rules=\"[() => !!username || 'This field is required',\r\n                          () => !!username && username.length <= 25 || 'Username must be less than 25 characters',]\">\r\n            </v-text-field>\r\n            <v-text-field ref=\"email\" v-model=\"email\"\r\n                          :rules=\"[() => !!email || 'This field is required',emailCheck]\"\r\n                          prepend-icon=\"mdi-email\" type=\"email\" label=\"Email\" placeholder=\"abcd@ef.com\"\r\n                          required>\r\n            </v-text-field>\r\n            <v-text-field ref=\"password\" type=\"password\" v-model=\"password\" label=\"Password\" required\r\n                          placeholder=\"123456\"\r\n                          prepend-icon=\"mdi-key\" :rules=\"[() => !!password || 'This field is required']\">\r\n            </v-text-field>\r\n            <v-text-field ref=\"checkPassword\" type=\"checkPassword\" v-model=\"checkPassword\" label=\"Check Password\"\r\n                          required placeholder=\"123456\"\r\n                          prepend-icon=\"mdi-check-all\"\r\n                          :rules=\"[() => !!checkPassword || 'This field is required']\">\r\n            </v-text-field>\r\n            <v-text-field ref=\"telephone\" v-model=\"telephone\" type=\"telephone\" label=\"Telephone\" required\r\n                          placeholder=\"12345678901\"\r\n                          prepend-icon=\"mdi-phone\" :rules=\"[() => !!telephone || 'This field is required']\">\r\n            </v-text-field>\r\n            <v-autocomplete ref=\"continent\" v-model=\"continent\"\r\n                            :rules=\"[() => !!continent || 'This field is required']\"\r\n                            prepend-icon=\"mdi-earth\" :items=\"continents\" label=\"Continent\" placeholder=\"Select...\"\r\n                            required>\r\n            </v-autocomplete>\r\n          </v-col>\r\n          <v-col cols=\"6\">\r\n            <AvatarUploader></AvatarUploader>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </v-sheet>\r\n  </v-col>\r\n</template>\r\n<script>\r\n\r\nimport AvatarUploader from \"@/components/AvatarUploader.vue\";\r\n\r\nexport default {\r\n  name: 'Account',\r\n  components: {AvatarUploader},\r\n  data: () => ({\r\n    continents: ['Asia', 'Europe', 'Africa', 'North America', 'South America', 'Oceania', 'Antarctica'],\r\n    continent: null,\r\n    errorMessages: '',\r\n    username: null,\r\n    email: null,\r\n    telephone: null,\r\n    password: null,\r\n    checkPassword: null,\r\n    avatar: null,\r\n    formHasErrors: false,\r\n  }),\r\n  computed: {\r\n    form() {\r\n      return {\r\n        username: this.name,\r\n        email: this.email,\r\n        telephone: this.telephone,\r\n        password: this.password,\r\n        checkPassword: this.checkPassword,\r\n        continent: this.continent,\r\n        avatar: this.avatar,\r\n      }\r\n    },\r\n  },\r\n  watch: {},\r\n  methods: {}\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountView.vue?vue&type=template&id=3894650c&\"\nimport script from \"./AccountView.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Helpers\nimport { wrapInArray, sortItems, deepEqual, groupItems, searchItems, fillArray } from '../../util/helpers'\nimport Vue, { VNode } from 'vue'\n\n// Types\nimport {\n  DataOptions,\n  DataPagination,\n  DataScopeProps,\n  DataSortFunction,\n  DataGroupFunction,\n  DataSearchFunction,\n  ItemGroup,\n} from 'vuetify/types'\nimport { PropValidator } from 'vue/types/options'\n\nexport default Vue.extend({\n  name: 'v-data',\n\n  inheritAttrs: false,\n\n  props: {\n    items: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    options: {\n      type: Object,\n      default: () => ({}),\n    } as PropValidator<Partial<DataOptions>>,\n    sortBy: {\n      type: [String, Array],\n    } as PropValidator<string | string[] | undefined>,\n    sortDesc: {\n      type: [Boolean, Array],\n    } as PropValidator<boolean | boolean[] | undefined>,\n    customSort: {\n      type: Function,\n      default: sortItems,\n    } as PropValidator<DataSortFunction>,\n    mustSort: Boolean,\n    multiSort: Boolean,\n    page: {\n      type: Number,\n      default: 1,\n    },\n    itemsPerPage: {\n      type: Number,\n      default: 10,\n    },\n    groupBy: {\n      type: [String, Array],\n      default: () => [],\n    } as PropValidator<string | string[]>,\n    groupDesc: {\n      type: [Boolean, Array],\n      default: () => [],\n    } as PropValidator<boolean | boolean[]>,\n    customGroup: {\n      type: Function,\n      default: groupItems,\n    } as PropValidator<DataGroupFunction>,\n    locale: {\n      type: String,\n      default: 'en-US',\n    },\n    disableSort: Boolean,\n    disablePagination: Boolean,\n    disableFiltering: Boolean,\n    search: String,\n    customFilter: {\n      type: Function,\n      default: searchItems,\n    } as PropValidator<DataSearchFunction>,\n    serverItemsLength: {\n      type: Number,\n      default: -1,\n    },\n  },\n\n  data () {\n    let internalOptions: DataOptions = {\n      page: this.page,\n      itemsPerPage: this.itemsPerPage,\n      sortBy: wrapInArray(this.sortBy),\n      sortDesc: wrapInArray(this.sortDesc),\n      groupBy: wrapInArray(this.groupBy),\n      groupDesc: wrapInArray(this.groupDesc),\n      mustSort: this.mustSort,\n      multiSort: this.multiSort,\n    }\n\n    if (this.options) {\n      internalOptions = Object.assign(internalOptions, this.options)\n    }\n\n    const { sortBy, sortDesc, groupBy, groupDesc } = internalOptions\n    const sortDiff = sortBy.length - sortDesc.length\n    const groupDiff = groupBy.length - groupDesc.length\n\n    if (sortDiff > 0) {\n      internalOptions.sortDesc.push(...fillArray(sortDiff, false))\n    }\n\n    if (groupDiff > 0) {\n      internalOptions.groupDesc.push(...fillArray(groupDiff, false))\n    }\n\n    return {\n      internalOptions,\n    }\n  },\n\n  computed: {\n    itemsLength (): number {\n      return this.serverItemsLength >= 0 ? this.serverItemsLength : this.filteredItems.length\n    },\n    pageCount (): number {\n      return this.internalOptions.itemsPerPage <= 0\n        ? 1\n        : Math.ceil(this.itemsLength / this.internalOptions.itemsPerPage)\n    },\n    pageStart (): number {\n      if (this.internalOptions.itemsPerPage === -1 || !this.items.length) return 0\n\n      return (this.internalOptions.page - 1) * this.internalOptions.itemsPerPage\n    },\n    pageStop (): number {\n      if (this.internalOptions.itemsPerPage === -1) return this.itemsLength\n      if (!this.items.length) return 0\n\n      return Math.min(this.itemsLength, this.internalOptions.page * this.internalOptions.itemsPerPage)\n    },\n    isGrouped (): boolean {\n      return !!this.internalOptions.groupBy.length\n    },\n    pagination (): DataPagination {\n      return {\n        page: this.internalOptions.page,\n        itemsPerPage: this.internalOptions.itemsPerPage,\n        pageStart: this.pageStart,\n        pageStop: this.pageStop,\n        pageCount: this.pageCount,\n        itemsLength: this.itemsLength,\n      }\n    },\n    filteredItems (): any[] {\n      let items = this.items.slice()\n\n      if (!this.disableFiltering && this.serverItemsLength <= 0) {\n        items = this.customFilter(items, this.search)\n      }\n\n      return items\n    },\n    computedItems (): any[] {\n      let items = this.filteredItems.slice()\n\n      if ((!this.disableSort || this.internalOptions.groupBy.length) && this.serverItemsLength <= 0) {\n        items = this.sortItems(items)\n      }\n\n      if (!this.disablePagination && this.serverItemsLength <= 0) {\n        items = this.paginateItems(items)\n      }\n\n      return items\n    },\n    groupedItems (): ItemGroup<any>[] | null {\n      return this.isGrouped ? this.groupItems(this.computedItems) : null\n    },\n    scopedProps (): DataScopeProps {\n      return {\n        sort: this.sort,\n        sortArray: this.sortArray,\n        group: this.group,\n        items: this.computedItems,\n        options: this.internalOptions,\n        updateOptions: this.updateOptions,\n        pagination: this.pagination,\n        groupedItems: this.groupedItems,\n        originalItemsLength: this.items.length,\n      }\n    },\n    computedOptions (): DataOptions {\n      return { ...this.options } as DataOptions\n    },\n  },\n\n  watch: {\n    computedOptions: {\n      handler (options: DataOptions, old: DataOptions) {\n        if (deepEqual(options, old)) return\n\n        this.updateOptions(options)\n      },\n      deep: true,\n      immediate: true,\n    },\n    internalOptions: {\n      handler (options: DataOptions, old: DataOptions) {\n        if (deepEqual(options, old)) return\n        this.$emit('update:options', options)\n      },\n      deep: true,\n      immediate: true,\n    },\n    page (page: number) {\n      this.updateOptions({ page })\n    },\n    'internalOptions.page' (page: number) {\n      this.$emit('update:page', page)\n    },\n    itemsPerPage (itemsPerPage: number) {\n      this.updateOptions({ itemsPerPage })\n    },\n    'internalOptions.itemsPerPage' (itemsPerPage: number) {\n      this.$emit('update:items-per-page', itemsPerPage)\n    },\n    sortBy (sortBy: string | string[]) {\n      this.updateOptions({ sortBy: wrapInArray(sortBy) })\n    },\n    'internalOptions.sortBy' (sortBy: string[], old: string[]) {\n      !deepEqual(sortBy, old) && this.$emit('update:sort-by', Array.isArray(this.sortBy) ? sortBy : sortBy[0])\n    },\n    sortDesc (sortDesc: boolean | boolean[]) {\n      this.updateOptions({ sortDesc: wrapInArray(sortDesc) })\n    },\n    'internalOptions.sortDesc' (sortDesc: boolean[], old: boolean[]) {\n      !deepEqual(sortDesc, old) && this.$emit('update:sort-desc', Array.isArray(this.sortDesc) ? sortDesc : sortDesc[0])\n    },\n    groupBy (groupBy: string | string[]) {\n      this.updateOptions({ groupBy: wrapInArray(groupBy) })\n    },\n    'internalOptions.groupBy' (groupBy: string[], old: string[]) {\n      !deepEqual(groupBy, old) && this.$emit('update:group-by', Array.isArray(this.groupBy) ? groupBy : groupBy[0])\n    },\n    groupDesc (groupDesc: boolean | boolean[]) {\n      this.updateOptions({ groupDesc: wrapInArray(groupDesc) })\n    },\n    'internalOptions.groupDesc' (groupDesc: boolean[], old: boolean[]) {\n      !deepEqual(groupDesc, old) && this.$emit('update:group-desc', Array.isArray(this.groupDesc) ? groupDesc : groupDesc[0])\n    },\n    multiSort (multiSort: boolean) {\n      this.updateOptions({ multiSort })\n    },\n    'internalOptions.multiSort' (multiSort: boolean) {\n      this.$emit('update:multi-sort', multiSort)\n    },\n    mustSort (mustSort: boolean) {\n      this.updateOptions({ mustSort })\n    },\n    'internalOptions.mustSort' (mustSort: boolean) {\n      this.$emit('update:must-sort', mustSort)\n    },\n    pageCount: {\n      handler (pageCount: number) {\n        this.$emit('page-count', pageCount)\n      },\n      immediate: true,\n    },\n    computedItems: {\n      handler (computedItems: any[]) {\n        this.$emit('current-items', computedItems)\n      },\n      immediate: true,\n    },\n    pagination: {\n      handler (pagination: DataPagination, old: DataPagination) {\n        if (deepEqual(pagination, old)) return\n        this.$emit('pagination', this.pagination)\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    toggle (key: string, oldBy: string[], oldDesc: boolean[], page: number, mustSort: boolean, multiSort: boolean) {\n      let by = oldBy.slice()\n      let desc = oldDesc.slice()\n      const byIndex = by.findIndex((k: string) => k === key)\n\n      if (byIndex < 0) {\n        if (!multiSort) {\n          by = []\n          desc = []\n        }\n\n        by.push(key)\n        desc.push(false)\n      } else if (byIndex >= 0 && !desc[byIndex]) {\n        desc[byIndex] = true\n      } else if (!mustSort) {\n        by.splice(byIndex, 1)\n        desc.splice(byIndex, 1)\n      } else {\n        desc[byIndex] = false\n      }\n\n      // Reset page to 1 if sortBy or sortDesc have changed\n      if (!deepEqual(by, oldBy) || !deepEqual(desc, oldDesc)) {\n        page = 1\n      }\n\n      return { by, desc, page }\n    },\n    group (key: string): void {\n      const { by: groupBy, desc: groupDesc, page } = this.toggle(\n        key,\n        this.internalOptions.groupBy,\n        this.internalOptions.groupDesc,\n        this.internalOptions.page,\n        true,\n        false\n      )\n      this.updateOptions({ groupBy, groupDesc, page })\n    },\n    sort (key: string | string[]): void {\n      if (Array.isArray(key)) return this.sortArray(key)\n\n      const { by: sortBy, desc: sortDesc, page } = this.toggle(\n        key,\n        this.internalOptions.sortBy,\n        this.internalOptions.sortDesc,\n        this.internalOptions.page,\n        this.internalOptions.mustSort,\n        this.internalOptions.multiSort\n      )\n      this.updateOptions({ sortBy, sortDesc, page })\n    },\n    sortArray (sortBy: string[]) {\n      const sortDesc = sortBy.map(s => {\n        const i = this.internalOptions.sortBy.findIndex((k: string) => k === s)\n        return i > -1 ? this.internalOptions.sortDesc[i] : false\n      })\n\n      this.updateOptions({ sortBy, sortDesc })\n    },\n    updateOptions (options: any) {\n      this.internalOptions = {\n        ...this.internalOptions,\n        ...options,\n        page: this.serverItemsLength < 0\n          ? Math.max(1, Math.min(options.page || this.internalOptions.page, this.pageCount))\n          : options.page || this.internalOptions.page,\n      }\n    },\n    sortItems (items: any[]): any[] {\n      let sortBy: string[] = []\n      let sortDesc: boolean[] = []\n\n      if (!this.disableSort) {\n        sortBy = this.internalOptions.sortBy\n        sortDesc = this.internalOptions.sortDesc\n      }\n\n      if (this.internalOptions.groupBy.length) {\n        sortBy = [...this.internalOptions.groupBy, ...sortBy]\n        sortDesc = [...this.internalOptions.groupDesc, ...sortDesc]\n      }\n\n      return this.customSort(items, sortBy, sortDesc, this.locale)\n    },\n    groupItems (items: any[]): ItemGroup<any>[] {\n      return this.customGroup(items, this.internalOptions.groupBy, this.internalOptions.groupDesc)\n    },\n    paginateItems (items: any[]): any[] {\n      // Make sure we don't try to display non-existant page if items suddenly change\n      // TODO: Could possibly move this to pageStart/pageStop?\n      if (this.serverItemsLength === -1 && items.length <= this.pageStart) {\n        this.internalOptions.page = Math.max(1, Math.ceil(items.length / this.internalOptions.itemsPerPage)) || 1 // Prevent NaN\n      }\n\n      return items.slice(this.pageStart, this.pageStop)\n    },\n  },\n\n  render (): VNode {\n    return this.$scopedSlots.default && this.$scopedSlots.default(this.scopedProps) as any\n  },\n})\n","import './VDataFooter.sass'\n\n// Components\nimport VSelect from '../VSelect/VSelect'\nimport VIcon from '../VIcon'\nimport VBtn from '../VBtn'\n\n// Types\nimport Vue, { VNode, VNodeChildrenArrayContents, PropType } from 'vue'\nimport { DataPagination, DataOptions, DataItemsPerPageOption } from 'vuetify/types'\nimport { PropValidator } from 'vue/types/options'\nimport { getSlot } from '../../util/helpers'\n\nexport default Vue.extend({\n  name: 'v-data-footer',\n\n  props: {\n    options: {\n      type: Object as PropType<DataOptions>,\n      required: true,\n    },\n    pagination: {\n      type: Object as PropType<DataPagination>,\n      required: true,\n    },\n    itemsPerPageOptions: {\n      type: Array,\n      default: () => ([5, 10, 15, -1]),\n    } as PropValidator<DataItemsPerPageOption[]>,\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    firstIcon: {\n      type: String,\n      default: '$first',\n    },\n    lastIcon: {\n      type: String,\n      default: '$last',\n    },\n    itemsPerPageText: {\n      type: String,\n      default: '$vuetify.dataFooter.itemsPerPageText',\n    },\n    itemsPerPageAllText: {\n      type: String,\n      default: '$vuetify.dataFooter.itemsPerPageAll',\n    },\n    showFirstLastPage: Boolean,\n    showCurrentPage: Boolean,\n    disablePagination: Boolean,\n    disableItemsPerPage: Boolean,\n    pageText: {\n      type: String,\n      default: '$vuetify.dataFooter.pageText',\n    },\n  },\n\n  computed: {\n    disableNextPageIcon (): boolean {\n      return this.options.itemsPerPage <= 0 ||\n        this.options.page * this.options.itemsPerPage >= this.pagination.itemsLength ||\n        this.pagination.pageStop < 0\n    },\n    computedDataItemsPerPageOptions (): any[] {\n      return this.itemsPerPageOptions.map(option => {\n        if (typeof option === 'object') return option\n        else return this.genDataItemsPerPageOption(option)\n      })\n    },\n  },\n\n  methods: {\n    updateOptions (obj: object) {\n      this.$emit('update:options', Object.assign({}, this.options, obj))\n    },\n    onFirstPage () {\n      this.updateOptions({ page: 1 })\n    },\n    onPreviousPage () {\n      this.updateOptions({ page: this.options.page - 1 })\n    },\n    onNextPage () {\n      this.updateOptions({ page: this.options.page + 1 })\n    },\n    onLastPage () {\n      this.updateOptions({ page: this.pagination.pageCount })\n    },\n    onChangeItemsPerPage (itemsPerPage: number) {\n      this.updateOptions({ itemsPerPage, page: 1 })\n    },\n    genDataItemsPerPageOption (option: number) {\n      return {\n        text: option === -1 ? this.$vuetify.lang.t(this.itemsPerPageAllText) : String(option),\n        value: option,\n      }\n    },\n    genItemsPerPageSelect () {\n      let value = this.options.itemsPerPage\n      const computedIPPO = this.computedDataItemsPerPageOptions\n\n      if (computedIPPO.length <= 1) return null\n\n      if (!computedIPPO.find(ippo => ippo.value === value)) value = computedIPPO[0]\n\n      return this.$createElement('div', {\n        staticClass: 'v-data-footer__select',\n      }, [\n        this.$vuetify.lang.t(this.itemsPerPageText),\n        this.$createElement(VSelect, {\n          attrs: {\n            'aria-label': this.$vuetify.lang.t(this.itemsPerPageText),\n          },\n          props: {\n            disabled: this.disableItemsPerPage,\n            items: computedIPPO,\n            value,\n            hideDetails: true,\n            auto: true,\n            minWidth: '75px',\n          },\n          on: {\n            input: this.onChangeItemsPerPage,\n          },\n        }),\n      ])\n    },\n    genPaginationInfo () {\n      let children: VNodeChildrenArrayContents = ['–']\n      const itemsLength: number = this.pagination.itemsLength\n      let pageStart: number = this.pagination.pageStart\n      let pageStop: number = this.pagination.pageStop\n\n      if (this.pagination.itemsLength && this.pagination.itemsPerPage) {\n        pageStart = this.pagination.pageStart + 1\n        pageStop = itemsLength < this.pagination.pageStop || this.pagination.pageStop < 0\n          ? itemsLength\n          : this.pagination.pageStop\n\n        children = this.$scopedSlots['page-text']\n          ? [this.$scopedSlots['page-text']!({ pageStart, pageStop, itemsLength })]\n          : [this.$vuetify.lang.t(this.pageText, pageStart, pageStop, itemsLength)]\n      } else if (this.$scopedSlots['page-text']) {\n        children = [this.$scopedSlots['page-text']!({ pageStart, pageStop, itemsLength })]\n      }\n\n      return this.$createElement('div', {\n        class: 'v-data-footer__pagination',\n      }, children)\n    },\n    genIcon (click: Function, disabled: boolean, label: string, icon: string): VNode {\n      return this.$createElement(VBtn, {\n        props: {\n          disabled: disabled || this.disablePagination,\n          icon: true,\n          text: true,\n          // dark: this.dark, // TODO: add mixin\n          // light: this.light // TODO: add mixin\n        },\n        on: {\n          click,\n        },\n        attrs: {\n          'aria-label': label, // TODO: Localization\n        },\n      }, [this.$createElement(VIcon, icon)])\n    },\n    genIcons () {\n      const before: VNodeChildrenArrayContents = []\n      const after: VNodeChildrenArrayContents = []\n\n      before.push(this.genIcon(\n        this.onPreviousPage,\n        this.options.page === 1,\n        this.$vuetify.lang.t('$vuetify.dataFooter.prevPage'),\n        this.$vuetify.rtl ? this.nextIcon : this.prevIcon\n      ))\n\n      after.push(this.genIcon(\n        this.onNextPage,\n        this.disableNextPageIcon,\n        this.$vuetify.lang.t('$vuetify.dataFooter.nextPage'),\n        this.$vuetify.rtl ? this.prevIcon : this.nextIcon\n      ))\n\n      if (this.showFirstLastPage) {\n        before.unshift(this.genIcon(\n          this.onFirstPage,\n          this.options.page === 1,\n          this.$vuetify.lang.t('$vuetify.dataFooter.firstPage'),\n          this.$vuetify.rtl ? this.lastIcon : this.firstIcon\n        ))\n\n        after.push(this.genIcon(\n          this.onLastPage,\n          this.options.page >= this.pagination.pageCount || this.options.itemsPerPage === -1,\n          this.$vuetify.lang.t('$vuetify.dataFooter.lastPage'),\n          this.$vuetify.rtl ? this.firstIcon : this.lastIcon\n        ))\n      }\n\n      return [\n        this.$createElement('div', {\n          staticClass: 'v-data-footer__icons-before',\n        }, before),\n        this.showCurrentPage && this.$createElement('span', [this.options.page.toString()]),\n        this.$createElement('div', {\n          staticClass: 'v-data-footer__icons-after',\n        }, after),\n      ]\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement('div', {\n      staticClass: 'v-data-footer',\n    }, [\n      getSlot(this, 'prepend'),\n      this.genItemsPerPageSelect(),\n      this.genPaginationInfo(),\n      this.genIcons(),\n    ])\n  },\n})\n","// Components\nimport { VData } from '../VData'\nimport VDataFooter from './VDataFooter'\n\n// Mixins\nimport Mobile from '../../mixins/mobile'\nimport Themeable from '../../mixins/themeable'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { deepEqual, getObjectValueByPath, getPrefixedScopedSlots, getSlot, camelizeObjectKeys, keyCodes } from '../../util/helpers'\nimport { breaking, removed } from '../../util/console'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { DataItemProps, DataScopeProps } from 'vuetify/types'\n\n/* @vue/component */\nexport default mixins(\n  Mobile,\n  Themeable\n).extend({\n  name: 'v-data-iterator',\n\n  props: {\n    ...VData.options.props, // TODO: filter out props not used\n    itemKey: {\n      type: String,\n      default: 'id',\n    },\n    value: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    singleSelect: Boolean,\n    expanded: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    mobileBreakpoint: {\n      ...Mobile.options.props.mobileBreakpoint,\n      default: 600,\n    },\n    singleExpand: Boolean,\n    loading: [Boolean, String],\n    noResultsText: {\n      type: String,\n      default: '$vuetify.dataIterator.noResultsText',\n    },\n    noDataText: {\n      type: String,\n      default: '$vuetify.noDataText',\n    },\n    loadingText: {\n      type: String,\n      default: '$vuetify.dataIterator.loadingText',\n    },\n    hideDefaultFooter: Boolean,\n    footerProps: Object,\n    selectableKey: {\n      type: String,\n      default: 'isSelectable',\n    },\n  },\n\n  data: () => ({\n    selection: {} as Record<string, any>,\n    expansion: {} as Record<string, boolean>,\n    internalCurrentItems: [] as any[],\n    shiftKeyDown: false,\n    lastEntry: -1,\n  }),\n\n  computed: {\n    everyItem (): boolean {\n      return !!this.selectableItems.length && this.selectableItems.every((i: any) => this.isSelected(i))\n    },\n    someItems (): boolean {\n      return this.selectableItems.some((i: any) => this.isSelected(i))\n    },\n    sanitizedFooterProps (): Record<string, any> {\n      return camelizeObjectKeys(this.footerProps)\n    },\n    selectableItems (): any[] {\n      return this.internalCurrentItems.filter(item => this.isSelectable(item))\n    },\n  },\n\n  watch: {\n    value: {\n      handler (value: any[]) {\n        this.selection = value.reduce((selection, item) => {\n          selection[getObjectValueByPath(item, this.itemKey)] = item\n          return selection\n        }, {})\n      },\n      immediate: true,\n    },\n    selection (value: Record<string, boolean>, old: Record<string, boolean>) {\n      if (deepEqual(Object.keys(value), Object.keys(old))) return\n\n      this.$emit('input', Object.values(value))\n    },\n    expanded: {\n      handler (value: any[]) {\n        this.expansion = value.reduce((expansion, item) => {\n          expansion[getObjectValueByPath(item, this.itemKey)] = true\n          return expansion\n        }, {})\n      },\n      immediate: true,\n    },\n    expansion (value: Record<string, boolean>, old: Record<string, boolean>) {\n      if (deepEqual(value, old)) return\n      const keys = Object.keys(value).filter(k => value[k])\n      const expanded = !keys.length ? [] : this.items.filter(i => keys.includes(String(getObjectValueByPath(i, this.itemKey))))\n      this.$emit('update:expanded', expanded)\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['disable-initial-sort', 'sort-by'],\n      ['filter', 'custom-filter'],\n      ['pagination', 'options'],\n      ['total-items', 'server-items-length'],\n      ['hide-actions', 'hide-default-footer'],\n      ['rows-per-page-items', 'footer-props.items-per-page-options'],\n      ['rows-per-page-text', 'footer-props.items-per-page-text'],\n      ['prev-icon', 'footer-props.prev-icon'],\n      ['next-icon', 'footer-props.next-icon'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n\n    const removedProps = [\n      'expand',\n      'content-class',\n      'content-props',\n      'content-tag',\n    ]\n\n    /* istanbul ignore next */\n    removedProps.forEach(prop => {\n      if (this.$attrs.hasOwnProperty(prop)) removed(prop)\n    })\n  },\n\n  mounted () {\n    window.addEventListener('keydown', this.onKeyDown)\n    window.addEventListener('keyup', this.onKeyUp)\n  },\n  beforeDestroy () {\n    window.removeEventListener('keydown', this.onKeyDown)\n    window.removeEventListener('keyup', this.onKeyUp)\n  },\n\n  methods: {\n    onKeyDown (e: KeyboardEvent): void {\n      this.shiftKeyDown = e.keyCode === keyCodes.shift || e.shiftKey\n    },\n    onKeyUp (e: KeyboardEvent): void {\n      if (e.keyCode === keyCodes.shift || !e.shiftKey) {\n        this.shiftKeyDown = false\n      }\n    },\n    toggleSelectAll (value: boolean): void {\n      const selection = Object.assign({}, this.selection)\n\n      for (let i = 0; i < this.selectableItems.length; i++) {\n        const item = this.selectableItems[i]\n\n        if (!this.isSelectable(item)) continue\n\n        const key = getObjectValueByPath(item, this.itemKey)\n        if (value) selection[key] = item\n        else delete selection[key]\n      }\n\n      this.selection = selection\n      this.$emit('toggle-select-all', { items: this.internalCurrentItems, value })\n    },\n    isSelectable (item: any): boolean {\n      return getObjectValueByPath(item, this.selectableKey) !== false\n    },\n    isSelected (item: any): boolean {\n      return !!this.selection[getObjectValueByPath(item, this.itemKey)] || false\n    },\n    select (item: any, value = true, emit = true): void {\n      if (!this.isSelectable(item)) return\n\n      const selection = this.singleSelect ? {} : Object.assign({}, this.selection)\n      const key = getObjectValueByPath(item, this.itemKey)\n\n      if (value) selection[key] = item\n      else delete selection[key]\n\n      const index = this.selectableItems.findIndex(x => getObjectValueByPath(x, this.itemKey) === key)\n      if (this.lastEntry === -1) this.lastEntry = index\n      else if (this.shiftKeyDown && !this.singleSelect && emit) {\n        const lastEntryKey = getObjectValueByPath(this.selectableItems[this.lastEntry], this.itemKey)\n        const lastEntryKeySelected = Object.keys(this.selection).includes(String(lastEntryKey))\n        this.multipleSelect(lastEntryKeySelected, emit, selection, index)\n      }\n      this.lastEntry = index\n\n      if (this.singleSelect && emit) {\n        const keys = Object.keys(this.selection)\n        const old = keys.length && getObjectValueByPath(this.selection[keys[0]], this.itemKey)\n        old && old !== key && this.$emit('item-selected', { item: this.selection[old], value: false })\n      }\n      this.selection = selection\n      emit && this.$emit('item-selected', { item, value })\n    },\n    multipleSelect (value = true, emit = true, selection: any, index: number): void {\n      const start = index < this.lastEntry ? index : this.lastEntry\n      const end = index < this.lastEntry ? this.lastEntry : index\n      for (let i = start; i <= end; i++) {\n        const currentItem = this.selectableItems[i]\n        const key = getObjectValueByPath(currentItem, this.itemKey)\n        if (value) selection[key] = currentItem\n        else delete selection[key]\n        emit && this.$emit('item-selected', { currentItem, value })\n      }\n    },\n    isExpanded (item: any): boolean {\n      return this.expansion[getObjectValueByPath(item, this.itemKey)] || false\n    },\n    expand (item: any, value = true): void {\n      const expansion = this.singleExpand ? {} : Object.assign({}, this.expansion)\n      const key = getObjectValueByPath(item, this.itemKey)\n\n      if (value) expansion[key] = true\n      else delete expansion[key]\n\n      this.expansion = expansion\n      this.$emit('item-expanded', { item, value })\n    },\n    createItemProps (item: any, index: number): DataItemProps {\n      return {\n        item,\n        index,\n        select: (v: boolean) => this.select(item, v),\n        isSelected: this.isSelected(item),\n        expand: (v: boolean) => this.expand(item, v),\n        isExpanded: this.isExpanded(item),\n        isMobile: this.isMobile,\n      }\n    },\n    genEmptyWrapper (content: VNodeChildren) {\n      return this.$createElement('div', content)\n    },\n    genEmpty (originalItemsLength: number, filteredItemsLength: number) {\n      if (originalItemsLength === 0 && this.loading) {\n        const loading = this.$slots.loading || this.$vuetify.lang.t(this.loadingText)\n        return this.genEmptyWrapper(loading)\n      } else if (originalItemsLength === 0) {\n        const noData = this.$slots['no-data'] || this.$vuetify.lang.t(this.noDataText)\n        return this.genEmptyWrapper(noData)\n      } else if (filteredItemsLength === 0) {\n        const noResults = this.$slots['no-results'] || this.$vuetify.lang.t(this.noResultsText)\n        return this.genEmptyWrapper(noResults)\n      }\n\n      return null\n    },\n    genItems (props: DataScopeProps) {\n      const empty = this.genEmpty(props.originalItemsLength, props.pagination.itemsLength)\n      if (empty) return [empty]\n\n      if (this.$scopedSlots.default) {\n        return this.$scopedSlots.default({\n          ...props,\n          isSelected: this.isSelected,\n          select: this.select,\n          isExpanded: this.isExpanded,\n          isMobile: this.isMobile,\n          expand: this.expand,\n        })\n      }\n\n      if (this.$scopedSlots.item) {\n        return props.items.map((item: any, index) => this.$scopedSlots.item!(this.createItemProps(\n          item,\n          index\n        )))\n      }\n\n      return []\n    },\n    genFooter (props: DataScopeProps) {\n      if (this.hideDefaultFooter) return null\n\n      const data = {\n        props: {\n          ...this.sanitizedFooterProps,\n          options: props.options,\n          pagination: props.pagination,\n        },\n        on: {\n          'update:options': (value: any) => props.updateOptions(value),\n        },\n      }\n\n      const scopedSlots = getPrefixedScopedSlots('footer.', this.$scopedSlots)\n\n      return this.$createElement(VDataFooter, {\n        scopedSlots,\n        ...data,\n      })\n    },\n    genDefaultScopedSlot (props: any) {\n      const outerProps = {\n        ...props,\n        someItems: this.someItems,\n        everyItem: this.everyItem,\n        toggleSelectAll: this.toggleSelectAll,\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-data-iterator',\n      }, [\n        getSlot(this, 'header', outerProps, true),\n        this.genItems(props),\n        this.genFooter(props),\n        getSlot(this, 'footer', outerProps, true),\n      ])\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement(VData, {\n      props: this.$props,\n      on: {\n        'update:options': (v: any, old: any) => !deepEqual(v, old) && this.$emit('update:options', v),\n        'update:page': (v: any) => this.$emit('update:page', v),\n        'update:items-per-page': (v: any) => this.$emit('update:items-per-page', v),\n        'update:sort-by': (v: any) => this.$emit('update:sort-by', v),\n        'update:sort-desc': (v: any) => this.$emit('update:sort-desc', v),\n        'update:group-by': (v: any) => this.$emit('update:group-by', v),\n        'update:group-desc': (v: any) => this.$emit('update:group-desc', v),\n        pagination: (v: any, old: any) => !deepEqual(v, old) && this.$emit('pagination', v),\n        'current-items': (v: any[]) => {\n          this.internalCurrentItems = v\n          this.$emit('current-items', v)\n        },\n        'page-count': (v: number) => this.$emit('page-count', v),\n      },\n      scopedSlots: {\n        default: this.genDefaultScopedSlot,\n      },\n    })\n  },\n})\n","import { VDataTable } from '../'\nimport VIcon from '../../VIcon'\nimport VSimpleCheckbox from '../../VCheckbox/VSimpleCheckbox'\nimport ripple from '../../../directives/ripple'\n\nimport Vue from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport mixins from '../../../util/mixins'\nimport { DataOptions, DataTableHeader } from 'vuetify/types'\n\ntype VDataTableInstance = InstanceType<typeof VDataTable>\n\ninterface options extends Vue {\n  dataTable: VDataTableInstance\n}\n\nexport default mixins<options>().extend({\n  // https://github.com/vuejs/vue/issues/6872\n  directives: {\n    ripple,\n  },\n\n  props: {\n    headers: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<DataTableHeader[]>,\n    options: {\n      type: Object,\n      default: () => ({\n        page: 1,\n        itemsPerPage: 10,\n        sortBy: [],\n        sortDesc: [],\n        groupBy: [],\n        groupDesc: [],\n        multiSort: false,\n        mustSort: false,\n      }),\n    } as PropValidator<DataOptions>,\n    checkboxColor: String,\n    sortIcon: {\n      type: String,\n      default: '$sort',\n    },\n    everyItem: Boolean,\n    someItems: Boolean,\n    showGroupBy: Boolean,\n    singleSelect: Boolean,\n    disableSort: Boolean,\n  },\n\n  methods: {\n    genSelectAll () {\n      const data = {\n        props: {\n          value: this.everyItem,\n          indeterminate: !this.everyItem && this.someItems,\n          color: this.checkboxColor ?? '',\n        },\n        on: {\n          input: (v: boolean) => this.$emit('toggle-select-all', v),\n        },\n      }\n\n      if (this.$scopedSlots['data-table-select']) {\n        return this.$scopedSlots['data-table-select']!(data)\n      }\n\n      return this.$createElement(VSimpleCheckbox, {\n        staticClass: 'v-data-table__checkbox',\n        ...data,\n      })\n    },\n    genSortIcon () {\n      return this.$createElement(VIcon, {\n        staticClass: 'v-data-table-header__icon',\n        props: {\n          size: 18,\n        },\n      }, [this.sortIcon])\n    },\n  },\n})\n","import { VNode, VNodeChildrenArrayContents } from 'vue'\nimport mixins from '../../util/mixins'\nimport VSelect from '../VSelect/VSelect'\nimport VChip from '../VChip'\nimport header from './mixins/header'\nimport { wrapInArray } from '../../util/helpers'\n\nexport default mixins(header).extend({\n  name: 'v-data-table-header-mobile',\n\n  props: {\n    sortByText: {\n      type: String,\n      default: '$vuetify.dataTable.sortBy',\n    },\n  },\n\n  methods: {\n    genSortChip (props: any) {\n      const children: VNodeChildrenArrayContents = [props.item.text]\n\n      const sortIndex = this.options.sortBy.findIndex(k => k === props.item.value)\n      const beingSorted = sortIndex >= 0\n      const isDesc = this.options.sortDesc[sortIndex]\n\n      children.push(this.$createElement('div', {\n        staticClass: 'v-chip__close',\n        class: {\n          sortable: true,\n          active: beingSorted,\n          asc: beingSorted && !isDesc,\n          desc: beingSorted && isDesc,\n        },\n      }, [this.genSortIcon()]))\n\n      return this.$createElement(VChip, {\n        staticClass: 'sortable',\n        on: {\n          click: (e: MouseEvent) => {\n            e.stopPropagation()\n            this.$emit('sort', props.item.value)\n          },\n        },\n      }, children)\n    },\n    genSortSelect (items: any[]) {\n      return this.$createElement(VSelect, {\n        props: {\n          label: this.$vuetify.lang.t(this.sortByText),\n          items,\n          hideDetails: true,\n          multiple: this.options.multiSort,\n          value: this.options.multiSort ? this.options.sortBy : this.options.sortBy[0],\n          menuProps: { closeOnContentClick: true },\n        },\n        on: {\n          change: (v: string | string[]) => this.$emit('sort', v),\n        },\n        scopedSlots: {\n          selection: props => this.genSortChip(props),\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    const children: VNodeChildrenArrayContents = []\n\n    const header = this.headers.find(h => h.value === 'data-table-select')\n    if (header && !this.singleSelect) {\n      children.push(this.$createElement('div', {\n        class: [\n          'v-data-table-header-mobile__select',\n          ...wrapInArray(header.class),\n        ],\n        attrs: {\n          width: header.width,\n        },\n      }, [this.genSelectAll()]))\n    }\n\n    const sortHeaders = this.headers\n      .filter(h => h.sortable !== false && h.value !== 'data-table-select')\n      .map(h => ({\n        text: h.text,\n        value: h.value,\n      }))\n\n    if (!this.disableSort && sortHeaders.length) {\n      children.push(this.genSortSelect(sortHeaders))\n    }\n\n    const th = children.length\n      ? h('th', [h('div', { staticClass: 'v-data-table-header-mobile__wrapper' }, children)])\n      : undefined\n\n    const tr = h('tr', [th])\n\n    return h('thead', {\n      staticClass: 'v-data-table-header v-data-table-header-mobile',\n    }, [tr])\n  },\n})\n","// Helpers\nimport { VNode, VNodeData } from 'vue'\nimport mixins from '../../util/mixins'\nimport header from './mixins/header'\nimport { wrapInArray, convertToUnit } from '../../util/helpers'\nimport { DataTableHeader } from 'vuetify/types'\n\nexport default mixins(header).extend({\n  name: 'v-data-table-header-desktop',\n\n  methods: {\n    genGroupByToggle (header: DataTableHeader) {\n      return this.$createElement('span', {\n        on: {\n          click: (e: MouseEvent) => {\n            e.stopPropagation()\n            this.$emit('group', header.value)\n          },\n        },\n      }, ['group'])\n    },\n    getAria (beingSorted: boolean, isDesc: boolean) {\n      const $t = (key: string) => this.$vuetify.lang.t(`$vuetify.dataTable.ariaLabel.${key}`)\n\n      let ariaSort = 'none'\n      let ariaLabel = [\n        $t('sortNone'),\n        $t('activateAscending'),\n      ]\n\n      if (!beingSorted) {\n        return { ariaSort, ariaLabel: ariaLabel.join(' ') }\n      }\n\n      if (isDesc) {\n        ariaSort = 'descending'\n        ariaLabel = [\n          $t('sortDescending'),\n          $t(this.options.mustSort ? 'activateAscending' : 'activateNone'),\n        ]\n      } else {\n        ariaSort = 'ascending'\n        ariaLabel = [\n          $t('sortAscending'),\n          $t('activateDescending'),\n        ]\n      }\n\n      return { ariaSort, ariaLabel: ariaLabel.join(' ') }\n    },\n    genHeader (header: DataTableHeader) {\n      const data: Required<Pick<VNodeData, 'attrs' | 'on' | 'class' | 'style'>> = {\n        attrs: {\n          role: 'columnheader',\n          scope: 'col',\n          'aria-label': header.text || '',\n        },\n        style: {\n          width: convertToUnit(header.width),\n          minWidth: convertToUnit(header.width),\n        },\n        class: [\n          `text-${header.align || 'start'}`,\n          ...wrapInArray(header.class),\n          header.divider && 'v-data-table__divider',\n        ],\n        on: {},\n      }\n      const children = []\n\n      if (header.value === 'data-table-select' && !this.singleSelect) {\n        return this.$createElement('th', data, [this.genSelectAll()])\n      }\n\n      children.push(\n        this.$scopedSlots.hasOwnProperty(header.value)\n          ? this.$scopedSlots[header.value]!({ header })\n          : this.$createElement('span', [header.text])\n      )\n\n      if (!this.disableSort && (header.sortable || !header.hasOwnProperty('sortable'))) {\n        data.on.click = () => this.$emit('sort', header.value)\n\n        const sortIndex = this.options.sortBy.findIndex(k => k === header.value)\n        const beingSorted = sortIndex >= 0\n        const isDesc = this.options.sortDesc[sortIndex]\n\n        data.class.push('sortable')\n\n        const { ariaLabel, ariaSort } = this.getAria(beingSorted, isDesc)\n\n        data.attrs['aria-label'] += `${header.text ? ': ' : ''}${ariaLabel}`\n        data.attrs['aria-sort'] = ariaSort\n\n        if (beingSorted) {\n          data.class.push('active')\n          data.class.push(isDesc ? 'desc' : 'asc')\n        }\n\n        if (header.align === 'end') children.unshift(this.genSortIcon())\n        else children.push(this.genSortIcon())\n\n        if (this.options.multiSort && beingSorted) {\n          children.push(this.$createElement('span', { class: 'v-data-table-header__sort-badge' }, [String(sortIndex + 1)]))\n        }\n      }\n\n      if (this.showGroupBy && header.groupable !== false) children.push(this.genGroupByToggle(header))\n\n      return this.$createElement('th', data, children)\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement('thead', {\n      staticClass: 'v-data-table-header',\n    }, [\n      this.$createElement('tr', this.headers.map(header => this.genHeader(header))),\n    ])\n  },\n})\n","import { VNodeData } from 'vue'\n\n/**\n * Removes duplicate `@input` listeners when\n * using v-model with functional components\n *\n * @see https://github.com/vuetifyjs/vuetify/issues/4460\n */\nexport default function dedupeModelListeners (data: VNodeData): void {\n  if (data.model && data.on && data.on.input) {\n    if (Array.isArray(data.on.input)) {\n      const i = data.on.input.indexOf(data.model.callback)\n      if (i > -1) data.on.input.splice(i, 1)\n    } else {\n      delete data.on.input\n    }\n  }\n}\n","import { CreateElement, VNode } from 'vue'\n\nexport default function rebuildFunctionalSlots (slots: { [key: string]: VNode[] | undefined }, h: CreateElement) {\n  const children: VNode[] = []\n\n  for (const slot in slots) {\n    if (slots.hasOwnProperty(slot)) {\n      children.push(h('template', { slot }, slots[slot]))\n    }\n  }\n\n  return children\n}\n","// Styles\nimport './VDataTableHeader.sass'\n\n// Components\nimport VDataTableHeaderMobile from './VDataTableHeaderMobile'\nimport VDataTableHeaderDesktop from './VDataTableHeaderDesktop'\n\n// Mixins\nimport header from './mixins/header'\n\n// Utilities\nimport dedupeModelListeners from '../../util/dedupeModelListeners'\nimport mergeData from '../../util/mergeData'\nimport rebuildSlots from '../../util/rebuildFunctionalSlots'\n\n// Types\nimport Vue from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'v-data-table-header',\n\n  functional: true,\n\n  props: {\n    ...header.options.props,\n    mobile: Boolean,\n  },\n\n  render (h, { props, data, slots }) {\n    dedupeModelListeners(data)\n    const children = rebuildSlots(slots(), h)\n\n    data = mergeData(data, { props })\n\n    if (props.mobile) {\n      return h(VDataTableHeaderMobile, data, children)\n    } else {\n      return h(VDataTableHeaderDesktop, data, children)\n    }\n  },\n})\n","// Types\nimport Vue, { VNode, PropType } from 'vue'\nimport { DataTableHeader } from 'vuetify/types'\n\n// Utils\nimport { getObjectValueByPath, wrapInArray } from '../../util/helpers'\n\nfunction needsTd (slot: VNode[] | undefined) {\n  return slot!.length !== 1 ||\n    !['td', 'th'].includes(slot![0]?.tag!)\n}\n\nexport default Vue.extend({\n  name: 'row',\n\n  functional: true,\n\n  props: {\n    headers: Array as PropType<DataTableHeader[]>,\n    index: Number,\n    item: Object,\n    rtl: Boolean,\n  },\n\n  render (h, { props, slots, data }): VNode {\n    const computedSlots = slots()\n\n    const columns = props.headers.map((header: DataTableHeader) => {\n      const children = []\n      const value = getObjectValueByPath(props.item, header.value)\n\n      const slotName = header.value\n      const scopedSlot = data.scopedSlots && data.scopedSlots.hasOwnProperty(slotName) && data.scopedSlots[slotName]\n      const regularSlot = computedSlots.hasOwnProperty(slotName) && computedSlots[slotName]\n\n      if (scopedSlot) {\n        children.push(...wrapInArray(scopedSlot({\n          item: props.item,\n          isMobile: false,\n          header,\n          index: props.index,\n          value,\n        })))\n      } else if (regularSlot) {\n        children.push(...wrapInArray(regularSlot))\n      } else {\n        children.push(value == null ? value : String(value))\n      }\n\n      const textAlign = `text-${header.align || 'start'}`\n\n      return needsTd(children)\n        ? h('td', {\n          class: [\n            textAlign,\n            header.cellClass,\n            {\n              'v-data-table__divider': header.divider,\n            },\n          ],\n        }, children)\n        : children\n    })\n\n    return h('tr', data, columns)\n  },\n})\n","import Vue, { VNode } from 'vue'\n\nexport default Vue.extend({\n  name: 'row-group',\n\n  functional: true,\n\n  props: {\n    value: {\n      type: Boolean,\n      default: true,\n    },\n    headerClass: {\n      type: String,\n      default: 'v-row-group__header',\n    },\n    contentClass: String,\n    summaryClass: {\n      type: String,\n      default: 'v-row-group__summary',\n    },\n  },\n\n  render (h, { slots, props }): VNode {\n    const computedSlots = slots()\n    const children = []\n\n    if (computedSlots['column.header']) {\n      children.push(h('tr', {\n        staticClass: props.headerClass,\n      }, computedSlots['column.header']))\n    } else if (computedSlots['row.header']) {\n      children.push(...computedSlots['row.header'])\n    }\n\n    if (computedSlots['row.content'] && props.value) children.push(...computedSlots['row.content'])\n\n    if (computedSlots['column.summary']) {\n      children.push(h('tr', {\n        staticClass: props.summaryClass,\n      }, computedSlots['column.summary']))\n    } else if (computedSlots['row.summary']) {\n      children.push(...computedSlots['row.summary'])\n    }\n\n    return children as any\n  },\n})\n","import './VSimpleTable.sass'\n\nimport { convertToUnit } from '../../util/helpers'\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nexport default mixins(Themeable).extend({\n  name: 'v-simple-table',\n\n  props: {\n    dense: Boolean,\n    fixedHeader: Boolean,\n    height: [Number, String],\n  },\n\n  computed: {\n    classes (): Record<string, boolean> {\n      return {\n        'v-data-table--dense': this.dense,\n        'v-data-table--fixed-height': !!this.height && !this.fixedHeader,\n        'v-data-table--fixed-header': this.fixedHeader,\n        'v-data-table--has-top': !!this.$slots.top,\n        'v-data-table--has-bottom': !!this.$slots.bottom,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genWrapper () {\n      return this.$slots.wrapper || this.$createElement('div', {\n        staticClass: 'v-data-table__wrapper',\n        style: {\n          height: convertToUnit(this.height),\n        },\n      }, [\n        this.$createElement('table', this.$slots.default),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-data-table',\n      class: this.classes,\n    }, [\n      this.$slots.top,\n      this.genWrapper(),\n      this.$slots.bottom,\n    ])\n  },\n})\n","import Vue, { VNode, PropType } from 'vue'\nimport { getObjectValueByPath } from '../../util/helpers'\nimport { DataTableHeader } from 'vuetify/types'\n\nexport default Vue.extend({\n  name: 'row',\n\n  functional: true,\n\n  props: {\n    headers: Array as PropType<DataTableHeader[]>,\n    hideDefaultHeader: Boolean,\n    index: Number,\n    item: Object,\n    rtl: Boolean,\n  },\n\n  render (h, { props, slots, data }): VNode {\n    const computedSlots = slots()\n\n    const columns: VNode[] = props.headers.map((header: DataTableHeader) => {\n      const classes = {\n        'v-data-table__mobile-row': true,\n      }\n\n      const children = []\n      const value = getObjectValueByPath(props.item, header.value)\n\n      const slotName = header.value\n      const scopedSlot = data.scopedSlots && data.scopedSlots.hasOwnProperty(slotName) && data.scopedSlots[slotName]\n      const regularSlot = computedSlots.hasOwnProperty(slotName) && computedSlots[slotName]\n\n      if (scopedSlot) {\n        children.push(scopedSlot({\n          item: props.item,\n          isMobile: true,\n          header,\n          index: props.index,\n          value,\n        }))\n      } else if (regularSlot) {\n        children.push(regularSlot)\n      } else {\n        children.push(value == null ? value : String(value))\n      }\n\n      const mobileRowChildren = [\n        h('div', {\n          staticClass: 'v-data-table__mobile-row__cell',\n        }, children),\n      ]\n\n      if (header.value !== 'dataTableSelect' && !props.hideDefaultHeader) {\n        mobileRowChildren.unshift(\n          h('div', {\n            staticClass: 'v-data-table__mobile-row__header',\n          }, [header.text])\n        )\n      }\n\n      return h('td', { class: classes }, mobileRowChildren)\n    })\n\n    return h('tr', { ...data, staticClass: 'v-data-table__mobile-table-row' }, columns)\n  },\n})\n","import Vue from 'vue'\n\nexport type MouseHandler = (e: MouseEvent | TouchEvent) => any\n\nexport type MouseEvents = {\n  [event: string]: {\n    event: string\n    passive?: boolean\n    capture?: boolean\n    once?: boolean\n    stop?: boolean\n    prevent?: boolean\n    button?: number\n    result?: any\n  }\n}\n\nexport type MouseEventsMap = {\n  [event: string]: MouseHandler | MouseHandler[]\n}\n\nexport default Vue.extend({\n  name: 'mouse',\n\n  methods: {\n    getDefaultMouseEventHandlers (suffix: string, getData: MouseHandler, eventFirst = false): MouseEventsMap {\n      const listeners = Object.keys(this.$listeners)\n        .filter(key => key.endsWith(suffix))\n        .reduce((acc, key) => {\n          acc[key] = { event: key.slice(0, -suffix.length) }\n          return acc\n        }, {} as MouseEvents)\n\n      return this.getMouseEventHandlers({\n        ...listeners,\n        ['contextmenu' + suffix]: { event: 'contextmenu', prevent: true, result: false },\n      }, getData, eventFirst)\n    },\n    getMouseEventHandlers (events: MouseEvents, getData: MouseHandler, eventFirst = false): MouseEventsMap {\n      const on: MouseEventsMap = {}\n\n      for (const event in events) {\n        const eventOptions = events[event]\n\n        if (!this.$listeners[event]) continue\n\n        // TODO somehow pull in modifiers\n\n        const prefix = eventOptions.passive ? '&' : ((eventOptions.once ? '~' : '') + (eventOptions.capture ? '!' : ''))\n        const key = prefix + eventOptions.event\n\n        const handler: MouseHandler = e => {\n          const mouseEvent: MouseEvent = e as MouseEvent\n          if (eventOptions.button === undefined || (mouseEvent.buttons > 0 && mouseEvent.button === eventOptions.button)) {\n            if (eventOptions.prevent) {\n              e.preventDefault()\n            }\n            if (eventOptions.stop) {\n              e.stopPropagation()\n            }\n\n            // Due to TouchEvent target always returns the element that is first placed\n            // Even if touch point has since moved outside the interactive area of that element\n            // Ref: https://developer.mozilla.org/en-US/docs/Web/API/Touch/target\n            // This block of code aims to make sure touchEvent is always dispatched from the element that is being pointed at\n            if (e && 'touches' in e) {\n              const classSeparator = ' '\n\n              const eventTargetClasses = (e.currentTarget as HTMLElement)?.className.split(classSeparator)\n              const currentTargets = document.elementsFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY)\n\n              // Get \"the same kind\" current hovering target by checking\n              // If element has the same class of initial touch start element (which has touch event listener registered)\n              const currentTarget = currentTargets.find(t => t.className.split(classSeparator).some(c => eventTargetClasses.includes(c)))\n\n              if (currentTarget &&\n                !(e.target as HTMLElement)?.isSameNode(currentTarget)\n              ) {\n                currentTarget.dispatchEvent(new TouchEvent(e.type, {\n                  changedTouches: e.changedTouches as unknown as Touch[],\n                  targetTouches: e.targetTouches as unknown as Touch[],\n                  touches: e.touches as unknown as Touch[],\n                }))\n                return\n              }\n            }\n\n            // TODO: VCalendar emits the calendar event as the first argument,\n            // but it really should be the native event instead so modifiers can be used\n            if (eventFirst) {\n              this.$emit(event, e, getData(e))\n            } else {\n              this.$emit(event, getData(e), e)\n            }\n          }\n\n          return eventOptions.result\n        }\n\n        if (key in on) {\n          /* istanbul ignore next */\n          if (Array.isArray(on[key])) {\n            (on[key] as MouseHandler[]).push(handler)\n          } else {\n            on[key] = [on[key], handler] as MouseHandler[]\n          }\n        } else {\n          on[key] = handler\n        }\n      }\n\n      return on\n    },\n  },\n})\n","import './VDataTable.sass'\n\n// Types\nimport { VNode, VNodeChildrenArrayContents, VNodeChildren } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport {\n  DataTableHeader,\n  DataTableFilterFunction,\n  DataScopeProps,\n  DataOptions,\n  DataPagination,\n  DataTableCompareFunction,\n  DataItemsPerPageOption,\n  ItemGroup,\n  RowClassFunction,\n  RowStyleFunction,\n  DataTableItemProps,\n  DataTableFilterMode,\n} from 'vuetify/types'\n\n// Components\nimport { VData } from '../VData'\nimport { VDataFooter, VDataIterator } from '../VDataIterator'\nimport VBtn from '../VBtn'\nimport VDataTableHeader from './VDataTableHeader'\n// import VVirtualTable from './VVirtualTable'\nimport VIcon from '../VIcon'\nimport Row from './Row'\nimport RowGroup from './RowGroup'\nimport VSimpleCheckbox from '../VCheckbox/VSimpleCheckbox'\nimport VSimpleTable from './VSimpleTable'\nimport MobileRow from './MobileRow'\n\n// Mixins\nimport Loadable from '../../mixins/loadable'\nimport Mouse from '../../mixins/mouse'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { deepEqual, getObjectValueByPath, getPrefixedScopedSlots, getSlot, defaultFilter, camelizeObjectKeys, getPropertyFromItem } from '../../util/helpers'\nimport { breaking } from '../../util/console'\nimport { mergeClasses, mergeStyles } from '../../util/mergeData'\n\nfunction filterFn (item: any, search: string | null, filter: DataTableFilterFunction) {\n  return (header: DataTableHeader) => {\n    const value = getObjectValueByPath(item, header.value)\n    return header.filter ? header.filter(value, search, item) : filter(value, search, item)\n  }\n}\n\nfunction searchTableItems (\n  items: any[],\n  search: string | null,\n  headersWithCustomFilters: DataTableHeader[],\n  headersWithoutCustomFilters: DataTableHeader[],\n  customFilter: DataTableFilterFunction,\n  filterMode: DataTableFilterMode,\n) {\n  search = typeof search === 'string' ? search.trim() : null\n\n  if (filterMode === 'union') {\n    // If the `search` property is empty and there are no custom filters in use, there is nothing to do.\n    if (!(search && headersWithoutCustomFilters.length) && !headersWithCustomFilters.length) return items\n\n    return items.filter(item => {\n      // Headers with custom filters are evaluated whether or not a search term has been provided.\n      if (headersWithCustomFilters.length && headersWithCustomFilters.every(filterFn(item, search, defaultFilter))) {\n        return true\n      }\n\n      // Otherwise, the `search` property is used to filter columns without a custom filter.\n      return (search && headersWithoutCustomFilters.some(filterFn(item, search, customFilter)))\n    })\n  } else if (filterMode === 'intersection') {\n    return items.filter(item => {\n      // Headers with custom filters are evaluated whether or not a search term has been provided.\n      // We need to match every filter to be included in the results.\n      const matchesColumnFilters = headersWithCustomFilters.every(filterFn(item, search, defaultFilter))\n\n      // Headers without custom filters are only filtered by the `search` property if it is defined.\n      // We only need a single column to match the search term to be included in the results.\n      const matchesSearchTerm = !search || headersWithoutCustomFilters.some(filterFn(item, search, customFilter))\n\n      return matchesColumnFilters && matchesSearchTerm\n    })\n  } else {\n    return items\n  }\n}\n\n/* @vue/component */\nexport default mixins(\n  VDataIterator,\n  Loadable,\n  Mouse,\n).extend({\n  name: 'v-data-table',\n\n  // https://github.com/vuejs/vue/issues/6872\n  directives: {\n    ripple,\n  },\n\n  props: {\n    headers: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<DataTableHeader[]>,\n    showSelect: Boolean,\n    checkboxColor: String,\n    showExpand: Boolean,\n    showGroupBy: Boolean,\n    // TODO: Fix\n    // virtualRows: Boolean,\n    height: [Number, String],\n    hideDefaultHeader: Boolean,\n    caption: String,\n    dense: Boolean,\n    headerProps: Object,\n    calculateWidths: Boolean,\n    fixedHeader: Boolean,\n    headersLength: Number,\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    customFilter: {\n      type: Function,\n      default: defaultFilter,\n    } as PropValidator<typeof defaultFilter>,\n    filterMode: {\n      type: String,\n      default: 'intersection',\n    } as PropValidator<DataTableFilterMode>,\n    itemClass: {\n      type: [String, Function],\n      default: () => '',\n    } as PropValidator<RowClassFunction | string>,\n    itemStyle: {\n      type: [String, Function],\n      default: () => '',\n    } as PropValidator<RowStyleFunction | string>,\n    loaderHeight: {\n      type: [Number, String],\n      default: 4,\n    },\n  },\n\n  data () {\n    return {\n      internalGroupBy: [] as string[],\n      openCache: {} as { [key: string]: boolean },\n      widths: [] as number[],\n    }\n  },\n\n  computed: {\n    computedHeaders (): DataTableHeader[] {\n      if (!this.headers) return []\n      const headers = this.headers.filter(h => h.value === undefined || !this.internalGroupBy.find(v => v === h.value))\n      const defaultHeader = { text: '', sortable: false, width: '1px' }\n\n      if (this.showSelect) {\n        const index = headers.findIndex(h => h.value === 'data-table-select')\n        if (index < 0) headers.unshift({ ...defaultHeader, value: 'data-table-select' })\n        else headers.splice(index, 1, { ...defaultHeader, ...headers[index] })\n      }\n\n      if (this.showExpand) {\n        const index = headers.findIndex(h => h.value === 'data-table-expand')\n        if (index < 0) headers.unshift({ ...defaultHeader, value: 'data-table-expand' })\n        else headers.splice(index, 1, { ...defaultHeader, ...headers[index] })\n      }\n\n      return headers\n    },\n    colspanAttrs (): object | undefined {\n      return this.isMobile ? undefined : {\n        colspan: this.headersLength || this.computedHeaders.length,\n      }\n    },\n    columnSorters (): Record<string, DataTableCompareFunction> {\n      return this.computedHeaders.reduce<Record<string, DataTableCompareFunction>>((acc, header) => {\n        if (header.sort) acc[header.value] = header.sort\n        return acc\n      }, {})\n    },\n    headersWithCustomFilters (): DataTableHeader[] {\n      return this.headers.filter(header => header.filter && (!header.hasOwnProperty('filterable') || header.filterable === true))\n    },\n    headersWithoutCustomFilters (): DataTableHeader[] {\n      return this.headers.filter(header => !header.filter && (!header.hasOwnProperty('filterable') || header.filterable === true))\n    },\n    sanitizedHeaderProps (): Record<string, any> {\n      return camelizeObjectKeys(this.headerProps)\n    },\n    computedItemsPerPage (): number {\n      const itemsPerPage = this.options && this.options.itemsPerPage ? this.options.itemsPerPage : this.itemsPerPage\n      const itemsPerPageOptions: DataItemsPerPageOption[] | undefined = this.sanitizedFooterProps.itemsPerPageOptions\n\n      if (\n        itemsPerPageOptions &&\n        !itemsPerPageOptions.find(item => typeof item === 'number' ? item === itemsPerPage : item.value === itemsPerPage)\n      ) {\n        const firstOption = itemsPerPageOptions[0]\n        return typeof firstOption === 'object' ? firstOption.value : firstOption\n      }\n\n      return itemsPerPage\n    },\n    groupByText (): string {\n      return this.headers?.find(header => header.value === this.internalGroupBy?.[0])?.text ?? ''\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['sort-icon', 'header-props.sort-icon'],\n      ['hide-headers', 'hide-default-header'],\n      ['select-all', 'show-select'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n  },\n\n  mounted () {\n    // if ((!this.sortBy || !this.sortBy.length) && (!this.options.sortBy || !this.options.sortBy.length)) {\n    //   const firstSortable = this.headers.find(h => !('sortable' in h) || !!h.sortable)\n    //   if (firstSortable) this.updateOptions({ sortBy: [firstSortable.value], sortDesc: [false] })\n    // }\n\n    if (this.calculateWidths) {\n      window.addEventListener('resize', this.calcWidths)\n      this.calcWidths()\n    }\n  },\n\n  beforeDestroy () {\n    if (this.calculateWidths) {\n      window.removeEventListener('resize', this.calcWidths)\n    }\n  },\n\n  methods: {\n    calcWidths () {\n      this.widths = Array.from(this.$el.querySelectorAll('th')).map(e => e.clientWidth)\n    },\n    customFilterWithColumns (items: any[], search: string) {\n      return searchTableItems(\n        items,\n        search,\n        this.headersWithCustomFilters,\n        this.headersWithoutCustomFilters,\n        this.customFilter,\n        this.filterMode\n      )\n    },\n    customSortWithHeaders (items: any[], sortBy: string[], sortDesc: boolean[], locale: string) {\n      return this.customSort(items, sortBy, sortDesc, locale, this.columnSorters)\n    },\n    createItemProps (item: any, index: number): DataTableItemProps {\n      const data = {\n        ...VDataIterator.options.methods.createItemProps.call(this, item, index),\n        headers: this.computedHeaders,\n      }\n\n      return {\n        ...data,\n        attrs: {\n          class: {\n            'v-data-table__selected': data.isSelected,\n          },\n        },\n        on: {\n          ...this.getDefaultMouseEventHandlers(':row', () => data, true),\n          // TODO: the first argument should be the event, and the second argument should be data,\n          // but this is a breaking change so it's for v3\n          click: (event: MouseEvent) => this.$emit('click:row', item, data, event),\n        },\n      }\n    },\n    genCaption (props: DataScopeProps) {\n      if (this.caption) return [this.$createElement('caption', [this.caption])]\n\n      return getSlot(this, 'caption', props, true)\n    },\n    genColgroup (props: DataScopeProps) {\n      return this.$createElement('colgroup', this.computedHeaders.map(header => {\n        return this.$createElement('col', {\n          class: {\n            divider: header.divider,\n          },\n        })\n      }))\n    },\n    genLoading () {\n      const th = this.$createElement('th', {\n        staticClass: 'column',\n        attrs: this.colspanAttrs,\n      }, [this.genProgress()])\n\n      const tr = this.$createElement('tr', {\n        staticClass: 'v-data-table__progress',\n      }, [th])\n\n      return this.$createElement('thead', [tr])\n    },\n    genHeaders (props: DataScopeProps) {\n      const data = {\n        props: {\n          ...this.sanitizedHeaderProps,\n          headers: this.computedHeaders,\n          options: props.options,\n          mobile: this.isMobile,\n          showGroupBy: this.showGroupBy,\n          checkboxColor: this.checkboxColor,\n          someItems: this.someItems,\n          everyItem: this.everyItem,\n          singleSelect: this.singleSelect,\n          disableSort: this.disableSort,\n        },\n        on: {\n          sort: props.sort,\n          group: props.group,\n          'toggle-select-all': this.toggleSelectAll,\n        },\n      }\n\n      // TODO: rename to 'head'? (thead, tbody, tfoot)\n      const children: VNodeChildrenArrayContents = [getSlot(this, 'header', {\n        ...data,\n        isMobile: this.isMobile,\n      })]\n\n      if (!this.hideDefaultHeader) {\n        const scopedSlots = getPrefixedScopedSlots('header.', this.$scopedSlots)\n        children.push(this.$createElement(VDataTableHeader, {\n          ...data,\n          scopedSlots,\n        }))\n      }\n\n      if (this.loading) children.push(this.genLoading())\n\n      return children\n    },\n    genEmptyWrapper (content: VNodeChildrenArrayContents) {\n      return this.$createElement('tr', {\n        staticClass: 'v-data-table__empty-wrapper',\n      }, [\n        this.$createElement('td', {\n          attrs: this.colspanAttrs,\n        }, content),\n      ])\n    },\n    genItems (items: any[], props: DataScopeProps) {\n      const empty = this.genEmpty(props.originalItemsLength, props.pagination.itemsLength)\n      if (empty) return [empty]\n\n      return props.groupedItems\n        ? this.genGroupedRows(props.groupedItems, props)\n        : this.genRows(items, props)\n    },\n    genGroupedRows (groupedItems: ItemGroup<any>[], props: DataScopeProps) {\n      return groupedItems.map(group => {\n        if (!this.openCache.hasOwnProperty(group.name)) this.$set(this.openCache, group.name, true)\n\n        if (this.$scopedSlots.group) {\n          return this.$scopedSlots.group({\n            group: group.name,\n            options: props.options,\n            isMobile: this.isMobile,\n            items: group.items,\n            headers: this.computedHeaders,\n          })\n        } else {\n          return this.genDefaultGroupedRow(group.name, group.items, props)\n        }\n      })\n    },\n    genDefaultGroupedRow (group: string, items: any[], props: DataScopeProps) {\n      const isOpen = !!this.openCache[group]\n      const children: VNodeChildren = [\n        this.$createElement('template', { slot: 'row.content' }, this.genRows(items, props)),\n      ]\n      const toggleFn = () => this.$set(this.openCache, group, !this.openCache[group])\n      const removeFn = () => props.updateOptions({ groupBy: [], groupDesc: [] })\n\n      if (this.$scopedSlots['group.header']) {\n        children.unshift(this.$createElement('template', { slot: 'column.header' }, [\n          this.$scopedSlots['group.header']!({\n            group,\n            groupBy: props.options.groupBy,\n            isMobile: this.isMobile,\n            items,\n            headers: this.computedHeaders,\n            isOpen,\n            toggle: toggleFn,\n            remove: removeFn,\n          }),\n        ]))\n      } else {\n        const toggle = this.$createElement(VBtn, {\n          staticClass: 'ma-0',\n          props: {\n            icon: true,\n            small: true,\n          },\n          on: {\n            click: toggleFn,\n          },\n        }, [this.$createElement(VIcon, [isOpen ? '$minus' : '$plus'])])\n\n        const remove = this.$createElement(VBtn, {\n          staticClass: 'ma-0',\n          props: {\n            icon: true,\n            small: true,\n          },\n          on: {\n            click: removeFn,\n          },\n        }, [this.$createElement(VIcon, ['$close'])])\n\n        const column = this.$createElement('td', {\n          staticClass: 'text-start',\n          attrs: this.colspanAttrs,\n        }, [toggle, `${this.groupByText}: ${group}`, remove])\n\n        children.unshift(this.$createElement('template', { slot: 'column.header' }, [column]))\n      }\n\n      if (this.$scopedSlots['group.summary']) {\n        children.push(this.$createElement('template', { slot: 'column.summary' }, [\n          this.$scopedSlots['group.summary']!({\n            group,\n            groupBy: props.options.groupBy,\n            isMobile: this.isMobile,\n            items,\n            headers: this.computedHeaders,\n            isOpen,\n            toggle: toggleFn,\n          }),\n        ]))\n      }\n\n      return this.$createElement(RowGroup, {\n        key: group,\n        props: {\n          value: isOpen,\n        },\n      }, children)\n    },\n    genRows (items: any[], props: DataScopeProps) {\n      return this.$scopedSlots.item ? this.genScopedRows(items, props) : this.genDefaultRows(items, props)\n    },\n    genScopedRows (items: any[], props: DataScopeProps) {\n      const rows = []\n\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i]\n        rows.push(this.$scopedSlots.item!({\n          ...this.createItemProps(item, i),\n          isMobile: this.isMobile,\n        }))\n\n        if (this.isExpanded(item)) {\n          rows.push(this.$scopedSlots['expanded-item']!({\n            headers: this.computedHeaders,\n            isMobile: this.isMobile,\n            index: i,\n            item,\n          }))\n        }\n      }\n\n      return rows\n    },\n    genDefaultRows (items: any[], props: DataScopeProps) {\n      return this.$scopedSlots['expanded-item']\n        ? items.map((item, index) => this.genDefaultExpandedRow(item, index))\n        : items.map((item, index) => this.genDefaultSimpleRow(item, index))\n    },\n    genDefaultExpandedRow (item: any, index: number): VNode {\n      const isExpanded = this.isExpanded(item)\n      const classes = {\n        'v-data-table__expanded v-data-table__expanded__row': isExpanded,\n      }\n      const headerRow = this.genDefaultSimpleRow(item, index, classes)\n      const expandedRow = this.$createElement('tr', {\n        staticClass: 'v-data-table__expanded v-data-table__expanded__content',\n      }, [this.$scopedSlots['expanded-item']!({\n        headers: this.computedHeaders,\n        isMobile: this.isMobile,\n        item,\n      })])\n\n      return this.$createElement(RowGroup, {\n        props: {\n          value: isExpanded,\n        },\n      }, [\n        this.$createElement('template', { slot: 'row.header' }, [headerRow]),\n        this.$createElement('template', { slot: 'row.content' }, [expandedRow]),\n      ])\n    },\n    genDefaultSimpleRow (item: any, index: number, classes: Record<string, boolean> = {}): VNode {\n      const scopedSlots = getPrefixedScopedSlots('item.', this.$scopedSlots)\n\n      const data = this.createItemProps(item, index)\n\n      if (this.showSelect) {\n        const slot = scopedSlots['data-table-select']\n        scopedSlots['data-table-select'] = slot ? () => slot({\n          ...data,\n          isMobile: this.isMobile,\n        }) : () => this.$createElement(VSimpleCheckbox, {\n          staticClass: 'v-data-table__checkbox',\n          props: {\n            value: data.isSelected,\n            disabled: !this.isSelectable(item),\n            color: this.checkboxColor ?? '',\n          },\n          on: {\n            input: (val: boolean) => data.select(val),\n          },\n        })\n      }\n\n      if (this.showExpand) {\n        const slot = scopedSlots['data-table-expand']\n        scopedSlots['data-table-expand'] = slot ? () => slot(data) : () => this.$createElement(VIcon, {\n          staticClass: 'v-data-table__expand-icon',\n          class: {\n            'v-data-table__expand-icon--active': data.isExpanded,\n          },\n          on: {\n            click: (e: MouseEvent) => {\n              e.stopPropagation()\n              data.expand(!data.isExpanded)\n            },\n          },\n        }, [this.expandIcon])\n      }\n\n      return this.$createElement(this.isMobile ? MobileRow : Row, {\n        key: getObjectValueByPath(item, this.itemKey),\n        class: mergeClasses(\n          { ...classes, 'v-data-table__selected': data.isSelected },\n          getPropertyFromItem(item, this.itemClass)\n        ),\n        style: mergeStyles({}, getPropertyFromItem(item, this.itemStyle)),\n        props: {\n          headers: this.computedHeaders,\n          hideDefaultHeader: this.hideDefaultHeader,\n          index,\n          item,\n          rtl: this.$vuetify.rtl,\n        },\n        scopedSlots,\n        on: data.on,\n      })\n    },\n    genBody (props: DataScopeProps): VNode | string | VNodeChildren {\n      const data = {\n        ...props,\n        expand: this.expand,\n        headers: this.computedHeaders,\n        isExpanded: this.isExpanded,\n        isMobile: this.isMobile,\n        isSelected: this.isSelected,\n        select: this.select,\n      }\n\n      if (this.$scopedSlots.body) {\n        return this.$scopedSlots.body!(data)\n      }\n\n      return this.$createElement('tbody', [\n        getSlot(this, 'body.prepend', data, true),\n        this.genItems(props.items, props),\n        getSlot(this, 'body.append', data, true),\n      ])\n    },\n    genFoot (props: DataScopeProps): VNode[] | undefined {\n      return this.$scopedSlots.foot?.(props)\n    },\n    genFooters (props: DataScopeProps) {\n      const data = {\n        props: {\n          options: props.options,\n          pagination: props.pagination,\n          itemsPerPageText: '$vuetify.dataTable.itemsPerPageText',\n          ...this.sanitizedFooterProps,\n        },\n        on: {\n          'update:options': (value: any) => props.updateOptions(value),\n        },\n        widths: this.widths,\n        headers: this.computedHeaders,\n      }\n\n      const children: VNodeChildren = [\n        getSlot(this, 'footer', data, true),\n      ]\n\n      if (!this.hideDefaultFooter) {\n        children.push(this.$createElement(VDataFooter, {\n          ...data,\n          scopedSlots: getPrefixedScopedSlots('footer.', this.$scopedSlots),\n        }))\n      }\n\n      return children\n    },\n    genDefaultScopedSlot (props: DataScopeProps): VNode {\n      const simpleProps = {\n        height: this.height,\n        fixedHeader: this.fixedHeader,\n        dense: this.dense,\n      }\n\n      // if (this.virtualRows) {\n      //   return this.$createElement(VVirtualTable, {\n      //     props: Object.assign(simpleProps, {\n      //       items: props.items,\n      //       height: this.height,\n      //       rowHeight: this.dense ? 24 : 48,\n      //       headerHeight: this.dense ? 32 : 48,\n      //       // TODO: expose rest of props from virtual table?\n      //     }),\n      //     scopedSlots: {\n      //       items: ({ items }) => this.genItems(items, props) as any,\n      //     },\n      //   }, [\n      //     this.proxySlot('body.before', [this.genCaption(props), this.genHeaders(props)]),\n      //     this.proxySlot('bottom', this.genFooters(props)),\n      //   ])\n      // }\n\n      return this.$createElement(VSimpleTable, {\n        props: simpleProps,\n        class: {\n          'v-data-table--mobile': this.isMobile,\n          'v-data-table--selectable': this.showSelect,\n        },\n      }, [\n        this.proxySlot('top', getSlot(this, 'top', {\n          ...props,\n          isMobile: this.isMobile,\n        }, true)),\n        this.genCaption(props),\n        this.genColgroup(props),\n        this.genHeaders(props),\n        this.genBody(props),\n        this.genFoot(props),\n        this.proxySlot('bottom', this.genFooters(props)),\n      ])\n    },\n    proxySlot (slot: string, content: VNodeChildren) {\n      return this.$createElement('template', { slot }, content)\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement(VData, {\n      props: {\n        ...this.$props,\n        customFilter: this.customFilterWithColumns,\n        customSort: this.customSortWithHeaders,\n        itemsPerPage: this.computedItemsPerPage,\n      },\n      on: {\n        'update:options': (v: DataOptions, old: DataOptions) => {\n          this.internalGroupBy = v.groupBy || []\n          !deepEqual(v, old) && this.$emit('update:options', v)\n        },\n        'update:page': (v: number) => this.$emit('update:page', v),\n        'update:items-per-page': (v: number) => this.$emit('update:items-per-page', v),\n        'update:sort-by': (v: string | string[]) => this.$emit('update:sort-by', v),\n        'update:sort-desc': (v: boolean | boolean[]) => this.$emit('update:sort-desc', v),\n        'update:group-by': (v: string | string[]) => this.$emit('update:group-by', v),\n        'update:group-desc': (v: boolean | boolean[]) => this.$emit('update:group-desc', v),\n        pagination: (v: DataPagination, old: DataPagination) => !deepEqual(v, old) && this.$emit('pagination', v),\n        'current-items': (v: any[]) => {\n          this.internalCurrentItems = v\n          this.$emit('current-items', v)\n        },\n        'page-count': (v: number) => this.$emit('page-count', v),\n      },\n      scopedSlots: {\n        default: this.genDefaultScopedSlot,\n      },\n    })\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-row',{staticClass:\"mb-1\",attrs:{\"dense\":\"\",\"id\":\"header\"}},[_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.printPage}},[_vm._v(\"Print\")])],1),_c('v-col',{attrs:{\"cols\":\"11\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"append-icon\":\"mdi-magnify\",\"label\":\"Search Table...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_c('v-data-table',{staticClass:\"elevation-1 overflow-hidden\",attrs:{\"id\":\"mainbody\",\"headers\":_vm.headers,\"items\":_vm.allStuff,\"search\":_vm.search,\"item-key\":\"index\",\"group-by\":['house'],\"show-group-by\":\"\",\"multi-sort\":\"\",\"loading\":_vm.loading,\"loading-text\":\"Loading... Please wait\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row dense class=\"mb-1\" id=\"header\">\r\n      <v-col cols=\"1\">\r\n        <v-btn @click=\"printPage\" depressed color=\"primary\">Print</v-btn>\r\n      </v-col>\r\n      <v-col cols=\"11\">\r\n        <v-text-field v-model=\"search\" dense outlined append-icon=\"mdi-magnify\"\r\n                      label=\"Search Table...\" single-line hide-details></v-text-field>\r\n      </v-col>\r\n    </v-row>\r\n    <v-data-table id=\"mainbody\" :headers=\"headers\" :items=\"allStuff\" :search=\"search\"\r\n                  item-key=\"index\" :group-by=\"['house']\"\r\n                  class=\"elevation-1 overflow-hidden\" show-group-by\r\n                  multi-sort :loading=\"loading\" loading-text=\"Loading... Please wait\"\r\n    >\r\n    </v-data-table>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport manageAllStuff from \"@/json/manage/manageAllStuff.json\"\r\n\r\nexport default {\r\n  name: \"ManageView\",\r\n  data() {\r\n    return {\r\n      search: '',\r\n      dialog: false,\r\n      dialogDelete: false,\r\n      loading: false,\r\n      editedIndex: -1,\r\n      editedItem: {\r\n        name: '',\r\n        house: 0,\r\n        furniture: 0,\r\n        attribute: 0,\r\n        size: 0,\r\n        mainColor: 0,\r\n        minorColor: 0,\r\n        theme: 0,\r\n      },\r\n      headers: [\r\n        {text: 'Stuff', align: 'start', value: 'name', groupable: false},\r\n        {text: 'House', value: 'house', align: 'center', groupable: true},\r\n        {text: 'Furniture', value: 'furniture', align: 'center', groupable: true},\r\n        {text: 'Attribute', value: 'attribute', align: 'center', groupable: true},\r\n        {text: 'Size', value: 'size', align: 'center', groupable: true},\r\n        {text: 'Color1', value: 'mainColor', align: 'center', groupable: true},\r\n        {text: 'Color2', value: 'minorColor', align: 'center', groupable: true},\r\n        {text: 'Theme', value: 'theme', align: 'center', groupable: true},\r\n        {text: 'Bookmark', value: 'isBookmarks', align: 'center', groupable: true},\r\n        {text: 'Description', value: 'description', align: 'center', groupable: true},\r\n      ],\r\n      allStuff: manageAllStuff,\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    dialog(val) {\r\n      val || this.close()\r\n    },\r\n    dialogDelete(val) {\r\n      val || this.closeDelete()\r\n    },\r\n  },\r\n  created() {\r\n    this.initialize()\r\n  },\r\n  methods: {\r\n    printPage() {\r\n      window.print()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@media print {\r\n  @page {\r\n    /*size: A4;*/\r\n    margin: 0;\r\n  }\r\n\r\n  #header {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManageView.vue?vue&type=template&id=1c9e3e18&scoped=true&\"\nimport script from \"./ManageView.vue?vue&type=script&lang=js&\"\nexport * from \"./ManageView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ManageView.vue?vue&type=style&index=0&id=1c9e3e18&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c9e3e18\",\n  null\n  \n)\n\nexport default component.exports","// Styles\nimport './VTimeline.sass'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\nexport default mixins(\n  Themeable\n/* @vue/component */\n).extend({\n  name: 'v-timeline',\n\n  provide (): object {\n    return { timeline: this }\n  },\n\n  props: {\n    alignTop: Boolean,\n    dense: Boolean,\n    reverse: Boolean,\n  },\n\n  computed: {\n    classes (): {} {\n      return {\n        'v-timeline--align-top': this.alignTop,\n        'v-timeline--dense': this.dense,\n        'v-timeline--reverse': this.reverse,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-timeline',\n      class: this.classes,\n    }, this.$slots.default)\n  },\n})\n","// Types\nimport mixins, { ExtractVue } from '../../util/mixins'\nimport { VNode, VNodeData } from 'vue'\n\n// Components\nimport VTimeline from './VTimeline'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport Colorable from '../../mixins/colorable'\n\nconst baseMixins = mixins(\n  Colorable,\n  Themeable\n/* @vue/component */\n)\n\ntype VTimelineInstance = InstanceType<typeof VTimeline>\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  timeline: VTimelineInstance\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-timeline-item',\n\n  inject: ['timeline'],\n\n  props: {\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    fillDot: Boolean,\n    hideDot: Boolean,\n    icon: String,\n    iconColor: String,\n    large: Boolean,\n    left: Boolean,\n    right: Boolean,\n    small: Boolean,\n  },\n\n  computed: {\n    hasIcon (): boolean {\n      return !!this.icon || !!this.$slots.icon\n    },\n  },\n\n  methods: {\n    genBody () {\n      return this.$createElement('div', {\n        staticClass: 'v-timeline-item__body',\n      }, this.$slots.default)\n    },\n    genIcon (): VNode | VNode[] {\n      if (this.$slots.icon) {\n        return this.$slots.icon\n      }\n\n      return this.$createElement(VIcon, {\n        props: {\n          color: this.iconColor,\n          dark: !this.theme.isDark,\n          small: this.small,\n        },\n      }, this.icon)\n    },\n    genInnerDot () {\n      const data: VNodeData = this.setBackgroundColor(this.color)\n\n      return this.$createElement('div', {\n        staticClass: 'v-timeline-item__inner-dot',\n        ...data,\n      }, [this.hasIcon && this.genIcon()])\n    },\n    genDot () {\n      return this.$createElement('div', {\n        staticClass: 'v-timeline-item__dot',\n        class: {\n          'v-timeline-item__dot--small': this.small,\n          'v-timeline-item__dot--large': this.large,\n        },\n      }, [this.genInnerDot()])\n    },\n    genDivider () {\n      const children = []\n\n      if (!this.hideDot) children.push(this.genDot())\n\n      return this.$createElement('div', {\n        staticClass: 'v-timeline-item__divider',\n      }, children)\n    },\n    genOpposite () {\n      return this.$createElement('div', {\n        staticClass: 'v-timeline-item__opposite',\n      }, this.$slots.opposite)\n    },\n  },\n\n  render (h): VNode {\n    const children = [\n      this.genBody(),\n      this.genDivider(),\n    ]\n\n    if (this.$slots.opposite) children.push(this.genOpposite())\n\n    return h('div', {\n      staticClass: 'v-timeline-item',\n      class: {\n        'v-timeline-item--fill-dot': this.fillDot,\n        'v-timeline-item--before': this.timeline.reverse ? this.right : this.left,\n        'v-timeline-item--after': this.timeline.reverse ? this.left : this.right,\n        ...this.themeClasses,\n      },\n    }, children)\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-col',{attrs:{\"cols\":10}},[_c('v-sheet',{attrs:{\"rounded\":\"\",\"elevation\":\"2\"}},[_c('v-container',[_c('v-timeline',{attrs:{\"dense\":\"\",\"clipped\":\"\"}},_vm._l((_vm.stuff),function(item){return _c('v-timeline-item',{staticClass:\"mb-4\",attrs:{\"small\":\"\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('v-chip',{style:(`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`),attrs:{\"small\":\"\"}})]},proxy:true}],null,true)},[_c('v-row',{attrs:{\"justify\":\"space-between\"}},[_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-chip',{staticClass:\"white--text mx-1\",attrs:{\"color\":_vm.operationColor(item.operation),\"label\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(item.operation)+\" \")]),_c('v-chip',{staticClass:\"white--text mx-1\",attrs:{\"color\":\"gray\",\"label\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(item.attribute))]),_c('v-icon',{attrs:{\"color\":item.isBookmarks? 'green' : 'red'}},[_vm._v(\" \"+_vm._s(item.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel')+\" \")])],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" \"+_vm._s(item.name)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" \"+_vm._s(item.index)+\" \")])],1)],1),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"5\"}},[_vm._v(_vm._s(item.modifyDate))])],1)],1)}),1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-col :cols=\"10\">\r\n    <v-sheet rounded elevation=\"2\">\r\n      <v-container>\r\n        <v-timeline dense clipped>\r\n          <!--          <v-timeline-item fill-dot class=\"white&#45;&#45;text mb-12\" color=\"orange\" large>-->\r\n          <!--            <template v-slot:icon>-->\r\n          <!--              <span>YL</span>-->\r\n          <!--            </template>-->\r\n          <!--            <v-text-field v-model=\"input\" hide-details label=\"Leave a comment...\" solo @keydown.enter=\"comment\">-->\r\n          <!--              <template v-slot:append>-->\r\n          <!--                <v-btn class=\"mx-0\" depressed @click=\"comment\">Post</v-btn>-->\r\n          <!--              </template>-->\r\n          <!--            </v-text-field>-->\r\n          <!--          </v-timeline-item>-->\r\n          <!--          <v-slide-x-transition group>-->\r\n          <!--            <v-timeline-item v-for=\"event in timeline\" :key=\"event.id\" class=\"mb-4\" color=\"pink\" small>-->\r\n          <!--              <v-row justify=\"space-between\">-->\r\n          <!--                <v-col cols=\"7\" v-text=\"event.text\"></v-col>-->\r\n          <!--                <v-col class=\"text-right\" cols=\"5\" v-text=\"event.time\"></v-col>-->\r\n          <!--              </v-row>-->\r\n          <!--            </v-timeline-item>-->\r\n          <!--          </v-slide-x-transition>-->\r\n          <!--          <v-timeline-item class=\"mb-6\" hide-dot>-->\r\n          <!--            <span>TODAY</span>-->\r\n          <!--          </v-timeline-item>-->\r\n          <v-timeline-item class=\"mb-4\" small v-for=\"item in stuff\">\r\n            <template v-slot:icon>\r\n              <v-chip small :style=\"`background: linear-gradient(0.45turn,`+item.mainColor+`,`+item.minorColor+`)`\">\r\n              </v-chip>\r\n            </template>\r\n            <v-row justify=\"space-between\">\r\n              <v-col cols=\"7\">\r\n                <v-row>\r\n                  <v-col cols=\"5\">\r\n                    <v-chip class=\"white--text mx-1\"\r\n                            :color=\"operationColor(item.operation)\" label small>{{ item.operation }}\r\n                    </v-chip>\r\n                    <v-chip class=\"white--text mx-1\" color=\"gray\" label small>{{ item.attribute }}</v-chip>\r\n                    <v-icon :color=\"item.isBookmarks? 'green' : 'red'\">\r\n                      {{ item.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel' }}\r\n                    </v-icon>\r\n                  </v-col>\r\n                  <v-col cols=\"3\">\r\n                    {{ item.name }}\r\n                  </v-col>\r\n                  <v-col cols=\"3\">\r\n                    {{ item.index }}\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n              <v-col class=\"text-right\" cols=\"5\">{{ item.modifyDate }}</v-col>\r\n            </v-row>\r\n          </v-timeline-item>\r\n        </v-timeline>\r\n      </v-container>\r\n    </v-sheet>\r\n  </v-col>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  name: 'TimelineView',\r\n  components: {},\r\n  data: () => ({\r\n    events: [],\r\n    input: null,\r\n    nonce: 0,\r\n    stuff: [\r\n      {\r\n        index: '648fe2130df02d3007092a64',\r\n        name: '劳力士',\r\n        mainColor: '#ffaaaa',\r\n        minorColor: '#aaffff',\r\n        attribute: '手表',\r\n        isBookmarks: true,\r\n        operation: 'Insert',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a63',\r\n        name: '充电宝',\r\n        mainColor: '#eeeeee',\r\n        minorColor: '#242631',\r\n        attribute: '电器',\r\n        isBookmarks: false,\r\n        operation: 'Insert',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a63',\r\n        name: '充电宝',\r\n        mainColor: '#eeeeee',\r\n        minorColor: '#242631',\r\n        attribute: '电器',\r\n        isBookmarks: false,\r\n        operation: 'Delete',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a64',\r\n        name: '劳力士',\r\n        mainColor: '#b71515',\r\n        minorColor: '#143333',\r\n        attribute: '手表',\r\n        isBookmarks: true,\r\n        operation: 'Update',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a64',\r\n        name: '劳力士',\r\n        mainColor: '#ffaaaa',\r\n        minorColor: '#aaffff',\r\n        attribute: '手表',\r\n        isBookmarks: true,\r\n        operation: 'Insert',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a63',\r\n        name: '充电宝',\r\n        mainColor: '#eeeeee',\r\n        minorColor: '#242631',\r\n        attribute: '电器',\r\n        isBookmarks: false,\r\n        operation: 'Insert',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a63',\r\n        name: '充电宝',\r\n        mainColor: '#eeeeee',\r\n        minorColor: '#242631',\r\n        attribute: '电器',\r\n        isBookmarks: false,\r\n        operation: 'Delete',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a64',\r\n        name: '劳力士',\r\n        mainColor: '#b71515',\r\n        minorColor: '#143333',\r\n        attribute: '手表',\r\n        isBookmarks: true,\r\n        operation: 'Update',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a64',\r\n        name: '劳力士',\r\n        mainColor: '#ffaaaa',\r\n        minorColor: '#aaffff',\r\n        attribute: '手表',\r\n        isBookmarks: true,\r\n        operation: 'Insert',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a63',\r\n        name: '充电宝',\r\n        mainColor: '#eeeeee',\r\n        minorColor: '#242631',\r\n        attribute: '电器',\r\n        isBookmarks: false,\r\n        operation: 'Insert',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a63',\r\n        name: '充电宝',\r\n        mainColor: '#eeeeee',\r\n        minorColor: '#242631',\r\n        attribute: '电器',\r\n        isBookmarks: false,\r\n        operation: 'Delete',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n      {\r\n        index: '648fe2130df02d3007092a64',\r\n        name: '劳力士',\r\n        mainColor: '#b71515',\r\n        minorColor: '#143333',\r\n        attribute: '手表',\r\n        isBookmarks: true,\r\n        operation: 'Update',\r\n        modifyDate: new Date().toLocaleString(\"en-US\"),\r\n      },\r\n    ],\r\n  }),\r\n  computed: {\r\n    timeline() {\r\n      return this.events.slice().reverse()\r\n    },\r\n  },\r\n  methods: {\r\n    comment() {\r\n      const time = (new Date()).toTimeString()\r\n      this.events.push({\r\n        id: this.nonce++,\r\n        text: this.input,\r\n        time: time.replace(/:\\d{2}\\sGMT-\\d{4}\\s\\((.*)\\)/, (match, contents, offset) => {\r\n          return ` ${contents.split(' ').map(v => v.charAt(0)).join('')}`\r\n        }),\r\n      })\r\n      this.input = null\r\n    },\r\n    operationColor(operation) {\r\n      if (operation == 'Insert') {\r\n        return 'green'\r\n      } else if (operation == 'Delete') {\r\n        return 'red'\r\n      } else if (operation == 'Update') {\r\n        return 'warning'\r\n      } else return 'gray'\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimelineView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimelineView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelineView.vue?vue&type=template&id=27d416bf&\"\nimport script from \"./TimelineView.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-col',{attrs:{\"cols\":10}},[_c('v-container',{staticClass:\"my-0 mx-0 px-0 py-0\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-sheet',{staticClass:\"d-flex flex-column\",attrs:{\"min-height\":\"70vh\",\"rounded\":\"lg\",\"color\":\"transparent\"}},[(_vm.isLoading)?_c('v-skeleton-loader',{staticClass:\"mb-2\",attrs:{\"type\":\"card\"}}):(!_vm.isLoading)?[_c('RoomCard',{ref:\"roomCard\",attrs:{\"room-list\":_vm.roomList,\"user-u-u-id\":_vm.userUUId,\"userUUId\":_vm.userUUId}}),_c('v-btn',{staticClass:\"my-2\",attrs:{\"elevation\":\"2\",\"color\":\"white\"},on:{\"click\":_vm.addNewOneRoomCard}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]:_vm._e()],2)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_vm._l((_vm.roomList),function(room){return _c('v-expansion-panel',{key:room.index},[_c('v-expansion-panel-header',[_c('v-row',[_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"3\"}},[_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(room.name))])]),_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"8\"}},[_c('v-chip-group',[_c('v-chip',{attrs:{\"link\":\"\",\"color\":\"primary\",\"outlined\":\"\"}},[_vm._v(_vm._s(room.attribute))]),(room.isBookmarks === true)?_c('v-chip',{attrs:{\"color\":\"vue_theme\",\"outlined\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\" Current \")],1):(room.isBookmarks === false)?_c('v-chip',{attrs:{\"color\":\"error\",\"outlined\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-minus\")]),_vm._v(\" Outdated \")],1):_vm._e()],1)],1),_c('v-col',{attrs:{\"align-self\":\"center\",\"cols\":\"1\"}},[_c('v-img',{staticClass:\"rounded-lg rounded-tr-0 rounded-bl-0\",style:(`background: linear-gradient(0.45turn,`+room.mainColor+`,`+room.minorColor+`)`),attrs:{\"height\":\"30\",\"width\":\"30\"}})],1)],1)],1),_c('v-expansion-panel-content',{attrs:{\"eager\":_vm.isEager}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({hover}){return [_c('v-card',{staticClass:\"px-4 transition-swing\",attrs:{\"elevation\":hover? 12:0}},[_c('template',{slot:\"progress\"},[_c('v-progress-linear',{attrs:{\"color\":\"deep-purple\",\"height\":\"10\",\"indeterminate\":\"\"}})],1),_c('v-row',[_c('v-col',{staticClass:\"mt-2\",attrs:{\"cols\":\"5\"}},[_c('v-text-field',{attrs:{\"label\":\"UUID\",\"disabled\":\"\"},model:{value:(room.id),callback:function ($$v) {_vm.$set(room, \"id\", $$v)},expression:\"room.id\"}},[_vm._v(\" \"+_vm._s(room.id)+\" \")]),_c('v-text-field',{attrs:{\"label\":\"Name\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},model:{value:(room.name),callback:function ($$v) {_vm.$set(room, \"name\", $$v)},expression:\"room.name\"}},[_vm._v(\" \"+_vm._s(room.name)+\" \")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-text-field',{attrs:{\"label\":\"Attribute\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},model:{value:(room.attribute),callback:function ($$v) {_vm.$set(room, \"attribute\", $$v)},expression:\"room.attribute\"}},[_vm._v(\" \"+_vm._s(room.attribute)+\" \")])],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-btn',{attrs:{\"depressed\":\"\",\"dark\":\"\",\"color\":room.isBookmarks? 'green' : 'red',\"disabled\":_vm.setDisabled},on:{\"click\":function($event){room.isBookmarks=!room.isBookmarks}}},[_c('v-icon',[_vm._v(_vm._s((room.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel')))])],1)],1)],1),_c('v-row',{staticClass:\"mx-0 my-1\"},[_c('v-row',[_c('v-col',[_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({on, attrs}){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Main Color\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":room.mainColor,\"disabled\":_vm.setDisabled}},[_vm._v(\"mdi-palette\")])]},proxy:true}],null,true),model:{value:(room.mainColor),callback:function ($$v) {_vm.$set(room, \"mainColor\", $$v)},expression:\"room.mainColor\"}},'v-text-field',attrs,false),on),[_vm._v(\" \"+_vm._s(room.mainColor)+\" \")])]}}],null,true)},[_c('v-color-picker',{attrs:{\"dot-size\":\"25\",\"swatches-max-height\":\"200\"},model:{value:(room.mainColor),callback:function ($$v) {_vm.$set(room, \"mainColor\", $$v)},expression:\"room.mainColor\"}})],1)],1),_c('v-col',[_c('v-menu',{attrs:{\"transition\":\"fade-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({on, attrs}){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Minor Color\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":room.minorColor,\"disabled\":_vm.setDisabled}},[_vm._v(\"mdi-palette\")])]},proxy:true}],null,true),model:{value:(room.minorColor),callback:function ($$v) {_vm.$set(room, \"minorColor\", $$v)},expression:\"room.minorColor\"}},'v-text-field',attrs,false),on),[_vm._v(\" \"+_vm._s(room.minorColor)+\" \")])]}}],null,true)},[_c('v-color-picker',{attrs:{\"dot-size\":\"25\",\"swatches-max-height\":\"200\"},model:{value:(room.minorColor),callback:function ($$v) {_vm.$set(room, \"minorColor\", $$v)},expression:\"room.minorColor\"}})],1)],1)],1),_c('v-textarea',{attrs:{\"label\":\"Description\",\"disabled\":_vm.setDisabled,\"outlined\":\"\",\"height\":\"120\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle\",\"counter\":\"\"},model:{value:(room.description),callback:function ($$v) {_vm.$set(room, \"description\", $$v)},expression:\"room.description\"}},[_vm._v(\" \"+_vm._s(room.description)+\" \")])],1)],1),_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('AvatarUploader',{attrs:{\"frame-height\":\"330\"}})],1)],1),_c('v-card-actions',{staticClass:\"px-0 mt-auto d-flex justify-end\"},[(_vm.setDisabled===true)?_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.modifyRoom()}}},[_vm._v(\"Modify \")]):_vm._e(),(_vm.setDisabled===false)?_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"teal\",\"text\":\"\"},on:{\"click\":function($event){return _vm.saveRoom(_vm.userUUId, room)}}},[_vm._v(\"Save \")]):_vm._e(),_c('v-overlay',{attrs:{\"value\":_vm.overlayLoading}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('div',{staticClass:\"text-center\"},[_c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"font-weight-bold\",attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = true}}},'v-btn',attrs,false),on),[_vm._v(\" Delete \")])]}}],null,true),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\"Double Check\")]),_c('v-card-text',[_vm._v(\" Are Your Sure to Delete? \")]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"No\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteRoom(_vm.userUUId, room.id)}}},[_vm._v(\"Yes\")])],1)],1)],1)],1),_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"deep-purple\",\"text\":\"\"},on:{\"click\":function($event){return _vm.duplicateRoom(room.id)}}},[_vm._v(\" Duplicate \")])],1)],2)]}}],null,true)})],1)],1)}),_c('v-snackbar',{attrs:{\"light\":\"\",\"timeout\":_vm.snackbarTimeout,\"width\":\"500\",\"color\":_vm.snackbarColor,\"shaped\":\"\",\"app\":\"\",\"top\":\"\",\"centered\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbarStatus = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbarStatus),callback:function ($$v) {_vm.snackbarStatus=$$v},expression:\"snackbarStatus\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-h6\",attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarCode)+\" \")]),_c('v-col',{attrs:{\"cols\":\"7\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarData)+\" \")])],1)],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--HomeView->RoomView->RoomCard-->\r\n<template>\r\n  <v-expansion-panels multiple>\r\n    <v-expansion-panel v-for=\"room in roomList\" :key=\"room.index\">\r\n      <!--panel header-->\r\n      <v-expansion-panel-header>\r\n        <v-row>\r\n          <!--name area-->\r\n          <v-col align-self=\"center\" cols=\"3\">\r\n            <div class=\"text-h6\">{{ room.name }}</div>\r\n          </v-col>\r\n          <!--label pins-->\r\n          <v-col align-self=\"center\" cols=\"8\">\r\n            <v-chip-group>\r\n              <v-chip link color=\"primary\" outlined>{{ room.attribute }}</v-chip>\r\n              <v-chip v-if=\"room.isBookmarks === true\" color=\"vue_theme\" outlined>\r\n                <v-icon>mdi-check</v-icon>\r\n                Current\r\n              </v-chip>\r\n              <v-chip v-else-if=\"room.isBookmarks === false\" color=\"error\" outlined>\r\n                <v-icon>mdi-minus</v-icon>\r\n                Outdated\r\n              </v-chip>\r\n            </v-chip-group>\r\n          </v-col>\r\n          <!--color point-->\r\n          <v-col align-self=\"center\" cols=\"1\">\r\n            <v-img :style=\"`background: linear-gradient(0.45turn,`+room.mainColor+`,`+room.minorColor+`)`\"\r\n                   height=\"30\" width=\"30\" class=\"rounded-lg rounded-tr-0 rounded-bl-0\"/>\r\n          </v-col>\r\n          <!--          :style=\"`backgroundColor: `+ room.mainColor\"-->\r\n        </v-row>\r\n      </v-expansion-panel-header>\r\n\r\n      <v-expansion-panel-content :eager=\"isEager\">\r\n        <v-hover v-slot=\"{hover}\">\r\n          <v-card :elevation=\"hover? 12:0\" class=\"px-4 transition-swing\">\r\n            <!--加载动画插槽-->\r\n            <template slot=\"progress\">\r\n              <v-progress-linear color=\"deep-purple\" height=\"10\" indeterminate></v-progress-linear>\r\n            </template>\r\n            <v-row>\r\n              <v-col cols=\"5\" class=\"mt-2\">\r\n                <v-text-field v-model=\"room.id\" label=\"UUID\" disabled>\r\n                  {{ room.id }}\r\n                </v-text-field>\r\n                <v-text-field v-model=\"room.name\" label=\"Name\" :disabled=\"setDisabled\" outlined dense>\r\n                  {{ room.name }}\r\n                </v-text-field>\r\n                <v-row>\r\n                  <v-col cols=\"9\">\r\n                    <v-text-field v-model=\"room.attribute\" label=\"Attribute\" :disabled=\"setDisabled\" outlined dense>\r\n                      {{ room.attribute }}\r\n                    </v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"3\">\r\n                    <v-btn depressed @click=\"room.isBookmarks=!room.isBookmarks\"\r\n                           dark :color=\"room.isBookmarks? 'green' : 'red'\" :disabled=\"setDisabled\">\r\n                      <v-icon>{{ (room.isBookmarks ? 'mdi-book-check' : 'mdi-book-cancel') }}</v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n                <!-- 左侧下共二行：颜色选择器-描述文本框-->\r\n                <v-row class=\"mx-0 my-1\">\r\n                  <v-row>\r\n                    <v-col>\r\n                      <!--颜色插槽1-->\r\n                      <v-menu transition=\"fade-transition\"\r\n                              :close-on-content-click=\"false\">\r\n                        <template #activator=\"{on, attrs}\">\r\n                          <v-text-field v-model=\"room.mainColor\" label=\"Main Color\" :disabled=\"setDisabled\"\r\n                                        outlined dense v-bind=\"attrs\" v-on=\"on\">\r\n                            {{ room.mainColor }}\r\n                            <template #append>\r\n                              <v-icon :color=\"room.mainColor\" :disabled=\"setDisabled\">mdi-palette</v-icon>\r\n                            </template>\r\n                          </v-text-field>\r\n                        </template>\r\n                        <v-color-picker dot-size=\"25\" swatches-max-height=\"200\"\r\n                                        v-model:value=\"room.mainColor\"></v-color-picker>\r\n                      </v-menu>\r\n                    </v-col>\r\n                    <v-col>\r\n                      <!--颜色插槽2-->\r\n                      <v-menu transition=\"fade-transition\"\r\n                              :close-on-content-click=\"false\">\r\n                        <template #activator=\"{on, attrs}\">\r\n                          <v-text-field v-model=\"room.minorColor\" label=\"Minor Color\" :disabled=\"setDisabled\"\r\n                                        outlined dense v-bind=\"attrs\" v-on=\"on\">\r\n                            {{ room.minorColor }}\r\n                            <template #append>\r\n                              <v-icon :color=\"room.minorColor\" :disabled=\"setDisabled\">mdi-palette</v-icon>\r\n                            </template>\r\n                          </v-text-field>\r\n                        </template>\r\n                        <v-color-picker dot-size=\"25\" swatches-max-height=\"200\"\r\n                                        v-model:value=\"room.minorColor\"></v-color-picker>\r\n                      </v-menu>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <!--描述文本框-->\r\n                  <v-textarea v-model=\"room.description\" label=\"Description\" :disabled=\"setDisabled\" outlined\r\n                              height=\"120\" clearable clear-icon=\"mdi-close-circle\" counter>\r\n                    {{ room.description }}\r\n                  </v-textarea>\r\n                </v-row>\r\n              </v-col>\r\n              <!--右侧：图片上传与识别加载-->\r\n              <v-col cols=\"7\">\r\n                <!--图片上传器，需要额外插槽-->\r\n                <AvatarUploader frame-height=\"330\"></AvatarUploader>\r\n              </v-col>\r\n            </v-row>\r\n            <!--右下三按钮-->\r\n            <v-card-actions class=\"px-0 mt-auto d-flex justify-end\">\r\n              <!--修改/保存按钮-->\r\n              <v-btn color=\"primary\" class=\"font-weight-bold\" text @click=\"modifyRoom()\"\r\n                     v-if=\"setDisabled===true\">Modify\r\n              </v-btn>\r\n              <v-btn color=\"teal\" class=\"font-weight-bold\" text @click=\"saveRoom(userUUId, room)\"\r\n                     v-if=\"setDisabled===false\">Save\r\n              </v-btn>\r\n              <v-overlay :value=\"overlayLoading\">\r\n                <v-progress-circular\r\n                    indeterminate\r\n                    size=\"64\"\r\n                ></v-progress-circular>\r\n              </v-overlay>\r\n\r\n              <!--确认弹窗-->\r\n              <div class=\"text-center\">\r\n                <v-dialog v-model=\"dialog\" width=\"500\">\r\n\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <!--删除按钮-->\r\n                    <v-btn color=\"red\" class=\"font-weight-bold\" v-bind=\"attrs\"\r\n                           v-on=\"on\" text @click=\"dialog = true\">\r\n                      Delete\r\n                    </v-btn>\r\n                  </template>\r\n\r\n                  <v-card>\r\n                    <v-card-title class=\"text-h5 grey lighten-2\">Double Check</v-card-title>\r\n                    <v-card-text>\r\n                      Are Your Sure to Delete?\r\n                    </v-card-text>\r\n                    <v-divider></v-divider>\r\n                    <v-card-actions>\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn color=\"\" text @click=\"dialog = false\">No</v-btn>\r\n                      <v-btn color=\"primary\" text @click=\"deleteRoom(userUUId, room.id)\">Yes</v-btn>\r\n                    </v-card-actions>\r\n                  </v-card>\r\n                </v-dialog>\r\n              </div>\r\n\r\n              <!--复制按钮-->\r\n              <v-btn color=\"deep-purple\" class=\"font-weight-bold\" text @click=\"duplicateRoom(room.id)\">\r\n                Duplicate\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-hover>\r\n      </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n    <!--消息栏-->\r\n    <v-snackbar v-model=\"snackbarStatus\" light :timeout=\"snackbarTimeout\" width=\"500\"\r\n                :color=\"snackbarColor\" shaped app top centered>\r\n      <v-row>\r\n        <!--状态码-->\r\n        <v-col cols=\"5\" class=\"text-h6\" align-self=\"center\">\r\n          {{ snackbarCode }}\r\n        </v-col>\r\n        <!--消息内容-->\r\n        <v-col cols=\"7\" align-self=\"center\">\r\n          {{ snackbarData }}\r\n        </v-col>\r\n      </v-row>\r\n      <!--关闭按钮-->\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn text v-bind=\"attrs\" @click=\"snackbarStatus = false\">\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-expansion-panels>\r\n</template>\r\n\r\n<script>\r\nimport AvatarUploader from \"@/components/AvatarUploader.vue\";\r\nimport {getCurrentDateTime} from \"@/js/generalDataConverter\";\r\nimport {deleteOneRoom, searchAllRoom, updateOneRoom} from \"@/api/roomRequest/roomApi\";\r\n\r\n\r\nexport default {\r\n  name: \"RoomCard\",\r\n  components: {AvatarUploader},\r\n  props: {\r\n    userUUId: String,\r\n    roomList: Array,\r\n    isEager: false,\r\n  },\r\n  data: () => ({\r\n    //再次确认对话框弹窗\r\n    dialog: false,\r\n\r\n    //设置是否禁用卡片\r\n    setDisabled: true,\r\n\r\n    //颜色选择器菜单显示与否\r\n    showMainColorPicker: [],\r\n    showMinorColorPicker: [],\r\n    //遮罩层显示与否\r\n    overlayLoading: false,\r\n    //消息栏\r\n    snackbarStatus: false,\r\n    snackbarCode: 200,\r\n    snackbarColor: 'white',\r\n    snackbarData: \"none\",\r\n    snackbarTimeout: 2000,\r\n  }),\r\n  methods: {\r\n    //------------------发送snackbar，唤醒消息栏------------------\r\n    sendMessage(code, color, data, timeout) {\r\n      this.snackbarStatus = true\r\n      this.snackbarCode = code\r\n      this.snackbarColor = color\r\n      this.snackbarData = data\r\n      this.snackbarTimeout = timeout\r\n    },\r\n    //-------------修改操作（空操作，为了迎合保存操作）----------------\r\n    modifyRoom() {\r\n      //转换状态\r\n      this.setDisabled = false\r\n    },\r\n    //-----------------------修改保存Room操作----------------------------\r\n    async saveRoom(userUUId, room) {\r\n      this.setDisabled = true\r\n      //读取数据\r\n      console.log(\"room: \" + room)\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //组装数据\r\n      room.modifyTime = getCurrentDateTime()\r\n      room.modifyCount += 1\r\n      //更新数据到数据库\r\n      try {\r\n        await updateOneRoom(userUUId, room).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n          } else {\r\n            this.sendMessage(200, 'success', res.data.msg, 2000);\r\n            //转换状态\r\n            this.setDisabled = true\r\n          }\r\n        })\r\n      } catch (error) {\r\n        this.sendMessage(500, 'error', \"update failed\", 2000);\r\n        console.log(\"error: \" + error)\r\n      }\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n      //更新数据到数据库\r\n    },\r\n    //-----------------------删除Room操作----------------------------\r\n    async deleteRoom(userUUId, roomUUId) {\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //更新数据到数据库\r\n      try {\r\n        await deleteOneRoom(userUUId, roomUUId).then(res => {\r\n              if (res.data.status != 200 || !res) {\r\n                this.sendMessage(404, 'warning', res.data.msg, 2000);\r\n              } else {\r\n                this.sendMessage(200, 'success', res.data.msg, 2000);\r\n                //刷新一遍所有数据\r\n\r\n                //------------------loadAllRoom--------------\r\n                //封闭操作遮罩层\r\n                this.overlayLoading = true\r\n                //搜索数据\r\n                try {\r\n                  searchAllRoom(userUUId).then(res => {\r\n                    if (res.data.status != 200 || !res) {\r\n                      this.sendMessage(404, 'warning', res.data.message, 2000);\r\n                    } else {\r\n                      //将返回data内的list数据传给roomList进行渲染\r\n                      this.roomList = res.data.data\r\n                      console.log(\"roomList\")\r\n                      console.log(this.roomList)\r\n                      this.sendMessage(200, 'success', res.data.message, 2000);\r\n                    }\r\n                  })\r\n                } catch (error) {\r\n                  console.error(\"RR404\", \"room load failed\")\r\n                  this.sendMessage(500, 'error', \"load failed\", 2000);\r\n                }\r\n                //开放操作遮罩层\r\n                this.overlayLoading = false\r\n                //------------------loadAllRoom--------------\r\n              }\r\n            }\r\n        )\r\n      } catch (error) {\r\n        this.sendMessage(500, 'error', \"delete failed\", 2000);\r\n        console.log(\"error: \" + error)\r\n      }\r\n      //弹窗关闭\r\n      this.dialog = false\r\n      //转换状态\r\n      this.setDisabled = true\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //-----------------------复制Room操作----------------------------\r\n    async duplicateRoom(index) {\r\n\r\n    },\r\n  }\r\n  ,\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomCard.vue?vue&type=template&id=a99c5534&scoped=true&\"\nimport script from \"./RoomCard.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a99c5534\",\n  null\n  \n)\n\nexport default component.exports","<!--HomeView->RoomView-->\r\n<template>\r\n  <v-col :cols=\"10\">\r\n    <v-container class=\"my-0 mx-0 px-0 py-0\">\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <v-sheet class=\"d-flex flex-column\" min-height=\"70vh\" rounded=\"lg\" color=\"transparent\">\r\n            <v-skeleton-loader class=\"mb-2\" type=\"card\" v-if=\"isLoading\"></v-skeleton-loader>\r\n            <template v-else-if=\"!isLoading\">\r\n              <RoomCard :room-list=\"roomList\" ref=\"roomCard\"\r\n                        :user-u-u-id=\"userUUId\"\r\n                        :userUUId=\"userUUId\"></RoomCard>\r\n              <!--the add-new-one button-->\r\n              <v-btn elevation=\"2\" class=\"my-2\" color=\"white\" @click=\"addNewOneRoomCard\">\r\n                <v-icon>mdi-plus</v-icon>\r\n              </v-btn>\r\n            </template>\r\n          </v-sheet>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-col>\r\n</template>\r\n<script>\r\n\r\nimport RoomCard from \"@/components/card/RoomCard.vue\";\r\nimport roomTemplateJSON from \"@/json/room/roomTemplateJSON.json\"\r\nimport {insertOneRoom, searchAllRoom} from \"@/api/roomRequest/roomApi\";\r\n\r\nexport default {\r\n  name: 'RoomView',\r\n  components: {RoomCard},\r\n  data: () => ({\r\n    userUUId: '648fdfbb54b0950d00c37c2e',\r\n    haveAlreadyAddNewOneRoomCard: true,\r\n    isRoomCardEager: true,\r\n    isLoading: false,\r\n    //存放所有查询回来的房间\r\n    roomList: null,\r\n    roomTemplateJSON: roomTemplateJSON,\r\n\r\n    //消息栏\r\n    snackbarStatus: false,\r\n    snackbarCode: 200,\r\n    snackbarColor: 'white',\r\n    snackbarData: \"none\",\r\n    snackbarTimeout: 2000,\r\n  }),\r\n  mounted() {\r\n    this.isLoading = true\r\n    this.loadAllRoom(this.userUUId)\r\n    setTimeout(() => {\r\n      this.isLoading = false\r\n    }, 500)\r\n  },\r\n  methods: {\r\n    //------------------发送snackbar，唤醒消息栏------------------\r\n    sendMessage(code, color, data, timeout) {\r\n      this.snackbarStatus = true\r\n      this.snackbarCode = code\r\n      this.snackbarColor = color\r\n      this.snackbarData = data\r\n      this.snackbarTimeout = timeout\r\n    },\r\n    //----------------------查询所有Room操作--------------------------\r\n    async loadAllRoom(userUUId) {\r\n      //封闭操作遮罩层\r\n      this.overlayLoading = true\r\n      //搜索数据\r\n      try {\r\n        await searchAllRoom(userUUId).then(res => {\r\n          if (res.data.status != 200 || !res) {\r\n            this.sendMessage(404, 'warning', res.data.message, 2000);\r\n          } else {\r\n            //将返回data内的list数据传给roomList进行渲染\r\n            this.roomList = res.data.data\r\n            console.log(\"roomList\")\r\n            console.log(this.roomList)\r\n            this.sendMessage(200, 'success', res.data.message, 2000);\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.error(\"RR404\", \"room load failed\")\r\n        this.sendMessage(500, 'error', \"load failed\", 2000);\r\n      }\r\n      //开放操作遮罩层\r\n      this.overlayLoading = false\r\n    },\r\n    //----------------------新增一个Room操作--------------------------\r\n    async addNewOneRoomCard() {\r\n      this.haveAlreadyAddNewOneRoomCard = false\r\n      //填写信息\r\n      //模拟一个暂时的room模板\r\n      roomTemplateJSON =\r\n          {\r\n            \"refUserId\": this.userUUId,\r\n            \"name\": \"\",\r\n            \"attribute\": \"\",\r\n            \"mainColor\": \"\",\r\n            \"minorColor\": \"\",\r\n            \"imgUrl\": \"\",\r\n            \"description\": \"\",\r\n            \"isBookmarks\": false\r\n          }\r\n      //填完保存\r\n      console.log(\"prepare insertOneRoom\")\r\n      await insertOneRoom(this.userUUId, roomTemplateJSON).then(res => {\r\n        if (res.data.status != 200 || !res) {\r\n          this.sendMessage(404, 'warning', res.data.message, 2000);\r\n        } else {\r\n          this.sendMessage(200, 'success', res.data.message, 2000);\r\n        }\r\n      })\r\n      //保存完刷新组件（此时新数据已加载进入数据库）\r\n      await this.loadAllRoom(this.userUUId)\r\n    },\r\n    //-----------------------删除Room操作在RoomCard里面----------------------------\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomView.vue?vue&type=template&id=42c17bab&\"\nimport script from \"./RoomView.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--main root page-->\r\n<template>\r\n  <v-app id=\"inspire\">\r\n    <v-slide-y-transition>\r\n      <SystemBar v-if=\"systemBarVisible\"></SystemBar>\r\n    </v-slide-y-transition>\r\n    <NavigationBar></NavigationBar>\r\n    <v-main class=\"grey lighten-3\">\r\n      <v-container>\r\n        <v-row>\r\n          <!--          <v-col class=\"my-0 mx-0 px-0 py-0\" cols=\"12\">-->\r\n          <!--            <v-scroll-y-reverse-transition mode=\"out-in\">-->\r\n\r\n          <!--            </v-scroll-y-reverse-transition>-->\r\n          <!--          </v-col>-->\r\n          <!--navbar influences left list-->\r\n          <v-col cols=\"2\">\r\n            <v-scroll-y-transition mode=\"out-in\">\r\n              <MenuList id=\"menulist\" style=\"position: fixed\" v-if=\"accountButtonState===false && navbarButtonState===1\"></MenuList>\r\n            </v-scroll-y-transition>\r\n          </v-col>\r\n          <!--left list influences middle-->\r\n          <v-scroll-y-transition mode=\"out-in\">\r\n            <RoomView v-if=\"funcButtonState === 1\"></RoomView>\r\n            <FurnitureView v-else-if=\"funcButtonState === 2\"></FurnitureView>\r\n            <StuffView v-else-if=\"funcButtonState === 3\"></StuffView>\r\n            <BookmarkView v-else-if=\"funcButtonState === 4\"></BookmarkView>\r\n            <TimelineView v-else-if=\"funcButtonState === 5\"></TimelineView>\r\n\r\n            <AccountView v-else-if=\"accountButtonState === true\"></AccountView>\r\n            <ImportView v-if=\"accountButtonState===false && navbarButtonState===2\"></ImportView>\r\n            <StatisticView v-if=\"accountButtonState===false && navbarButtonState===3\"></StatisticView>\r\n            <ManageView v-if=\"accountButtonState===false && navbarButtonState===4\"></ManageView>\r\n          </v-scroll-y-transition>\r\n        </v-row>\r\n      </v-container>\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport store from \"../store/index.js\";\r\nimport {mapMutations} from \"vuex\";\r\nimport NavigationBar from \"@/components/NavigationBar.vue\";\r\nimport MenuList from \"@/components/MenuList.vue\";\r\nimport SystemBar from \"@/components/SystemBar.vue\";\r\nimport FurnitureView from \"@/views/FurnitureView.vue\";\r\nimport StuffView from \"@/views/StuffView.vue\";\r\nimport ImportView from \"@/views/ImportView.vue\";\r\nimport StatisticView from \"@/views/StatisticView.vue\";\r\nimport BookmarkView from \"@/views/BookmarkView.vue\";\r\nimport AccountView from \"@/views/AccountView.vue\";\r\nimport ManageView from \"@/views/ManageView.vue\";\r\nimport TimelineView from \"@/views/TimelineView.vue\";\r\nimport RoomView from \"@/views/RoomView.vue\";\r\n\r\nexport default {\r\n  name: 'Home',\r\n  store,\r\n  components: {\r\n    RoomView,\r\n    TimelineView,\r\n    ManageView,\r\n    NavigationBar,\r\n    MenuList,\r\n    SystemBar,\r\n    FurnitureView,\r\n    StuffView,\r\n    ImportView,\r\n    StatisticView,\r\n    BookmarkView,\r\n    AccountView,\r\n  },\r\n  computed: {\r\n    funcButtonState() {\r\n      return this.$store.state.funcMenuList.funcButton\r\n    },\r\n    accountButtonState() {\r\n      return this.$store.state.navbar.accountButton\r\n    },\r\n    navbarButtonState() {\r\n      return this.$store.state.navbar.navbarButtons\r\n    },\r\n    systemBarVisible() {\r\n      return this.$store.state.components.systemBar\r\n    },\r\n  },\r\n  data: () => ({\r\n    colLength: 2,\r\n  }),\r\n  // mounted() {\r\n  //   if (this.navbarButtonState === 4) {\r\n  //     this.colLength = 12\r\n  //   } else {\r\n  //     this.colLength = 2\r\n  //   }\r\n  // },\r\n  methods: {\r\n    ...mapMutations([\r\n      'switchFuncButton',\r\n      'switchAccountButton',\r\n      'switchNavbarButton',\r\n      'setSystemBarVisible',\r\n    ]),\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeView.vue?vue&type=template&id=5fbdaf29&\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2');\n\nparams['delete']('a', 1);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\nif (params.has('a', 2)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n"],"names":["staticClass","_c","attrs","_vm","accountButtonState","staticStyle","staticRenderFns","VSheet","extend","name","props","absolute","Boolean","bottom","collapse","dense","extended","extensionHeight","default","type","Number","String","flat","floating","prominent","short","src","Object","tag","data","isExtended","computed","computedHeight","height","this","computedContentHeight","parseInt","isCollapsed","isNaN","isProminent","$vuetify","breakpoint","smAndDown","classes","options","call","styles","measurableStyles","convertToUnit","created","breakingProps","forEach","original","replacement","$attrs","hasOwnProperty","breaking","methods","genBackground","image","$scopedSlots","img","$createElement","VImg","genContent","style","getSlot","genExtension","render","h","extension","children","setBackgroundColor","color","class","on","$listeners","push","unshift","inserted","el","binding","vnode","self","modifiers","value","passive","handler","target","arg","document","querySelector","window","addEventListener","_onScroll","context","_uid","undefined","unbind","_a","removeEventListener","Scroll","Vue","directives","scrollTarget","scrollThreshold","currentScroll","currentThreshold","isActive","isScrollingUp","previousScroll","savedScroll","canScroll","computedScrollThreshold","watch","mounted","consoleWarn","onScroll","scrollTop","pageYOffset","Math","abs","$nextTick","thresholdMet","baseMixins","mixins","VToolbar","Scrollable","SSRBootable","Toggleable","Applicationable","provide","VAppBar","clippedLeft","clippedRight","collapseOnScroll","elevateOnScroll","fadeImgOnScroll","hideOnScroll","invertedScroll","scrollOffScreen","shrinkOnScroll","applicationProperty","isBooted","app","fixed","hideShadow","scrollRatio","threshold","max","min","computedOriginalHeight","computedFontSize","computedLeft","application","left","computedMarginTop","bar","computedOpacity","computedRight","right","computedTransform","fontSize","marginTop","transform","callUpdate","val","_b","opacity","updateApplication","BaseItemGroup","btnToggle","genData","ButtonGroup","Colorable","backgroundColor","borderless","group","rounded","shaped","tile","themeClasses","setTextColor","VMain","deprecate","node","Delayable","disabled","onMouseEnter","runDelay","onMouseLeave","element","hover","Array","isArray","length","_g","mouseenter","mouseleave","_v","selectedItem","expression","_l","navbarLinks","key","index","switchNavbarButton","link","scopedSlots","fn","store","account","avatar","username","text","languageList","lang","flag","mapMutations","defaultHome","$store","state","funcMenuList","funcButton","detectOfficialWeb","open","component","model","callback","funcButtonList","domProps","content","icon","refreshButton","Elevatable","Measurable","Themeable","boilerplate","loading","loadingText","transition","types","isLoading","t","role","elevationClasses","rootTypes","actions","article","button","card","chip","heading","paragraph","sentences","table","genBone","genBones","bone","split","generator","genStructure","from","map","indexOf","mapBones","genSkeleton","afterEnter","resetStyles","beforeEnter","onBeforeEnter","beforeLeave","onBeforeLeave","leaveCancelled","bones","replace","_initialStyle","display","setProperty","ref","addNewOneFurnitureCard","mobileBreakpoint","validator","v","includes","isMobile","mobile","width","mobileWidth","isNumber","handleGesture","wrapper","touchstartX","touchendX","touchstartY","touchendY","dirRatio","minDistance","offsetX","offsetY","up","down","touchstart","event","touch","changedTouches","clientX","clientY","start","assign","touchend","end","touchmove","touchmoveX","touchmoveY","move","createHandlers","e","parent","parentElement","handlers","_touchHandlers","keys","eventName","Touch","bias","c","x","sign","calculateUpdatedOffset","selectedElement","widths","rtl","currentScrollOffset","clientWidth","offsetLeft","totalWidth","itemOffset","additionalOffset","calculateCenteredOffset","offsetCentered","BaseSlideGroup","Mobile","Resize","activeClass","centerActive","nextIcon","prevIcon","showArrows","isOverflowing","resizeTimeout","startX","isSwipingHorizontal","isSwiping","scrollOffset","canTouch","__cachedNext","genTransition","__cachedPrev","hasAffixes","hasNext","hasPrev","internalValue","scroll","$refs","ResizeObserver","obs","onResize","observe","$el","$on","disconnect","itemsLength","setWidths","scrollLeft","onFocusin","composedPath","vm","items","genNext","slot","next","$slots","click","onAffixClick","focusin","genIcon","location","upperLocation","toUpperCase","slice","hasAffix","VIcon","genPrev","prev","VFadeTransition","genWrapper","overflowCheck","onTouchStart","onTouchMove","onTouchEnd","calculateNewOffset","direction","newAbosluteOffset","$emit","scrollTo","_isDestroyed","diffX","diffY","documentElement","overflowY","maxScrollOffset","removeProperty","stopPropagation","scrollIntoView","lastItemPosition","getBoundingClientRect","wrapperPosition","selectedIndex","requestAnimationFrame","slideGroup","chipGroup","column","VInput","Loadable","ClickOutside","inverseLabel","step","thumbColor","thumbLabel","thumbSize","tickLabels","ticks","tickSize","trackColor","trackFillColor","vertical","oldValue","thumbPressed","mouseTimeout","isFocused","noClick","startOffset","get","lazyValue","set","minValue","roundValue","maxValue","trackTransition","showTicks","stepNumeric","parseFloat","inputWidth","trackFillStyles","startDir","endDir","valueDir","isDisabled","trackStyles","numTicks","ceil","showThumbLabel","computedTrackColor","isDark","validationState","computedTrackFillColor","computedColor","computedThumbColor","parsed","immediate","genDefaultSlot","genLabel","slider","genSlider","genProgress","isReadonly","onBlur","onSliderClick","mousedown","onSliderMouseDown","genChildren","genInput","genTrackContainer","genSteps","genThumbContainer","onFocus","id","computedId","readonly","tabindex","range","createRange","offsetDirection","reverse","filled","valueWidth","genThumb","thumbLabelContent","genThumbLabelContent","genThumbLabel","getThumbContainerStyles","label","focus","blur","keydown","onKeyDown","size","VScaleTransition","origin","preventDefault","matches","domRect","touches","top","clearTimeout","setTimeout","mouseUpOptions","passiveSupported","capture","mouseMoveOptions","isTouchEvent","onMouseMove","addOnceEventListener","onSliderMouseUp","deepEqual","parseMouseMove","isInteractive","parseKeyDown","thumb","trackStart","trackLength","track","clickOffset","clickPos","pageup","pagedown","home","keyCodes","keyCode","steps","increase","multiplier","shiftKey","ctrlKey","trimmedStep","toString","trim","decimals","offset","newValue","round","toFixed","fromHSVA","hsva","hexa","HSVAtoHex","hsla","HSVAtoHSLA","rgba","HSVAtoRGBA","alpha","a","hex","substr","hue","fromHSLA","HSLAtoHSVA","fromRGBA","RGBAtoHSVA","RGBAtoHex","fromHexa","HexToHSVA","fromHex","parseHex","has","obj","every","k","parseColor","oldColor","r","g","b","stripAlpha","rest","extractColor","input","shouldStrip","hasAlpha","hideAlpha","genAlpha","genTrack","hideDetails","backgroundImage","RGBtoCSS","genSliders","genHue","genDot","background","RGBAtoCSS","VSlider","dotSize","boundingRect","dot","s","y","updateCanvas","emitColor","clamp","canvas","ctx","getContext","saturationGradient","createLinearGradient","addColorStop","fillStyle","fillRect","valueGradient","handleClick","handleMouseDown","handleMouseMove","handleMouseUp","genCanvas","radius","VBtn","modes","inputs","hideModeSwitch","mode","internalMode","currentMode","getValue","parseValue","changeMode","newMode","genInputs","endsWith","maxlength","change","newVal","genSwitch","small","red","freeze","base","lighten5","lighten4","lighten3","lighten2","lighten1","darken1","darken2","darken3","darken4","accent1","accent2","accent3","accent4","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","blueGrey","grey","shades","black","white","transparent","parseDefaultColors","colors","swatches","maxWidth","maxHeight","genColor","dark","contrastRatio","light","genSwatches","swatch","canvasHeight","hideCanvas","hideSliders","hideInputs","showSwatches","swatchesMaxHeight","updateColor","VColorPickerCanvas","genControls","genPreview","genEdit","VColorPickerEdit","VColorPickerPreview","VColorPickerSwatches","VOverlay","hideOverlay","overlayColor","overlayOpacity","animationFrame","overlay","removeOverlay","genOverlay","beforeDestroy","createOverlay","propsData","$mount","parentNode","insertBefore","firstChild","hideScroll","activeZIndex","zIndex","getZIndex","showScroll","removeChild","$destroy","cancelAnimationFrame","scrollListener","tagName","isContentEditable","deltaY","body","checkPath","hasScrollbar","nodeType","Node","ELEMENT_NODE","getComputedStyle","scrollHeight","clientHeight","overflowX","scrollWidth","shouldScroll","hasAttribute","dir","deltaX","delta","alreadyAtStart","alreadyAtEnd","scrollingUp","scrollingDown","isInside","path","dialog","selected","getSelection","anchorNode","classList","add","addPassiveEventListener","remove","Dependent","Detachable","Overlayable","Returnable","Stackable","Activatable","fullscreen","noClickAnimation","persistent","retainFocus","scrollable","activatedBy","animate","animateTimeout","stackMinZIndex","previousActiveElement","contentClass","contentClasses","hasActivator","activator","show","removed","beforeMount","animateClick","closeConditional","contains","getMaxZIndex","activeElement","bind","onClickOutside","onKeydown","esc","getOpenDependents","getActivator","getOpenDependentElements","some","focusable","querySelectorAll","find","showLazyContent","VThemeProvider","root","getScopeIdAttrs","genInnerContent","appear","include","transformOrigin","getContentSlot","attach","genActivator","GroupableFactory","RegistrableProvide","header","nextIsActive","groupClasses","expansionPanels","registerContent","unregisterContent","registerHeader","onClick","unregisterHeader","detail","toggle","Bootable","RegistrableInject","parentIsActive","expansionPanel","oldVal","VExpandTransition","ripple","disableIconRotate","expandIcon","hideActions","hasMousedown","mouseup","accordion","inset","popout","updateItem","item","nextValue","toggleMethod","VTextField","autoGrow","noResize","rowHeight","rows","noResizeHandle","calculateInputHeight","minHeight","onInput","$set","furniture","onRoom","attrsRoom","setDisabled","attribute","isBookmarks","mainColor","minorColor","description","modifyFurniture","$event","snackbarTimeout","snackbarStatus","searchFurnitureListByFurnitureUUIds","userUUId","server","post","headers","insertOneFurniture","put","updateOneFurniture","patch","deleteOneFurniture","furnitureUUId","delete","furniture_uuid","searchOneFurniture","params","furniture_id","searchAllFurniture","getCurrentDateTime","now","Date","year","getFullYear","month","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","searchRoomListByRoomUUIds","insertOneRoom","updateOneRoom","deleteOneRoom","roomUUId","room_uuid","searchAllRoom","components","AvatarUploader","furnitureList","isEager","roomList","roomTagList","roomUUIds","showMainColorPicker","showMinorColorPicker","overlayLoading","snackbarCode","snackbarColor","snackbarData","queryRoomListByRoomUUIds","sendMessage","code","timeout","then","res","status","console","log","i","at","msg","roomUUIdLength","error","modifyTime","modifyCount","message","FurnitureCard","haveAlreadyAddNewOneFurnitureCard","isFurnitureCardEager","furnitureTemplateJSON","loadAllFurniture","stuffList","addNewOneStuffCard","stuff","onFurniture","attrsFurniture","refFurnitureId","modifyStuff","insertOneStuff","updateOneStuff","deleteOneStuff","stuffUUId","stuff_uuid","searchAllStuff","currentRefRoomIdByRefFurnitureId","currentRefRoomNameByRefFurnitureId","furnitureTagList","furnitureUUIds","queryFurnitureListByFurnitureUUIds","refRoomId","furnitureUUIdLength","duplicateStuff","StuffCard","haveAlreadyAddNewOneStuffCard","isStuffCardEager","stuffTemplateJSON","loadAllStuff","triggerDownloadReport","_u","exportImgURL","roomReport","roomImport","roomTemplate","furnitureReport","furnitureImport","furnitureTemplate","stuffReport","stuffImport","stuffTemplate","downloadReport","downloadType","responseType","startDate","endDate","onlyBookmarks","needAll","roomDownloadType","furnitureDownloadType","stuffDownloadType","roomFileName","furnitureFileName","stuffFileName","fileType","fileName","FormData","append","blob","URL","createObjectURL","Blob","elink","createElement","download","href","appendChild","array","any","test","output","each","eachReverse","eachContinue","found","splice","removeFirst","toIndex","removeIndex","insertIndex","pushOne","copy","findIndex","findIndexReverse","findReverse","getSortedIndex","ordering","pivot","order","getFirstSortedIndex","keepIf","keep","constructor","defineProperty","enumerable","configurable","writable","_disposed","isDisposed","dispose","_dispose","Disposer","ArrayDisposer","super","arguments","_disposers","disposers","CounterDisposer","increment","_counter","getType","toNumber","converted","isString","toDate","isDate","num","numberToString","Infinity","negative","exec","digits","exponent","zeros","repeat","string","amount","join","isObject","PLACEHOLDER","PLACEHOLDER2","_listeners","_killed","_disabled","_iterating","_enabled","disposer","hasListeners","hasListenersByType","killed","enable","disable","enableType","disableType","_removeListener","listener","Error","_removeExistingListener","once","_eachListener","info","isEnabled","removeType","_shouldDispatch","count","dispatch","_on","shouldClone","onAll","_type","off","copyFrom","source","checkBounds","len","List","initial","_values","values","removeValue","hasIndex","getIndex","_onPush","events","_onInsertIndex","_onSetIndex","_onRemoveIndex","_onMoveIndex","oldIndex","newIndex","_onClear","oldValues","setIndex","swap","value_a","value_b","moveValue","pushAll","pop","shift","setAll","newArray","old","clear","Symbol","iterator","f","ListAutoDispose","autoDispose","ListTemplate","template","make","Children","container","_container","_events","_onRemoved","_onInserted","child","_setParent","childrenDisplay","_childrenDisplay","addChild","_display","addChildAt","markDirtyBounds","markDirty","Percent","percent","_value","interpolate","static","p100","p50","__awaiter","thisArg","_arguments","P","adopt","resolve","Promise","reject","fulfilled","rejected","result","done","apply","create","SuppressedError","removeElement","dom","onZoom","_ev","supports","cap","getPointerId","pointerId","position","getRendererEvent","ev","PointerEvent","pointerType","MouseEvent","match","setStyle","property","getStyle","getEventTarget","cursor","host","isLocalEvent","setInteractive","interactive","pointerEvents","iOS","navigator","vendor","getSafeResolution","relativeToValue","full","decimalPlaces","number","padString","char","trimLeft","trimRight","getFormat","format","toLowerCase","hints","cleanFormat","stripTags","escapeForRgex","getYearDay","date","utc","diff","getTime","getTimezoneOffset","oneDay","floor","getWeek","_utc","d","UTC","getUTCDay","setUTCDate","getUTCDate","firstDay","getUTCFullYear","getWeekYear","getMonthWeek","firstWeek","currentWeek","getDayFromWeek","week","weekday","setUTCFullYear","getDay","get12Hours","getTimeZone","long","savings","timezone","d1","toLocaleString","timeZone","d2","timeZoneName","wotz","wtz","utcDate","tzDate","capitalizeFirst","charAt","hslToRgb","l","hue2rgb","p","q","rgbToHsl","lighten","rgb","getLightnessStep","brighten","isLight","saturate","saturation","hsl","alternativeColor","lightAlternative","darkAlternative","mergeTags","tags1","tags2","filter","sameBounds","string2hex","rgba2hex","Color","fromAny","_hex","toCSS","toCSSHex","toHSL","fromRGB","fromString","fromCSS","to","fromHSL","object","keysOrdered","sort","hasKey","waitForAnimations","animations","promises","_","animation","waitForStop","all","defaultInterpolate","percentInterpolate","colorInterpolate","getInterpolate","linear","cubic","out","ease","tau","PI","amplitude","period","asin","State","entity","settings","_entity","_settings","_userSettings","fallback","setRaw","_eachSetting","seen","defaultState","states","lookup","applyAnimate","duration","stateAnimationDuration","easing","stateAnimationEasing","States","_states","newState","_applyState","_applyStateAnimated","Registry","registry","compare","compareArray","leftLength","rightLength","compareNumber","Adapters","callbacks","_callbacks","_markDirtyKey","fold","Animation","loops","startingTime","_animation","_from","_to","_duration","_easing","_loops","_interpolate","_oldTime","playing","_playing","stopped","_stopped","stop","pause","play","_startAnimation","percentage","_time","_reject","_checkEnded","_run","currentTime","_reset","counter","Settings","_checkDirty","_userProperties","resetUserSettings","_runAnimation","_animatingSettings","_stopAnimation","_set","_animatingPrivateSettings","_stopAnimationPrivate","setPrivate","_setPrivate","_playingAnimations","_key","_markDirtyPrivateKey","_settingEvents","onPrivate","_privateSettingEvents","getRaw","_sendKeyEvent","_sendPrivateKeyEvent","_setRaw","_prevSettings","removeAll","getPrivate","_privateSettings","_setPrivateRaw","_prevPrivateSettings","setPrivateRaw","removePrivate","_animationTime","animatePrivate","Entity","isReal","templates","_createEvents","_root","_internalTemplates","_registerId","_template","_afterNew","shouldApply","_setObjectTemplate","_applyTemplates","_setDefaults","_afterNewApplyThemes","_applyThemes","classNames","className","_setDefault","_setRawDefault","_clearDirty","_dirty","_dirtyPrivate","isDirty","isPrivateDirty","isType","_pushPropertyDisposer","_disposerProperties","_disposeProperty","_removeObjectTemplate","_addDirtyEntity","_addAnimation","animationTime","_name","adapters","isUserSetting","_setSoft","_removeTemplateProperty","_userPrivateProperties","_removeTemplatePrivateProperty","_setTemplateProperty","_findTemplateByKey","_setTemplatePrivateProperty","_findTemplateByPrivateKey","_walkParents","_rootContainer","_applyStateByKey","other","_eachTemplate","_apply","_applyTemplate","_templateDisposers","privateSettings","_runSetup","setup","_findStaticTemplate","_templates","_disposeTemplates","_findTemplate","_removeTemplates","isConnected","defaults","themes","themeTags","Set","tags","_defaultThemes","theme","concat","allRules","rules","_lookupRules","rule","_changed","_beforeChanged","prevId","entitiesById","_afterChanged","addDisposer","delay","removeDispose","hasTag","addTag","removeTag","_t","locale","language","translate","TemplateState","_stateChanged","TemplateStates","TemplateAdapters","Template","entities","_entities","RADIANS","DEGREES","precision","pow","fitToRange","angle","sin","cos","normalizeAngle","getArcBounds","cx","cy","startAngle","endAngle","minX","MAX_VALUE","minY","maxX","maxY","bpoints","getArcPoint","fromAngle","toAngle","pt","arc","mergeBounds","bounds","bound","inBounds","point","SpriteEventDispatcher","sprite","_sprite","_makePointerEvent","originalEvent","simulated","native","_onRenderer","_rendererDisposers","rendererEvent","RENDERER_EVENTS","stopParentDispatch","_dispatchParents","dispatchParents","isDragging","_hasDown","_hasMoved","_trustBounds","_getBounds","globalBounds","_renderer","removeHovering","Sprite","_addPercentagePositionChildren","markDirtyPosition","_removeTemplateField","_templateField","_processTemplateField","field","dataItem","dataContext","new","_setDataItem","oldDataItem","_dataItem","eventType","newDataItem","_parent","_addPercentageSizeChildren","_percentageSizeChildren","_percentagePositionChildren","_addDirtyPosition","updatePivotPoint","_localBounds","centerX","centerY","_handleStates","previous","tooltip","setLayer","markDirtyLayer","tooltipMoveDp","_tooltipMoveDp","tooltipPointerDp","_tooltipPointerDp","isHover","showTooltip","_statesHandled","isHidden","markDirtyAccessibility","draggable","_dragDp","dragStart","dragMove","dragStop","cancelTouch","tooltipText","tooltipHTML","showTooltipOn","_tooltipDp","hideTooltip","toggleKey","_toggleDp","_isDragging","scale","visible","_prevWidth","_sizeDirty","_updateSize","wheelable","_registerTabindexOrder","_unregisterTabindexOrder","cursorOverStyle","_focusDp","exportable","_hoverDp","_handleOver","_handleOut","_isDown","_handleUp","_handleDown","inactive","_dragEvent","_dragPoint","_downPoint","_downPoints","downPoint","dragEvent","dragPoint","hypot","getLocalBounds","depth","markDirtySize","_addDirtyBounds","isMeasured","invalidateBounds","isFocus","_invalidateAccessibility","_updateBounds","oldBounds","_adjustedLocalBounds","newBounds","_fixMinBounds","getAdjustedBounds","minWidth","privateWidth","privateHeight","_removeParent","unhover","getTooltip","tooltipPosition","tooltipTarget","_setMatrix","toGlobal","_getTooltipPoint","markDirtyText","promise","hide","_updatePosition","dx","dy","_x","xx","yy","innerWidth","_y","innerHeight","_removeFocusElement","adjustedLocalBounds","localBounds","p0","p1","p2","p3","_onShow","_onHide","success","_error","_isShowing","_isHidden","_isHiding","isShowing","isHiding","hovering","focused","isVisible","isVisibleDeep","compositeOpacity","w","_walkParent","updateChildren","prevParent","getNumberFormatter","numberFormatter","getDateFormatter","dateFormatter","getDurationFormatter","durationFormatter","toLocal","_getDownPoint","_getDownPointId","toFront","toBack","Pattern","makeGraphics","pattern","_pattern","_draw","_clear","repetition","fill","fillOpacity","_backgroundDisplay","beginFill","drawRect","endFill","createPattern","PicturePattern","_load","_image","patternWidth","patternHeight","fit","centered","Image","decode","catch","BlendMode","visualSettings","Graphics","crisp","gradient","gradientTarget","strokeDasharray","setLineDash","strokeDashoffset","setLineDashOffset","blendMode","NORMAL","draw","svgPath","fillGradient","fillPattern","stroke","strokeGradient","strokePattern","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","shadow","changed","stops","colorInherited","opacityInherited","getFill","strokeOpacity","strokeWidth","resolution","lineJoin","lineStyle","endStroke","Rectangle","eachChildren","Layout","HorizontalLayout","updateContainer","paddingLeft","availableWidth","totalPercent","childWidth","prevX","marginLeft","marginRight","VerticalLayout","paddingTop","availableHeight","childHeight","prevY","marginBottom","GridLayout","paddingRight","minCellWidth","maxCellWidth","columnCount","columnWidths","getColumnWidths","maxColumnHeight","TextFormatter","prefix","RegExp","quotedBlocks","noFormatting","escape","chunks","chunk","chunks2","i2","chunk2","cleanUp","unescape","isImage","fontWeight","textDecoration","populateString","getTagValue","parts","reg","prop","dateFields","numericFields","durationFields","method","matches2","reg2","getTagValueFromObject","getCustomDataValue","customData","current","formatApplied","part","tmp","numberValue","dateValue","durationValue","encodeURIComponent","formatParts","formatterType","Container","makeContainer","allChildren","_removeHTMLContent","interactiveChildren","_prevHeight","layout","contentMask","_contentMask","mask","updateBackground","verticalScrollbar","_contentHeight","bg","pWidth","pHeight","horizontal","m","paddingBottom","childBounds","childX","childY","cl","cr","ct","cb","_contentWidth","_addDirtyParent","_prepareChildren","fi","forceInactive","walkChildren","_updateChildren","html","_setHTMLContent","_positionHTMLElement","startGrip","endGrip","interfaceColors","_vsbd0","wheelEvent","shiftY","_vsbd1","updated","Text","makeTextStyle","makeText","textStyle","_getText","updateTooltip","tooltipElement","_removeTooltipElement","wordWrapWidth","oversizedBehavior","breakWords","ellipsis","ignoreFormatting","minScale","_textStyles","styleName","Native","_observer","entries","entry","_targets","addTarget","box","removeTarget","unobserve","Raf","_timer","lastTime","loop","newSize","observer","makeSensor","ResizeSensor","_sensor","_element","_listener","sensor","InterfaceColors","Label","_text","_makeText","_textKeys","propValue","_setMaxDimentions","textAlign","rotation","getText","PointedRectangle","bwh","xtl","ytl","xtr","ytr","xbr","ybr","xbl","ybl","moveTo","stemX","lineTo","arcTo","stemY","closePath","Tooltip","_label","_updateBackground","_updateTextColor","tooltipContainer","htmlElement","_htmlContentHovered","_tooltips","labelText","labelHTML","updateBackgroundColor","keephover","_keepHoverDp","outEvent","getEvent","_fillDp","_strokeDp","_labelDp","alternative","cw","ch","parentW","parentH","layerMargin","_w","_h","pointTo","pointerOrientation","pointerLength","bgStrokeSizeY","bgStrokeSizeX","pointerX","pointerY","boundsW","boundsH","_fx","_fy","animationDuration","animationEasing","NumberFormatter","bns","sns","bs","suffix","formatted","Intl","NumberFormat","details","parseFormat","positive","zero","mod","active","applyFormat","thousandSeparator","translateEmpty","decimalSeparator","_part","partFormat","mods","modSpacing","thousands","interval","applyPrefix","ol","toPrecision","exp","toExponential","ints","ip","intsr","separator","decs","prefixes","force","newvalue","applied","parseDate","hour","minute","second","millisecond","formatToParts","toUTCDate","Timezone","DateTimeFormat","hour12","fractionalSecondDigits","_dtf","convertLocal","offsetUTC","userOffset","setUTCMinutes","getUTCMinutes","newUserOffset","dtf","DateFormatter","locales","fullYear","milliseconds","timestamp","getUTCMonth","getUTCHours","getUTCSeconds","getUTCMilliseconds","getMilliseconds","_getMonth","_getShortMonth","translateFunc","_getShortWeekday","_getWeekday","firstDayOfWeek","tz","tzh","tzm","toISOString","toUTCString","dateFormat","_months","_shortMonths","_weekdays","_shortWeekdays","parse","parsedIndexes","resValues","indexAdjust","year3","year2","year1","getStringList","monthLong","monthShort","yearDay","weekdayLong","weekdayShort","am","hour12Base1","hourBase0","hour12Base0","hourBase1","millisecondDigits","zone","iso","regex","resolveMonth","resolveShortMonth","isAm","ts","resolveTimezoneOffset","originalOffset","isDefault","translateAll","list","DurationFormatter","dmillisecond","dsecond","dminute","dhour","dday","dweek","dmonth","dyear","asecond","aminute","ahour","aday","aweek","amonth","ayear","baseUnit","dirs","_unitAliases","tstamp","toTimeStamp","unit","_toTimeUnit","_getUnitValue","maxUnit","getValueUnit","currentUnit","ms","_getUnitValues","timeUnit","Language","en","prompt","translation","translateAny","setTranslationAny","localeTarget","setTranslationsAny","translations","Theme","setupDefaultRules","themeClass","_rules","ruleRaw","setColor","ic","DefaultTheme","horizontalLayout","verticalLayout","primaryButton","primaryButtonHover","primaryButtonDown","primaryButtonActive","primaryButtonText","primaryButtonStroke","secondaryButton","secondaryButtonHover","secondaryButtonDown","secondaryButtonActive","secondaryButtonText","secondaryButtonStroke","grid","alternativeBackground","alternativeText","passOptions","lightness","reuse","startIndex","interpolationDuration","interpolationEasing","tooltipX","tooltipY","setStateOnChildren","gap","colorOpacity","checkered","fillField","strokeField","nameField","layer","clickTarget","ariaChecked","ariaLabel","cornerRadiusBL","cornerRadiusTL","cornerRadiusBR","cornerRadiusTR","populateText","stepCount","fontFamily","textType","inside","baseRadius","orientation","pointerBaseWidth","cornerRadius","shiftRadius","dRadius","dInnerRadius","locationX","locationY","getFillFromSprite","getStrokeFromSprite","autoTextColor","ariaValueMin","ariaValueMax","ariaLive","spikes","innerRadius","rotationStep","Matrix","tx","ty","setTransform","pivotX","pivotY","applyInverse","matrix","a1","b1","c1","prepend","tx1","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","err","TypeError","TAU","mapToEllipse","_ref","rx","ry","cosphi","sinphi","centerx","centery","xp","yp","approxUnitArc","ang1","ang2","tan","x1","y1","x2","y2","vectorAngle","ux","uy","vx","vy","acos","getArcCenter","px","py","largeArcFlag","sweepFlag","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","sqrt","centerxp","centeryp","vx1","vy1","vx2","vy2","arcToBezier","_ref2","_ref2$xAxisRotation","xAxisRotation","_ref2$largeArcFlag","_ref2$sweepFlag","curves","lambda","_getArcCenter","_getArcCenter2","ratio","segments","curve","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","checkArgs","actual","expected","checkMinArgs","checkEvenArgs","splitArcFlags","args","assertBinary","distributeId","eachTargets","hitTarget","onPointerEvent","isTainted","willReadFrequently","drawImage","getImageData","warn","clearCanvas","view","CanvasPivot","CanvasDisplayObject","renderer","_removeObject","getLayer","dirty","getCanvas","_layer","defaultLayer","margin","_ghostLayer","setMargin","layers","registerChildLayer","resizeLayer","resizeGhost","_addBounds","_bounds","_getColorId","_colorId","paintId","_isInteractive","_forceInteractive","_isInteractiveMask","_matrix","getLocalMatrix","_uMatrix","bn","_addEvent","_localMatrix","_transform","_transformMargin","_transformLayer","parentLayer","_omitTainted","ghostLayer","ghostContext","save","_runPath","clip","globalAlpha","compoundAlpha","_render","restore","tainted","_hovering","dragging","_dragging","shouldCancelTouch","tapToActivate","_touchActive","CanvasContainer","_children","_childLayers","deep","setPoint","Op","colorize","_context","_forceColor","addBounds","BeginPath","beginPath","BeginFill","forceColor","EndFill","clearShadow","EndStroke","LineStyle","strokeStyle","lineWidth","LineDash","dash","LineDashOffset","dashOffset","lineDashOffset","DrawRect","rect","DrawCircle","DrawEllipse","radiusX","radiusY","ellipse","Arc","anticlockwise","arcBounds","ArcTo","LineTo","MoveTo","ClosePath","BezierCurveTo","cpX","cpY","cpX2","cpY2","toX","toY","bezierCurveTo","QuadraticCurveTo","quadraticCurveTo","Shadow","GraphicsImage","CanvasGraphics","_operations","_pushOp","op","_fillAlpha","_hasShadows","_strokeAlpha","drawCircle","drawEllipse","cpx","cpy","qcpx","qcpy","SEGMENTS_REGEXP","ARGS_REGEXP","relative","layerDirty","globalCompositeOperation","renderDetached","CanvasText","_textInfo","_shared","textBaseline","_prerender","ignoreGhost","ignoreFontWeight","fontStyle","_getFontStyle","font","style2","fontVariant","_measure","textVisible","line","_index","textChunks","fillText","thickness","getTextStyle","_ignoreFontWeight","truncate","wrap","refText","lines","currentStyle","styleRestored","lineInfo","ascent","metrics","_measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","currentFormat","currentFill","currentChunkWidth","currentVerticalAlign","currentDecoration","skipFurtherText","firstTextChunk","leftoverChunks","verticalAlign","chunkWidth","actualBoundingBoxLeft","actualBoundingBoxRight","ellipsisMetrics","ellipsisWidth","excessWidth","_truncateText","tmpText","leftBoundMod","rightBoundMod","boundsMod","chunkHeight","lineHeight","currentChunkOffset","baselineRatio","_fitRatio","_originalScale","maxW","maxH","fallbackBreakWords","measureText","fakeMetrics","div","innerText","visibility","bbox","fontBoundingBoxAscent","fontBoundingBoxDescent","CanvasTextStyle","CanvasRadialText","_renderCircular","deltaAngle","inward","align","kerning","clockwise","shouldReverse","_textReversed","maxAngle","midAngle","textHeight","lineStartAngle","rotate","angleShift","charWidth","_measureCircular","chars","CanvasImage","_imageMask","naturalWidth","naturalHeight","_getMask","imageSmoothingEnabled","CanvasRendererEvent","originalPoint","identifier","CanvasRenderer","GhostLayer","_patternCanvas","devicePixelRatio","setAttribute","_layerDom","exportableView","_touchActiveTimeout","_delayTouchDeactivate","prevent","tapToActivateTimeout","debugGhostView","createRadialGradient","radius1","radius2","graphics","_patternContext","clearRect","makeRadialText","makePicture","resize","_calculatedWidth","_calculatedHeight","realWidth","realHeight","calculatedWidth","calculatedHeight","_realWidth","_realHeight","createDetachedLayer","CanvasLayer","getLayerByOrder","existingLayer","layerIndex","_dirtyLayers","_lastPointerMoveEvent","_dispatchGlobalMousemove","_colorMap","_adjustBoundingBox","DOMRect","adjustPoint","widthScale","heightScale","_getHitTarget","pixel","colorId","hit","_withEvents","dispatching","cleanup","disposed","_dispatchEventAll","interactionsEnabled","_dispatchEvent","dispatched","_dispatchMousedown","originalTarget","dragged","_mousedown","_replacedCursorStyle","_dispatchGlobalMouseup","_dispatchDragMove","_dispatchDragEnd","clickevent","_dispatchDoubleClick","_dispatchWheel","_makeSharedEvent","_onPointerEvent","timer","_initEvent","pointercancel","mousemove","canvasWidth","maxScale","maintainPixelRatio","canvases","forceRender","needRerender","exportableContext","extraX","extraY","domWidth","domHeight","_width","_height","rAF","fps","Root","accessible","_a11yD","useSafeResolution","HTMLElement","getElementById","rootElements","inner","tooltipContainerBounds","_tooltipContainerSettings","_inner","_updateComputedStyles","_init","moveDOM","childNodes","_initResizeSensor","_handleLogo","_logo","offsetWidth","offsetHeight","_showBranding","logo","_getRealSize","_getCalculatedSize","calculateSize","rootContainer","htmlElementContainer","_htmlElementContainer","overflow","readerAlertElement","_readerAlertElement","focusElementContainer","_focusElementContainer","tooltipElementContainer","_tooltipElementContainer","_isShift","focusedSprite","_focusedSprite","downEvent","dragOffsetX","dragOffsetY","_keyboardDragPoint","moveEvent","upEvent","_tabindexes","lastIndex","_startTicker","setThemes","_addTooltip","_hasLicense","_resizeSensorDisposer","autoResize","_focusElementDirty","_updateCurrentFocus","_runTickers","_tickers","_runAnimations","_animations","_runDirties","allParents","_isDirtyParents","_dirtyParents","uid","objects","_isDirty","depths","_dirtyBounds","_positionHTMLElements","dirtyPositions","_dirtyPositions","_renderFrame","_updateTick","_checkComputedStyles","_runTicker","_ticker","_paused","_runTickerNow","endTime","performance","updateTick","_markDirty","_markDirtyRedraw","eachFrame","markDirtyGlobal","_isDisposed","readerAlert","innerHTML","tooltipContainerSettings","_tooltip","_invalidateTabindexes","aindex","bindex","groups","_moveFocusElement","_makeFocusElement","_decorateFocusElement","_positionFocusElement","focusElement","removeAttribute","ariaOrientation","ariaValueNow","ariaValueText","ariaControls","getAttribute","tabIndex","_handleFocus","_handleBlur","_hideFocusElement","_focusNext","focusableElements","_makeTooltipElement","documentPointToRoot","scaleWidth","scaleHeight","rootPointToDocument","fontHash","_fontHash","_invalidateLabelBounds","licenses","_licenseApplied","_makeHTMLElement","boxSizing","_htmlEnabledContainers","setting","ListData","incrementRef","decrementRef","processor","processRow","DataItem","markDirtyValues","disposeDataItem","showDataItem","hideDataItem","Component","_dataItems","_data","_onDataClear","_updateFields","dataItems","_mainDataItems","_markDirtyGroup","_dataChanged","_makeDataItem","processDataItem","properties","bullets","_afterDataChange","valueFields","_valueFields","_valueFieldsF","fieldKey","workingKey","fields","_fields","_fieldsF","makeDataItem","pushDataItem","_valuesDirty","inited","_dataGrouped","sleep","timeUnitDurations","getNextUnit","getDuration","getIntervalDuration","getDateIntervalDuration","firstDateOfWeek","firstTime","checkChange","timeOne","timeTwo","dateOne","dateTwo","timeZoneOffset1","timeZoneOffset2","nextUnit","firstDate","timeZoneOffset","difference","unitCount","setTime","setUTCHours","setUTCSeconds","setUTCMilliseconds","setUTCMonth","wday","weekDay","newTimeZoneOffset","tzoffset","parsedDate","newOffset","chooseInterval","gridCount","intervals","gridInterval","intervalDuration","Series","_handleBullets","bulletsContainer","endIndex","bullet","getDataItemById","_makeBullets","_shouldMakeBullet","bulletFunction","_makeBullet","series","_aggregatesCalculated","_selectionAggregatesCalculated","baseValueSeries","calculateAggregates","_dataProcessed","_calculateAggregates","_psi","_pei","markerRectangle","legendDataItem","updateLegendMarker","sum","absSum","low","high","close","average","changePercent","changePrevious","changePreviousPercent","changeSelection","changeSelectionPercent","openKey","_getBase","dataField","customFunction","propertyValue","logarithmic","LOG10E","neutral","_hideBullets","_positionBullets","_positionBullet","_bullet","_placeBulletsContainer","chart","_removeBulletsContainer","_getItemReaderLabel","_super","_sequencedShowHide","realDuration","updateLegendValue","valueLabel","txt","hoverDataItem","unhoverDataItem","RoundedRectangle","wSign","hSign","minSide","crtl","crtr","crbr","crbl","maxcr","Legend","_new","itemContainers","themeTagsSelf","markers","labels","valueLabels","markerRectangles","makeItemContainer","itemContainer","makeMarker","marker","makeLabel","makeValueLabel","makeMarkerRectangle","useDefaultMarker","createLegendMarker","clickContainer","_addClickEvents","targetA","targetB","indexA","indexB","di","DataProcessor","_checkFeatures","_checkDates","_checkNumbers","_checkColors","_checkEmpty","_checkDeepFeatures","deepFields","where","_checkDeep","processMany","row","lookupKey","_maybeToEmpty","_maybeToNumber","_maybeToDate","_maybeToColor","Button","Scrollbar","_makeThumb","_makeButton","_addOrientationClass","_handleAnimation","_thumbBusy","newMiddle","newCoordinate","_startDown","_gripDown","_endDown","_thumbDown","_updateThumb","_updateGripsByThumb","updateGrips","grip","valueFunction","fromValue","toValue","x0","y0","ColorSet","reset","generateColors","pass","currentStep","HierarchyDefaultTheme","gridLayout","legendLabelText","legendValueText","downDepth","initialDepth","singleBranchOnly","maskContent","strength","distance","upDepth","minRadius","maxRadius","initialFrames","centerStrength","manyBodyStrength","velocityDecay","linkWithStrength","showOnFrame","topDepth","nodePadding","layoutAlgorithm","minWeightRatio","convergenceRatio","maxIterationCount","HierarchyNode","disableDataItem","enableDataItem","_clickDisposer","selectDataItem","eachAfter","that","nodes","n","eachBefore","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","leaves","links","hierarchy","Map","mapChildren","objectChildren","childs","computeHeight","node_copy","copyData","prototype","descendants","Hierarchy","_tag","makeNode","childData","nodesContainer","_treeData","first","_makeHierarchyData","_rootNode","_updateValues","_updateVisuals","_zoom","_selectDataItem","_updateNodes","hierarchyNode","_updateNode","hierarchyChildren","hierarchyChild","_getDataItemById","childDataItem","_processDataItem","addChildData","childDataField","d3HierarchyNode","dataValue","valuePercent","d3HierarchyChild","childrenDataArray","hiddenState","maxDepth","disabledField","skipDisptach","_currentDownDepth","currentDepth","_handleSingle","LinkedHierarchyNode","_updateLinks","HierarchyLink","sourceNode","targetNode","Circle","LinkedHierarchy","circles","outerCircles","circle","outerCircle","_handleRadiusChange","parentDataItem","linkDataItems","updateLinkWith","linkWith","linkWithDataItem","_getPoint","_animatePositions","sourceLinks","lnk","targetLinks","linksContainer","_processLink","unlinkDataItems","_disposeLink","_handleUnlink","areLinked","linked","_link","_source","_target","noop","Dispatch","parseTypenames","typenames","typename","T","taskHead","taskTail","pokeDelay","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","_call","_next","time","restart","timerFlush","wake","nap","poke","t0","t2","t1","clearInterval","setInterval","initialRadius","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","forces","stepper","random","lcg","tick","iterations","fx","fy","initializeNodes","initializeForce","initialize","randomSource","closest","cover","tree","xm","ym","j","leaf","_x0","_y0","_x1","_y1","addAll","xz","yz","z","visit","x3","y3","quads","retainer","defaultX","defaultY","quadtree","Quadtree","NaN","leaf_copy","treeProto","radii","xi","yi","ri","ri2","visitAfter","prepare","quad","rj","jiggle","constant","_nodes","_random","nodeById","nodeId","strengths","distances","defaultStrength","initializeStrength","initializeDistance","distanceMin2","distanceMax2","theta2","accumulate","weight","distanceMin","distanceMax","theta","extent","ForceDirected","d3forceSimulation","_tick","updateNodePositions","restartSimulation","_updateForces","d3ForceNode","_nodesDirty","collisionForce","linkForce","_links","pl","d3node","linkDatum","getDistance","getStrength","d3Nodes","d3Node","sourceDataItem","targetDataItem","_updateRadius","valueWorking","d3Link","Chart","SerialChart","seriesContainer","_removeSeries","_processSeries","PercentDefaultTheme","alignLabels","startLocation","endLocation","sequencedInterpolation","expandDistance","valueIs","PercentChart","chartContainer","PieChart","wr","hr","innerBounds","mr","prevRadius","_maxRadius","seriesRadius","seriesInnerRadius","PercentSeries","_makeSlices","_makeLabels","_makeTicks","makeSlice","slicesContainer","slices","labelsContainer","makeTick","ticksContainer","_lLabels","_rLabels","_hLabels","valueHigh","valueLow","percentTotal","_arrange","_arrangeDown","_arrangeUp","_arrangeLeft","_arrangeRight","_getNextDown","labelTop","_getNextUp","labelBottom","labelLeft","labelRight","atan2","epsilon","pi","halfPi","tauEpsilon","strings","appendRound","Path","_append","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","a0","ccw","da","withPath","shape","RangeError","arcInnerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","padAngle","intersect","x10","y10","x32","y32","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","padRadius","buffer","r0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","oc","ax","ay","bx","by","kc","lc","centroid","Slice","ix","iy","_generator","middleAngle","segmentedLine","firstGroup","firstPoint","points","Line","Tick","RadialText","RadialLabel","radiusPrivate","innerRadiusPrivate","labelAngle","_flipped","PieSeries","labelsTemplate","currentAngle","currentArc","labelRadius","pr","XYChartDefaultTheme","panX","panY","wheelStep","arrangeTooltips","pinchZoomX","pinchZoomY","minGridDistance","minPosition","maxPosition","behavior","snapToSeriesBy","moveThreshold","minZoomCount","maxZoomCount","maxZoomFactor","maxDeviation","snapTooltip","tooltipLocation","zoomX","zoomY","fixAxisSize","multiLocation","opposite","inversed","cellStartLocation","cellEndLocation","fillRule","axisFill","gridIntervals","dateFormats","periodChangeDateFormats","tooltipDateFormats","markUnitChange","strictMinMax","groupData","groupCount","groupIntervals","axis","endValue","baseInterval","baseValue","autoZoom","maskBullets","stackToNegative","openValueXGrouped","openValueYGrouped","valueXGrouped","valueYGrouped","seriesTooltipTarget","adjustBulletPosition","clustered","connect","autoGapCount","tension","lowValueXGrouped","lowValueYGrouped","highValueXGrouped","highValueYGrouped","XYChart","yAxesAndPlotContainer","plotsContainer","plotContainer","topPlotContainer","xAxes","yAxes","zoomOutButton","zoomOut","_processAxis","bottomAxesContainer","leftAxesContainer","topGridContainer","_handlePlotDown","_handlePlotUp","_handlePlotMove","_maskGrid","_setUpTouch","gridContainer","_unstack","_posXDp","_posYDp","xAxis","markDirtyExtremes","yAxis","snapToSeries","handleWheel","wheelX","wheelY","plotPoint","shiftX","wheelZoomPositionX","wheelZoomPositionY","fixPosition","newStart","newEnd","_handleWheelAnimation","zoom","_getWheelSign","se","_fixWheel","_handleSetWheel","_wheelDp","local","_downStartX","_downEndX","_downStartY","_downEndY","_panStart","_panEnd","_dispatchWheelAnimation","_isPanning","touchEvent","_movePoints","_handlePinch","scrollbarX","panStart","panEnd","scrollbarY","downPoints","movePoints","movePoint","downPoint0","downPoint1","movePoint0","movePoint1","downStartX","downEndX","downPos0","downPos1","movePos0","movePos1","initialDistance","currentDistance","sa","ea","downStartY","downEndY","_handleCursorPosition","cursorPoint","tooltipDataItem","closestItem","showDataItemTooltip","handleMove","_updateCursor","updateCursor","_addCursor","_colorize","_setChart","_handleCursorSelectEnd","topAxesContainer","_handleScrollbar","getTooltipText","rightAxesContainer","_handleZoomOut","_fixPosition","_markDirtyAxes","colorSet","downPositionX","downPositionY","positionX","positionY","position0","toAxisPosition","position1","axes","priority","axisStart","axisEnd","zoomAnimation","updateScrollbar","_removeAxis","processChart","axisParent","gridParent","topGridParent","_updateChartLayout","processAxis","_handleAxisSelection","inPlot","otherCharts","_otherCharts","global","chartPlotContainer","documentPoint","chartRoot","hh","plotT","plotB","tooltips","closestPoint","_movePoint","maxTooltipDistance","maxTooltipDistanceBy","tooltipSeries","hidden","_tooltipToLocal","prevBottom","Axis","axisHeader","axisRanges","_processAxisRange","ghostLabel","_updateFinals","_start","_end","sAnimation","_sAnimation","eAnimation","_eAnimation","maxZoomFactorReal","minZoomFactor","_series","_createAssets","_rangesDirty","_prepareDataItem","above","markDirtySelectionExtremes","_calculateTotals","_updateAxisRanges","_bullets","axisRange","_seriesAxisRanges","_inversed","_axisLength","axisLength","_updateLC","rendererTags","_updateTooltipBounds","updateTooltipBounds","axisHeadersContainer","_toggleDataItem","makeGrid","makeAxisFill","_processBullet","axisBullet","_updatePositions","axisFills","_updateGhost","getCellWidthPosition","gWidth","updateLabel","_cursorPosition","_snapToSeries","getSeriesItem","roundAxisPosition","_updateTooltipText","positionTooltip","_location","handleCursorShow","handleCursorHide","processSeriesDataItem","coordinateToPosition","coordinate","toGlobalPosition","shouldGap","_nextItem","_autoGapCount","_fieldName","createAxisRange","axisDataItem","_groupSeriesData","CategoryAxis","_itemMap","_handleRangeChange","_prepareAxisItems","startCategory","endCategory","baseAxis","otherAxis","startDataItem","endDataItem","hasValue","__valueXShowFields","__valueYShowFields","maxCount","MAX_SAFE_INTEGER","frequency","_frequency","fillIndex","categoryLocation","endCategoryLocation","categoryToIndex","indexToPosition","fillEndIndex","fillEndPosition","endPosition","updateGrid","updateFill","updateBullet","basePosition","getX","positionToCoordinate","getY","getDataItemPositionX","cellLocation","_axisLocation","category","getDataItemCoordinateX","getDataItemPositionY","getDataItemCoordinateY","dataItemToPosition","axisPositionToIndex","_adjustPosition","fieldName","seriesDataItem","zoomToIndexes","zoomToCategories","AxisTick","Grid","AxisLabel","AxisRenderer","_handleThumbDown","_handleThumbUp","_handleThumbMove","pan","_thumbDownPoint","_downStart","_downEnd","_event","downStart","downEnd","extra","_getPan","_point1","_point2","toggleVisibility","updatedStart","updatedEnd","_positionTooltip","AxisRendererY","gridTemplate","point1","point2","axisChildren","positionToPoint","bulletPosition","previousBullet","previousSprite","fillDrawMethod","_lc","_ls","ValueAxis","_dirtyExtremes","_dirtySelectionExtremes","previousValue","syncWithAxis","_syncDp","_getMinMax","_getSelectionMinMax","_groupData","_baseValue","_formatText","numberFormat","formatter","selectionMin","selectionMax","differencePower","minLog","_minLogAdjusted","stepPower","decCount","valueToPosition","positionToValue","minMaxStep","_adjustMinMax","stepDecimalPlaces","E","treatZeroAs","valueToFinalPosition","_cellLocation","axisLocation","stackToItem","getStackedXValueWorking","getStackedYValueWorking","cellEndValue","fixSmallStep","_fixMin","_fixMax","vc","fieldWorking","total","minDefined","maxDefined","extraMin","extraMax","selectionStrictMinMax","seriesMin","seriesMax","outOfSelection","_minReal","_maxReal","_deltaMinMax","minMaxStep2","selectionMinReal","selectionMaxReal","_syncAxes","LN10","minDiff","initialMin","initialMax","minAdapted","maxAdapted","_getDelta","strictMinMaxSelection","strict","_fixZoomFactor","_saveMinMax","power","_min","_max","strictMode","stepDivisor","maxPrecision","ceiledStep","minCount","extraDecimals","oldDiff","zoomToValues","syncMin","syncMax","syncStep","currentCount","synced","omin","omax","ostep","_checkSync","DateAxis","_setBaseInterval","_baseDuration","baseMainDuration","groupInterval","mainDataSetId","setDataSet","resetGrouping","_seriesDataGrouped","baseDuration","_dataSets","_valueYFields","_valueXFields","groupCallback","groupOriginals","previousTime","dataSetId","groupFieldValues","workingFields","prevNewDataItem","firstItem","roundedTime","groupKey","currentValue","_dataSetId","_groupingCalculated","getGroupInterval","getIntervalMax","_intervalMax","getIntervalMin","_intervalMin","modifiedDifference","newId","endIndex2","firstDataItem","lastDataItem","lastDate","_strictMode","_intervalDuration","_getM","nextGridUnit","formats","startTime","_updateDates","_date","openValue","closeValue","adjustPosition","diValue","nextItem","value1","value2","zoomToDates","positionToDate","dateToPosition","AxisRendererX","XYSeries","_removeAxisRange","_makeFieldNames","_valueXShowFields","_valueYShowFields","valueXFields","valueYFields","minBulletDistance","_xField","_yField","xName","xCapName","yName","yCapName","xLetter","yLetter","_xOpenField","_xLowField","_xHighField","_yOpenField","_yLowField","_yHighField","_fixVC","_handleMaskBullets","tooltipPositionX","tooltipFieldX","_tooltipFieldX","tooltipPositionY","tooltipFieldY","_tooltipFieldY","stacked","_stack","getStackedXValue","getStackedYValue","_seriesValuesDirty","_markStakedDirtyStack","_stackDirty","_showBullets","_selectionProcessed","vcx","vcy","processYSelectionDataItem","processXSelectionDataItem","selectionMinY","selectionMaxY","selectionMinX","selectionMaxX","_makeRangeMask","mainContainerMask","_mainContainerMask","mainContainer","seriesIndex","_couldStackTo","_stackDataItems","_reallyStackedTo","_stackedSeries","stackToItemKey","stackToSeries","stackValue","stackedToSeries","_axesDirty","_markDataSetDirty","getPoint","_shouldShowBullet","_positionX","_positionY","_handleDataSetChange","dataSet","mainDataItems","_markDirtyStack","stackedSeries","_skipped","itemLocationX","itemLocationY","xPos","_aLocationX0","_aLocationX1","yPos","_aLocationY0","_aLocationY1","_getTooltipTarget","_emptyDataItem","_shouldInclude","_position","resetExtremes","BaseColumnSeries","_makeGraphics","listTemplate","makeColumn","categoryAxis","valueAxis","_createGraphics","_ph","_pw","columnsTemplate","columns","clusterCount","xRenderer","yRenderer","cellLocationX0","cellLocationX1","cellLocationY0","cellLocationY1","_toggleColumn","_updateGraphics","graphicsArray","rangeGraphics","previousDataItem","xField","yField","valueX","valueY","xOpenField","yOpenField","openLocationX","openLocationY","xStart","xEnd","yStart","yEnd","fitW","fitH","stackToItemY","stackToItemX","_updateSeriesGraphics","_applyGraphicsStates","ptl","pbr","tooltipPoint","dropFromOpen","riseFromOpen","dropFromPrevious","riseFromPrevious","previousClose","ColumnSeries","XYCursor","_drawLines","lineX","_handleXLine","lineY","_handleYLine","_handleLineFocus","_handleLineBlur","_handleLineMove","_line","alwaysShow","_tooltipX","_updateXLine","_tooltipY","_updateYLine","_handleSyncWith","syncWith","_toX","_toY","_handleMove","_handleCursorDown","_handleCursorUp","selection","_inPlot","rootPoint","_getPosition","lastPoint","_lastPoint","skipEvent","xyPos","userPositionX","userPositionY","xy","_updateLines","_updateSelection","AnimatedTheme","bubbleTree","pieChart","ganttChart","xyChart","am5","chartdiv","am5themes_animated","bubbleTreeJSON","am5hierarchy","valueField","categoryField","idField","linkWithField","piechartdiv","pieChartJSON","am5percent","ganttchartdiv","am5xy","fromDate","columnSettings","openValueXField","valueXField","categoryYField","templateField","xychartdiv","valueYField","categoryXField","xyChartJSON","genRipple","center","Rippleable","Comparable","inputValue","falseValue","trueValue","multiple","hasColor","appIsDark","isMultiple","valueComparator","rippleState","checked","onChange","validate","Selectable","indeterminate","indeterminateIcon","offIcon","onIcon","inputIndeterminate","computedIcon","hasError","shouldValidate","hasSuccess","genCheckbox","title","checkboxAttrs","attrs$","VTreeviewNodeProps","activatable","disablePerNode","itemChildren","itemDisabled","itemKey","itemText","loadChildren","Function","loadingIcon","openOnClick","selectable","selectedColor","selectionType","VTreeviewNode","inject","treeview","level","parentIsDisabled","hasLoaded","isIndeterminate","isOpen","isSelected","getObjectValueByPath","isExcluded","scopedProps","hasChildren","register","unregister","checkChildren","updateOpen","emitOpen","genPrependSlot","genAppendSlot","genToggle","updateSelected","emitSelected","genLevel","genNode","updateActive","emitActive","genChild","genChildrenWrapper","filterTreeItem","search","textKey","toLocaleLowerCase","filterTreeItems","idKey","childrenKey","excluded","hoverable","multipleActive","openAll","returnObject","activeCache","openCache","selectedCache","excludedItems","oldKeys","newKeys","getKeys","arrayDiff","oldSelectedCache","buildTree","handleNodeCacheWatcher","updateAll","oldNode","calculateState","updateVnodeState","counts","reduce","emitNodeCache","cache","updateFn","emitFn","getDescendants","getParents","parents","isParent","isForced","descendant","calculated","bookmarkTreeRequest","caseSensitive","$$v","getBookmarkTree","treeSearchResult","email","checkPassword","continent","continents","errorMessages","telephone","password","formHasErrors","form","inheritAttrs","sortBy","sortDesc","customSort","sortItems","mustSort","multiSort","page","itemsPerPage","groupBy","groupDesc","customGroup","groupItems","disableSort","disablePagination","disableFiltering","customFilter","searchItems","serverItemsLength","internalOptions","wrapInArray","sortDiff","groupDiff","fillArray","filteredItems","pageCount","pageStart","pageStop","isGrouped","pagination","computedItems","paginateItems","groupedItems","sortArray","updateOptions","originalItemsLength","computedOptions","oldBy","oldDesc","desc","byIndex","required","itemsPerPageOptions","firstIcon","lastIcon","itemsPerPageText","itemsPerPageAllText","showFirstLastPage","showCurrentPage","disableItemsPerPage","pageText","disableNextPageIcon","computedDataItemsPerPageOptions","option","genDataItemsPerPageOption","onFirstPage","onPreviousPage","onNextPage","onLastPage","onChangeItemsPerPage","genItemsPerPageSelect","computedIPPO","ippo","VSelect","auto","genPaginationInfo","genIcons","before","after","VData","singleSelect","expanded","singleExpand","noResultsText","noDataText","hideDefaultFooter","footerProps","selectableKey","expansion","internalCurrentItems","shiftKeyDown","lastEntry","everyItem","selectableItems","someItems","sanitizedFooterProps","camelizeObjectKeys","isSelectable","removedProps","onKeyUp","toggleSelectAll","select","emit","lastEntryKey","lastEntryKeySelected","multipleSelect","currentItem","isExpanded","expand","createItemProps","genEmptyWrapper","genEmpty","filteredItemsLength","noData","noResults","genItems","empty","genFooter","getPrefixedScopedSlots","VDataFooter","genDefaultScopedSlot","outerProps","$props","update:options","checkboxColor","sortIcon","showGroupBy","genSelectAll","VSimpleCheckbox","genSortIcon","sortByText","genSortChip","sortIndex","beingSorted","isDesc","sortable","asc","VChip","genSortSelect","menuProps","closeOnContentClick","sortHeaders","th","tr","genGroupByToggle","getAria","$t","ariaSort","genHeader","scope","divider","groupable","dedupeModelListeners","rebuildFunctionalSlots","slots","functional","rebuildSlots","mergeData","VDataTableHeaderMobile","VDataTableHeaderDesktop","needsTd","computedSlots","slotName","scopedSlot","regularSlot","cellClass","headerClass","summaryClass","fixedHeader","hideDefaultHeader","mobileRowChildren","getDefaultMouseEventHandlers","getData","eventFirst","listeners","acc","getMouseEventHandlers","eventOptions","mouseEvent","buttons","classSeparator","eventTargetClasses","currentTarget","currentTargets","elementsFromPoint","isSameNode","dispatchEvent","TouchEvent","targetTouches","filterFn","searchTableItems","headersWithCustomFilters","headersWithoutCustomFilters","filterMode","defaultFilter","matchesColumnFilters","matchesSearchTerm","VDataIterator","Mouse","showSelect","showExpand","caption","headerProps","calculateWidths","headersLength","itemClass","itemStyle","loaderHeight","internalGroupBy","computedHeaders","defaultHeader","colspanAttrs","colspan","columnSorters","filterable","sanitizedHeaderProps","computedItemsPerPage","firstOption","groupByText","calcWidths","customFilterWithColumns","customSortWithHeaders","genCaption","genColgroup","genLoading","genHeaders","VDataTableHeader","genGroupedRows","genRows","genDefaultGroupedRow","toggleFn","removeFn","RowGroup","genScopedRows","genDefaultRows","genDefaultExpandedRow","genDefaultSimpleRow","headerRow","expandedRow","MobileRow","Row","mergeClasses","getPropertyFromItem","mergeStyles","genBody","genFoot","foot","genFooters","simpleProps","VSimpleTable","proxySlot","dialogDelete","editedIndex","editedItem","house","allStuff","manageAllStuff","closeDelete","printPage","print","timeline","alignTop","fillDot","hideDot","iconColor","large","hasIcon","genInnerDot","genDivider","genOpposite","proxy","modifyDate","nonce","operation","comment","toTimeString","contents","operationColor","room","modifyRoom","RoomCard","haveAlreadyAddNewOneRoomCard","isRoomCardEager","roomTemplateJSON","loadAllRoom","RoomView","TimelineView","ManageView","NavigationBar","MenuList","SystemBar","FurnitureView","StuffView","ImportView","StatisticView","BookmarkView","AccountView","funcButtonState","navbar","accountButton","navbarButtonState","navbarButtons","systemBarVisible","systemBar","colLength","TO_STRING_TAG_SUPPORT","isCallable","classofRaw","wellKnownSymbol","TO_STRING_TAG","$Object","CORRECT_ARGUMENTS","tryGet","it","module","exports","O","callee","makeBuiltIn","descriptor","getter","setter","classof","$String","argument","$TypeError","passed","defineBuiltIn","uncurryThis","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","$delete","$value","dindex","entriesLength","unsafe","getAll","$has","DESCRIPTORS","defineBuiltInAccessor"],"sourceRoot":""}